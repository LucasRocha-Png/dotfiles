/*! For license information please see extension.js.LICENSE.txt */
(()=>{var __webpack_modules__={6848:(e,t,n)=>{"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(5753)).default("serialport/binding-mock");let o={},s=0;function a(){return new Promise((e=>process.nextTick((()=>e()))))}class c extends Error{constructor(e){super(e),this.canceled=!0}}const l={reset(){o={},s=0},createPort(e,t={}){s++;const n=Object.assign({echo:!1,record:!1,manufacturer:"The J5 Robotics Company",vendorId:void 0,productId:void 0,maxReadSize:1024},t);o[e]={data:Buffer.alloc(0),echo:n.echo,record:n.record,readyData:n.readyData,maxReadSize:n.maxReadSize,info:{path:e,manufacturer:n.manufacturer,serialNumber:`${s}`,pnpId:void 0,locationId:void 0,vendorId:n.vendorId,productId:n.productId}},i(s,"created port",JSON.stringify({path:e,opt:t}))},list:async()=>(i(null,"list"),Object.values(o).map((e=>e.info))),async open(e){var t;if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(!e.path)throw new TypeError('"path" is not a valid port');if(!e.baudRate)throw new TypeError('"baudRate" is not a valid baudRate');const n=Object.assign({dataBits:8,lock:!0,stopBits:1,parity:"none",rtscts:!1,xon:!1,xoff:!1,xany:!1,hupcl:!0},e),{path:r}=n;i(null,`open: opening path ${r}`);const s=o[r];if(await a(),!s)throw new Error(`Port does not exist - please call MockBinding.createPort('${r}') first`);const c=s.info.serialNumber;if(null===(t=s.openOpt)||void 0===t?void 0:t.lock)throw i(c,"open: Port is locked cannot open"),new Error("Port is locked cannot open");return i(c,`open: opened path ${r}`),s.openOpt=Object.assign({},n),new u(s,n)}};class u{constructor(e,t){if(this.port=e,this.openOptions=t,this.pendingRead=null,this.isOpen=!0,this.lastWrite=null,this.recording=Buffer.alloc(0),this.writeOperation=null,this.serialNumber=e.info.serialNumber,e.readyData){const t=e.readyData;process.nextTick((()=>{this.isOpen&&(i(this.serialNumber,"emitting ready data"),this.emitData(t))}))}}emitData(e){if(!this.isOpen||!this.port)throw new Error("Port must be open to pretend to receive data");const t=Buffer.isBuffer(e)?e:Buffer.from(e);i(this.serialNumber,"emitting data - pending read:",Boolean(this.pendingRead)),this.port.data=Buffer.concat([this.port.data,t]),this.pendingRead&&(process.nextTick(this.pendingRead),this.pendingRead=null)}async close(){if(i(this.serialNumber,"close"),!this.isOpen)throw new Error("Port is not open");const e=this.port;if(!e)throw new Error("already closed");e.openOpt=void 0,e.data=Buffer.alloc(0),i(this.serialNumber,"port is closed"),this.serialNumber=void 0,this.isOpen=!1,this.pendingRead&&this.pendingRead(new c("port is closed"))}async read(e,t,n){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if("number"!=typeof t||isNaN(t))throw new TypeError(`"offset" is not an integer got "${isNaN(t)?"NaN":typeof t}"`);if("number"!=typeof n||isNaN(n))throw new TypeError(`"length" is not an integer got "${isNaN(n)?"NaN":typeof n}"`);if(e.length<t+n)throw new Error("buffer is too small");if(!this.isOpen)throw new Error("Port is not open");if(i(this.serialNumber,"read",n,"bytes"),await a(),!this.isOpen||!this.port)throw new c("Read canceled");if(this.port.data.length<=0)return new Promise(((r,i)=>{this.pendingRead=o=>{if(o)return i(o);this.read(e,t,n).then(r,i)}}));const r=this.port.maxReadSize>n?n:this.port.maxReadSize,o=this.port.data.slice(0,r).copy(e,t);return this.port.data=this.port.data.slice(r),i(this.serialNumber,"read",o,"bytes"),{bytesRead:o,buffer:e}}async write(e){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if(!this.isOpen||!this.port)throw i("write","error port is not open"),new Error("Port is not open");if(i(this.serialNumber,"write",e.length,"bytes"),this.writeOperation)throw new Error("Overlapping writes are not supported and should be queued by the serialport object");return this.writeOperation=(async()=>{if(await a(),!this.isOpen||!this.port)throw new Error("Write canceled");const t=this.lastWrite=Buffer.from(e);this.port.record&&(this.recording=Buffer.concat([this.recording,t])),this.port.echo&&process.nextTick((()=>{this.isOpen&&this.emitData(t)})),this.writeOperation=null,i(this.serialNumber,"writing finished")})(),this.writeOperation}async update(e){if("object"!=typeof e)throw TypeError('"options" is not an object');if("number"!=typeof e.baudRate)throw new TypeError('"options.baudRate" is not a number');if(i(this.serialNumber,"update"),!this.isOpen||!this.port)throw new Error("Port is not open");await a(),this.port.openOpt&&(this.port.openOpt.baudRate=e.baudRate)}async set(e){if("object"!=typeof e)throw new TypeError('"options" is not an object');if(i(this.serialNumber,"set"),!this.isOpen)throw new Error("Port is not open");await a()}async get(){if(i(this.serialNumber,"get"),!this.isOpen)throw new Error("Port is not open");return await a(),{cts:!0,dsr:!1,dcd:!1}}async getBaudRate(){var e;if(i(this.serialNumber,"getBaudRate"),!this.isOpen||!this.port)throw new Error("Port is not open");if(await a(),!(null===(e=this.port.openOpt)||void 0===e?void 0:e.baudRate))throw new Error("Internal Error");return{baudRate:this.port.openOpt.baudRate}}async flush(){if(i(this.serialNumber,"flush"),!this.isOpen||!this.port)throw new Error("Port is not open");await a(),this.port.data=Buffer.alloc(0)}async drain(){if(i(this.serialNumber,"drain"),!this.isOpen)throw new Error("Port is not open");await this.writeOperation,await a()}}t.CanceledError=c,t.MockBinding=l,t.MockPortBinding=u},6269:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DarwinPortBinding=t.DarwinBinding=void 0;const i=r(n(1751)),o=n(6237),s=n(6924),a=n(9269),c=n(1078),l=(0,i.default)("serialport/bindings-cpp");t.DarwinBinding={list:()=>(l("list"),(0,o.asyncList)()),async open(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(!e.path)throw new TypeError('"path" is not a valid port');if(!e.baudRate)throw new TypeError('"baudRate" is not a valid baudRate');l("open");const t=Object.assign({vmin:1,vtime:0,dataBits:8,lock:!0,stopBits:1,parity:"none",rtscts:!1,xon:!1,xoff:!1,xany:!1,hupcl:!0},e),n=await(0,o.asyncOpen)(t.path,t);return new u(n,t)}};class u{constructor(e,t){this.fd=e,this.openOptions=t,this.poller=new s.Poller(e),this.writeOperation=null}get isOpen(){return null!==this.fd}async close(){if(l("close"),!this.isOpen)throw new Error("Port is not open");const e=this.fd;this.poller.stop(),this.poller.destroy(),this.fd=null,await(0,o.asyncClose)(e)}async read(e,t,n){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if("number"!=typeof t||isNaN(t))throw new TypeError(`"offset" is not an integer got "${isNaN(t)?"NaN":typeof t}"`);if("number"!=typeof n||isNaN(n))throw new TypeError(`"length" is not an integer got "${isNaN(n)?"NaN":typeof n}"`);if(l("read"),e.length<t+n)throw new Error("buffer is too small");if(!this.isOpen)throw new Error("Port is not open");return(0,a.unixRead)({binding:this,buffer:e,offset:t,length:n})}async write(e){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if(l("write",e.length,"bytes"),!this.isOpen)throw l("write","error port is not open"),new Error("Port is not open");return this.writeOperation=(async()=>{0!==e.length&&(await(0,c.unixWrite)({binding:this,buffer:e}),this.writeOperation=null)})(),this.writeOperation}async update(e){if(!e||"object"!=typeof e||Array.isArray(e))throw TypeError('"options" is not an object');if("number"!=typeof e.baudRate)throw new TypeError('"options.baudRate" is not a number');if(l("update"),!this.isOpen)throw new Error("Port is not open");await(0,o.asyncUpdate)(this.fd,e)}async set(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(l("set",e),!this.isOpen)throw new Error("Port is not open");await(0,o.asyncSet)(this.fd,e)}async get(){if(l("get"),!this.isOpen)throw new Error("Port is not open");return(0,o.asyncGet)(this.fd)}async getBaudRate(){if(l("getBaudRate"),!this.isOpen)throw new Error("Port is not open");throw new Error("getBaudRate is not implemented on darwin")}async flush(){if(l("flush"),!this.isOpen)throw new Error("Port is not open");await(0,o.asyncFlush)(this.fd)}async drain(){if(l("drain"),!this.isOpen)throw new Error("Port is not open");await this.writeOperation,await(0,o.asyncDrain)(this.fd)}}t.DarwinPortBinding=u},3841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingsError=void 0;class n extends Error{constructor(e,{canceled:t=!1}={}){super(e),this.canceled=t}}t.BindingsError=n},176:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.autoDetect=function(){switch(process.platform){case"win32":return u("loading WindowsBinding"),l.WindowsBinding;case"darwin":return u("loading DarwinBinding"),a.DarwinBinding;default:return u("loading LinuxBinding"),c.LinuxBinding}};const s=o(n(1751)),a=n(6269),c=n(8238),l=n(1363),u=(0,s.default)("serialport/bindings-cpp");i(n(1470),t),i(n(6269),t),i(n(8238),t),i(n(1363),t),i(n(3841),t)},8583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linuxList=function(e=r.spawn){const t=[],n=e("udevadm",["info","-e"]),o=n.stdout.pipe(new i.ReadlineParser);let s=!1,a={path:"",manufacturer:void 0,serialNumber:void 0,pnpId:void 0,locationId:void 0,vendorId:void 0,productId:void 0};return o.on("data",(e=>{const n=e.slice(0,1),r=e.slice(3);if("P"===n)return a={path:"",manufacturer:void 0,serialNumber:void 0,pnpId:void 0,locationId:void 0,vendorId:void 0,productId:void 0},void(s=!1);if(!s)if("N"!==n){if("E"===n){const e=r.match(/^(.+)=(.*)/);if(!e)return;const t={DEVNAME:"path",ID_VENDOR_ENC:"manufacturer",ID_SERIAL_SHORT:"serialNumber",ID_VENDOR_ID:"vendorId",ID_MODEL_ID:"productId",DEVLINKS:"pnpId",ID_USB_VENDOR_ENC:"manufacturer",ID_USB_SERIAL_SHORT:"serialNumber",ID_USB_VENDOR_ID:"vendorId",ID_USB_MODEL_ID:"productId"}[e[1].toUpperCase()];if(!t)return;a[t]=function(e,t){if("pnpId"===e){const e=t.match(/\/by-id\/([^\s]+)/);return(null==e?void 0:e[1])||void 0}return"manufacturer"===e?t.replace(/\\x([a-fA-F0-9]{2})/g,((e,t)=>String.fromCharCode(parseInt(t,16)))):/^0x/.test(t)?t.substr(2):t}(t,e[2])}}else/(tty(S|WCH|ACM|USB|AMA|MFD|O|XRUSB)|rfcomm)/.test(i=r)&&i?t.push(a):s=!0;var i})),new Promise(((e,r)=>{n.on("close",(e=>{e&&r(new Error(`Error listing ports udevadm exited with error code: ${e}`))})),n.on("error",r),o.on("error",r),o.on("finish",(()=>e(t)))}))};const r=n(5317),i=n(8110)},8238:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LinuxPortBinding=t.LinuxBinding=void 0;const i=r(n(1751)),o=n(8583),s=n(6924),a=n(9269),c=n(1078),l=n(6237),u=(0,i.default)("serialport/bindings-cpp");t.LinuxBinding={list:()=>(u("list"),(0,o.linuxList)()),async open(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(!e.path)throw new TypeError('"path" is not a valid port');if(!e.baudRate)throw new TypeError('"baudRate" is not a valid baudRate');u("open");const t=Object.assign({vmin:1,vtime:0,dataBits:8,lock:!0,stopBits:1,parity:"none",rtscts:!1,xon:!1,xoff:!1,xany:!1,hupcl:!0},e),n=await(0,l.asyncOpen)(t.path,t);return this.fd=n,new p(n,t)}};class p{constructor(e,t){this.fd=e,this.openOptions=t,this.poller=new s.Poller(e),this.writeOperation=null}get isOpen(){return null!==this.fd}async close(){if(u("close"),!this.isOpen)throw new Error("Port is not open");const e=this.fd;this.poller.stop(),this.poller.destroy(),this.fd=null,await(0,l.asyncClose)(e)}async read(e,t,n){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if("number"!=typeof t||isNaN(t))throw new TypeError(`"offset" is not an integer got "${isNaN(t)?"NaN":typeof t}"`);if("number"!=typeof n||isNaN(n))throw new TypeError(`"length" is not an integer got "${isNaN(n)?"NaN":typeof n}"`);if(u("read"),e.length<t+n)throw new Error("buffer is too small");if(!this.isOpen)throw new Error("Port is not open");return(0,a.unixRead)({binding:this,buffer:e,offset:t,length:n})}async write(e){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if(u("write",e.length,"bytes"),!this.isOpen)throw u("write","error port is not open"),new Error("Port is not open");return this.writeOperation=(async()=>{0!==e.length&&(await(0,c.unixWrite)({binding:this,buffer:e}),this.writeOperation=null)})(),this.writeOperation}async update(e){if(!e||"object"!=typeof e||Array.isArray(e))throw TypeError('"options" is not an object');if("number"!=typeof e.baudRate)throw new TypeError('"options.baudRate" is not a number');if(u("update"),!this.isOpen)throw new Error("Port is not open");await(0,l.asyncUpdate)(this.fd,e)}async set(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(u("set"),!this.isOpen)throw new Error("Port is not open");await(0,l.asyncSet)(this.fd,e)}async get(){if(u("get"),!this.isOpen)throw new Error("Port is not open");return(0,l.asyncGet)(this.fd)}async getBaudRate(){if(u("getBaudRate"),!this.isOpen)throw new Error("Port is not open");return(0,l.asyncGetBaudRate)(this.fd)}async flush(){if(u("flush"),!this.isOpen)throw new Error("Port is not open");await(0,l.asyncFlush)(this.fd)}async drain(){if(u("drain"),!this.isOpen)throw new Error("Port is not open");await this.writeOperation,await(0,l.asyncDrain)(this.fd)}}t.LinuxPortBinding=p},6237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncWrite=t.asyncRead=t.asyncUpdate=t.asyncSet=t.asyncOpen=t.asyncList=t.asyncGetBaudRate=t.asyncGet=t.asyncFlush=t.asyncDrain=t.asyncClose=void 0;const r=n(9023),i=n(9704);t.asyncClose=i.binding.close?(0,r.promisify)(i.binding.close):async()=>{throw new Error('"binding.close" Method not implemented')},t.asyncDrain=i.binding.drain?(0,r.promisify)(i.binding.drain):async()=>{throw new Error('"binding.drain" Method not implemented')},t.asyncFlush=i.binding.flush?(0,r.promisify)(i.binding.flush):async()=>{throw new Error('"binding.flush" Method not implemented')},t.asyncGet=i.binding.get?(0,r.promisify)(i.binding.get):async()=>{throw new Error('"binding.get" Method not implemented')},t.asyncGetBaudRate=i.binding.getBaudRate?(0,r.promisify)(i.binding.getBaudRate):async()=>{throw new Error('"binding.getBaudRate" Method not implemented')},t.asyncList=i.binding.list?(0,r.promisify)(i.binding.list):async()=>{throw new Error('"binding.list" Method not implemented')},t.asyncOpen=i.binding.open?(0,r.promisify)(i.binding.open):async()=>{throw new Error('"binding.open" Method not implemented')},t.asyncSet=i.binding.set?(0,r.promisify)(i.binding.set):async()=>{throw new Error('"binding.set" Method not implemented')},t.asyncUpdate=i.binding.update?(0,r.promisify)(i.binding.update):async()=>{throw new Error('"binding.update" Method not implemented')},t.asyncRead=i.binding.read?(0,r.promisify)(i.binding.read):async()=>{throw new Error('"binding.read" Method not implemented')},t.asyncWrite=i.binding.write?(0,r.promisify)(i.binding.write):async()=>{throw new Error('"binding.write" Method not implemented')}},6924:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Poller=t.EVENTS=void 0;const i=r(n(1751)),o=n(4434),s=n(3841),a=n(9704),{Poller:c}=a.binding,l=(0,i.default)("serialport/bindings-cpp/poller");function u(e,n){if(e)return l("error",e),this.emit("readable",e),this.emit("writable",e),void this.emit("disconnect",e);n&t.EVENTS.UV_READABLE&&(l('received "readable"'),this.emit("readable",null)),n&t.EVENTS.UV_WRITABLE&&(l('received "writable"'),this.emit("writable",null)),n&t.EVENTS.UV_DISCONNECT&&(l('received "disconnect"'),this.emit("disconnect",null))}t.EVENTS={UV_READABLE:1,UV_WRITABLE:2,UV_DISCONNECT:4};class p extends o.EventEmitter{constructor(e,t=c){l("Creating poller"),super(),this.poller=new t(e,u.bind(this))}once(e,n){switch(e){case"readable":this.poll(t.EVENTS.UV_READABLE);break;case"writable":this.poll(t.EVENTS.UV_WRITABLE);break;case"disconnect":this.poll(t.EVENTS.UV_DISCONNECT)}return super.once(e,n)}poll(e=0){e&t.EVENTS.UV_READABLE&&l('Polling for "readable"'),e&t.EVENTS.UV_WRITABLE&&l('Polling for "writable"'),e&t.EVENTS.UV_DISCONNECT&&l('Polling for "disconnect"'),this.poller.poll(e)}stop(){l("Stopping poller"),this.poller.stop(),this.emitCanceled()}destroy(){l("Destroying poller"),this.poller.destroy(),this.emitCanceled()}emitCanceled(){const e=new s.BindingsError("Canceled",{canceled:!0});this.emit("readable",e),this.emit("writable",e),this.emit("disconnect",e)}}t.Poller=p},9704:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.binding=void 0;const i=n(6928),o=r(n(8169));t.binding=(0,o.default)((0,i.join)(__dirname,"../"))},9269:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unixRead=void 0;const i=n(9023),o=n(9896),s=n(3841),a=(0,r(n(1751)).default)("serialport/bindings-cpp/unixRead"),c=(0,i.promisify)(o.read);t.unixRead=async({binding:e,buffer:n,offset:r,length:i,fsReadAsync:o=c})=>{if(a("Starting read"),!e.isOpen||!e.fd)throw new s.BindingsError("Port is not open",{canceled:!0});try{const{bytesRead:s}=await o(e.fd,n,r,i,null);return 0===s?(0,t.unixRead)({binding:e,buffer:n,offset:r,length:i,fsReadAsync:o}):(a("Finished read",s,"bytes"),{bytesRead:s,buffer:n})}catch(c){if(a("read error",c),"EAGAIN"===c.code||"EWOULDBLOCK"===c.code||"EINTR"===c.code){if(!e.isOpen)throw new s.BindingsError("Port is not open",{canceled:!0});return a("waiting for readable because of code:",c.code),await(e=>new Promise(((t,n)=>{if(!e.poller)throw new Error("No poller on bindings");e.poller.once("readable",(e=>e?n(e):t()))})))(e),(0,t.unixRead)({binding:e,buffer:n,offset:r,length:i,fsReadAsync:o})}throw("EBADF"===c.code||"ENXIO"===c.code||"UNKNOWN"===c.code||-1===c.errno)&&(c.disconnect=!0,a("disconnecting",c)),c}}},1078:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unixWrite=void 0;const i=n(9896),o=r(n(1751)),s=n(9023),a=(0,o.default)("serialport/bindings-cpp/unixWrite"),c=(0,s.promisify)(i.write);t.unixWrite=async({binding:e,buffer:n,offset:r=0,fsWriteAsync:i=c})=>{const o=n.length-r;if(a("Starting write",n.length,"bytes offset",r,"bytesToWrite",o),!e.isOpen||!e.fd)throw new Error("Port is not open");try{const{bytesWritten:s}=await i(e.fd,n,r,o);if(a("write returned: wrote",s,"bytes"),s+r<n.length){if(!e.isOpen)throw new Error("Port is not open");return(0,t.unixWrite)({binding:e,buffer:n,offset:s+r,fsWriteAsync:i})}a("Finished writing",s+r,"bytes")}catch(o){if(a("write errored",o),"EAGAIN"===o.code||"EWOULDBLOCK"===o.code||"EINTR"===o.code){if(!e.isOpen)throw new Error("Port is not open");return a("waiting for writable because of code:",o.code),await(e=>new Promise(((t,n)=>{e.poller.once("writable",(e=>e?n(e):t()))})))(e),(0,t.unixWrite)({binding:e,buffer:n,offset:r,fsWriteAsync:i})}throw("EBADF"===o.code||"ENXIO"===o.code||"UNKNOWN"===o.code||-1===o.errno)&&(o.disconnect=!0,a("disconnecting",o)),a("error",o),o}}},5037:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serialNumParser=void 0;const n=[/USB\\(?:.+)\\(.+)/,/FTDIBUS\\(?:.+)\+(.+?)A?\\.+/];t.serialNumParser=e=>{if(!e)return null;for(const t of n){const n=e.match(t);if(n)return n[1]}return null}},1363:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsPortBinding=t.WindowsBinding=void 0;const i=r(n(1751)),o=n(176),s=n(6237),a=n(5037),c=(0,i.default)("serialport/bindings-cpp");t.WindowsBinding={list:async()=>(await(0,s.asyncList)()).map((e=>{if(e.pnpId&&!e.serialNumber){const t=(0,a.serialNumParser)(e.pnpId);if(t)return Object.assign(Object.assign({},e),{serialNumber:t})}return e})),async open(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(!e.path)throw new TypeError('"path" is not a valid port');if(!e.baudRate)throw new TypeError('"baudRate" is not a valid baudRate');c("open");const t=Object.assign({dataBits:8,lock:!0,stopBits:1,parity:"none",rtscts:!1,rtsMode:"handshake",xon:!1,xoff:!1,xany:!1,hupcl:!0},e),n=await(0,s.asyncOpen)(t.path,t);return new l(n,t)}};class l{constructor(e,t){this.fd=e,this.openOptions=t,this.writeOperation=null}get isOpen(){return null!==this.fd}async close(){if(c("close"),!this.isOpen)throw new Error("Port is not open");const e=this.fd;this.fd=null,await(0,s.asyncClose)(e)}async read(e,t,n){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if("number"!=typeof t||isNaN(t))throw new TypeError(`"offset" is not an integer got "${isNaN(t)?"NaN":typeof t}"`);if("number"!=typeof n||isNaN(n))throw new TypeError(`"length" is not an integer got "${isNaN(n)?"NaN":typeof n}"`);if(c("read"),e.length<t+n)throw new Error("buffer is too small");if(!this.isOpen)throw new Error("Port is not open");try{return{bytesRead:await(0,s.asyncRead)(this.fd,e,t,n),buffer:e}}catch(e){if(!this.isOpen)throw new o.BindingsError(e.message,{canceled:!0});throw e}}async write(e){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" is not a Buffer');if(c("write",e.length,"bytes"),!this.isOpen)throw c("write","error port is not open"),new Error("Port is not open");return this.writeOperation=(async()=>{0!==e.length&&(await(0,s.asyncWrite)(this.fd,e),this.writeOperation=null)})(),this.writeOperation}async update(e){if(!e||"object"!=typeof e||Array.isArray(e))throw TypeError('"options" is not an object');if("number"!=typeof e.baudRate)throw new TypeError('"options.baudRate" is not a number');if(c("update"),!this.isOpen)throw new Error("Port is not open");await(0,s.asyncUpdate)(this.fd,e)}async set(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError('"options" is not an object');if(c("set",e),!this.isOpen)throw new Error("Port is not open");await(0,s.asyncSet)(this.fd,e)}async get(){if(c("get"),!this.isOpen)throw new Error("Port is not open");return(0,s.asyncGet)(this.fd)}async getBaudRate(){if(c("getBaudRate"),!this.isOpen)throw new Error("Port is not open");return(0,s.asyncGetBaudRate)(this.fd)}async flush(){if(c("flush"),!this.isOpen)throw new Error("Port is not open");await(0,s.asyncFlush)(this.fd)}async drain(){if(c("drain"),!this.isOpen)throw new Error("Port is not open");await this.writeOperation,await(0,s.asyncDrain)(this.fd)}}t.WindowsPortBinding=l},5865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DelimiterParser=void 0;const r=n(2203);class i extends r.Transform{includeDelimiter;delimiter;buffer;constructor({delimiter:e,includeDelimiter:t=!1,...n}){if(super(n),void 0===e)throw new TypeError('"delimiter" is not a bufferable object');if(0===e.length)throw new TypeError('"delimiter" has a 0 or undefined length');this.includeDelimiter=t,this.delimiter=Buffer.from(e),this.buffer=Buffer.alloc(0)}_transform(e,t,n){let r,i=Buffer.concat([this.buffer,e]);for(;-1!==(r=i.indexOf(this.delimiter));)this.push(i.slice(0,r+(this.includeDelimiter?this.delimiter.length:0))),i=i.slice(r+this.delimiter.length);this.buffer=i,n()}_flush(e){this.push(this.buffer),this.buffer=Buffer.alloc(0),e()}}t.DelimiterParser=i},8110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadlineParser=void 0;const r=n(5865);class i extends r.DelimiterParser{constructor(e){const t={delimiter:Buffer.from("\n","utf8"),encoding:"utf8",...e};"string"==typeof t.delimiter&&(t.delimiter=Buffer.from(t.delimiter,t.encoding)),super(t)}}t.ReadlineParser=i},3547:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(4662)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},4662:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e,t){let n=0,r=0,i=-1,o=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(i=r,o=n,r++):(n++,r++);else{if(-1===i)return!1;r=i+1,o++,n=o}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const e of n)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const n of t.skips)if(i(e,n))return!1;for(const n of t.names)if(i(e,n))return!0;return!1},t.humanize=n(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},1751:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(3547):e.exports=n(9095)},9095:(e,t,n)=>{const r=n(2018),i=n(9023);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(i.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=i.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(7687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(4662)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},1470:()=>{},9847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteLengthParser=void 0;const r=n(2203);class i extends r.Transform{length;position;buffer;constructor(e){if(super(e),"number"!=typeof e.length)throw new TypeError('"length" is not a number');if(e.length<1)throw new TypeError('"length" is not greater than 0');this.length=e.length,this.position=0,this.buffer=Buffer.alloc(this.length)}_transform(e,t,n){let r=0;for(;r<e.length;)this.buffer[this.position]=e[r],r++,this.position++,this.position===this.length&&(this.push(this.buffer),this.buffer=Buffer.alloc(this.length),this.position=0);n()}_flush(e){this.push(this.buffer.slice(0,this.position)),this.buffer=Buffer.alloc(this.length),e()}}t.ByteLengthParser=i},3662:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CCTalkParser=void 0;const r=n(2203);class i extends r.Transform{array;cursor;lastByteFetchTime;maxDelayBetweenBytesMs;constructor(e=50){super(),this.array=[],this.cursor=0,this.lastByteFetchTime=0,this.maxDelayBetweenBytesMs=e}_transform(e,t,n){if(this.maxDelayBetweenBytesMs>0){const e=Date.now();e-this.lastByteFetchTime>this.maxDelayBetweenBytesMs&&(this.array=[],this.cursor=0),this.lastByteFetchTime=e}for(this.cursor+=e.length,Array.from(e).map((e=>this.array.push(e)));this.cursor>1&&this.cursor>=this.array[1]+5;){const e=this.array[1]+5,t=Buffer.from(this.array.slice(0,e));this.array=this.array.slice(t.length,this.array.length),this.cursor-=e,this.push(t)}n()}}t.CCTalkParser=i},447:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DelimiterParser=void 0;const r=n(2203);class i extends r.Transform{includeDelimiter;delimiter;buffer;constructor({delimiter:e,includeDelimiter:t=!1,...n}){if(super(n),void 0===e)throw new TypeError('"delimiter" is not a bufferable object');if(0===e.length)throw new TypeError('"delimiter" has a 0 or undefined length');this.includeDelimiter=t,this.delimiter=Buffer.from(e),this.buffer=Buffer.alloc(0)}_transform(e,t,n){let r,i=Buffer.concat([this.buffer,e]);for(;-1!==(r=i.indexOf(this.delimiter));)this.push(i.slice(0,r+(this.includeDelimiter?this.delimiter.length:0))),i=i.slice(r+this.delimiter.length);this.buffer=i,n()}_flush(e){this.push(this.buffer),this.buffer=Buffer.alloc(0),e()}}t.DelimiterParser=i},6937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InterByteTimeoutParser=void 0;const r=n(2203);class i extends r.Transform{maxBufferSize;currentPacket;interval;intervalID;constructor({maxBufferSize:e=65536,interval:t,...n}){if(super(n),!t)throw new TypeError('"interval" is required');if("number"!=typeof t||Number.isNaN(t))throw new TypeError('"interval" is not a number');if(t<1)throw new TypeError('"interval" is not greater than 0');if("number"!=typeof e||Number.isNaN(e))throw new TypeError('"maxBufferSize" is not a number');if(e<1)throw new TypeError('"maxBufferSize" is not greater than 0');this.maxBufferSize=e,this.currentPacket=[],this.interval=t}_transform(e,t,n){this.intervalID&&clearTimeout(this.intervalID);for(let t=0;t<e.length;t++)this.currentPacket.push(e[t]),this.currentPacket.length>=this.maxBufferSize&&this.emitPacket();this.intervalID=setTimeout(this.emitPacket.bind(this),this.interval),n()}emitPacket(){this.intervalID&&clearTimeout(this.intervalID),this.currentPacket.length>0&&this.push(Buffer.from(this.currentPacket)),this.currentPacket=[]}_flush(e){this.emitPacket(),e()}}t.InterByteTimeoutParser=i},1693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PacketLengthParser=void 0;const r=n(2203);class i extends r.Transform{buffer;start;opts;constructor(e={}){super(e);const{delimiter:t=[170],delimiterBytes:n=1,packetOverhead:r=2,lengthBytes:i=1,lengthOffset:o=1,maxLen:s=255}=e;this.opts={delimiter:[].concat(t),delimiterBytes:n,packetOverhead:r,lengthBytes:i,lengthOffset:o,maxLen:s},this.buffer=Buffer.alloc(0),this.start=!1}_transform(e,t,n){for(let t=0;t<e.length;t++){const n=e[t];if(!0===this.start){if(this.buffer=Buffer.concat([this.buffer,Buffer.from([n])]),this.buffer.length>=this.opts.lengthOffset+this.opts.lengthBytes){const e=this.buffer.readUIntLE(this.opts.lengthOffset,this.opts.lengthBytes);(this.buffer.length==e+this.opts.packetOverhead||e>this.opts.maxLen)&&(this.push(this.buffer),this.buffer=Buffer.alloc(0),this.start=!1)}}else if(this.buffer=Buffer.concat([Buffer.from([n]),this.buffer]),this.buffer.length===this.opts.delimiterBytes){const e=this.buffer.readUIntLE(0,this.opts.delimiterBytes);this.opts.delimiter.includes(e)?(this.start=!0,this.buffer=Buffer.from([...this.buffer].reverse())):this.buffer=Buffer.from(this.buffer.subarray(1,this.buffer.length))}}n()}_flush(e){this.push(this.buffer),this.buffer=Buffer.alloc(0),e()}}t.PacketLengthParser=i},2348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadlineParser=void 0;const r=n(447);class i extends r.DelimiterParser{constructor(e){const t={delimiter:Buffer.from("\n","utf8"),encoding:"utf8",...e};"string"==typeof t.delimiter&&(t.delimiter=Buffer.from(t.delimiter,t.encoding)),super(t)}}t.ReadlineParser=i},8145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadyParser=void 0;const r=n(2203);class i extends r.Transform{delimiter;readOffset;ready;constructor({delimiter:e,...t}){if(void 0===e)throw new TypeError('"delimiter" is not a bufferable object');if(0===e.length)throw new TypeError('"delimiter" has a 0 or undefined length');super(t),this.delimiter=Buffer.from(e),this.readOffset=0,this.ready=!1}_transform(e,t,n){if(this.ready)return this.push(e),n();const r=this.delimiter;let i=0;for(;this.readOffset<r.length&&i<e.length;)r[this.readOffset]===e[i]?this.readOffset++:this.readOffset=0,i++;if(this.readOffset===r.length){this.ready=!0,this.emit("ready");const t=e.slice(i);t.length>0&&this.push(t)}n()}}t.ReadyParser=i},637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegexParser=void 0;const r=n(2203);class i extends r.Transform{regex;data;constructor({regex:e,...t}){const n={encoding:"utf8",...t};if(void 0===e)throw new TypeError('"options.regex" must be a regular expression pattern or object');e instanceof RegExp||(e=new RegExp(e.toString())),super(n),this.regex=e,this.data=""}_transform(e,t,n){const r=(this.data+e).split(this.regex);this.data=r.pop()||"",r.forEach((e=>{this.push(e)})),n()}_flush(e){this.push(this.data),this.data="",e()}}t.RegexParser=i},9831:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SlipDecoder=void 0;const r=n(2203);class i extends r.Transform{opts;buffer;escape;start;constructor(e={}){super(e);const{START:t,ESC:n=219,END:r=192,ESC_START:i,ESC_END:o=220,ESC_ESC:s=221}=e;this.opts={START:t,ESC:n,END:r,ESC_START:i,ESC_END:o,ESC_ESC:s},this.buffer=Buffer.alloc(0),this.escape=!1,this.start=!1}_transform(e,t,n){for(let t=0;t<e.length;t++){let n=e[t];if(n!==this.opts.START){if(null==this.opts.START&&(this.start=!0),this.escape)n===this.opts.ESC_START&&this.opts.START?n=this.opts.START:n===this.opts.ESC_ESC?n=this.opts.ESC:n===this.opts.ESC_END?n=this.opts.END:(this.escape=!1,this.push(this.buffer),this.buffer=Buffer.alloc(0));else{if(n===this.opts.ESC){this.escape=!0;continue}if(n===this.opts.END){this.push(this.buffer),this.buffer=Buffer.alloc(0),this.escape=!1,this.start=!1;continue}}this.escape=!1,this.start&&(this.buffer=Buffer.concat([this.buffer,Buffer.from([n])]))}else this.start=!0}n()}_flush(e){this.push(this.buffer),this.buffer=Buffer.alloc(0),e()}}t.SlipDecoder=i},4399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SlipEncoder=void 0;const r=n(2203);class i extends r.Transform{opts;constructor(e={}){super(e);const{START:t,ESC:n=219,END:r=192,ESC_START:i,ESC_END:o=220,ESC_ESC:s=221,bluetoothQuirk:a=!1}=e;this.opts={START:t,ESC:n,END:r,ESC_START:i,ESC_END:o,ESC_ESC:s,bluetoothQuirk:a}}_transform(e,t,n){const r=e.length;if(this.opts.bluetoothQuirk&&0===r)return n();const i=Buffer.alloc(2*r+2);let o=0;1==this.opts.bluetoothQuirk&&(i[o++]=this.opts.END),void 0!==this.opts.START&&(i[o++]=this.opts.START);for(let t=0;t<r;t++){let n=e[t];n===this.opts.START&&this.opts.ESC_START?(i[o++]=this.opts.ESC,n=this.opts.ESC_START):n===this.opts.END?(i[o++]=this.opts.ESC,n=this.opts.ESC_END):n===this.opts.ESC&&(i[o++]=this.opts.ESC,n=this.opts.ESC_ESC),i[o++]=n}i[o++]=this.opts.END,n(null,i.slice(0,o))}}t.SlipEncoder=i},3819:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9831),t),i(n(4399),t)},7102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpacePacketParser=void 0;const r=n(2203),i=n(2415);class o extends r.Transform{timeCodeFieldLength;ancillaryDataFieldLength;dataBuffer;headerBuffer;dataLength;expectingHeader;dataSlice;header;constructor(e={}){super({...e,objectMode:!0}),this.timeCodeFieldLength=e.timeCodeFieldLength||0,this.ancillaryDataFieldLength=e.ancillaryDataFieldLength||0,this.dataSlice=this.timeCodeFieldLength+this.ancillaryDataFieldLength,this.dataBuffer=Buffer.alloc(0),this.headerBuffer=Buffer.alloc(0),this.dataLength=0,this.expectingHeader=!0}pushCompletedPacket(){if(!this.header)throw new Error("Missing header");const e=Buffer.from(this.dataBuffer.slice(0,this.timeCodeFieldLength)),t=Buffer.from(this.dataBuffer.slice(this.timeCodeFieldLength,this.timeCodeFieldLength+this.ancillaryDataFieldLength)),n=Buffer.from(this.dataBuffer.slice(this.dataSlice,this.dataLength)),r={header:{...this.header},data:n.toString()};(e.length>0||t.length>0)&&(r.secondaryHeader={},e.length&&(r.secondaryHeader.timeCode=e.toString()),t.length&&(r.secondaryHeader.ancillaryData=t.toString())),this.push(r);const o=Buffer.from(this.dataBuffer.slice(this.dataLength));o.length>=i.HEADER_LENGTH?this.extractHeader(o):(this.headerBuffer=o,this.dataBuffer=Buffer.alloc(0),this.expectingHeader=!0,this.dataLength=0,this.header=void 0)}extractHeader(e){const t=Buffer.concat([this.headerBuffer,e]),n=t.slice(i.HEADER_LENGTH);t.length>=i.HEADER_LENGTH?(this.header=(0,i.convertHeaderBufferToObj)(t),this.dataLength=this.header.dataLength,this.headerBuffer=Buffer.alloc(0),this.expectingHeader=!1):this.headerBuffer=t,n.length>0&&(this.dataBuffer=Buffer.from(n),this.dataBuffer.length>=this.dataLength&&this.pushCompletedPacket())}_transform(e,t,n){this.expectingHeader?this.extractHeader(e):(this.dataBuffer=Buffer.concat([this.dataBuffer,e]),this.dataBuffer.length>=this.dataLength&&this.pushCompletedPacket()),n()}_flush(e){const t=Buffer.concat([this.headerBuffer,this.dataBuffer]),n=Array.from(t);this.push(n),e()}}t.SpacePacketParser=o},2415:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertHeaderBufferToObj=t.HEADER_LENGTH=void 0,t.HEADER_LENGTH=6,t.convertHeaderBufferToObj=e=>{const n=Array.from(e.slice(0,t.HEADER_LENGTH)).reduce(((e,t)=>`${e}${(e=>{let t=Number(e).toString(2);for(;t.length<8;)t=`0${t}`;return t})(t)}`),""),r="000"===n.slice(0,3)?1:"UNKNOWN_VERSION",i=Number(n[3]),o=Number(n[4]),s=parseInt(n.slice(5,16),2),a=parseInt(n.slice(16,18),2);return{versionNumber:r,identification:{apid:s,secondaryHeader:o,type:i},sequenceControl:{packetName:parseInt(n.slice(18,32),2),sequenceFlags:a},dataLength:parseInt(n.slice(-16),2)+1}}},5802:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SerialPortStream=t.DisconnectedError=void 0;const i=n(2203),o=(0,r(n(3069)).default)("serialport/stream");class s extends Error{disconnected;constructor(e){super(e),this.disconnected=!0}}t.DisconnectedError=s;const a={brk:!1,cts:!1,dtr:!0,rts:!0};function c(e){const t=Buffer.allocUnsafe(e);return t.used=0,t}class l extends i.Duplex{port;_pool;_kMinPoolSpace;opening;closing;settings;constructor(e,t){const n={autoOpen:!0,endOnClose:!1,highWaterMark:65536,...e};if(super({highWaterMark:n.highWaterMark}),!n.binding)throw new TypeError('"Bindings" is invalid pass it as `options.binding`');if(!n.path)throw new TypeError(`"path" is not defined: ${n.path}`);if("number"!=typeof n.baudRate)throw new TypeError(`"baudRate" must be a number: ${n.baudRate}`);this.settings=n,this.opening=!1,this.closing=!1,this._pool=c(this.settings.highWaterMark),this._kMinPoolSpace=128,this.settings.autoOpen&&this.open(t)}get path(){return this.settings.path}get baudRate(){return this.settings.baudRate}get isOpen(){return(this.port?.isOpen??!1)&&!this.closing}_error(e,t){t?t.call(this,e):this.emit("error",e)}_asyncError(e,t){process.nextTick((()=>this._error(e,t)))}open(e){if(this.isOpen)return this._asyncError(new Error("Port is already open"),e);if(this.opening)return this._asyncError(new Error("Port is opening"),e);const{highWaterMark:t,binding:n,autoOpen:r,endOnClose:i,...s}=this.settings;this.opening=!0,o("opening",`path: ${this.path}`),this.settings.binding.open(s).then((t=>{o("opened",`path: ${this.path}`),this.port=t,this.opening=!1,this.emit("open"),e&&e.call(this,null)}),(t=>{this.opening=!1,o("Binding #open had an error",t),this._error(t,e)}))}update(e,t){if(!this.isOpen||!this.port)return o("update attempted, but port is not open"),this._asyncError(new Error("Port is not open"),t);o("update",`baudRate: ${e.baudRate}`),this.port.update(e).then((()=>{o("binding.update","finished"),this.settings.baudRate=e.baudRate,t&&t.call(this,null)}),(e=>(o("binding.update","error",e),this._error(e,t))))}write(e,t,n){return Array.isArray(e)&&(e=Buffer.from(e)),"function"==typeof t?super.write(e,t):super.write(e,t,n)}_write(e,t,n){this.isOpen&&this.port?(o("_write",`${e.length} bytes of data`),this.port.write(e).then((()=>{o("binding.write","write finished"),n(null)}),(e=>{o("binding.write","error",e),e.canceled||this._disconnected(e),n(e)}))):this.once("open",(()=>{this._write(e,t,n)}))}_writev(e,t){o("_writev",`${e.length} chunks of data`);const n=e.map((e=>e.chunk));this._write(Buffer.concat(n),"binary",t)}_read(e){if(!this.isOpen||!this.port)return o("_read","queueing _read for after open"),void this.once("open",(()=>{this._read(e)}));(!this._pool||this._pool.length-this._pool.used<this._kMinPoolSpace)&&(o("_read","discarding the read buffer pool because it is below kMinPoolSpace"),this._pool=c(this.settings.highWaterMark));const t=this._pool,n=Math.min(t.length-t.used,e),r=t.used;o("_read","reading",{start:r,toRead:n}),this.port.read(t,r,n).then((({bytesRead:e})=>{if(o("binding.read","finished",{bytesRead:e}),0===e)return o("binding.read","Zero bytes read closing readable stream"),void this.push(null);t.used+=e,this.push(t.slice(r,r+e))}),(t=>{o("binding.read","error",t),t.canceled||this._disconnected(t),this._read(e)}))}_disconnected(e){this.isOpen?(o("disconnected",e),this.close(void 0,new s(e.message))):o("disconnected aborted because already closed",e)}close(e,t=null){if(!this.isOpen||!this.port)return o("close attempted, but port is not open"),this._asyncError(new Error("Port is not open"),e);this.closing=!0,o("#close"),this.port.close().then((()=>{this.closing=!1,o("binding.close","finished"),this.emit("close",t),this.settings.endOnClose&&this.emit("end"),e&&e.call(this,t)}),(t=>(this.closing=!1,o("binding.close","had an error",t),this._error(t,e))))}set(e,t){if(!this.isOpen||!this.port)return o("set attempted, but port is not open"),this._asyncError(new Error("Port is not open"),t);const n={...a,...e};o("#set",n),this.port.set(n).then((()=>{o("binding.set","finished"),t&&t.call(this,null)}),(e=>(o("binding.set","had an error",e),this._error(e,t))))}get(e){if(!this.isOpen||!this.port)return o("get attempted, but port is not open"),this._asyncError(new Error("Port is not open"),e);o("#get"),this.port.get().then((t=>{o("binding.get","finished"),e.call(this,null,t)}),(t=>(o("binding.get","had an error",t),this._error(t,e))))}flush(e){if(!this.isOpen||!this.port)return o("flush attempted, but port is not open"),this._asyncError(new Error("Port is not open"),e);o("#flush"),this.port.flush().then((()=>{o("binding.flush","finished"),e&&e.call(this,null)}),(t=>(o("binding.flush","had an error",t),this._error(t,e))))}drain(e){if(o("drain"),!this.isOpen||!this.port)return o("drain queuing on port open"),void this.once("open",(()=>{this.drain(e)}));this.port.drain().then((()=>{o("binding.drain","finished"),e&&e.call(this,null)}),(t=>(o("binding.drain","had an error",t),this._error(t,e))))}}t.SerialPortStream=l},1821:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(8220)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},8220:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e,t){let n=0,r=0,i=-1,o=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(i=r,o=n,r++):(n++,r++);else{if(-1===i)return!1;r=i+1,o++,n=o}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const e of n)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const n of t.skips)if(i(e,n))return!1;for(const n of t.names)if(i(e,n))return!0;return!1},t.humanize=n(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},3069:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(1821):e.exports=n(4037)},4037:(e,t,n)=>{const r=n(2018),i=n(9023);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(i.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=i.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(7687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(8220)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},2743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSession=t.ErrorDestination=t.MemoryEvent=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.ExitedEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const r=n(5538),i=n(3586),o=n(5359),s=n(7016);t.Source=class{constructor(e,t,n=0,r,i){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),i&&(this.adapterData=i)}},t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}},t.StackFrame=class{constructor(e,t,n,r=0,i=0){this.id=e,this.source=n,this.line=r,this.column=i,this.name=t}},t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}},t.Variable=class{constructor(e,t,n=0,r,i){this.name=e,this.value=t,this.variablesReference=n,"number"==typeof i&&(this.namedVariables=i),"number"==typeof r&&(this.indexedVariables=r)}},t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const i=this;"number"==typeof t&&(i.line=t),"number"==typeof n&&(i.column=n),r&&(i.source=r)}setId(e){this.id=e}},t.Module=class{constructor(e,t){this.id=e,this.name=t}},t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};class a extends i.Event{constructor(e,t,n){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof n&&(this.body.text=n)}}t.StoppedEvent=a;class c extends i.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}}t.ContinuedEvent=c;class l extends i.Event{constructor(){super("initialized")}}t.InitializedEvent=l;class u extends i.Event{constructor(e){super("terminated"),("boolean"==typeof e||e)&&(this.body={restart:e})}}t.TerminatedEvent=u;class p extends i.Event{constructor(e){super("exited"),this.body={exitCode:e}}}t.ExitedEvent=p;class d extends i.Event{constructor(e,t="console",n){super("output"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}}t.OutputEvent=d;class h extends i.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}}t.ThreadEvent=h;class f extends i.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=f;class m extends i.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}}t.ModuleEvent=m;class g extends i.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}}t.LoadedSourceEvent=g;class y extends i.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}}t.CapabilitiesEvent=y;class v extends i.Event{constructor(e,t,n){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof n&&(this.body.message=n)}}t.ProgressStartEvent=v;class b extends i.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressUpdateEvent=b;class w extends i.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressEndEvent=w;class _ extends i.Event{constructor(e,t,n){super("invalidated"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),n&&(this.body.stackFrameId=n)}}t.InvalidatedEvent=_;class E extends i.Event{constructor(e,t,n){super("memory"),this.body={memoryReference:e,offset:t,count:n}}}var x;t.MemoryEvent=E,function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(x=t.ErrorDestination||(t.ErrorDestination={}));class S extends r.ProtocolServer{constructor(e,t){super();const n="boolean"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",(()=>{this.shutdown()})),this.on("error",(e=>{this.shutdown()}))}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){(0,o.runDebugAdapter)(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout((()=>{process.exit(0)}),100)}sendErrorResponse(e,t,n,r,i=x.User){let o;"number"==typeof t?(o={id:t,format:n},r&&(o.variables=r),i&x.User&&(o.showUser=!0),i&x.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=S.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest("runInTerminal",e,t,n)}dispatchRequest(e){const t=new i.Response(e);try{if("initialize"===e.command){var n=e.arguments;if("boolean"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),"boolean"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),"path"!==n.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,x.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"writeMemory"===e.command?this.writeMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},x.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}writeMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,r){this.sendErrorResponse(t,1014,"unrecognized request",null,x.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?S.uri2path(e):S.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?S.uri2path(e):S.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new s.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new s.URL(e),n=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\//g,"\\")),n}static formatPII(e,t,n){return e.replace(S._formatPIIRegexp,(function(e,r){return t&&r.length>0&&"_"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e}))}}t.DebugSession=S,S._formatPIIRegexp=/{([^}]+)}/g},2715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handles=void 0,t.Handles=class{constructor(e){this.START_HANDLE=1e3,this._handleMap=new Map,this._nextHandle="number"==typeof e?e:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE,this._handleMap=new Map}create(e){var t=this._nextHandle++;return this._handleMap.set(t,e),t}get(e,t){return this._handleMap.get(e)||t}}},8711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalLogger=void 0;const r=n(9896),i=n(6928),o=n(8194);function s(){let e=new Date;return a(2,String(e.getUTCHours()))+":"+a(2,String(e.getUTCMinutes()))+":"+a(2,String(e.getUTCSeconds()))+"."+a(3,String(e.getUTCMilliseconds()))+" UTC"}function a(e,t){return t.length>=e?t:String("0".repeat(e)+t).slice(-e)}t.InternalLogger=class{constructor(e,t){this.beforeExitCallback=()=>this.dispose(),this._logCallback=e,this._logToConsole=t,this._minLogLevel=o.LogLevel.Warn,this.disposeCallback=(e,t)=>{this.dispose(),t=t||2,t+=128,process.exit(t)}}async setup(e){if(this._minLogLevel=e.consoleMinLogLevel,this._prependTimestamp=e.prependTimestamp,e.logFilePath)if(i.isAbsolute(e.logFilePath)){const t=t=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${t.toString()}\n`,o.LogLevel.Error);try{await r.promises.mkdir(i.dirname(e.logFilePath),{recursive:!0}),this.log("Verbose logs are written to:\n",o.LogLevel.Warn),this.log(e.logFilePath+"\n",o.LogLevel.Warn),this._logFileStream=r.createWriteStream(e.logFilePath),this.logDateTime(),this.setupShutdownListeners(),this._logFileStream.on("error",(e=>{t(e)}))}catch(e){t(e)}}else this.log(`logFilePath must be an absolute path: ${e.logFilePath}`,o.LogLevel.Error)}logDateTime(){let e=new Date;const t=e.getUTCFullYear()+"-"+`${e.getUTCMonth()+1}-`+e.getUTCDate()+", "+s();this.log(t+"\n",o.LogLevel.Verbose,!1)}setupShutdownListeners(){process.on("beforeExit",this.beforeExitCallback),process.on("SIGTERM",this.disposeCallback),process.on("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback),process.removeListener("SIGTERM",this.disposeCallback),process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise((e=>{this.removeShutdownListeners(),this._logFileStream?(this._logFileStream.end(e),this._logFileStream=null):e()}))}log(e,t,n=!0){if(this._minLogLevel!==o.LogLevel.Stop){if(t>=this._minLogLevel&&this.sendLog(e,t),this._logToConsole){const n=t===o.LogLevel.Error?console.error:t===o.LogLevel.Warn?console.warn:null;n&&n((0,o.trimLastNewline)(e))}t===o.LogLevel.Error&&(e=`[${o.LogLevel[t]}] ${e}`),this._prependTimestamp&&n&&(e="["+s()+"] "+e),this._logFileStream&&this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){const t=!!e.match(/(\n|\r\n)$/);e=e.substr(0,1500)+"[...]",t&&(e+="\n")}if(this._logCallback){const n=new o.LogOutputEvent(e,t);this._logCallback(n)}}}},8194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const r=n(8711),i=n(2743);var o;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(o=t.LogLevel||(t.LogLevel={}));class s{constructor(){this._pendingLogQ=[]}log(e,t=o.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,o.Verbose)}warn(e){this.log(e,o.Warn)}error(e){this.log(e,o.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=o.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then((()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach((e=>this._write(e.msg,e.level)))}}))}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new r.InternalLogger(e,n),this._logFilePathFromInit=t}}t.Logger=s,t.logger=new s;class a extends i.OutputEvent{constructor(e,t){super(e,t===o.Error?"stderr":t===o.Warn?"console":"stdout")}}t.LogOutputEvent=a,t.trimLastNewline=function(e){return e.replace(/(\n|\r\n)$/,"")}},7308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingDebugSession=void 0;const r=n(8194),i=r.logger,o=n(2743);class s extends o.DebugSession{constructor(e,t,n){super(t,n),this.obsolete_logFilePath=e,this.on("error",(e=>{i.error(e.body)}))}start(e,t){super.start(e,t),i.init((e=>this.sendEvent(e)),this.obsolete_logFilePath,this._isServer)}sendEvent(e){if(!(e instanceof r.LogOutputEvent)){let t=e;e instanceof o.OutputEvent&&e.body&&e.body.data&&e.body.data.doNotLogOutput&&(delete e.body.data.doNotLogOutput,t={...e},t.body={...e.body,output:"<output not logged>"}),i.verbose(`To client: ${JSON.stringify(t)}`)}super.sendEvent(e)}sendRequest(e,t,n,r){i.verbose(`To client: ${JSON.stringify(e)}(${JSON.stringify(t)}), timeout: ${n}`),super.sendRequest(e,t,n,r)}sendResponse(e){i.verbose(`To client: ${JSON.stringify(e)}`),super.sendResponse(e)}dispatchRequest(e){i.verbose(`From client: ${e.command}(${JSON.stringify(e.arguments)})`),super.dispatchRequest(e)}}t.LoggingDebugSession=s},8675:(e,t,n)=>{"use strict";t.ot=t.Jh=t.kL=t.HG=t.s$=t.iQ=t.cz=t.R3=t.vF=t.Vy=t.dn=t.Ix=void 0;const r=n(2743);Object.defineProperty(t,"Ix",{enumerable:!0,get:function(){return r.DebugSession}}),Object.defineProperty(t,"R3",{enumerable:!0,get:function(){return r.InitializedEvent}}),Object.defineProperty(t,"cz",{enumerable:!0,get:function(){return r.TerminatedEvent}}),Object.defineProperty(t,"iQ",{enumerable:!0,get:function(){return r.OutputEvent}}),Object.defineProperty(t,"s$",{enumerable:!0,get:function(){return r.StackFrame}}),Object.defineProperty(t,"HG",{enumerable:!0,get:function(){return r.Scope}}),Object.defineProperty(t,"kL",{enumerable:!0,get:function(){return r.Source}});const i=n(7308);Object.defineProperty(t,"dn",{enumerable:!0,get:function(){return i.LoggingDebugSession}});const o=n(8194);t.Vy=o;const s=n(3586);Object.defineProperty(t,"Jh",{enumerable:!0,get:function(){return s.Event}});const a=n(2715);Object.defineProperty(t,"ot",{enumerable:!0,get:function(){return a.Handles}});const c=o.logger;t.vF=c},3586:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.Response=t.Message=void 0;class n{constructor(e){this.seq=0,this.type=e}}t.Message=n,t.Response=class extends n{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}},t.Event=class extends n{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},5538:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolServer=void 0;const r=n(4434),i=n(3586);class o{get event(){return this._event||(this._event=(e,t)=>{let n;return this._listener=e,this._this=t,n={dispose:()=>{this._listener=void 0,this._this=void 0}},n}),this._event}fire(e){if(this._listener)try{this._listener.call(this._this,e)}catch(e){}}hasListener(){return!!this._listener}dispose(){this._listener=void 0,this._this=void 0}}class s extends r.EventEmitter{constructor(){super(),this._sendMessage=new o,this._sequence=1,this._pendingRequests=new Map,this.onDidSendMessage=this._sendMessage.event}dispose(){}handleMessage(e){if("request"===e.type)this.dispatchRequest(e);else if("response"===e.type){const t=e,n=this._pendingRequests.get(t.request_seq);n&&(this._pendingRequests.delete(t.request_seq),n(t))}}_isRunningInline(){return this._sendMessage&&this._sendMessage.hasListener()}start(e,t){this._writableStream=t,this._rawData=Buffer.alloc(0),e.on("data",(e=>this._handleData(e))),e.on("close",(()=>{this._emitEvent(new i.Event("close"))})),e.on("error",(e=>{this._emitEvent(new i.Event("error","inStream error: "+(e&&e.message)))})),t.on("error",(e=>{this._emitEvent(new i.Event("error","outStream error: "+(e&&e.message)))})),e.resume()}stop(){this._writableStream&&this._writableStream.end()}sendEvent(e){this._send("event",e)}sendResponse(e){e.seq>0?console.error(`attempt to send more than one response for command ${e.command}`):this._send("response",e)}sendRequest(e,t,n,r){const o={command:e};if(t&&Object.keys(t).length>0&&(o.arguments=t),this._send("request",o),r){this._pendingRequests.set(o.seq,r);const e=setTimeout((()=>{clearTimeout(e);const t=this._pendingRequests.get(o.seq);t&&(this._pendingRequests.delete(o.seq),t(new i.Response(o,"timeout")))}),n)}}dispatchRequest(e){}_emitEvent(e){this.emit(e.event,e)}_send(e,t){if(t.type=e,t.seq=this._sequence++,this._writableStream){const e=JSON.stringify(t);this._writableStream.write(`Content-Length: ${Buffer.byteLength(e,"utf8")}\r\n\r\n${e}`,"utf8")}this._sendMessage.fire(t)}_handleData(e){for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const e=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,e.length>0)try{let t=JSON.parse(e);this.handleMessage(t)}catch(e){this._emitEvent(new i.Event("error","Error handling data: "+(e&&e.message)))}continue}}else{const e=this._rawData.indexOf(s.TWO_CRLF);if(-1!==e){const t=this._rawData.toString("utf8",0,e).split("\r\n");for(let e=0;e<t.length;e++){const n=t[e].split(/: +/);"Content-Length"==n[0]&&(this._contentLength=+n[1])}this._rawData=this._rawData.slice(e+s.TWO_CRLF.length);continue}}break}}}t.ProtocolServer=s,s.TWO_CRLF="\r\n\r\n"},5359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runDebugAdapter=void 0;const r=n(9278);t.runDebugAdapter=function(e){let t=0;if(process.argv.slice(2).forEach((function(e,n,r){const i=/^--server=(\d{4,5})$/.exec(e);i&&(t=parseInt(i[1],10))})),t>0)console.error(`waiting for debug protocol on port ${t}`),r.createServer((t=>{console.error(">> accepted connection from client"),t.on("end",(()=>{console.error(">> client connection closed\n")}));const n=new e(!1,!0);n.setRunAsServer(!0),n.start(t,t)})).listen(t);else{const t=new e(!1);process.on("SIGTERM",(()=>{t.shutdown()})),t.start(process.stdin,process.stdout)}}},7571:(e,t,n)=>{var r=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&p(e,n,t[n]);if(a)for(var n of a(t))u.call(t,n)&&p(e,n,t[n]);return e},h=e=>i(e,"__esModule",{value:!0}),f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),m=e=>((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))!l.call(e,r)&&"default"!==r&&i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})(h(i(null!=e?r(c(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),g=f(((e,t)=>{"use strict";var n=function(){function e(){}return e.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.enableDebug&&console.info(e.TAG+t,n)},e.warn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.disableWarnings||console.warn(e.TAG+t,n)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();t.exports=n})),y=f((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScopeManager=e.OpenTelemetryScopeManagerWrapper=void 0;var r=hr(),i=n(4434),o=function(){function e(){}return e.prototype.active=function(){var e=this,n=r.CorrelationContextManager.getCurrentContext();return t(t({},n),{getValue:function(t){return e._activeSymbol?t===e._activeSymbol&&n:(e._activeSymbol=t,n)},setValue:function(){}})},e.prototype.with=function(t,n){var i=t.parentSpanId,o=t.name,s=e._spanToContext(t,i,o);return r.CorrelationContextManager.runWithContext(s,n)()},e.prototype.bind=function(e){return"function"==typeof e?r.CorrelationContextManager.wrapCallback(e):(e instanceof i.EventEmitter&&r.CorrelationContextManager.wrapEmitter(e),e)},e.prototype.enable=function(){return r.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return r.CorrelationContextManager.disable(),this},e._spanToContext=function(e,n,i){var o=n?"|"+e.spanContext().traceId+"."+n+".":e.spanContext().traceId,s=t(t({},e.spanContext()),{traceFlags:e.spanContext().traceFlags});return r.CorrelationContextManager.spanToContextObject(s,o,i)},e}();e.OpenTelemetryScopeManagerWrapper=o,e.AsyncScopeManager=new o})),v=f(((e,t)=>{var n;e=t.exports=W,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],s=e.src=[],a=0,c=a++;s[c]="0|[1-9]\\d*";var l=a++;s[l]="[0-9]+";var u=a++;s[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=a++;s[p]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var d=a++;s[d]="("+s[l]+")\\.("+s[l]+")\\.("+s[l]+")";var h=a++;s[h]="(?:"+s[c]+"|"+s[u]+")";var f=a++;s[f]="(?:"+s[l]+"|"+s[u]+")";var m=a++;s[m]="(?:-("+s[h]+"(?:\\."+s[h]+")*))";var g=a++;s[g]="(?:-?("+s[f]+"(?:\\."+s[f]+")*))";var y=a++;s[y]="[0-9A-Za-z-]+";var v=a++;s[v]="(?:\\+("+s[y]+"(?:\\."+s[y]+")*))";var b=a++,w="v?"+s[p]+s[m]+"?"+s[v]+"?";s[b]="^"+w+"$";var _="[v=\\s]*"+s[d]+s[g]+"?"+s[v]+"?",E=a++;s[E]="^"+_+"$";var x=a++;s[x]="((?:<|>)?=?)";var S=a++;s[S]=s[l]+"|x|X|\\*";var T=a++;s[T]=s[c]+"|x|X|\\*";var C=a++;s[C]="[v=\\s]*("+s[T]+")(?:\\.("+s[T]+")(?:\\.("+s[T]+")(?:"+s[m]+")?"+s[v]+"?)?)?";var P=a++;s[P]="[v=\\s]*("+s[S]+")(?:\\.("+s[S]+")(?:\\.("+s[S]+")(?:"+s[g]+")?"+s[v]+"?)?)?";var I=a++;s[I]="^"+s[x]+"\\s*"+s[C]+"$";var O=a++;s[O]="^"+s[x]+"\\s*"+s[P]+"$";var k=a++;s[k]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var D=a++;s[D]="(?:~>?)";var A=a++;s[A]="(\\s*)"+s[D]+"\\s+",o[A]=new RegExp(s[A],"g");var R=a++;s[R]="^"+s[D]+s[C]+"$";var N=a++;s[N]="^"+s[D]+s[P]+"$";var L=a++;s[L]="(?:\\^)";var F=a++;s[F]="(\\s*)"+s[L]+"\\s+",o[F]=new RegExp(s[F],"g");var M=a++;s[M]="^"+s[L]+s[C]+"$";var j=a++;s[j]="^"+s[L]+s[P]+"$";var B=a++;s[B]="^"+s[x]+"\\s*("+_+")$|^$";var U=a++;s[U]="^"+s[x]+"\\s*("+w+")$|^$";var q=a++;s[q]="(\\s*)"+s[x]+"\\s*("+_+"|"+s[C]+")",o[q]=new RegExp(s[q],"g");var $=a++;s[$]="^\\s*("+s[C]+")\\s+-\\s+("+s[C]+")\\s*$";var V=a++;s[V]="^\\s*("+s[P]+")\\s+-\\s+("+s[P]+")\\s*$";var H,G=a++;for(s[G]="(<|>)?=?\\s*\\*",H=0;H<35;H++)n(H,s[H]),o[H]||(o[H]=new RegExp(s[H]));function z(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if("string"!=typeof e||e.length>r)return null;if(!(t.loose?o[E]:o[b]).test(e))return null;try{return new W(e,t)}catch(e){return null}}function W(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof W))return new W(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?o[E]:o[b]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}e.parse=z,e.valid=function(e,t){var n=z(e,t);return n?n.version:null},e.clean=function(e,t){var n=z(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return Y(r,i)}while(++t)},W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new W(e,n).inc(t,r).version}catch(e){return null}},e.diff=function(e,t){if(Z(e,t))return null;var n=z(e),r=z(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},e.compareIdentifiers=Y;var K=/^[0-9]+$/;function Y(e,t){var n=K.test(e),r=K.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function J(e,t,n){return new W(e,n).compare(new W(t,n))}function Q(e,t,n){return J(e,t,n)>0}function X(e,t,n){return J(e,t,n)<0}function Z(e,t,n){return 0===J(e,t,n)}function ee(e,t,n){return 0!==J(e,t,n)}function te(e,t,n){return J(e,t,n)>=0}function ne(e,t,n){return J(e,t,n)<=0}function re(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Z(e,n,r);case"!=":return ee(e,n,r);case">":return Q(e,n,r);case">=":return te(e,n,r);case"<":return X(e,n,r);case"<=":return ne(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(e,t){return Y(t,e)},e.major=function(e,t){return new W(e,t).major},e.minor=function(e,t){return new W(e,t).minor},e.patch=function(e,t){return new W(e,t).patch},e.compare=J,e.compareLoose=function(e,t){return J(e,t,!0)},e.rcompare=function(e,t,n){return J(t,e,n)},e.sort=function(t,n){return t.sort((function(t,r){return e.compare(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.rcompare(t,r,n)}))},e.gt=Q,e.lt=X,e.eq=Z,e.neq=ee,e.gte=te,e.lte=ne,e.cmp=re,e.Comparator=ie;var oe={};function se(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof ie)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,n,r,i,o,s,a,c,l,u,p,d){return((t=ae(n)?"":ae(r)?">="+n+".0.0":ae(i)?">="+n+"."+r+".0":">="+t)+" "+(a=ae(c)?"":ae(l)?"<"+(+c+1)+".0.0":ae(u)?"<"+c+"."+(+l+1)+".0":p?"<="+c+"."+l+"."+u+"-"+p:"<="+a)).trim()}function le(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==oe&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,n){try{t=new se(t,n)}catch(e){return!1}return t.test(e)}function pe(e,t,n,r){var i,o,s,a,c;switch(e=new W(e,r),t=new se(t,r),n){case">":i=Q,o=ne,s=X,a=">",c=">=";break;case"<":i=X,o=te,s=Q,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,r))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],p=null,d=null;if(u.forEach((function(e){e.semver===oe&&(e=new ie(">=0.0.0")),p=p||e,d=d||e,i(e.semver,p.semver,r)?p=e:s(e.semver,d.semver,r)&&(d=e)})),p.operator===a||p.operator===c||(!d.operator||d.operator===a)&&o(e,d.semver))return!1;if(d.operator===c&&s(e,d.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?o[B]:o[U],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new W(n[2],this.options.loose):this.semver=oe},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new W(e,this.options)),re(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new se(e.value,t),ue(this.value,n,t);if(""===e.operator)return n=new se(this.value,t),ue(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},e.Range=se,se.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?o[V]:o[$];e=e.replace(r,ce),n("hyphen replace",e),e=e.replace(o[q],"$1$2$3"),n("comparator trim",e,o[q]),e=(e=(e=e.replace(o[A],"$1~")).replace(o[F],"$1^")).split(/\s+/).join(" ");var i=t?o[B]:o[U],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?o[j]:o[M];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),ae(r)?a="":ae(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ae(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?o[N]:o[R];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),ae(r)?a="":ae(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ae(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?o[O]:o[I];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=ae(i),l=c||ae(o),u=l||ae(s);return"="===r&&u&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&u?(l&&(o=0),s=0,">"===r?(r=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):l?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(o[G],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s.map((function(e){return new ie(e,this.options)}),this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new se(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},se.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},e.satisfies=ue,e.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new se(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(!r||-1===i.compare(e))&&(i=new W(r=e,n))})),r},e.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new se(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(!r||1===i.compare(e))&&(i=new W(r=e,n))})),r},e.minVersion=function(e,t){e=new se(e,t);var n=new W("0.0.0");if(e.test(n)||(n=new W("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!n||Q(n,t))&&(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},e.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(e){return null}},e.ltr=function(e,t,n){return pe(e,t,"<",n)},e.gtr=function(e,t,n){return pe(e,t,">",n)},e.outside=pe,e.prerelease=function(e,t){var n=z(e,t);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(e,t,n){return e=new se(e,n),t=new se(t,n),e.intersects(t)},e.coerce=function(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var t=e.match(o[k]);return null==t?null:z(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),b=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePatchingRequire=void 0;var t=n(6928),r=v(),i=n(3339),o=Object.keys(process.binding("natives")),s=i.prototype.require;e.makePatchingRequire=function(e){var n={};return function(a){var c=s.apply(this,arguments);if(e[a]){var l=i._resolveFilename(a,this);if(n.hasOwnProperty(l))return n[l];var u=void 0;if(o.indexOf(a)<0)try{u=s.call(this,t.join(a,"package.json")).version}catch(e){return c}else u=process.version.substring(1);var p=u.indexOf("-");p>=0&&(u=u.substring(0,p));for(var d=c,h=0,f=e[a];h<f.length;h++){var m=f[h];r.satisfies(u,m.versionSpecifier)&&(d=m.patch(d,l))}return n[l]=d}return c}}})),w=f(((e,t)=>{t.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}})),_=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.channel=e.makePatchingRequire=void 0;var t=b(),r=b();Object.defineProperty(e,"makePatchingRequire",{enumerable:!0,get:function(){return r.makePatchingRequire}});var i=function(e){return!0},o=function(){function e(){this.version=w().version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var n=this.subscribers[e];if(n){var r={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,n.forEach((function(e){var t=e.listener,n=e.filter;try{n&&n(!0)&&t(r)}catch(e){}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,n){void 0===n&&(n=i),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:n})},e.prototype.unsubscribe=function(e,t,n){void 0===n&&(n=i);var r=this.subscribers[e];if(r)for(var o=0;o<r.length;++o)if(r[o].listener===t&&r[o].filter===n)return r.splice(o,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(n){return e(t(n))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new o,n(3339).prototype.require=t.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),e.channel=global.diagnosticsSource})),E=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),x=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._globalThis=void 0,e._globalThis="object"==typeof globalThis?globalThis:global})),S=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(x(),e)})),T=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(S(),e)})),C=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="1.0.3"})),P=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCompatible=e._makeCompatibilityCheck=void 0;var t=C(),n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function r(e){var t=new Set([e]),r=new Set,i=e.match(n);if(!i)return function(){return!1};var o=+i[1],s=+i[2],a=+i[3];if(null!=i[4])return function(t){return t===e};function c(e){return r.add(e),!1}function l(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var i=e.match(n);if(!i)return c(e);var u=+i[1],p=+i[2],d=+i[3];return null!=i[4]||o!==u?c(e):0===o?s===p&&a<=d?l(e):c(e):s<=p?l(e):c(e)}}e._makeCompatibilityCheck=r,e.isCompatible=r(t.VERSION)})),I=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unregisterGlobal=e.getGlobal=e.registerGlobal=void 0;var t=T(),n=C(),r=P(),i=n.VERSION.split(".")[0],o=Symbol.for("opentelemetry.js.api."+i),s=t._globalThis;e.registerGlobal=function(e,t,r,i){var a;void 0===i&&(i=!1);var c=s[o]=null!==(a=s[o])&&void 0!==a?a:{version:n.VERSION};if(!i&&c[e]){var l=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(l.stack||l.message),!1}return c.version!==n.VERSION?(l=new Error("@opentelemetry/api: All API registration versions must match"),r.error(l.stack||l.message),!1):(c[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+n.VERSION+"."),!0)},e.getGlobal=function(e){var t,n,i=null===(t=s[o])||void 0===t?void 0:t.version;if(i&&r.isCompatible(i))return null===(n=s[o])||void 0===n?void 0:n[e]},e.unregisterGlobal=function(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+n.VERSION+".");var r=s[o];r&&delete r[e]}})),O=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagComponentLogger=void 0;var t=I(),n=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("verbose",this._namespace,e)},e}();function r(e,n,r){var i=t.getGlobal("diag");if(i)return r.unshift(n),i[e].apply(i,r)}e.DiagComponentLogger=n})),k=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DiagLogLevel=void 0,(t=e.DiagLogLevel||(e.DiagLogLevel={}))[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})),D=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLogLevelDiagLogger=void 0;var t=k();e.createLogLevelDiagLogger=function(e,n){function r(t,r){var i=n[t];return"function"==typeof i&&e>=r?i.bind(n):function(){}}return e<t.DiagLogLevel.NONE?e=t.DiagLogLevel.NONE:e>t.DiagLogLevel.ALL&&(e=t.DiagLogLevel.ALL),n=n||{},{error:r("error",t.DiagLogLevel.ERROR),warn:r("warn",t.DiagLogLevel.WARN),info:r("info",t.DiagLogLevel.INFO),debug:r("debug",t.DiagLogLevel.DEBUG),verbose:r("verbose",t.DiagLogLevel.VERBOSE)}}})),A=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagAPI=void 0;var t=O(),n=D(),r=k(),i=I(),o=function(){function e(){function e(e){return function(){var t=i.getGlobal("diag");if(t)return t[e].apply(t,arguments)}}var o=this;o.setLogger=function(e,t){var s,a;if(void 0===t&&(t=r.DiagLogLevel.INFO),e===o){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return o.error(null!==(s=c.stack)&&void 0!==s?s:c.message),!1}var l=i.getGlobal("diag"),u=n.createLogLevelDiagLogger(t,e);if(l){var p=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+p),u.warn("Current logger will overwrite one already registered from "+p)}return i.registerGlobal("diag",u,o,!0)},o.disable=function(){i.unregisterGlobal("diag",o)},o.createComponentLogger=function(e){return new t.DiagComponentLogger(e)},o.verbose=e("verbose"),o.debug=e("debug"),o.info=e("info"),o.warn=e("warn"),o.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();e.DiagAPI=o})),R=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaggageImpl=void 0;var t=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){return[e[0],e[1]]}))},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=new e(this._entries),i=0,o=t;i<o.length;i++){var s=o[i];r._entries.delete(s)}return r},e.prototype.clear=function(){return new e},e}();e.BaggageImpl=t})),N=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataSymbol=void 0,e.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")})),L=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataFromString=e.createBaggage=void 0;var t=A(),n=R(),r=N(),i=t.DiagAPI.instance();e.createBaggage=function(e){return void 0===e&&(e={}),new n.BaggageImpl(new Map(Object.entries(e)))},e.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(i.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:r.baggageEntryMetadataSymbol,toString:function(){return e}}}})),F=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),M=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),j=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagConsoleLogger=void 0;var t=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];e.DiagConsoleLogger=function(){function e(e){return function(){var t=arguments;if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}for(var n=0;n<t.length;n++)this[t[n].n]=e(t[n].c)}})),B=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(j(),e),n(k(),e)})),U=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTextMapSetter=e.defaultTextMapGetter=void 0,e.defaultTextMapGetter={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},e.defaultTextMapSetter={set:function(e,t,n){null!=e&&(e[t]=n)}}})),q=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),$=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),V=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ROOT_CONTEXT=e.createContextKey=void 0,e.createContextKey=function(e){return Symbol.for(e)};e.ROOT_CONTEXT=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}}})),H=f((e=>{"use strict";var t=e&&e.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.NoopContextManager=void 0;var n=V(),r=function(){function e(){}return e.prototype.active=function(){return n.ROOT_CONTEXT},e.prototype.with=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return n.call.apply(n,t([r],i))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();e.NoopContextManager=r})),G=f((e=>{"use strict";var t=e&&e.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextAPI=void 0;var n=H(),r=I(),i=A(),o="context",s=new n.NoopContextManager,a=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return r.registerGlobal(o,e,i.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,t([e,n,r],o))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return r.getGlobal(o)||s},e.prototype.disable=function(){this._getContextManager().disable(),r.unregisterGlobal(o,i.DiagAPI.instance())},e}();e.ContextAPI=a})),z=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFlags=void 0,(t=e.TraceFlags||(e.TraceFlags={}))[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})),W=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;var t=z();e.INVALID_SPANID="0000000000000000",e.INVALID_TRACEID="00000000000000000000000000000000",e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:t.TraceFlags.NONE}})),K=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonRecordingSpan=void 0;var t=W(),n=function(){function e(e){void 0===e&&(e=t.INVALID_SPAN_CONTEXT),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}();e.NonRecordingSpan=n})),Y=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpanContext=e.setSpanContext=e.deleteSpan=e.setSpan=e.getSpan=void 0;var t=V(),n=K(),r=t.createContextKey("OpenTelemetry Context Key SPAN");function i(e){return e.getValue(r)||void 0}function o(e,t){return e.setValue(r,t)}e.getSpan=i,e.setSpan=o,e.deleteSpan=function(e){return e.deleteValue(r)},e.setSpanContext=function(e,t){return o(e,new n.NonRecordingSpan(t))},e.getSpanContext=function(e){var t;return null===(t=i(e))||void 0===t?void 0:t.spanContext()}})),J=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapSpanContext=e.isSpanContextValid=e.isValidSpanId=e.isValidTraceId=void 0;var t=W(),n=K(),r=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function o(e){return r.test(e)&&e!==t.INVALID_TRACEID}function s(e){return i.test(e)&&e!==t.INVALID_SPANID}e.isValidTraceId=o,e.isValidSpanId=s,e.isSpanContextValid=function(e){return o(e.traceId)&&s(e.spanId)},e.wrapSpanContext=function(e){return new n.NonRecordingSpan(e)}})),Q=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracer=void 0;var t=G(),n=Y(),r=K(),i=J(),o=t.ContextAPI.getInstance(),s=function(){function e(){}return e.prototype.startSpan=function(e,t,o){if(Boolean(null==t?void 0:t.root))return new r.NonRecordingSpan;var s=o&&n.getSpanContext(o);return function(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}(s)&&i.isSpanContextValid(s)?new r.NonRecordingSpan(s):new r.NonRecordingSpan},e.prototype.startActiveSpan=function(e,t,r,i){var s,a,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(s=t,c=r):(s=t,a=r,c=i);var l=null!=a?a:o.active(),u=this.startSpan(e,s,l),p=n.setSpan(l,u);return o.with(p,c,void 0,u)}},e}();e.NoopTracer=s})),X=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracer=void 0;var t=new(Q().NoopTracer),n=function(){function e(e,t,n){this._provider=e,this.name=t,this.version=n}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version);return e?(this._delegate=e,this._delegate):t},e}();e.ProxyTracer=n})),Z=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracerProvider=void 0;var t=Q(),n=function(){function e(){}return e.prototype.getTracer=function(e,n){return new t.NoopTracer},e}();e.NoopTracerProvider=n})),ee=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracerProvider=void 0;var t=X(),n=new(Z().NoopTracerProvider),r=function(){function e(){}return e.prototype.getTracer=function(e,n){var r;return null!==(r=this.getDelegateTracer(e,n))&&void 0!==r?r:new t.ProxyTracer(this,e,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:n},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t)},e}();e.ProxyTracerProvider=r})),te=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ne=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0,(t=e.SamplingDecision||(e.SamplingDecision={}))[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})),re=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ie=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0,(t=e.SpanKind||(e.SpanKind={}))[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})),oe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),se=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ae=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatusCode=void 0,(t=e.SpanStatusCode||(e.SpanStatusCode={}))[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})),ce=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),le=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ue=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),pe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),de=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceAPI=void 0;var t=I(),n=ee(),r=J(),i=Y(),o=A(),s="trace",a=function(){function e(){this._proxyTracerProvider=new n.ProxyTracerProvider,this.wrapSpanContext=r.wrapSpanContext,this.isSpanContextValid=r.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var n=t.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return n&&this._proxyTracerProvider.setDelegate(e),n},e.prototype.getTracerProvider=function(){return t.getGlobal(s)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){t.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new n.ProxyTracerProvider},e}();e.TraceAPI=a})),he=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTextMapPropagator=void 0;var t=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}();e.NoopTextMapPropagator=t})),fe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteBaggage=e.setBaggage=e.getBaggage=void 0;var t=V().createContextKey("OpenTelemetry Baggage Key");e.getBaggage=function(e){return e.getValue(t)||void 0},e.setBaggage=function(e,n){return e.setValue(t,n)},e.deleteBaggage=function(e){return e.deleteValue(t)}})),me=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropagationAPI=void 0;var t=I(),n=he(),r=U(),i=fe(),o=L(),s=A(),a="propagation",c=new n.NoopTextMapPropagator,l=function(){function e(){this.createBaggage=o.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return t.registerGlobal(a,e,s.DiagAPI.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=r.defaultTextMapSetter),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=r.defaultTextMapGetter),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){t.unregisterGlobal(a,s.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return t.getGlobal(a)||c},e}();e.PropagationAPI=l})),ge=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.diag=e.propagation=e.trace=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.baggageEntryMetadataFromString=void 0,n(E(),e);var r=L();Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return r.baggageEntryMetadataFromString}}),n(F(),e),n(M(),e),n(B(),e),n(U(),e),n(q(),e),n($(),e),n(X(),e),n(ee(),e),n(te(),e),n(ne(),e),n(re(),e),n(ie(),e),n(oe(),e),n(se(),e),n(ae(),e),n(z(),e),n(ce(),e),n(le(),e),n(ue(),e);var i=J();Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return i.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return i.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return i.isValidSpanId}});var o=W();Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return o.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return o.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return o.INVALID_SPAN_CONTEXT}}),n(V(),e),n(pe(),e);var s=G();e.context=s.ContextAPI.getInstance();var a=de();e.trace=a.TraceAPI.getInstance();var c=me();e.propagation=c.PropagationAPI.getInstance();var l=A();e.diag=l.DiagAPI.instance(),e.default={trace:e.trace,context:e.context,propagation:e.propagation,diag:e.diag}})),ye=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTracingSuppressed=e.unsuppressTracing=e.suppressTracing=void 0;var t=ge().createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");e.suppressTracing=function(e){return e.setValue(t,!0)},e.unsuppressTracing=function(e){return e.deleteValue(t)},e.isTracingSuppressed=function(e){return!0===e.getValue(t)}})),ve=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BAGGAGE_MAX_TOTAL_LENGTH=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=e.BAGGAGE_MAX_NAME_VALUE_PAIRS=e.BAGGAGE_HEADER=e.BAGGAGE_ITEMS_SEPARATOR=e.BAGGAGE_PROPERTIES_SEPARATOR=e.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,e.BAGGAGE_KEY_PAIR_SEPARATOR="=",e.BAGGAGE_PROPERTIES_SEPARATOR=";",e.BAGGAGE_ITEMS_SEPARATOR=",",e.BAGGAGE_HEADER="baggage",e.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,e.BAGGAGE_MAX_TOTAL_LENGTH=8192})),be=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseKeyPairsIntoRecord=e.parsePairKeyValue=e.getKeyPairs=e.serializeKeyPairs=void 0;var t=ge(),n=ve();e.serializeKeyPairs=e=>e.reduce(((e,t)=>{let r=`${e}${""!==e?n.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return r.length>n.BAGGAGE_MAX_TOTAL_LENGTH?e:r}),""),e.getKeyPairs=e=>e.getAllEntries().map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`)),e.parsePairKeyValue=e=>{let r=e.split(n.BAGGAGE_PROPERTIES_SEPARATOR);if(r.length<=0)return;let i=r.shift();if(!i)return;let o=i.split(n.BAGGAGE_KEY_PAIR_SEPARATOR);if(2!==o.length)return;let s,a=decodeURIComponent(o[0].trim()),c=decodeURIComponent(o[1].trim());return r.length>0&&(s=t.baggageEntryMetadataFromString(r.join(n.BAGGAGE_PROPERTIES_SEPARATOR))),{key:a,value:c,metadata:s}},e.parseKeyPairsIntoRecord=t=>"string"!=typeof t||0===t.length?{}:t.split(n.BAGGAGE_ITEMS_SEPARATOR).map((t=>e.parsePairKeyValue(t))).filter((e=>void 0!==e&&e.value.length>0)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})})),we=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpBaggagePropagator=void 0;var t=ge(),n=ye(),r=ve(),i=be();e.HttpBaggagePropagator=class{inject(e,o,s){let a=t.propagation.getBaggage(e);if(!a||n.isTracingSuppressed(e))return;let c=i.getKeyPairs(a).filter((e=>e.length<=r.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,r.BAGGAGE_MAX_NAME_VALUE_PAIRS),l=i.serializeKeyPairs(c);l.length>0&&s.set(o,r.BAGGAGE_HEADER,l)}extract(e,n,o){let s=o.get(n,r.BAGGAGE_HEADER);if(!s)return e;let a={};return 0===s.length||(s.split(r.BAGGAGE_ITEMS_SEPARATOR).forEach((e=>{let t=i.parsePairKeyValue(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),a[t.key]=e}})),0===Object.entries(a).length)?e:t.propagation.setBaggage(e,t.propagation.createBaggage(a))}fields(){return[r.BAGGAGE_HEADER]}}})),_e=f((e=>{"use strict";function t(e){return null==e||(Array.isArray(e)?function(e){let t;for(let r of e)if(null!=r){if(!t){if(n(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}(e):n(e))}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.isAttributeValue=e.sanitizeAttributes=void 0,e.sanitizeAttributes=function(e){let n={};if(null==e||"object"!=typeof e)return n;for(let[r,i]of Object.entries(e))t(i)&&(Array.isArray(i)?n[r]=i.slice():n[r]=i);return n},e.isAttributeValue=t})),Ee=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loggingErrorHandler=void 0;var t=ge();e.loggingErrorHandler=function(){return e=>{t.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){let t={},n=e;for(;null!==n;)Object.getOwnPropertyNames(n).forEach((e=>{if(t[e])return;let r=n[e];r&&(t[e]=String(r))})),n=Object.getPrototypeOf(n);return t}(e))}(e))}}})),xe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalErrorHandler=e.setGlobalErrorHandler=void 0;var t=Ee().loggingErrorHandler();e.setGlobalErrorHandler=function(e){t=e},e.globalErrorHandler=e=>{try{t(e)}catch(e){}}})),Se=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0,(t=e.TracesSamplerValues||(e.TracesSamplerValues={})).AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})),Te=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnvironment=e.DEFAULT_ENVIRONMENT=void 0;var t=ge(),n=Se(),r=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function i(e){return r.indexOf(e)>-1}var o=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function s(e){return o.indexOf(e)>-1}function a(e,t,n,r=-1/0,i=1/0){if(void 0!==n[e]){let o=Number(n[e]);isNaN(o)||(t[e]=o<r?r:o>i?i:o)}}function c(e,t,n,r=","){let i=n[e];"string"==typeof i&&(t[e]=i.split(r).map((e=>e.trim())))}e.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:n.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};var l={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function u(e,t,n){let r=n[e];if("string"==typeof r){let n=l[r.toUpperCase()];null!=n&&(t[e]=n)}}e.parseEnvironment=function(t){let n={};for(let r in e.DEFAULT_ENVIRONMENT){let e=r;if("OTEL_LOG_LEVEL"===e)u(e,n,t);else if(i(e))a(e,n,t);else if(s(e))c(e,n,t);else{let r=t[e];null!=r&&(n[e]=String(r))}}return n}})),Ce=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=void 0;var t=n(857),r=Te();e.getEnv=function(){let e=r.parseEnvironment(process.env);return Object.assign({HOSTNAME:t.hostname()},r.DEFAULT_ENVIRONMENT,e)}})),Pe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToBase64=void 0,e.hexToBase64=function(e){let t=e.length,n="";for(let r=0;r<t;r+=2){let t=e.substring(r,r+2),i=parseInt(t,16);n+=String.fromCharCode(i)}return Buffer.from(n,"ascii").toString("base64")}})),Ie=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomIdGenerator=void 0,e.RandomIdGenerator=class{constructor(){this.generateTraceId=n(16),this.generateSpanId=n(8)}};var t=Buffer.allocUnsafe(16);function n(e){return function(){for(let n=0;n<e/4;n++)t.writeUInt32BE(Math.random()*2**32>>>0,4*n);for(let n=0;n<e&&!(t[n]>0);n++)n===e-1&&(t[e-1]=1);return t.toString("hex",0,e)}}})),Oe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.otperformance=void 0;var t=n(2987);e.otperformance=t.performance})),ke=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="0.23.0"})),De=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.RpcGrpcStatusCodeValues=e.MessagingOperationValues=e.MessagingDestinationKindValues=e.HttpFlavorValues=e.NetTransportValues=e.FaasInvokedProviderValues=e.FaasDocumentOperationValues=e.FaasTriggerValues=e.DbCassandraConsistencyLevelValues=e.DbSystemValues=e.SemanticAttributes=void 0,e.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"},(t=e.DbSystemValues||(e.DbSystemValues={})).OTHER_SQL="other_sql",t.MSSQL="mssql",t.MYSQL="mysql",t.ORACLE="oracle",t.DB2="db2",t.POSTGRESQL="postgresql",t.REDSHIFT="redshift",t.HIVE="hive",t.CLOUDSCAPE="cloudscape",t.HSQLDB="hsqldb",t.PROGRESS="progress",t.MAXDB="maxdb",t.HANADB="hanadb",t.INGRES="ingres",t.FIRSTSQL="firstsql",t.EDB="edb",t.CACHE="cache",t.ADABAS="adabas",t.FIREBIRD="firebird",t.DERBY="derby",t.FILEMAKER="filemaker",t.INFORMIX="informix",t.INSTANTDB="instantdb",t.INTERBASE="interbase",t.MARIADB="mariadb",t.NETEZZA="netezza",t.PERVASIVE="pervasive",t.POINTBASE="pointbase",t.SQLITE="sqlite",t.SYBASE="sybase",t.TERADATA="teradata",t.VERTICA="vertica",t.H2="h2",t.COLDFUSION="coldfusion",t.CASSANDRA="cassandra",t.HBASE="hbase",t.MONGODB="mongodb",t.REDIS="redis",t.COUCHBASE="couchbase",t.COUCHDB="couchdb",t.COSMOSDB="cosmosdb",t.DYNAMODB="dynamodb",t.NEO4J="neo4j",t.GEODE="geode",t.ELASTICSEARCH="elasticsearch",t.MEMCACHED="memcached",t.COCKROACHDB="cockroachdb",function(e){e.ALL="all",e.EACH_QUORUM="each_quorum",e.QUORUM="quorum",e.LOCAL_QUORUM="local_quorum",e.ONE="one",e.TWO="two",e.THREE="three",e.LOCAL_ONE="local_one",e.ANY="any",e.SERIAL="serial",e.LOCAL_SERIAL="local_serial"}(e.DbCassandraConsistencyLevelValues||(e.DbCassandraConsistencyLevelValues={})),function(e){e.DATASOURCE="datasource",e.HTTP="http",e.PUBSUB="pubsub",e.TIMER="timer",e.OTHER="other"}(e.FaasTriggerValues||(e.FaasTriggerValues={})),function(e){e.INSERT="insert",e.EDIT="edit",e.DELETE="delete"}(e.FaasDocumentOperationValues||(e.FaasDocumentOperationValues={})),function(e){e.AWS="aws",e.AZURE="azure",e.GCP="gcp"}(e.FaasInvokedProviderValues||(e.FaasInvokedProviderValues={})),function(e){e.IP_TCP="ip_tcp",e.IP_UDP="ip_udp",e.IP="ip",e.UNIX="unix",e.PIPE="pipe",e.INPROC="inproc",e.OTHER="other"}(e.NetTransportValues||(e.NetTransportValues={})),function(e){e.HTTP_1_0="1.0",e.HTTP_1_1="1.1",e.HTTP_2_0="2.0",e.SPDY="SPDY",e.QUIC="QUIC"}(e.HttpFlavorValues||(e.HttpFlavorValues={})),function(e){e.QUEUE="queue",e.TOPIC="topic"}(e.MessagingDestinationKindValues||(e.MessagingDestinationKindValues={})),function(e){e.RECEIVE="receive",e.PROCESS="process"}(e.MessagingOperationValues||(e.MessagingOperationValues={})),function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(e.RpcGrpcStatusCodeValues||(e.RpcGrpcStatusCodeValues={}))})),Ae=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(De(),e)})),Re=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetrySdkLanguageValues=e.OsTypeValues=e.HostArchValues=e.AwsEcsLaunchtypeValues=e.CloudPlatformValues=e.CloudProviderValues=e.ResourceAttributes=void 0,e.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},(t=e.CloudProviderValues||(e.CloudProviderValues={})).AWS="aws",t.AZURE="azure",t.GCP="gcp",function(e){e.AWS_EC2="aws_ec2",e.AWS_ECS="aws_ecs",e.AWS_EKS="aws_eks",e.AWS_LAMBDA="aws_lambda",e.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",e.AZURE_VM="azure_vm",e.AZURE_CONTAINER_INSTANCES="azure_container_instances",e.AZURE_AKS="azure_aks",e.AZURE_FUNCTIONS="azure_functions",e.AZURE_APP_SERVICE="azure_app_service",e.GCP_COMPUTE_ENGINE="gcp_compute_engine",e.GCP_CLOUD_RUN="gcp_cloud_run",e.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",e.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",e.GCP_APP_ENGINE="gcp_app_engine"}(e.CloudPlatformValues||(e.CloudPlatformValues={})),function(e){e.EC2="ec2",e.FARGATE="fargate"}(e.AwsEcsLaunchtypeValues||(e.AwsEcsLaunchtypeValues={})),function(e){e.AMD64="amd64",e.ARM32="arm32",e.ARM64="arm64",e.IA64="ia64",e.PPC32="ppc32",e.PPC64="ppc64",e.X86="x86"}(e.HostArchValues||(e.HostArchValues={})),function(e){e.WINDOWS="windows",e.LINUX="linux",e.DARWIN="darwin",e.FREEBSD="freebsd",e.NETBSD="netbsd",e.OPENBSD="openbsd",e.DRAGONFLYBSD="dragonflybsd",e.HPUX="hpux",e.AIX="aix",e.SOLARIS="solaris",e.Z_OS="z_os"}(e.OsTypeValues||(e.OsTypeValues={})),function(e){e.CPP="cpp",e.DOTNET="dotnet",e.ERLANG="erlang",e.GO="go",e.JAVA="java",e.NODEJS="nodejs",e.PHP="php",e.PYTHON="python",e.RUBY="ruby",e.WEBJS="webjs"}(e.TelemetrySdkLanguageValues||(e.TelemetrySdkLanguageValues={}))})),Ne=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Re(),e)})),Le=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ae(),e),n(Ne(),e)})),Fe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_INFO=void 0;var t=ke(),n=Le();e.SDK_INFO={[n.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[n.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[n.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:n.TelemetrySdkLanguageValues.NODEJS,[n.ResourceAttributes.TELEMETRY_SDK_VERSION]:t.VERSION}})),Me=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unrefTimer=void 0,e.unrefTimer=function(e){e.unref()}})),je=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ce(),e),n(Pe(),e),n(Ie(),e),n(Oe(),e),n(Fe(),e),n(Me(),e)})),Be=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(je(),e)})),Ue=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeInput=e.isTimeInputHrTime=e.hrTimeToMicroseconds=e.hrTimeToMilliseconds=e.hrTimeToNanoseconds=e.hrTimeToTimeStamp=e.hrTimeDuration=e.timeInputToHrTime=e.hrTime=void 0;var t=Be(),n=9,r=Math.pow(10,n);function i(e){let t=e/1e3,i=Math.trunc(t);return[i,Number((t-i).toFixed(n))*r]}function o(){let e=t.otperformance.timeOrigin;if("number"!=typeof e){let n=t.otperformance;e=n.timing&&n.timing.fetchStart}return e}function s(e){let n=i(o()),s=i("number"==typeof e?e:t.otperformance.now()),a=n[0]+s[0],c=n[1]+s[1];return c>r&&(c-=r,a+=1),[a,c]}function a(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}e.hrTime=s,e.timeInputToHrTime=function(e){if(a(e))return e;if("number"==typeof e)return e<o()?s(e):i(e);if(e instanceof Date)return i(e.getTime());throw TypeError("Invalid input type")},e.hrTimeDuration=function(e,t){let n=t[0]-e[0],i=t[1]-e[1];return i<0&&(n-=1,i+=r),[n,i]},e.hrTimeToTimeStamp=function(e){let t=n,r=`${"0".repeat(t)}${e[1]}Z`,i=r.substr(r.length-t-1);return new Date(1e3*e[0]).toISOString().replace("000Z",i)},e.hrTimeToNanoseconds=function(e){return e[0]*r+e[1]},e.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},e.hrTimeToMicroseconds=function(e){return Math.round(1e6*e[0]+e[1]/1e3)},e.isTimeInputHrTime=a,e.isTimeInput=function(e){return a(e)||"number"==typeof e||e instanceof Date}})),qe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),$e=f((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0,(t=e.ExportResultCode||(e.ExportResultCode={}))[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})),Ve=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositePropagator=void 0;var t=ge();e.CompositePropagator=class{constructor(e={}){var t;this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((e=>"function"==typeof e.fields?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,n,r){for(let i of this._propagators)try{i.inject(e,n,r)}catch(e){t.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${e.message}`)}}extract(e,n,r){return this._propagators.reduce(((e,i)=>{try{return i.extract(e,n,r)}catch(e){t.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}}})),He=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateValue=e.validateKey=void 0;var t="[_0-9a-z-*/]",n=new RegExp(`^(?:[a-z]${t}{0,255}|[a-z0-9]${t}{0,240}@[a-z]${t}{0,13})$`),r=/^[ -~]{0,255}[!-~]$/,i=/,|=/;e.validateKey=function(e){return n.test(e)},e.validateValue=function(e){return r.test(e)&&!i.test(e)}})),Ge=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceState=void 0;var t=He(),n=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,n)=>{let r=n.trim(),i=r.indexOf("=");if(-1!==i){let o=r.slice(0,i),s=r.slice(i+1,n.length);t.validateKey(o)&&t.validateValue(s)&&e.set(o,s)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new n;return e._internalState=new Map(this._internalState),e}};e.TraceState=n})),ze=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;var t=ge(),n=ye(),r=Ge();e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";var i=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function o(e){let t=i.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}e.parseTraceParent=o,e.HttpTraceContextPropagator=class{inject(r,i,o){let s=t.trace.getSpanContext(r);if(!s||n.isTracingSuppressed(r)||!t.isSpanContextValid(s))return;let a=`00-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||t.TraceFlags.NONE).toString(16)}`;o.set(i,e.TRACE_PARENT_HEADER,a),s.traceState&&o.set(i,e.TRACE_STATE_HEADER,s.traceState.serialize())}extract(n,i,s){let a=s.get(i,e.TRACE_PARENT_HEADER);if(!a)return n;let c=Array.isArray(a)?a[0]:a;if("string"!=typeof c)return n;let l=o(c);if(!l)return n;l.isRemote=!0;let u=s.get(i,e.TRACE_STATE_HEADER);if(u){let e=Array.isArray(u)?u.join(","):u;l.traceState=new r.TraceState("string"==typeof e?e:void 0)}return t.trace.setSpanContext(n,l)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}}})),We=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ke=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;var t=ge().createContextKey("OpenTelemetry SDK Context Key RPC_METADATA");(e.RPCType||(e.RPCType={})).HTTP="http",e.setRPCMetadata=function(e,n){return e.setValue(t,n)},e.deleteRPCMetadata=function(e){return e.deleteValue(t)},e.getRPCMetadata=function(e){return e.getValue(t)}})),Ye=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOffSampler=void 0;var t=ge();e.AlwaysOffSampler=class{shouldSample(){return{decision:t.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}})),Je=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOnSampler=void 0;var t=ge();e.AlwaysOnSampler=class{shouldSample(){return{decision:t.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}})),Qe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParentBasedSampler=void 0;var t=ge(),n=xe(),r=Ye(),i=Je();e.ParentBasedSampler=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(n.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new i.AlwaysOnSampler,this._remoteParentNotSampled=null!==(o=e.remoteParentNotSampled)&&void 0!==o?o:new r.AlwaysOffSampler,this._localParentSampled=null!==(s=e.localParentSampled)&&void 0!==s?s:new i.AlwaysOnSampler,this._localParentNotSampled=null!==(a=e.localParentNotSampled)&&void 0!==a?a:new r.AlwaysOffSampler}shouldSample(e,n,r,i,o,s){let a=t.trace.getSpanContext(e);return a&&t.isSpanContextValid(a)?a.isRemote?a.traceFlags&t.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,n,r,i,o,s):this._remoteParentNotSampled.shouldSample(e,n,r,i,o,s):a.traceFlags&t.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,n,r,i,o,s):this._localParentNotSampled.shouldSample(e,n,r,i,o,s):this._root.shouldSample(e,n,r,i,o,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}})),Xe=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceIdRatioBasedSampler=void 0;var t=ge();e.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,n){return{decision:t.isValidTraceId(n)&&this._accumulate(n)<this._upperBound?t.SamplingDecision.RECORD_AND_SAMPLED:t.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t}}})),Ze=f((e=>{"use strict";function t(e,t){return"string"==typeof t?e===t:t.test(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlIgnored=e.urlMatches=void 0,e.urlMatches=t,e.isUrlIgnored=function(e,n){if(!n)return!1;for(let r of n)if(t(e,r))return!0;return!1}})),et=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWrapped=void 0,e.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}})),tt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.baggageUtils=void 0,n(we(),e),n(_e(),e),n(xe(),e),n(Ee(),e),n(Ue(),e),n(qe(),e),n($e(),e),n(ke(),e),e.baggageUtils=be(),n(Be(),e),n(Ve(),e),n(ze(),e),n(We(),e),n(Ke(),e),n(Ye(),e),n(Je(),e),n(Qe(),e),n(Xe(),e),n(ye(),e),n(Ge(),e),n(Te(),e),n(Se(),e),n(Ze(),e),n(et(),e),n(ke(),e)})),nt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEventName=void 0,e.ExceptionEventName="exception"})),rt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Span=void 0;var t=ge(),n=tt(),r=Le(),i=nt();e.Span=class{constructor(e,r,i,o,s,a,c=[],l=n.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:t.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=i,this._spanContext=o,this.parentSpanId=a,this.kind=s,this.links=c,this.startTime=n.timeInputToHrTime(l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r)}spanContext(){return this._spanContext}setAttribute(e,r){return null==r||this._isSpanEnded()?this:0===e.length?(t.diag.warn(`Invalid attribute key: ${e}`),this):n.isAttributeValue(r)?(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]=r),this):(t.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,r,i){return this._isSpanEnded()||(this.events.length>=this._spanLimits.eventCountLimit&&(t.diag.warn("Dropping extra events."),this.events.shift()),n.isTimeInput(r)&&(void 0===i&&(i=r),r=void 0),void 0===i&&(i=n.hrTime()),this.events.push({name:e,attributes:r,time:n.timeInputToHrTime(i)})),this}setStatus(e){return this._isSpanEnded()||(this.status=e),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e=n.hrTime()){this._isSpanEnded()?t.diag.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=n.timeInputToHrTime(e),this._duration=n.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&t.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this))}isRecording(){return!1===this._ended}recordException(e,o=n.hrTime()){let s={};"string"==typeof e?s[r.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?s[r.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(s[r.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(s[r.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(s[r.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),s[r.SemanticAttributes.EXCEPTION_TYPE]||s[r.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,s,o):t.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&t.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}}})),it=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSamplerFromEnv=e.DEFAULT_CONFIG=void 0;var t=ge(),n=tt(),r=n.getEnv(),i=n.TracesSamplerValues.AlwaysOn;function o(e=n.getEnv()){switch(e.OTEL_TRACES_SAMPLER){case n.TracesSamplerValues.AlwaysOn:return new n.AlwaysOnSampler;case n.TracesSamplerValues.AlwaysOff:return new n.AlwaysOffSampler;case n.TracesSamplerValues.ParentBasedAlwaysOn:return new n.ParentBasedSampler({root:new n.AlwaysOnSampler});case n.TracesSamplerValues.ParentBasedAlwaysOff:return new n.ParentBasedSampler({root:new n.AlwaysOffSampler});case n.TracesSamplerValues.TraceIdRatio:return new n.TraceIdRatioBasedSampler(a(e));case n.TracesSamplerValues.ParentBasedTraceIdRatio:return new n.ParentBasedSampler({root:new n.TraceIdRatioBasedSampler(a(e))});default:return t.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${i}".`),new n.AlwaysOnSampler}}e.DEFAULT_CONFIG={sampler:o(r),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:n.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:n.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:n.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}},e.buildSamplerFromEnv=o;var s=1;function a(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return t.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${s}.`),s;let n=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(n)?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${s}.`),s):n<0||n>1?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${s}.`),s):n}})),ot=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeConfig=void 0;var t=it();e.mergeConfig=function(e){let n={sampler:t.buildSamplerFromEnv()},r=Object.assign({},t.DEFAULT_CONFIG,n,e);return r.spanLimits=Object.assign({},t.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),r}})),st=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tracer=void 0;var t=ge(),n=tt(),r=rt(),i=ot();e.Tracer=class{constructor(e,t,r){this._tracerProvider=r;let o=i.mergeConfig(t);this._sampler=o.sampler,this._spanLimits=o.spanLimits,this._idGenerator=t.idGenerator||new n.RandomIdGenerator,this.resource=r.resource,this.instrumentationLibrary=e}startSpan(e,i={},o=t.context.active()){var s,a;if(n.isTracingSuppressed(o))return t.diag.debug("Instrumentation suppressed, returning Noop Span"),t.trace.wrapSpanContext(t.INVALID_SPAN_CONTEXT);let c,l,u,p=function(e,n){if(!e.root)return t.trace.getSpanContext(n)}(i,o),d=this._idGenerator.generateSpanId();p&&t.trace.isSpanContextValid(p)?(c=p.traceId,l=p.traceState,u=p.spanId):c=this._idGenerator.generateTraceId();let h=null!==(s=i.kind)&&void 0!==s?s:t.SpanKind.INTERNAL,f=null!==(a=i.links)&&void 0!==a?a:[],m=n.sanitizeAttributes(i.attributes),g=this._sampler.shouldSample(i.root?t.trace.setSpanContext(o,t.INVALID_SPAN_CONTEXT):o,c,e,h,m,f),y={traceId:c,spanId:d,traceFlags:g.decision===t.SamplingDecision.RECORD_AND_SAMPLED?t.TraceFlags.SAMPLED:t.TraceFlags.NONE,traceState:l};if(g.decision===t.SamplingDecision.NOT_RECORD)return t.diag.debug("Recording is off, propagating context in a non-recording span"),t.trace.wrapSpanContext(y);let v=new r.Span(this,o,e,y,h,u,f,i.startTime);return v.setAttributes(Object.assign(m,g.attributes)),v}startActiveSpan(e,n,r,i){let o,s,a;if(arguments.length<2)return;2===arguments.length?a=n:3===arguments.length?(o=n,a=r):(o=n,s=r,a=i);let c=null!=s?s:t.context.active(),l=this.startSpan(e,o,c),u=t.trace.setSpan(c,l);return t.context.with(u,a,void 0,l)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}})),at=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultServiceName=void 0,e.defaultServiceName=function(){return`unknown_service:${process.argv0}`}})),ct=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectResources=void 0;var t=ft(),r=ge(),i=n(9023);e.detectResources=async(e={})=>{let n=Object.assign(e),i=await Promise.all((n.detectors||[]).map((async e=>{try{let t=await e.detect(n);return r.diag.debug(`${e.constructor.name} found resource.`,t),t}catch(n){return r.diag.debug(`${e.constructor.name} failed: ${n.message}`),t.Resource.empty()}})));return o(i),i.reduce(((e,t)=>e.merge(t)),t.Resource.empty())};var o=e=>{e.forEach((e=>{if(Object.keys(e.attributes).length>0){let t=i.inspect(e.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});r.diag.verbose(t)}}))}})),lt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.envDetector=void 0;var t=ge(),n=tt(),r=Le(),i=yt();e.envDetector=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){let o={},s=n.getEnv(),a=s.OTEL_RESOURCE_ATTRIBUTES,c=s.OTEL_SERVICE_NAME;if(a)try{let e=this._parseResourceAttributes(a);Object.assign(o,e)}catch(e){t.diag.debug(`EnvDetector failed: ${e.message}`)}return c&&(o[r.ResourceAttributes.SERVICE_NAME]=c),new i.Resource(o)}_parseResourceAttributes(e){if(!e)return{};let t={},n=e.split(this._COMMA_SEPARATOR,-1);for(let e of n){let n=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==n.length)continue;let[r,i]=n;if(r=r.trim(),i=i.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(r))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(i))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[r]=i}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isPrintableString(e)}_isPrintableString(e){for(let t=0;t<e.length;t++){let n=e.charAt(t);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}}})),ut=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processDetector=void 0;var t=ge(),n=Le(),r=yt();e.processDetector=new class{async detect(e){let t={[n.ResourceAttributes.PROCESS_PID]:process.pid,[n.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[n.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[n.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,i){return""===e[n.ResourceAttributes.PROCESS_EXECUTABLE_NAME]||""===e[n.ResourceAttributes.PROCESS_EXECUTABLE_PATH]||""===e[n.ResourceAttributes.PROCESS_COMMAND]||""===e[n.ResourceAttributes.PROCESS_COMMAND_LINE]?(t.diag.debug("ProcessDetector failed: Unable to find required process resources. "),r.Resource.empty()):new r.Resource(Object.assign({},e))}}})),pt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(lt(),e),n(ut(),e)})),dt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(at(),e),n(ct(),e),n(pt(),e)})),ht=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(dt(),e)})),ft=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;var t=Le(),n=tt(),r=ht(),i=class{constructor(e){this.attributes=e}static empty(){return i.EMPTY}static default(){return new i({[t.ResourceAttributes.SERVICE_NAME]:r.defaultServiceName(),[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:n.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[t.ResourceAttributes.TELEMETRY_SDK_NAME]:n.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_NAME],[t.ResourceAttributes.TELEMETRY_SDK_VERSION]:n.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;let t=Object.assign({},this.attributes,e.attributes);return new i(t)}};e.Resource=i,i.EMPTY=new i({})})),mt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),gt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),yt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(ft(),e),n(ht(),e),n(mt(),e),n(gt(),e)})),vt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSpanProcessor=void 0;var t=tt();e.MultiSpanProcessor=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise((n=>{Promise.all(e).then((()=>{n()})).catch((e=>{t.globalErrorHandler(e||new Error("MultiSpanProcessor: forceFlush failed")),n()}))}))}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise(((t,n)=>{Promise.all(e).then((()=>{t()}),n)}))}}})),bt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopSpanProcessor=void 0,e.NoopSpanProcessor=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}})),wt=f(((e,t)=>{var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Null]",l="[object Object]",u="[object Proxy]",p="[object Undefined]",d=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[i]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f[s]=f["[object Map]"]=f["[object Number]"]=f[l]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1;var m,g="object"==typeof global&&global&&global.Object===Object&&global,y="object"==typeof self&&self&&self.Object===Object&&self,v=g||y||Function("return this")(),b="object"==typeof e&&e&&!e.nodeType&&e,w=b&&"object"==typeof t&&t&&!t.nodeType&&t,_=w&&w.exports===b,E=_&&g.process,x=function(){try{return w&&w.require&&w.require("util").types||E&&E.binding&&E.binding("util")}catch(e){}}(),S=x&&x.isTypedArray,T=Array.prototype,C=Function.prototype,P=Object.prototype,I=v["__core-js_shared__"],O=C.toString,k=P.hasOwnProperty,D=(m=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",A=P.toString,R=O.call(Object),N=RegExp("^"+O.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=_?v.Buffer:void 0,F=v.Symbol,M=v.Uint8Array,j=(L&&L.allocUnsafe,function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object)),B=Object.create,U=P.propertyIsEnumerable,q=T.splice,$=F?F.toStringTag:void 0,V=function(){try{var e=ue(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),H=L?L.isBuffer:void 0,G=Math.max,z=Date.now,W=ue(v,"Map"),K=ue(Object,"create"),Y=function(){function e(){}return function(t){if(!Ee(t))return{};if(B)return B(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Z(e){var t=this.__data__=new Q(e);this.size=t.size}function ee(e,t,n){(void 0!==n&&!me(e[t],n)||void 0===n&&!(t in e))&&re(e,t,n)}function te(e,t,n){var r=e[t];(!k.call(e,t)||!me(r,n)||void 0===n&&!(t in e))&&re(e,t,n)}function ne(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1}function re(e,t,n){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}J.prototype.clear=function(){this.__data__=K?K(null):{},this.size=0},J.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},J.prototype.get=function(e){var t=this.__data__;if(K){var r=t[e];return r===n?void 0:r}return k.call(t,e)?t[e]:void 0},J.prototype.has=function(e){var t=this.__data__;return K?void 0!==t[e]:k.call(t,e)},J.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=K&&void 0===t?n:t,this},Q.prototype.clear=function(){this.__data__=[],this.size=0},Q.prototype.delete=function(e){var t=this.__data__,n=ne(t,e);return!(n<0||(n==t.length-1?t.pop():q.call(t,n,1),--this.size,0))},Q.prototype.get=function(e){var t=this.__data__,n=ne(t,e);return n<0?void 0:t[n][1]},Q.prototype.has=function(e){return ne(this.__data__,e)>-1},Q.prototype.set=function(e,t){var n=this.__data__,r=ne(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},X.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new(W||Q),string:new J}},X.prototype.delete=function(e){var t=le(this,e).delete(e);return this.size-=t?1:0,t},X.prototype.get=function(e){return le(this,e).get(e)},X.prototype.has=function(e){return le(this,e).has(e)},X.prototype.set=function(e,t){var n=le(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Z.prototype.clear=function(){this.__data__=new Q,this.size=0},Z.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Z.prototype.get=function(e){return this.__data__.get(e)},Z.prototype.has=function(e){return this.__data__.has(e)},Z.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Q){var r=n.__data__;if(!W||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new X(r)}return n.set(e,t),this.size=n.size,this};var ie=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[++r];if(!1===t(i[a],a,i))break}return e};function oe(e){return null==e?void 0===e?p:c:$&&$ in Object(e)?function(e){var t=k.call(e,$),n=e[$];try{e[$]=void 0;var r=!0}catch(e){}var i=A.call(e);return r&&(t?e[$]=n:delete e[$]),i}(e):function(e){return A.call(e)}(e)}function se(e){return xe(e)&&oe(e)==i}function ae(e,t,n,r,i){e!==t&&ie(t,(function(o,s){if(i||(i=new Z),Ee(o))!function(e,t,n,r,i,o,s){var a=he(e,n),c=he(t,n),u=s.get(c);if(u)ee(e,n,u);else{var p=o?o(a,c,n+"",e,t,s):void 0,d=void 0===p;if(d){var h=ye(c),f=!h&&be(c),m=!h&&!f&&Se(c);p=c,h||f||m?ye(a)?p=a:function(e){return xe(e)&&ve(e)}(a)?p=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(a):f?(d=!1,p=function(e,t){return e.slice()}(c)):m?(d=!1,p=function(e,t){var n=function(e){var t=new e.constructor(e.byteLength);return new M(t).set(new M(e)),t}(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}(c)):p=[]:function(e){if(!xe(e)||oe(e)!=l)return!1;var t=j(e);if(null===t)return!0;var n=k.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==R}(c)||ge(c)?(p=a,ge(a)?p=function(e){return function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=void 0;void 0===c&&(c=e[a]),i?re(n,a,c):te(n,a,c)}return n}(e,Te(e))}(a):(!Ee(a)||we(a))&&(p=function(e){return"function"!=typeof e.constructor||de(e)?{}:Y(j(e))}(c))):d=!1}d&&(s.set(c,p),i(p,c,r,o,s),s.delete(c)),ee(e,n,p)}}(e,t,s,n,ae,r,i);else{var a=r?r(he(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),ee(e,s,a)}}),Te)}var ce=V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:Pe(t),writable:!0})}:Ie;function le(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ee(e)||function(e){return!!D&&D in e}(e))&&(we(e)?N:d).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function pe(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&h.test(e))&&e>-1&&e%1==0&&e<t}function de(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||P)}function he(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var fe=function(e){var t=0,n=0;return function(){var r=z(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ce);function me(e,t){return e===t||e!=e&&t!=t}var ge=se(function(){return arguments}())?se:function(e){return xe(e)&&k.call(e,"callee")&&!U.call(e,"callee")},ye=Array.isArray;function ve(e){return null!=e&&_e(e.length)&&!we(e)}var be=H||function(){return!1};function we(e){if(!Ee(e))return!1;var t=oe(e);return t==s||t==a||t==o||t==u}function _e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ee(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function xe(e){return null!=e&&"object"==typeof e}var Se=S?function(e){return function(t){return e(t)}}(S):function(e){return xe(e)&&_e(e.length)&&!!f[oe(e)]};function Te(e){return ve(e)?function(e,t){var n=ye(e),r=!n&&ge(e),i=!n&&!r&&be(e),o=!n&&!r&&!i&&Se(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var l in e)(t||k.call(e,l))&&(!s||!("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||pe(l,c)))&&a.push(l);return a}(e,!0):function(e){if(!Ee(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=de(e),n=[];for(var r in e)"constructor"==r&&(t||!k.call(e,r))||n.push(r);return n}(e)}var Ce=function(e){return function(e,t){return fe(function(e,t,n){return t=G(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=G(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(e,t,Ie),e+"")}((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&function(e,t,n){if(!Ee(n))return!1;var r=typeof t;return!!("number"==r?ve(n)&&pe(t,n.length):"string"==r&&t in n)&&me(n[t],e)}(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r)}return t}))}((function(e,t,n){ae(e,t,n)}));function Pe(e){return function(){return e}}function Ie(e){return e}t.exports=Ce})),_t=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessorBase=void 0;var t=ge(),n=tt();e.BatchSpanProcessorBase=class{constructor(e,t){this._exporter=e,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let r=n.getEnv();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(e){}onEnd(e){this._isShutdown||this._addToBuffer(e)}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=>{Promise.resolve().then((()=>this.onShutdown())).then((()=>this._flushAll())).then((()=>this._exporter.shutdown())).then(e).catch((e=>{t(e)}))}))),this._shuttingDownPromise}_addToBuffer(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())}_flushAll(){return new Promise(((e,t)=>{let n=[];for(let e=0,t=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);e<t;e++)n.push(this._flushOneBatch());Promise.all(n).then((()=>{e()})).catch(t)}))}_flushOneBatch(){return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(((e,r)=>{let i=setTimeout((()=>{r(new Error("Timeout"))}),this._exportTimeoutMillis);t.context.with(n.suppressTracing(t.context.active()),(()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),(t=>{var o;clearTimeout(i),t.code===n.ExportResultCode.SUCCESS?e():r(null!==(o=t.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))}))}))}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout((()=>{this._flushOneBatch().then((()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())})).catch((e=>{n.globalErrorHandler(e)}))}),this._scheduledDelayMillis),n.unrefTimer(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}})),Et=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessor=void 0;var t=_t(),n=class extends t.BatchSpanProcessorBase{onShutdown(){}};e.BatchSpanProcessor=n})),xt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Et(),e)})),St=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(xt(),e)})),Tt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;var t,n,r=ge(),i=tt(),o=yt(),s=Nt(),a=it(),c=vt(),l=bt(),u=wt(),p=St();(n=t=e.ForceFlushState||(e.ForceFlushState={}))[n.resolved=0]="resolved",n[n.timeout=1]="timeout",n[n.error=2]="error",n[n.unresolved=3]="unresolved";var d=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let n=u({},a.DEFAULT_CONFIG,e);this.resource=null!==(t=n.resource)&&void 0!==t?t:o.Resource.empty(),this.resource=o.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let r=this._buildExporterFromEnv();if(void 0!==r){let e=new p.BatchSpanProcessor(r);this.activeSpanProcessor=e}else this.activeSpanProcessor=new l.NoopSpanProcessor}getTracer(e,t){let n=`${e}@${t||""}`;return this._tracers.has(n)||this._tracers.set(n,new s.Tracer({name:e,version:t},this._config,this)),this._tracers.get(n)}addSpanProcessor(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((e=>r.diag.error("Error while trying to shutdown current span processor",e))),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new c.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){r.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&r.context.setGlobalContextManager(e.contextManager),e.propagator&&r.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map((n=>new Promise((r=>{let i,o=setTimeout((()=>{r(new Error(`Span processor did not completed within timeout period of ${e} ms`)),i=t.timeout}),e);n.forceFlush().then((()=>{clearTimeout(o),i!==t.timeout&&(i=t.resolved,r(i))})).catch((e=>{clearTimeout(o),i=t.error,r(e)}))}))));return new Promise(((e,r)=>{Promise.all(n).then((n=>{let i=n.filter((e=>e!==t.resolved));i.length>0?r(i):e()})).catch((e=>r([e])))}))}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return null===(t=d._registeredPropagators.get(e))||void 0===t?void 0:t()}_getSpanExporter(e){var t;return null===(t=d._registeredExporters.get(e))||void 0===t?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set(i.getEnv().OTEL_PROPAGATORS)),t=e.map((e=>{let t=this._getPropagator(e);return t||r.diag.warn(`Propagator "${e}" requested through environment variable is unavailable.`),t})).reduce(((e,t)=>(t&&e.push(t),e)),[]);if(0!==t.length)return 1===e.length?t[0]:new i.CompositePropagator({propagators:t})}_buildExporterFromEnv(){let e=i.getEnv().OTEL_TRACES_EXPORTER;if("none"===e)return;let t=this._getSpanExporter(e);return t||r.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};e.BasicTracerProvider=d,d._registeredPropagators=new Map([["tracecontext",()=>new i.HttpTraceContextPropagator],["baggage",()=>new i.HttpBaggagePropagator]]),d._registeredExporters=new Map})),Ct=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleSpanExporter=void 0;var t=tt();e.ConsoleSpanExporter=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:t.hrTimeToMicroseconds(e.startTime),duration:t.hrTimeToMicroseconds(e.duration),attributes:e.attributes,status:e.status,events:e.events}}_sendSpans(e,n){for(let t of e)console.log(this._exportInfo(t));if(n)return n({code:t.ExportResultCode.SUCCESS})}}})),Pt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySpanExporter=void 0;var t=tt();e.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,n){if(this._stopped)return n({code:t.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout((()=>n({code:t.ExportResultCode.SUCCESS})),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}})),It=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ot=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleSpanProcessor=void 0;var t=ge(),n=tt();e.SimpleSpanProcessor=class{constructor(e){this._exporter=e,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(e){}onEnd(e){this._isShutdown||t.context.with(n.suppressTracing(t.context.active()),(()=>{this._exporter.export([e],(e=>{var t;e.code!==n.ExportResultCode.SUCCESS&&n.globalErrorHandler(null!==(t=e.error)&&void 0!==t?t:new Error(`SimpleSpanProcessor: span export failed (status ${e})`))}))}))}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=>{Promise.resolve().then((()=>this._exporter.shutdown())).then(e).catch((e=>{t(e)}))}))),this._shuttingDownPromise}}})),kt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Dt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),At=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Rt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Nt=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(st(),e),n(Tt(),e),n(St(),e),n(Ct(),e),n(Pt(),e),n(It(),e),n(Ot(),e),n(kt(),e),n(bt(),e),n(rt(),e),n(Dt(),e),n(At(),e),n(Rt(),e)})),Lt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.azureCoreTracing=e.AzureMonitorSymbol=void 0;var t=_();e.AzureMonitorSymbol="Azure_Monitor_Tracer";var n=!1;e.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(r){if(n)return r;try{var i=Nt(),o=ge(),s=(new i.BasicTracerProvider).getTracer("applicationinsights tracer"),a=r.setTracer;r.setTracer=function(n){var r=n.startSpan;n.startSpan=function(e,n,i){var o=r.call(this,e,n,i),s=o.end;return o.end=function(){var e=s.apply(this,arguments);return t.channel.publish("azure-coretracing",o),e},o},n[e.AzureMonitorSymbol]=!0,a.call(this,n)},o.trace.getSpan(o.context.active()),r.setTracer(s),n=!0}catch(e){}return r}},e.enable=function(){t.channel.registerMonkeyPatch("@azure/core-tracing",e.azureCoreTracing)}})),Ft=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.bunyan=void 0;var t=_();e.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var n=e.prototype._emit;return e.prototype._emit=function(e,r){var i=n.apply(this,arguments);if(!r){var o=i;o||(o=n.call(this,e,!0)),t.channel.publish("bunyan",{level:e.level,result:o})}return i},e}},e.enable=function(){t.channel.registerMonkeyPatch("bunyan",e.bunyan)}})),Mt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.console=void 0;var t=_(),r=n(2203);e.console={versionSpecifier:">= 4.0.0",patch:function(e){var n=new r.Writable,i=new r.Writable;n.write=function(e){if(!e)return!0;var n=e.toString();return t.channel.publish("console",{message:n}),!0},i.write=function(e){if(!e)return!0;var n=e.toString();return t.channel.publish("console",{message:n,stderr:!0}),!0};for(var o=new e.Console(n,i),s=function(t){var n=e[t];n&&(e[t]=function(){if(o[t])try{o[t].apply(o,arguments)}catch(e){}return n.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++)s(c[a]);return e}},e.enable=function(){t.channel.registerMonkeyPatch("console",e.console),n(4236)}})),jt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongoCore=void 0;var t=_();e.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var n=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=n.apply(this,arguments),r=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=t.channel.bindToContext(arguments[e])),r.apply(this,arguments)};var i=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=t.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e},e}},e.enable=function(){t.channel.registerMonkeyPatch("mongodb-core",e.mongoCore)}})),Bt=f((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongo330=e.mongo3=e.mongo2=void 0;var n=_();e.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var r=e.instrument({operationIdGenerator:{next:function(){return n.channel.bindToContext((function(e){return e()}))}}}),i={};return r.on("started",(function(e){i[e.requestId]||(i[e.requestId]=t(t({},e),{time:new Date}))})),r.on("succeeded",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),r.on("failed",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},e.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var r=e.instrument(),i={},o={};return r.on("started",(function(e){i[e.requestId]||(o[e.requestId]=n.channel.bindToContext((function(e){return e()})),i[e.requestId]=t(t({},e),{time:new Date}))})),r.on("succeeded",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete o[e.requestId])})),r.on("failed",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete o[e.requestId])})),e}},e.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),r=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=n.channel.bindToContext(arguments[e])),r.apply(this,arguments)};var i=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=n.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e}}(e);var t=e.instrument(),r={},i={};return t.on("started",(function(e){r[e.requestId]||(i[e.requestId]=n.channel.bindToContext((function(e){return e()})),r[e.requestId]=e)})),t.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete i[e.requestId])})),t.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete i[e.requestId])})),e}},e.enable=function(){n.channel.registerMonkeyPatch("mongodb",e.mongo2),n.channel.registerMonkeyPatch("mongodb",e.mongo3),n.channel.registerMonkeyPatch("mongodb",e.mongo330)}})),Ut=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mysql=void 0;var t=_(),r=n(6928);e.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,i){var o=function(e,n){return function(n,r){var i=e[n];i&&(e[n]=function(){for(var e=arguments.length-1,n=arguments.length-1;n>=0;--n){if("function"==typeof arguments[n]){e=n;break}if(void 0!==arguments[n])break}var o=arguments[e],s={result:null,startTime:null,startDate:null};"function"==typeof o&&(r?(s.startTime=process.hrtime(),s.startDate=new Date,arguments[e]=t.channel.bindToContext(r(s,o))):arguments[e]=t.channel.bindToContext(o));var a=i.apply(this,arguments);return s.result=a,a})}},s=function(e,t){return o(e.prototype)},a=n(3270)(r.dirname(i)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return s(a)(e)})),o(a)("createQuery",(function(e,n){return function(r){var i=process.hrtime(e.startTime),o=1e3*i[0]+i[1]/1e6|0;t.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:r,duration:o,time:e.startDate}),n.apply(this,arguments)}}));var c=n(8371)(r.dirname(i)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return s(c)(e)})),e}},e.enable=function(){t.channel.registerMonkeyPatch("mysql",e.mysql)}})),qt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgresPool1=void 0;var t=_();e.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var n=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=t.channel.bindToContext(e)),n.apply(this,arguments)},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg-pool",e.postgresPool1)}})),$t=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgres7=e.postgres6=void 0;var t=_(),r=n(4434);e.postgres6={versionSpecifier:"6.*",patch:function(e,n){var i=e.Client.prototype.query,o="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,n,s){var a,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},l=process.hrtime();function u(e){e&&e[o]&&(e=e[o]);var n=t.channel.bindToContext((function(n,i){var o=process.hrtime(l);if(c.result=i&&{rowCount:i.rowCount,command:i.command},c.error=n,c.duration=Math.ceil(1e3*o[0]+o[1]/1e6),t.channel.publish("postgres",c),n){if(e)return e.apply(this,arguments);a&&a instanceof r.EventEmitter&&a.emit("error",n)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(n,o,{value:e}),n}catch(t){return e}}try{"string"==typeof e?n instanceof Array?(c.query.preparable={text:e,args:n},s=u(s)):(c.query.text=e,s?s=u(s):n=u(n)):("string"==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,s?s=u(s):n?n=u(n):e.callback=u(e.callback))}catch(e){return i.apply(this,arguments)}return arguments[0]=e,arguments[1]=n,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=i.apply(this,arguments)},e}},e.postgres7={versionSpecifier:">=7.* <=8.*",patch:function(e,n){var i=e.Client.prototype.query,o="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,n,s){var a,c=this,l=!!s,u={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},p=process.hrtime();function d(e){e&&e[o]&&(e=e[o]);var n=t.channel.bindToContext((function(n,i){var o=process.hrtime(p);if(u.result=i&&{rowCount:i.rowCount,command:i.command},u.error=n,u.duration=Math.ceil(1e3*o[0]+o[1]/1e6),t.channel.publish("postgres",u),n){if(e)return e.apply(this,arguments);a&&a instanceof r.EventEmitter&&a.emit("error",n)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(n,o,{value:e}),n}catch(t){return e}}try{"string"==typeof e?n instanceof Array?(u.query.preparable={text:e,args:n},s=(l="function"==typeof s)?d(s):s):(u.query.text=e,s?s=(l="function"==typeof s)?d(s):s:n=(l="function"==typeof n)?d(n):n):("string"==typeof e.name?u.query.plan=e.name:e.values instanceof Array?u.query.preparable={text:e.text,args:e.values}:u.query.text=e.text,s?(l="function"==typeof s,s=d(s)):n?n=(l="function"==typeof n)?d(n):n:(l="function"==typeof e.callback,e.callback=l?d(e.callback):e.callback))}catch(e){return i.apply(this,arguments)}return arguments[0]=e,arguments[1]=n,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=i.apply(this,arguments),l?a:a.then((function(e){return d()(void 0,e),new c._Promise((function(t,n){t(e)}))})).catch((function(e){return d()(e,void 0),new c._Promise((function(t,n){n(e)}))}))},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg",e.postgres6),t.channel.registerMonkeyPatch("pg",e.postgres7)}})),Vt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.redis=void 0;var t=_();e.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var n=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var r=e.callback;if(!r||!r.pubsubBound){var i=this.address,o=process.hrtime(),s=new Date;e.callback=t.channel.bindToContext((function(n,a){var c=process.hrtime(o),l=1e3*c[0]+c[1]/1e6|0;t.channel.publish("redis",{duration:l,address:i,commandObj:e,err:n,result:a,time:s}),"function"==typeof r&&r.apply(this,arguments)})),e.callback.pubsubBound=!0}}return n.call(this,e)},e}},e.enable=function(){t.channel.registerMonkeyPatch("redis",e.redis)}})),Ht=f((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=void 0;var n=_();e.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var r=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){var e,i,o,s=arguments[0];arguments[0].callback=(e=s.callback,i=process.hrtime(),o={query:{},database:{host:null,port:null},result:null,error:null,duration:0},n.channel.bindToContext((function(r,s,a){var c=process.hrtime(i);o=t(t({},o),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!r&&{rowCount:s,rows:a},query:{text:this.parametersByName.statement.value},error:r,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),n.channel.publish("tedious",o),e.call(this,r,s,a)}))),r.apply(this,arguments)},e}},e.enable=function(){n.channel.registerMonkeyPatch("tedious",e.tedious)}})),Gt=f((e=>{"use strict";var t,n=e&&e.__extends||(t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,n)},function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.winston2=e.winston3=void 0;var i=_();e.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,n){var r=e.call(this,n)||this;return r.winston=t,r}return n(t,e),t.prototype.log=function(e,t){var n=e.message,o=e.level,s=e.meta,a=r(e,["message","level","meta"]);o="function"==typeof Symbol.for?e[Symbol.for("level")]:o,n=e instanceof Error?e:n;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,o);for(var l in s=s||{},a)a.hasOwnProperty(l)&&(s[l]=a[l]);i.channel.publish("winston",{message:n,level:o,levelKind:c,meta:s}),t()},t}(e.Transport);function o(){var n,r=arguments[0].levels||e.config.npm.levels;for(var i in r)r.hasOwnProperty(i)&&(n=void 0===n||r[i]>r[n]?i:n);this.add(new t(e,{level:n}))}var s=e.createLogger;e.createLogger=function(){var n,r=arguments[0].levels||e.config.npm.levels;for(var i in r)r.hasOwnProperty(i)&&(n=void 0===n||r[i]>r[n]?i:n);var a=s.apply(this,arguments);a.add(new t(e,{level:n}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),o.apply(this,arguments)},a};var a=e.configure;return e.configure=function(){a.apply(this,arguments),o.apply(this,arguments)},e.add(new t(e)),e}},e.winston2={versionSpecifier:"2.x",patch:function(e){var t,n=e.Logger.prototype.log,r=function(n,r,o){var s;return s=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",i.channel.publish("winston",{level:n,message:r,meta:o,levelKind:s}),r};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==r&&(this.filters=this.filters.filter((function(e){return e!==r})),this.filters.push(r)):this.filters=[r],n.apply(this,arguments)},e}},e.enable=function(){i.channel.registerMonkeyPatch("winston",e.winston2),i.channel.registerMonkeyPatch("winston",e.winston3)}})),zt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=e.pgPool=e.pg=e.winston=e.redis=e.mysql=e.mongodb=e.mongodbCore=e.console=e.bunyan=e.azuresdk=void 0;var t=Lt();e.azuresdk=t;var n=Ft();e.bunyan=n;var r=Mt();e.console=r;var i=jt();e.mongodbCore=i;var o=Bt();e.mongodb=o;var s=Ut();e.mysql=s;var a=qt();e.pgPool=a;var c=$t();e.pg=c;var l=Vt();e.redis=l;var u=Ht();e.tedious=u;var p=Gt();e.winston=p,e.enable=function(){n.enable(),r.enable(),i.enable(),o.enable(),s.enable(),c.enable(),a.enable(),l.enable(),p.enable(),t.enable(),u.enable()}})),Wt=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerContextPreservation=e.IsInitialized=void 0;var t=y(),n=g();e.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var r,i,o,s,a="DiagnosticChannel";if(e.IsInitialized){for(s in r=zt(),i=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),o={bunyan:r.bunyan,console:r.console,mongodb:r.mongodb,mongodbCore:r.mongodbCore,mysql:r.mysql,redis:r.redis,pg:r.pg,pgPool:r.pgPool,winston:r.winston,azuresdk:r.azuresdk})-1===i.indexOf(s)&&(o[s].enable(),n.info(a,"Subscribed to "+s+" events"));i.length>0&&n.info(a,"Some modules will not be patched",i)}else n.info(a,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");e.registerContextPreservation=function(n){if(e.IsInitialized){var r=_();r.channel.addContextPreservation(n),r.channel.spanContextPropagator=t.AsyncScopeManager}}})),Kt=f(((e,t)=>{"use strict";t.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}})),Yt=f(((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=n(8611),o=n(5692),s=n(7016),a=n(9140),c=g(),l=Kt(),u=function(){function e(){}return e.getCookie=function(t,n){var r="";if(t&&t.length&&"string"==typeof n)for(var i=t+"=",o=n.split(";"),s=0;s<o.length;s++)if(n=o[s],(n=e.trim(n))&&0===n.indexOf(i)){r=n.substring(i.length,o[s].length);break}return r},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},n=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),r=(Buffer.from?Buffer.from(n,"binary"):new Buffer(n,"binary")).toString("base64");return r.substr(0,r.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",i=0;i<4;i++)r+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var o=n[8+4*Math.random()|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+o+r.substr(16,3)+r.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,n=n.length<2?"0"+n:n,(i>0?i+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var n={};for(var r in t){var i="",o=t[r],s=typeof o;if(e.isPrimitive(o))i=o.toString();else if(null===o||"undefined"===s)i="";else{if("function"===s){c.info("key: "+r+" was function; will not serialize");continue}var a=e.isArray(o)?o:e.extractObject(o);try{i=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){i=o.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+r+", could not be serialized")}}n[r]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return n}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var n=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!n||0==n.length||!t)return!0;for(var r=0;r<n.length;r++)if(new RegExp(n[r].replace(/\./g,".").replace(/\*/g,".*")).test(s.parse(t).hostname))return!1;return!0},e.getCorrelationContextTarget=function(e,t){var n=e.headers&&e.headers[l.requestContextHeader];if(n)for(var r=n.split(","),i=0;i<r.length;++i){var o=r[i].split("=");if(2==o.length&&o[0]==t)return o[1]}},e.makeRequest=function(t,n,a,l){n&&0===n.indexOf("//")&&(n="https:"+n);var u=s.parse(n),p=r(r({},a),{host:u.hostname,port:u.port,path:u.pathname}),d=void 0;if("https:"===u.protocol&&(d=t.proxyHttpsUrl||void 0),"http:"===u.protocol&&(d=t.proxyHttpUrl||void 0),d){0===d.indexOf("//")&&(d="http:"+d);var h=s.parse(d);"https:"===h.protocol?(c.info("Proxies that use HTTPS are not supported"),d=void 0):p=r(r({},p),{host:h.hostname,port:h.port||"80",path:n,headers:r(r({},p.headers),{Host:u.hostname})})}var f="https:"===u.protocol&&!d;return f&&void 0!==t.httpsAgent?p.agent=t.httpsAgent:f||void 0===t.httpAgent?f&&(p.agent=e.tlsRestrictedAgent):p.agent=t.httpAgent,f?o.request(p,l):i.request(p,l)},e.safeIncludeCorrelationHeader=function(t,n,r){var i;if("string"==typeof r)i=r;else if(r instanceof Array)i=r.join(",");else if(r&&"function"==typeof r.toString)try{i=r.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,r)}i?e.addCorrelationIdHeaderFromString(t,n,i):n.setHeader(l.requestContextHeader,l.requestContextSourceKey+"="+t.config.correlationId)},e.dumpObj=function(e){var t=Object.prototype.toString.call(e);return t+("[object Error]"===t?"{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":JSON.stringify(e))},e.addCorrelationIdHeaderFromString=function(e,t,n){var r=n.split(","),i=l.requestContextSourceKey+"=";r.some((function(e){return e.substring(0,i.length)===i}))||t.setHeader(l.requestContextHeader,n+","+l.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new o.Agent({keepAlive:!0,maxSockets:25,secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();t.exports=u})),Jt=f(((e,t)=>{"use strict";var n=Yt(),r=g(),i=function(){function e(){}return e.queryCorrelationId=function(t,i){var o=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(o))i(e.completedLookups[o]);else if(e.pendingLookups[o])e.pendingLookups[o].push(i);else{e.pendingLookups[o]=[i];var s=function(){if(e.pendingLookups[o]){var i={method:"GET",disableAppInsightsAutoCollection:!0};r.info(e.TAG,i);var a=n.makeRequest(t,o,i,(function(n){if(200===n.statusCode){var i="";n.setEncoding("utf-8"),n.on("data",(function(e){i+=e})),n.on("end",(function(){r.info(e.TAG,i);var t=e.correlationIdPrefix+i;e.completedLookups[o]=t,e.pendingLookups[o]&&e.pendingLookups[o].forEach((function(e){return e(t)})),delete e.pendingLookups[o]}))}else n.statusCode>=400&&n.statusCode<500?(e.completedLookups[o]=void 0,delete e.pendingLookups[o]):setTimeout(s,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){r.warn(e.TAG,t)})),a.end())}};setTimeout(s,0)}},e.cancelCorrelationIdQuery=function(t,n){var r=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",i=e.pendingLookups[r];i&&(e.pendingLookups[r]=i.filter((function(e){return e!=n})),0==e.pendingLookups[r].length&&delete e.pendingLookups[r])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var n=(e.currentRootId++).toString(16);return e.appendSuffix(t,n,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var n="|"===e[0]?1:0;return e.substring(n,t)},e.generateRootId=function(){return"|"+n.w3cTraceId()+"."},e.appendSuffix=function(t,r,i){if(t.length+r.length<e.requestIdMaxLength)return t+r+i;var o=e.requestIdMaxLength-9;if(t.length>o)for(;o>1;--o){var s=t[o-1];if("."===s||"_"===s)break}if(o<=1)return e.generateRootId();for(r=n.randomu32().toString(16);r.length<8;)r="0"+r;return t.substring(0,o)+r+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!0,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=n.randomu32(),e}();t.exports=i})),Qt=f(((e,t)=>{"use strict";var n=Yt(),r=Jt(),i=function(){function e(t,i){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16);else{var o=t.trim().split("-"),s=o.length;s>=4?(this.version=o[0],this.traceId=o[1],this.spanId=o[2],this.traceFlag=o[3]):(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId()),"00"===this.version&&4!==s&&(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=n.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=n.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=n.w3cTraceId().substr(0,16),this.traceId=n.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(i){this.parentId=i.slice();var a=r.getRootId(i);e.isValidTraceId(a)||(this.legacyRootId=a,a=n.w3cTraceId()),-1!==i.indexOf("|")&&(i=i.substring(1+i.substring(0,i.length-1).lastIndexOf("."),i.length-1)),this.traceId=a,this.spanId=i}else this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.formatOpenTelemetryTraceFlags=function(e){var t="0"+e.toString(16);return t.substring(t.length-2)},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=n.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();t.exports=i})),Xt=f(((e,t)=>{"use strict";var n=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var n=t[0].trim(),r=t[1].trim(),i=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return i&&o}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var n=[],r={},i=t.split(",");if(i.length>32)return null;for(var o=0,s=i;o<s.length;o++){var a=s[o].trim();if(0!==a.length){var c=a.split("=");if(2!==c.length||!e.validateKeyChars(c[0])||r[c[0]])return null;r[c[0]]=!0,n.push(a)}}return n},e.strict=!0,e}();t.exports=n})),Zt=f(((e,t)=>{"use strict";t.exports=function(){}})),en=f(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(Zt());t.exports=i})),tn=f(((e,t)=>{"use strict";t.exports=function(){}})),nn=f(((e,t)=>{"use strict";t.exports=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}})),rn=f(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){return e.call(this)||this}return r(t,e),t}(tn());t.exports=i})),on=f(((e,t)=>{"use strict";var n,r;(r=n||(n={}))[r.Measurement=0]="Measurement",r[r.Aggregation=1]="Aggregation",t.exports=n})),sn=f(((e,t)=>{"use strict";var n=on();t.exports=function(){this.kind=n.Measurement}})),an=f(((e,t)=>{"use strict";t.exports=function(){this.ver=1,this.sampleRate=100,this.tags={}}})),cn=f(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(Zt());t.exports=i})),ln=f(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return r(t,e),t}(Zt());t.exports=i})),un=f(((e,t)=>{"use strict";t.exports=function(){this.hasFullStack=!0,this.parsedStack=[]}})),pn=f(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return r(t,e),t}(Zt());t.exports=i})),dn=f(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return r(t,e),t}(Zt());t.exports=i})),hn=f(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(cn());t.exports=i})),fn=f(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return r(t,e),t}(Zt());t.exports=i})),mn=f(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(Zt());t.exports=i})),gn=f(((e,t)=>{"use strict";var n,r;(r=n||(n={}))[r.Verbose=0]="Verbose",r[r.Information=1]="Information",r[r.Warning=2]="Warning",r[r.Error=3]="Error",r[r.Critical=4]="Critical",t.exports=n})),yn=f(((e,t)=>{"use strict";t.exports=function(){}})),vn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvailabilityData=en(),e.Base=tn(),e.ContextTagKeys=nn(),e.Data=rn(),e.DataPoint=sn(),e.DataPointType=on(),e.Domain=Zt(),e.Envelope=an(),e.EventData=cn(),e.ExceptionData=ln(),e.ExceptionDetails=un(),e.MessageData=pn(),e.MetricData=dn(),e.PageViewData=hn(),e.RemoteDependencyData=fn(),e.RequestData=mn(),e.SeverityLevel=gn(),e.StackFrame=yn()})),bn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domainSupportsProperties=e.RemoteDependencyDataConstants=void 0;var t=vn(),n=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();e.RemoteDependencyDataConstants=n,e.domainSupportsProperties=function(e){return"properties"in e||e instanceof t.EventData||e instanceof t.ExceptionData||e instanceof t.MessageData||e instanceof t.MetricData||e instanceof t.PageViewData||e instanceof t.RemoteDependencyData||e instanceof t.RequestData}})),wn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),_n=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),En=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),xn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Sn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Tn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Cn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Pn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),In=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),On=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),kn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Dn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),An=f((e=>{"use strict";var t,n;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryType=e.TelemetryTypeString=e.baseTypeToTelemetryType=e.telemetryTypeToBaseType=void 0,e.telemetryTypeToBaseType=function(e){switch(e){case t.Event:return"EventData";case t.Exception:return"ExceptionData";case t.Trace:return"MessageData";case t.Metric:return"MetricData";case t.Request:return"RequestData";case t.Dependency:return"RemoteDependencyData";case t.Availability:return"AvailabilityData";case t.PageView:return"PageViewData"}},e.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return t.Event;case"ExceptionData":return t.Exception;case"MessageData":return t.Trace;case"MetricData":return t.Metric;case"RequestData":return t.Request;case"RemoteDependencyData":return t.Dependency;case"AvailabilityData":return t.Availability;case"PageViewData":return t.PageView}},e.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"},(n=t=e.TelemetryType||(e.TelemetryType={}))[n.Event=0]="Event",n[n.Exception=1]="Exception",n[n.Trace=2]="Trace",n[n.Metric=3]="Metric",n[n.Request=4]="Request",n[n.Dependency=5]="Dependency",n[n.Availability=6]="Availability",n[n.PageView=7]="PageView"})),Rn=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(wn(),e),n(_n(),e),n(En(),e),n(xn(),e),n(Sn(),e),n(Tn(),e),n(Cn(),e),n(Pn(),e),n(In(),e),n(On(),e),n(kn(),e),n(Dn(),e),n(An(),e)})),Nn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ln=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Fn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Mn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),jn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Bn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Un=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),qn=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),$n=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Nn(),e),n(Ln(),e),n(Fn(),e),n(Mn(),e),n(jn(),e),n(Bn(),e),n(Un(),e),n(qn(),e)})),Vn=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(bn(),e),n(vn(),e),n(Rn(),e),n($n(),e)})),Hn=f(((e,t)=>{"use strict";var n=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var n=+new Date;this.duration=n-this.startTime,this.statusCode=e;var r=this.properties||{};if(t)if("string"==typeof t)r.error=t;else if(t instanceof Error)r.error=t.message;else if("object"==typeof t)for(var i in t)r[i]=t[i]&&t[i].toString&&t[i].toString();this.properties=r},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();t.exports=n})),Gn=f(((e,t)=>{"use strict";var r,i=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7016),s=Vn(),a=Yt(),c=Kt(),l=Hn(),u=Jt(),p=Xt(),d=Qt(),h=function(e){function t(t,n){var r=e.call(this)||this;return t&&(r.method=t.method,r.url=r._getAbsoluteUrl(t),r.startTime=+new Date,r.socketRemoteAddress=t.socket&&t.socket.remoteAddress,r.parseHeaders(t,n),t.connection&&(r.connectionRemoteAddress=t.connection.remoteAddress,r.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),r}return i(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+o.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e&&e.time?t.time=e.time:this.startTime&&(t.time=new Date(this.startTime)),e){for(var n in e)t[n]||(t[n]=e[n]);if(e.properties)for(var n in e.properties)t.properties[n]=e.properties[n]}return t},t.prototype.getRequestTags=function(e){var n={};for(var r in e)n[r]=e[r];return n[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),n[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),n[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),n[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),n[t.keys.operationName]=this.getOperationName(e),n[t.keys.operationParentId]=this.getOperationParentId(e),n[t.keys.operationId]=this.getOperationId(e),n},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+o.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,n=o.parse(e.url),r=n.pathname,i=n.search,s=t||"https"==e.headers["x-forwarded-proto"]?"https":"http";return o.format({protocol:s,host:e.headers.host,pathname:r,search:i})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var n=e.exec(t);if(n)return n[0]},n=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!n&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(n="127.0.0.1"),n},t.prototype._getId=function(e){var n=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,n))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var n=e.headers[c.traceStateHeader]?e.headers[c.traceStateHeader].toString():null,r=e.headers[c.traceparentHeader]?e.headers[c.traceparentHeader].toString():null,i=e.headers[c.requestIdHeader]?e.headers[c.requestIdHeader].toString():null,o=e.headers[c.parentIdHeader]?e.headers[c.parentIdHeader].toString():null,s=e.headers[c.rootIdHeader]?e.headers[c.rootIdHeader].toString():null;this.correlationContextHeader=e.headers[c.correlationContextHeader]?e.headers[c.correlationContextHeader].toString():null,u.w3cEnabled&&(r||n)?(this.traceparent=new d(r?r.toString():null),this.tracestate=r&&n&&new p(n?n.toString():null),this.setBackCompatFromThisTraceContext()):i?u.w3cEnabled?(this.traceparent=new d(null,i),this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=u.generateRequestId(this.parentId),this.operationId=u.getRootId(this.requestId)):u.w3cEnabled?(this.traceparent=new d,this.traceparent.parentId=o,this.traceparent.legacyRootId=s||o,this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=u.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=u.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=u.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new s.ContextTagKeys,t}(l);t.exports=h})),zn=f(((e,t)=>{var n;e=t.exports=W,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],s=e.src=[],a=0,c=a++;s[c]="0|[1-9]\\d*";var l=a++;s[l]="[0-9]+";var u=a++;s[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=a++;s[p]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var d=a++;s[d]="("+s[l]+")\\.("+s[l]+")\\.("+s[l]+")";var h=a++;s[h]="(?:"+s[c]+"|"+s[u]+")";var f=a++;s[f]="(?:"+s[l]+"|"+s[u]+")";var m=a++;s[m]="(?:-("+s[h]+"(?:\\."+s[h]+")*))";var g=a++;s[g]="(?:-?("+s[f]+"(?:\\."+s[f]+")*))";var y=a++;s[y]="[0-9A-Za-z-]+";var v=a++;s[v]="(?:\\+("+s[y]+"(?:\\."+s[y]+")*))";var b=a++,w="v?"+s[p]+s[m]+"?"+s[v]+"?";s[b]="^"+w+"$";var _="[v=\\s]*"+s[d]+s[g]+"?"+s[v]+"?",E=a++;s[E]="^"+_+"$";var x=a++;s[x]="((?:<|>)?=?)";var S=a++;s[S]=s[l]+"|x|X|\\*";var T=a++;s[T]=s[c]+"|x|X|\\*";var C=a++;s[C]="[v=\\s]*("+s[T]+")(?:\\.("+s[T]+")(?:\\.("+s[T]+")(?:"+s[m]+")?"+s[v]+"?)?)?";var P=a++;s[P]="[v=\\s]*("+s[S]+")(?:\\.("+s[S]+")(?:\\.("+s[S]+")(?:"+s[g]+")?"+s[v]+"?)?)?";var I=a++;s[I]="^"+s[x]+"\\s*"+s[C]+"$";var O=a++;s[O]="^"+s[x]+"\\s*"+s[P]+"$";var k=a++;s[k]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var D=a++;s[D]="(?:~>?)";var A=a++;s[A]="(\\s*)"+s[D]+"\\s+",o[A]=new RegExp(s[A],"g");var R=a++;s[R]="^"+s[D]+s[C]+"$";var N=a++;s[N]="^"+s[D]+s[P]+"$";var L=a++;s[L]="(?:\\^)";var F=a++;s[F]="(\\s*)"+s[L]+"\\s+",o[F]=new RegExp(s[F],"g");var M=a++;s[M]="^"+s[L]+s[C]+"$";var j=a++;s[j]="^"+s[L]+s[P]+"$";var B=a++;s[B]="^"+s[x]+"\\s*("+_+")$|^$";var U=a++;s[U]="^"+s[x]+"\\s*("+w+")$|^$";var q=a++;s[q]="(\\s*)"+s[x]+"\\s*("+_+"|"+s[C]+")",o[q]=new RegExp(s[q],"g");var $=a++;s[$]="^\\s*("+s[C]+")\\s+-\\s+("+s[C]+")\\s*$";var V=a++;s[V]="^\\s*("+s[P]+")\\s+-\\s+("+s[P]+")\\s*$";var H,G=a++;for(s[G]="(<|>)?=?\\s*\\*",H=0;H<35;H++)n(H,s[H]),o[H]||(o[H]=new RegExp(s[H]));function z(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if("string"!=typeof e||e.length>r)return null;if(!(t.loose?o[E]:o[b]).test(e))return null;try{return new W(e,t)}catch(e){return null}}function W(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof W))return new W(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?o[E]:o[b]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}e.parse=z,e.valid=function(e,t){var n=z(e,t);return n?n.version:null},e.clean=function(e,t){var n=z(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return Y(r,i)}while(++t)},W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new W(e,n).inc(t,r).version}catch(e){return null}},e.diff=function(e,t){if(Z(e,t))return null;var n=z(e),r=z(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},e.compareIdentifiers=Y;var K=/^[0-9]+$/;function Y(e,t){var n=K.test(e),r=K.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function J(e,t,n){return new W(e,n).compare(new W(t,n))}function Q(e,t,n){return J(e,t,n)>0}function X(e,t,n){return J(e,t,n)<0}function Z(e,t,n){return 0===J(e,t,n)}function ee(e,t,n){return 0!==J(e,t,n)}function te(e,t,n){return J(e,t,n)>=0}function ne(e,t,n){return J(e,t,n)<=0}function re(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Z(e,n,r);case"!=":return ee(e,n,r);case">":return Q(e,n,r);case">=":return te(e,n,r);case"<":return X(e,n,r);case"<=":return ne(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(e,t){return Y(t,e)},e.major=function(e,t){return new W(e,t).major},e.minor=function(e,t){return new W(e,t).minor},e.patch=function(e,t){return new W(e,t).patch},e.compare=J,e.compareLoose=function(e,t){return J(e,t,!0)},e.rcompare=function(e,t,n){return J(t,e,n)},e.sort=function(t,n){return t.sort((function(t,r){return e.compare(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.rcompare(t,r,n)}))},e.gt=Q,e.lt=X,e.eq=Z,e.neq=ee,e.gte=te,e.lte=ne,e.cmp=re,e.Comparator=ie;var oe={};function se(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof ie)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,n,r,i,o,s,a,c,l,u,p,d){return((t=ae(n)?"":ae(r)?">="+n+".0.0":ae(i)?">="+n+"."+r+".0":">="+t)+" "+(a=ae(c)?"":ae(l)?"<"+(+c+1)+".0.0":ae(u)?"<"+c+"."+(+l+1)+".0":p?"<="+c+"."+l+"."+u+"-"+p:"<="+a)).trim()}function le(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==oe&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,n){try{t=new se(t,n)}catch(e){return!1}return t.test(e)}function pe(e,t,n,r){var i,o,s,a,c;switch(e=new W(e,r),t=new se(t,r),n){case">":i=Q,o=ne,s=X,a=">",c=">=";break;case"<":i=X,o=te,s=Q,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,r))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],p=null,d=null;if(u.forEach((function(e){e.semver===oe&&(e=new ie(">=0.0.0")),p=p||e,d=d||e,i(e.semver,p.semver,r)?p=e:s(e.semver,d.semver,r)&&(d=e)})),p.operator===a||p.operator===c||(!d.operator||d.operator===a)&&o(e,d.semver))return!1;if(d.operator===c&&s(e,d.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?o[B]:o[U],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new W(n[2],this.options.loose):this.semver=oe},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new W(e,this.options)),re(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new se(e.value,t),ue(this.value,n,t);if(""===e.operator)return n=new se(this.value,t),ue(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},e.Range=se,se.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?o[V]:o[$];e=e.replace(r,ce),n("hyphen replace",e),e=e.replace(o[q],"$1$2$3"),n("comparator trim",e,o[q]),e=(e=(e=e.replace(o[A],"$1~")).replace(o[F],"$1^")).split(/\s+/).join(" ");var i=t?o[B]:o[U],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?o[j]:o[M];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),ae(r)?a="":ae(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ae(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?o[N]:o[R];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),ae(r)?a="":ae(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ae(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?o[O]:o[I];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=ae(i),l=c||ae(o),u=l||ae(s);return"="===r&&u&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&u?(l&&(o=0),s=0,">"===r?(r=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):l?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(o[G],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s.map((function(e){return new ie(e,this.options)}),this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new se(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},se.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},e.satisfies=ue,e.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new se(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(!r||-1===i.compare(e))&&(i=new W(r=e,n))})),r},e.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new se(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(!r||1===i.compare(e))&&(i=new W(r=e,n))})),r},e.minVersion=function(e,t){e=new se(e,t);var n=new W("0.0.0");if(e.test(n)||(n=new W("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!n||Q(n,t))&&(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},e.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(e){return null}},e.ltr=function(e,t,n){return pe(e,t,"<",n)},e.gtr=function(e,t,n){return pe(e,t,">",n)},e.outside=pe,e.prerelease=function(e,t){var n=z(e,t);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(e,t,n){return e=new se(e,n),t=new se(t,n),e.intersects(t)},e.coerce=function(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var t=e.match(o[k]);return null==t?null:z(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),Wn=f(((e,t)=>{"use strict";function n(e){return"function"==typeof e}var r=console.error.bind(console);function i(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function o(e){e&&e.logger&&(n(e.logger)?r=e.logger:r("new logger isn't a function, not replacing"))}function s(e,t,o){if(e&&e[t]){if(!o)return r("no wrapper function"),void r((new Error).stack);if(n(e[t])&&n(o)){var s=e[t],a=o(s,t);return i(a,"__original",s),i(a,"__unwrap",(function(){e[t]===a&&i(e,t,s)})),i(a,"__wrapped",!0),i(e,t,a),a}r("original object and wrapper must be functions")}else r("no original function "+t+" to wrap")}function a(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void r("no original to unwrap to -- has "+t+" already been unwrapped?"):(r("no function to unwrap."),void r((new Error).stack))}o.wrap=s,o.massWrap=function(e,t,n){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t,n)}))})):r("must provide one or more functions to wrap on modules")},o.unwrap=a,o.massUnwrap=function(e,t){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){a(e,t)}))})):r("must provide one or more functions to unwrap on modules")},t.exports=o})),Kn=f(((e,t)=>{"use strict";var n=Wn(),r=n.wrap,i=n.unwrap,o="wrap@before";function s(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function a(e,t){var n;return n=e._events&&e._events[t],Array.isArray(n)||(n=n?[n]:[]),n}function c(e,t){if(e){var n=e;if("function"==typeof e)n=t(e);else if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r])}return n}}t.exports=function(e,t,n){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function l(e){return function(t,n){var i=a(this,t).slice();try{var s=e.call(this,t,n);return function(e,t,n){var r=a(e,t).filter((function(e){return-1===n.indexOf(e)}));r.length>0&&function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r],s=e[o];if("function"==typeof s)s(i);else if(Array.isArray(s))for(var a=s.length,c=0;c<a;c++)s[c](i)}}(e,r)}(this,t,i),s}finally{this.on.__wrapped||r(this,"on",l),this.addListener.__wrapped||r(this,"addListener",l)}}}e[o]?"function"==typeof e[o]?s(e,o,[e[o],t]):Array.isArray(e[o])&&e[o].push(t):s(e,o,t),e.__wrapped||(r(e,"addListener",l),r(e,"on",l),r(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var o=this._events[t];r(this,"removeListener",(function(e){return function(){this._events[t]=o;try{return e.apply(this,arguments)}finally{o=this._events[t],this._events[t]=c(o,n)}}}));try{return this._events[t]=c(o,n),e.apply(this,arguments)}finally{i(this,"removeListener"),this._events[t]=o}}})),s(e,"__unwrap",(function(){i(e,"addListener"),i(e,"on"),i(e,"emit"),delete e[o],delete e.__wrapped})),s(e,"__wrapped",!0))}})),Yn=f(((e,t)=>{"use strict";var r=n(9023),i=n(2613),o=Kn(),s=n(290),a="cls@contexts",c="error@context",l=process.env.DEBUG_CLS_HOOKED,u=-1;function p(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function d(e){return process.namespaces[e]}function h(e){let t=d(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function f(...e){l&&process._rawDebug(`${r.format(...e)}`)}t.exports={getNamespace:d,createNamespace:function(e){i.ok(e,"namespace must be given a name."),l&&f(`NS-CREATING NAMESPACE (${e})`);let t=new p(e);return t.id=u,s.createHook({init(n,i,o,a){if(u=s.executionAsyncId(),t.active)t._contexts.set(n,t.active),l&&f(`${" ".repeat(t._indent<0?0:t._indent)}INIT [${i}] (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`);else if(0===u){let o=s.triggerAsyncId(),c=t._contexts.get(o);c?(t._contexts.set(n,c),l&&f(`${" ".repeat(t._indent<0?0:t._indent)}INIT USING CONTEXT FROM TRIGGERID [${i}] (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)):l&&f(`${" ".repeat(t._indent<0?0:t._indent)}INIT MISSING CONTEXT [${i}] (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}if(l&&"PROMISE"===i){f(r.inspect(a,{showHidden:!0}));let s=a.parentId;f(`${" ".repeat(t._indent<0?0:t._indent)}INIT RESOURCE-PROMISE [${i}] (${e}) parentId:${s} asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}},before(n){let i;if(u=s.executionAsyncId(),i=t._contexts.get(n)||t._contexts.get(u),i){if(l){let o=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`),t._indent+=2}t.enter(i)}else if(l){let i=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE MISSING CONTEXT (${e}) asyncId:${n} currentUid:${u} triggerId:${i} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(n){let i;if(u=s.executionAsyncId(),i=t._contexts.get(n)||t._contexts.get(u),i){if(l){let o=s.triggerAsyncId();t._indent-=2,f(`${" ".repeat(t._indent<0?0:t._indent)}AFTER (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`)}t.exit(i)}else if(l){let o=s.triggerAsyncId();t._indent-=2,f(`${" ".repeat(t._indent<0?0:t._indent)}AFTER MISSING CONTEXT (${e}) asyncId:${n} currentUid:${u} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`)}},destroy(n){if(u=s.executionAsyncId(),l){let i=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}DESTROY (${e}) currentUid:${u} asyncId:${n} triggerId:${i} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(t._contexts.get(u))}`)}t._contexts.delete(n)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:h,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){h(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},p.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,l&&f(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),t},p.prototype.get=function(e){if(this.active){if(l){let t=s.executionAsyncId(),n=s.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);f(i+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),f(`${i}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[e]}if(l){let t=s.currentId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length}`)}},p.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=u,l){let t=s.executionAsyncId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} context:${r.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},p.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(l){let e=s.triggerAsyncId(),n=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} context:${r.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e[c]=t),e}finally{if(l){let e=s.triggerAsyncId(),n=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} ${r.inspect(t)}`)}this.exit(t)}},p.prototype.runAndReturn=function(e){let t;return this.run((function(n){t=e(n)})),t},p.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return l&&f("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(t)),n.then((e=>(l&&f("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e))).catch((e=>{throw e[c]=t,l&&f("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e}))},p.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{n.exit(t)}}},p.prototype.enter=function(e){if(i.ok(e,"context must be provided for entering"),l){let t=s.executionAsyncId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}this._set.push(this.active),this.active=e},p.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),l){let t=s.executionAsyncId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}if(this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(l&&f("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},p.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,n=e[a];return Object.keys(n).forEach((function(e){let r=n[e];t=r.namespace.bind(t,r.context)})),t}))},p.prototype.fromException=function(e){return e[c]},process.namespaces={}})),Jn=f(((e,t)=>{"use strict";function n(){}t.exports=function(){let e=this._hooks,t=this._state,r=process.nextTick;process.nextTick=function(){if(!t.enabled)return r.apply(process,arguments);let i=new Array(arguments.length);for(let e=0;e<arguments.length;e++)i[e]=arguments[e];let o=i[0];if("function"!=typeof o)throw new TypeError("callback is not a function");let s=new n,a=--t.counter;return e.init.call(s,a,0,null,null),i[0]=function(){e.pre.call(s,a);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},r.apply(process,i)}}})),Qn=f(((e,t)=>{"use strict";function n(){}t.exports=function(){let e=this._hooks,t=this._state,r=global.Promise,i=r.prototype.then;function o(t,n,r,i){return"function"!=typeof t?i?function(t){return function(n){return e.destroy.call(null,t),n}}(r):function(t){return function(n){throw e.destroy.call(null,t),n}}(r):function(){e.pre.call(n,r);try{return t.apply(this,arguments)}finally{e.post.call(n,r,!1),e.destroy.call(null,r)}}}r.prototype.then=function(r,s){if(!t.enabled)return i.call(this,r,s);let a=new n,c=--t.counter;return e.init.call(a,c,0,null,null),i.call(this,o(r,a,c,!0),o(s,a,c,!1))}}})),Xn=f(((e,t)=>{"use strict";var r=n(3557);function i(){}function o(){}function s(){}var a=new Map,c=new Map,l=new Map,u=null,p=!1;function d(e,t,n,i,o,s,a){let c=r[n],l=r[i];r[n]=function(){if(!t.enabled)return c.apply(r,arguments);let n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];let i=n[0];if("function"!=typeof i)throw new TypeError('"callback" argument must be a function');let l,d=new o,h=--t.counter;return e.init.call(d,h,0,null,null),n[0]=function(){u=l,e.pre.call(d,h);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(d,h,!0),s.delete(l),e.destroy.call(null,h)}))}e.post.call(d,h,!1),u=null,(a||p)&&(p=!1,s.delete(l),e.destroy.call(null,h))},l=c.apply(r,n),s.set(l,h),l},r[i]=function(t){if(u===t&&null!==t)p=!0;else if(s.has(t)){let n=s.get(t);s.delete(t),e.destroy.call(null,n)}l.apply(r,arguments)}}t.exports=function(){d(this._hooks,this._state,"setTimeout","clearTimeout",i,a,!0),d(this._hooks,this._state,"setInterval","clearInterval",o,c,!1),d(this._hooks,this._state,"setImmediate","clearImmediate",s,l,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate}})),Zn=f(((e,t)=>{t.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}})),er=f(((e,t)=>{"use strict";var n=process.binding("async_wrap"),r=n.Providers.TIMERWRAP,i={nextTick:Jn(),promise:Qn(),timers:Xn()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let e=this.initFns=[],t=this.preFns=[],n=this.postFns=[],i=this.destroyFns=[];this.init=function(t,n,i,s){if(n!==r)for(let r of e)r(t,this,n,i,s);else o.add(t)},this.pre=function(e){if(!o.has(e))for(let n of t)n(e,this)},this.post=function(e,t){if(!o.has(e))for(let r of n)r(e,this,t)},this.destroy=function(e){if(o.has(e))o.delete(e);else for(let t of i)t(e)}}function c(e,t){let n=e.indexOf(t);-1!==n&&e.splice(n,1)}function l(){this._state=new s,this._hooks=new a,this.version=Zn().version,this.providers=n.Providers;for(let e of Object.keys(i))i[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),n.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}a.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},a.prototype.remove=function(e){e.init&&c(this.initFns,e.init),e.pre&&c(this.preFns,e.pre),e.post&&c(this.postFns,e.post),e.destroy&&c(this.destroyFns,e.destroy)},t.exports=l,l.prototype.addHooks=function(e){this._hooks.add(e)},l.prototype.removeHooks=function(e){this._hooks.remove(e)},l.prototype.enable=function(){this._state.enabled=!0,n.enable()},l.prototype.disable=function(){this._state.enabled=!1,n.disable()}})),tr=f(((e,t)=>{t.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}})),nr=f(((e,t)=>{t.exports=function(e,t){var n=[];n.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch(e){return"<error>"}}}(e));for(var r=0;r<t.length;r++){var i,o=t[r];try{i=o.toString()}catch(e){try{i="<error: "+e+">"}catch(e){i="<error>"}}n.push("    at "+i)}return n.join("\n")}})),rr=f(((e,t)=>{var n=nr();function r(){this.extend=new s,this.filter=new s,this.format=new a,this.version=tr().version}var i=!1;r.prototype.callSite=function e(t){t||(t={}),i=!0;var n={};Error.captureStackTrace(n,e);var r=n.stack;return i=!1,r=r.slice(t.slice||0),t.extend&&(r=this.extend._modify(n,r)),t.filter&&(r=this.filter._modify(n,r)),r};var o=new r;function s(){this._modifiers=[]}function a(){this._formater=n,this._previous=void 0}s.prototype._modify=function(e,t){for(var n=0,r=this._modifiers.length;n<r;n++)t=this._modifiers[n](e,t);return t},s.prototype.attach=function(e){this._modifiers.push(e)},s.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},a.prototype.replace=function(e){e?this._formater=e:this.restore()},a.prototype.restore=function(){this._formater=n,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===n?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var c=!1;function l(e,t){if(i)return t;if(c)return n(e,t);var r=t.concat();r=o.extend._modify(e,r),r=(r=o.filter._modify(e,r)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:r}),c=!0;var s=o.format._formater(e,r);return c=!1,s}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(e){e===l?o.format._roolback():(o.format._backup(),o.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),t.exports=o})),ir=f(((e,t)=>{if(global._stackChain){if(global._stackChain.version!==tr().version)throw new Error("Conflicting version of stack-chain found");t.exports=global._stackChain}else t.exports=global._stackChain=rr()})),or=f(((e,t)=>{"use strict";var n=er();if(global._asyncHook){if(global._asyncHook.version!==Zn().version)throw new Error("Conflicting version of async-hook-jl found");t.exports=global._asyncHook}else ir().filter.attach((function(e,t){return t.filter((function(e){let t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),t.exports=global._asyncHook=new n})),sr=f(((e,t)=>{"use strict";var r=n(9023),i=n(2613),o=Kn(),s=or(),a="cls@contexts",c="error@context",l=[];for(let e in s.providers)l[s.providers[e]]=e;var u,p,d=process.env.DEBUG_CLS_HOOKED,h=-1;function f(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function m(e){return process.namespaces[e]}function g(e){let t=m(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function y(e){process.env.DEBUG&&process._rawDebug(e)}function v(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(t.exports={getNamespace:m,createNamespace:function(e){i.ok(e,"namespace must be given a name."),d&&y("CREATING NAMESPACE "+e);let t=new f(e);return t.id=h,s.addHooks({init(n,i,o,s,a){h=n,s?(t._contexts.set(n,t._contexts.get(s)),d&&y("PARENTID: "+e+" uid:"+n+" parent:"+s+" provider:"+o)):t._contexts.set(h,t.active),d&&y("INIT "+e+" uid:"+n+" parent:"+s+" provider:"+l[o]+" active:"+r.inspect(t.active,!0))},pre(n,i){h=n;let o=t._contexts.get(n);o?(d&&y(" PRE "+e+" uid:"+n+" handle:"+v(i)+" context:"+r.inspect(o)),t.enter(o)):d&&y(" PRE MISSING CONTEXT "+e+" uid:"+n+" handle:"+v(i))},post(n,i){h=n;let o=t._contexts.get(n);o?(d&&y(" POST "+e+" uid:"+n+" handle:"+v(i)+" context:"+r.inspect(o)),t.exit(o)):d&&y(" POST MISSING CONTEXT "+e+" uid:"+n+" handle:"+v(i))},destroy(n){h=n,d&&y("DESTROY "+e+" uid:"+n+" context:"+r.inspect(t._contexts.get(h))+" active:"+r.inspect(t.active,!0)),t._contexts.delete(n)}}),process.namespaces[e]=t,t},destroyNamespace:g,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){g(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},f.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return d&&y("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+h+" active:"+r.inspect(this.active,!0)),this.active[e]=t,t},f.prototype.get=function(e){if(this.active)return d&&y("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+h+" active:"+r.inspect(this.active,!0)),this.active[e];d&&y("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+h+" active:"+r.inspect(this.active,!0))},f.prototype.createContext=function(){d&&y("   CREATING Context: "+this.name+" uid:"+h+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=h,d&&y("   CREATED Context: "+this.name+" uid:"+h+" len:"+this._set.length+"  context:"+r.inspect(e,!0,2,!0)),e},f.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return d&&y(" BEFORE RUN: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(t)),e(t),t}catch(e){throw e&&(e[c]=t),e}finally{d&&y(" AFTER RUN: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t)}},f.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},f.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return d&&y(" BEFORE runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(t)),n.then((e=>(d&&y(" AFTER runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e))).catch((e=>{throw e[c]=t,d&&y(" AFTER runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e}))},f.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{n.exit(t)}}},f.prototype.enter=function(e){i.ok(e,"context must be provided for entering"),d&&y("  ENTER "+this.name+" uid:"+h+" len:"+this._set.length+" context: "+r.inspect(e)),this._set.push(this.active),this.active=e},f.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),d&&y("  EXIT "+this.name+" uid:"+h+" len:"+this._set.length+" context: "+r.inspect(e)),this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(d&&y("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},f.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,n=e[a];return Object.keys(n).forEach((function(e){let r=n[e];t=r.namespace.bind(t,r.context)})),t}))},f.prototype.fromException=function(e){return e[c]},process.namespaces={},s._state&&!s._state.enabled&&s.enable(),d)for(p in(u=ir()).filter._modifiers)u.filter.deattach(p)})),ar=f(((e,t)=>{"use strict";var n=zn();process&&n.gte(process.versions.node,"8.0.0")?t.exports=Yn():t.exports=sr()})),cr=f(((e,t)=>{var n;e=t.exports=W,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],s=e.src=[],a=0,c=a++;s[c]="0|[1-9]\\d*";var l=a++;s[l]="[0-9]+";var u=a++;s[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=a++;s[p]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var d=a++;s[d]="("+s[l]+")\\.("+s[l]+")\\.("+s[l]+")";var h=a++;s[h]="(?:"+s[c]+"|"+s[u]+")";var f=a++;s[f]="(?:"+s[l]+"|"+s[u]+")";var m=a++;s[m]="(?:-("+s[h]+"(?:\\."+s[h]+")*))";var g=a++;s[g]="(?:-?("+s[f]+"(?:\\."+s[f]+")*))";var y=a++;s[y]="[0-9A-Za-z-]+";var v=a++;s[v]="(?:\\+("+s[y]+"(?:\\."+s[y]+")*))";var b=a++,w="v?"+s[p]+s[m]+"?"+s[v]+"?";s[b]="^"+w+"$";var _="[v=\\s]*"+s[d]+s[g]+"?"+s[v]+"?",E=a++;s[E]="^"+_+"$";var x=a++;s[x]="((?:<|>)?=?)";var S=a++;s[S]=s[l]+"|x|X|\\*";var T=a++;s[T]=s[c]+"|x|X|\\*";var C=a++;s[C]="[v=\\s]*("+s[T]+")(?:\\.("+s[T]+")(?:\\.("+s[T]+")(?:"+s[m]+")?"+s[v]+"?)?)?";var P=a++;s[P]="[v=\\s]*("+s[S]+")(?:\\.("+s[S]+")(?:\\.("+s[S]+")(?:"+s[g]+")?"+s[v]+"?)?)?";var I=a++;s[I]="^"+s[x]+"\\s*"+s[C]+"$";var O=a++;s[O]="^"+s[x]+"\\s*"+s[P]+"$";var k=a++;s[k]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var D=a++;s[D]="(?:~>?)";var A=a++;s[A]="(\\s*)"+s[D]+"\\s+",o[A]=new RegExp(s[A],"g");var R=a++;s[R]="^"+s[D]+s[C]+"$";var N=a++;s[N]="^"+s[D]+s[P]+"$";var L=a++;s[L]="(?:\\^)";var F=a++;s[F]="(\\s*)"+s[L]+"\\s+",o[F]=new RegExp(s[F],"g");var M=a++;s[M]="^"+s[L]+s[C]+"$";var j=a++;s[j]="^"+s[L]+s[P]+"$";var B=a++;s[B]="^"+s[x]+"\\s*("+_+")$|^$";var U=a++;s[U]="^"+s[x]+"\\s*("+w+")$|^$";var q=a++;s[q]="(\\s*)"+s[x]+"\\s*("+_+"|"+s[C]+")",o[q]=new RegExp(s[q],"g");var $=a++;s[$]="^\\s*("+s[C]+")\\s+-\\s+("+s[C]+")\\s*$";var V=a++;s[V]="^\\s*("+s[P]+")\\s+-\\s+("+s[P]+")\\s*$";var H,G=a++;for(s[G]="(<|>)?=?\\s*\\*",H=0;H<35;H++)n(H,s[H]),o[H]||(o[H]=new RegExp(s[H]));function z(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W)return e;if("string"!=typeof e||e.length>r)return null;if(!(t.loose?o[E]:o[b]).test(e))return null;try{return new W(e,t)}catch(e){return null}}function W(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof W){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof W))return new W(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?o[E]:o[b]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}e.parse=z,e.valid=function(e,t){var n=z(e,t);return n?n.version:null},e.clean=function(e,t){var n=z(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof W||(e=new W(e,this.options)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.options)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return Y(r,i)}while(++t)},W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new W(e,n).inc(t,r).version}catch(e){return null}},e.diff=function(e,t){if(Z(e,t))return null;var n=z(e),r=z(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},e.compareIdentifiers=Y;var K=/^[0-9]+$/;function Y(e,t){var n=K.test(e),r=K.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function J(e,t,n){return new W(e,n).compare(new W(t,n))}function Q(e,t,n){return J(e,t,n)>0}function X(e,t,n){return J(e,t,n)<0}function Z(e,t,n){return 0===J(e,t,n)}function ee(e,t,n){return 0!==J(e,t,n)}function te(e,t,n){return J(e,t,n)>=0}function ne(e,t,n){return J(e,t,n)<=0}function re(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Z(e,n,r);case"!=":return ee(e,n,r);case">":return Q(e,n,r);case">=":return te(e,n,r);case"<":return X(e,n,r);case"<=":return ne(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(e,t){return Y(t,e)},e.major=function(e,t){return new W(e,t).major},e.minor=function(e,t){return new W(e,t).minor},e.patch=function(e,t){return new W(e,t).patch},e.compare=J,e.compareLoose=function(e,t){return J(e,t,!0)},e.rcompare=function(e,t,n){return J(t,e,n)},e.sort=function(t,n){return t.sort((function(t,r){return e.compare(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.rcompare(t,r,n)}))},e.gt=Q,e.lt=X,e.eq=Z,e.neq=ee,e.gte=te,e.lte=ne,e.cmp=re,e.Comparator=ie;var oe={};function se(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof ie)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,n,r,i,o,s,a,c,l,u,p,d){return((t=ae(n)?"":ae(r)?">="+n+".0.0":ae(i)?">="+n+"."+r+".0":">="+t)+" "+(a=ae(c)?"":ae(l)?"<"+(+c+1)+".0.0":ae(u)?"<"+c+"."+(+l+1)+".0":p?"<="+c+"."+l+"."+u+"-"+p:"<="+a)).trim()}function le(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==oe&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,n){try{t=new se(t,n)}catch(e){return!1}return t.test(e)}function pe(e,t,n,r){var i,o,s,a,c;switch(e=new W(e,r),t=new se(t,r),n){case">":i=Q,o=ne,s=X,a=">",c=">=";break;case"<":i=X,o=te,s=Q,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,r))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],p=null,d=null;if(u.forEach((function(e){e.semver===oe&&(e=new ie(">=0.0.0")),p=p||e,d=d||e,i(e.semver,p.semver,r)?p=e:s(e.semver,d.semver,r)&&(d=e)})),p.operator===a||p.operator===c||(!d.operator||d.operator===a)&&o(e,d.semver))return!1;if(d.operator===c&&s(e,d.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?o[B]:o[U],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new W(n[2],this.options.loose):this.semver=oe},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new W(e,this.options)),re(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new se(e.value,t),ue(this.value,n,t);if(""===e.operator)return n=new se(this.value,t),ue(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},e.Range=se,se.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?o[V]:o[$];e=e.replace(r,ce),n("hyphen replace",e),e=e.replace(o[q],"$1$2$3"),n("comparator trim",e,o[q]),e=(e=(e=e.replace(o[A],"$1~")).replace(o[F],"$1^")).split(/\s+/).join(" ");var i=t?o[B]:o[U],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?o[j]:o[M];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),ae(r)?a="":ae(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ae(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?o[N]:o[R];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),ae(r)?a="":ae(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ae(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?o[O]:o[I];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=ae(i),l=c||ae(o),u=l||ae(s);return"="===r&&u&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&u?(l&&(o=0),s=0,">"===r?(r=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):l?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(o[G],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s.map((function(e){return new ie(e,this.options)}),this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new se(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},se.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},e.satisfies=ue,e.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new se(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(!r||-1===i.compare(e))&&(i=new W(r=e,n))})),r},e.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new se(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(!r||1===i.compare(e))&&(i=new W(r=e,n))})),r},e.minVersion=function(e,t){e=new se(e,t);var n=new W("0.0.0");if(e.test(n)||(n=new W("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach((function(e){var t=new W(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!n||Q(n,t))&&(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},e.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(e){return null}},e.ltr=function(e,t,n){return pe(e,t,"<",n)},e.gtr=function(e,t,n){return pe(e,t,">",n)},e.outside=pe,e.prerelease=function(e,t){var n=z(e,t);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(e,t,n){return e=new se(e,n),t=new se(t,n),e.intersects(t)},e.coerce=function(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var t=e.match(o[k]);return null==t?null:z(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),lr=f(((e,t)=>{var n,r,i,o,s,a=Wn().wrap,c=1,l=2,u=4,p=8,d=[],h=0,f=!1,m=[];function g(e,t){var n=e.length,r=t.length,i=[];if(0===n&&0===r)return i;for(var o=0;o<n;o++)i[o]=e[o];if(0===r)return i;for(var s=0;s<r;s++){var a=!0;for(o=0;o<n;o++)if(e[o].uid===t[s].uid){a=!1;break}a&&i.push(t[s])}return i}function y(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=c),"function"==typeof e.before&&(this.before=e.before,this.flags|=l),"function"==typeof e.after&&(this.after=e.after,this.flags|=u),"function"==typeof e.error&&(this.error=e.error,this.flags|=p),this.uid=++h,this.data=void 0===t?null:t}function v(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof y?e:new y(e,t)}process._fatalException?(i=!1,n=function(e){var t=d.length;if(i||0===t)return!1;var n=!1;i=!0;for(var r=0;r<t;++r){var s=d[r];if(0!=(s.flags&p)){var a=o&&o[s.uid];n=s.error(a,e)||n}}return i=!1,m.length>0&&(d=m.pop()),o=void 0,n&&!f},r=function(e,t,n){var r=[];f=!0;for(var i=0;i<n;++i){var s=t[i];if(r[s.uid]=s.data,0!=(s.flags&c)){var a=s.create(s.data);void 0!==a&&(r[s.uid]=a)}}return f=!1,function(){o=r,m.push(d),d=g(t,d),f=!0;for(var i=0;i<n;++i)(t[i].flags&l)>0&&t[i].before(this,r[t[i].uid]);f=!1;var s=e.apply(this,arguments);for(f=!0,i=0;i<n;++i)(t[i].flags&u)>0&&t[i].after(this,r[t[i].uid]);return f=!1,d=m.pop(),o=void 0,s}},a(process,"_fatalException",(function(e){return function(t){return n(t)||e(t)}}))):(s=!1,n=function(e){if(s)throw e;for(var t=!1,n=d.length,r=0;r<n;++r){var i=d[r];0!=(i.flags&p)&&(t=i.error(null,e)||t)}if(!t&&f)throw e},r=function(e,t,r){var i=[];f=!0;for(var o=0;o<r;++o){var a=t[o];if(i[a.uid]=a.data,0!=(a.flags&c)){var h=a.create(a.data);void 0!==h&&(i[a.uid]=h)}}return f=!1,function(){var o,a=!1,c=!1;m.push(d),d=g(t,d),f=!0;for(var h=0;h<r;++h)(t[h].flags&l)>0&&t[h].before(this,i[t[h].uid]);f=!1;try{o=e.apply(this,arguments)}catch(e){for(a=!0,h=0;h<r;++h)if(0!=(d[h].flags&p))try{c=d[h].error(i[t[h].uid],e)||c}catch(e){throw s=!0,e}if(!c)throw process.removeListener("uncaughtException",n),process._originalNextTick((function(){process.addListener("uncaughtException",n)})),e}finally{if(!a||c){for(f=!0,h=0;h<r;++h)(t[h].flags&u)>0&&t[h].after(this,i[t[h].uid]);f=!1}d=m.pop()}return o}},process.addListener("uncaughtException",n)),y.prototype.create=void 0,y.prototype.before=void 0,y.prototype.after=void 0,y.prototype.error=void 0,y.prototype.data=void 0,y.prototype.uid=0,y.prototype.flags=0,process.createAsyncListener=v,process.addAsyncListener=function(e,t){var n;n=e instanceof y?e:v(e,t);for(var r=!1,i=0;i<d.length;i++)if(n===d[i]){r=!0;break}return r||d.push(n),n},process.removeAsyncListener=function(e){for(var t=0;t<d.length;t++)if(e===d[t]){d.splice(t,1);break}},t.exports=function(e){var t=d.length;if(0===t)return e;for(var n=d.slice(),i=0;i<t;++i)if(n[i].flags>0)return r(e,n,t);return function(e,t,n){f=!0;for(var r=0;r<n;++r){var i=t[r];i.create&&i.create(i.data)}return f=!1,function(){m.push(d),d=g(t,d);var n=e.apply(this,arguments);return d=m.pop(),n}}(e,n,t)}})),ur=f(((e,t)=>{"use strict";t.exports=(e,t)=>class extends e{constructor(e){var n,r;super((function(e,o){n=this,r=[function(n){return t(i,!1),e(n)},function(e){return t(i,!1),o(e)}]}));var i=this;try{e.apply(n,r)}catch(e){r[1](e)}return i}}})),pr=f((()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var e=Wn(),t=cr(),r=e.wrap,i=e.massWrap,o=lr(),s=n(9023),a=t.gte(process.version,"6.0.0"),c=t.gte(process.version,"7.0.0"),l=t.gte(process.version,"8.0.0"),u=t.gte(process.version,"11.0.0"),p=n(9278);function d(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=o(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=o(this._handle.onconnection))}}}function h(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=o(t._originalOnread)}}c&&!p._normalizeArgs?p._normalizeArgs=function(e){if(0===e.length)return[{},null];var t=e[0],n={};"object"==typeof t&&null!==t?n=t:function(e){return"string"==typeof e&&!1===function(e){return(e=Number(e))>=0&&e}(e)}(t)?n.path=t:(n.port=t,e.length>1&&"string"==typeof e[1]&&(n.host=e[1]));var r=e[e.length-1];return"function"!=typeof r?[n,null]:[n,r]}:!c&&!p._normalizeConnectArgs&&(p._normalizeConnectArgs=function(e){var t,n={};"object"==typeof e[0]&&null!==e[0]?n=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?n.path=e[0]:(n.port=e[0],"string"==typeof e[1]&&(n.host=e[1]));var r=e[e.length-1];return"function"==typeof r?[n,r]:[n]}),"_setUpListenHandle"in p.Server.prototype?r(p.Server.prototype,"_setUpListenHandle",d):r(p.Server.prototype,"_listen2",d),r(p.Socket.prototype,"connect",(function(e){return function(){var t;(t=l&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:c?p._normalizeArgs(arguments):p._normalizeConnectArgs(arguments))[1]&&(t[1]=o(t[1]));var n=e.apply(this,t);return h(this),n}}));var f=n(8611);r(f.Agent.prototype,"addRequest",(function(e){return function(t){var n=t.onSocket;return t.onSocket=o((function(e){return h(e),n.apply(this,arguments)})),e.apply(this,arguments)}}));var m=n(5317);function g(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=o(e._handle.onread),r(e._handle,"close",k))})),e._handle&&(e._handle.onexit=o(e._handle.onexit))}m.ChildProcess?r(m.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return g(this),t}})):i(m,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return g(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var y=[];process._nextDomainTick&&y.push("_nextDomainTick"),process._tickDomainCallback&&y.push("_tickDomainCallback"),i(process,y,O),r(process,"nextTick",k);var v=["setTimeout","setInterval"];global.setImmediate&&v.push("setImmediate");var b=n(3557),w=global.setTimeout===b.setTimeout;i(b,v,k),w&&i(global,v,k);var _=n(2250);i(_,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],O),_.resolveNaptr&&r(_,"resolveNaptr",O);var E,x,S,T=n(9896);i(T,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],O),T.lchown&&r(T,"lchown",O),T.lchmod&&r(T,"lchmod",O),T.ftruncate&&r(T,"ftruncate",O);try{E=n(3106)}catch(e){}E&&E.Deflate&&E.Deflate.prototype&&((x=Object.getPrototypeOf(E.Deflate.prototype))._transform?r(x,"_transform",O):x.write&&x.flush&&x.end&&i(x,["write","flush","end"],O));try{S=n(6982)}catch(e){}S&&(C=["pbkdf2","randomBytes"],u||C.push("pseudoRandomBytes"),i(S,C,O));var C,P,I=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();function O(e){var t=function(){var t,n=arguments.length-1;if("function"==typeof arguments[n]){t=Array(arguments.length);for(var r=0;r<arguments.length-1;r++)t[r]=arguments[r];t[n]=o(arguments[n])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=o(r)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=o(i)),e.call(this,n,r,i))};case 4:return function(n,r,i,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=o(s)),e.call(this,n,r,i,s))};case 5:return function(n,r,i,s,a){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof a&&(a=o(a)),e.call(this,n,r,i,s,a))};case 6:return function(n,r,i,s,a,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=o(c)),e.call(this,n,r,i,s,a,c))};default:return t}}function k(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=o(arguments[0]);for(var n=1;n<arguments.length;n++)t[n]=arguments[n]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,r,i))};case 4:return function(n,r,i,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,r,i,s))};case 5:return function(n,r,i,s,a){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,r,i,s,a))};case 6:return function(n,r,i,s,a,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,r,i,s,a,c))};default:return t}}I&&(P=process.addAsyncListener({create:function(){I=!1}}),global.Promise.resolve(!0).then((function(){I=!1})),process.removeAsyncListener(P)),I&&function(){var e=global.Promise;function t(r){if(!(this instanceof t))return e(r);if("function"!=typeof r)return new e(r);var i,o,s=new e((function(e,t){i=this,o=[function(t){return n(s,!1),e(t)},function(e){return n(s,!1),t(e)}]}));s.__proto__=t.prototype;try{r.apply(i,o)}catch(e){o[1](e)}return s}function n(e,t){(!e.__asl_wrapper||t)&&(e.__asl_wrapper=o(i))}function i(t,r,o,s){var a;try{return{returnVal:a=r.call(t,o),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){return(a.__asl_wrapper||i).apply(this,arguments)}:n(s,!0)}}function c(e){return function(){var t=this,n=e.apply(t,Array.prototype.map.call(arguments,(function(e){return"function"!=typeof e?e:o((function(r){var o=(t.__asl_wrapper||i)(this,e,r,n);if(o.error)throw o.errorVal;return o.returnVal}))})));return n.__asl_wrapper=function(e,r,o,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,n),n.__asl_wrapper(e,r,o,s)):i(e,r,o,s)},n}}s.inherits(t,e),r(e.prototype,"then",c),e.prototype.chain&&r(e.prototype,"chain",c),a?global.Promise=ur()(e,n):(["all","race","reject","resolve","accept","defer"].forEach((function(n){"function"==typeof e[n]&&(t[n]=e[n])})),global.Promise=t)}()})),dr=f(((e,t)=>{"use strict";var r=n(2613),i=Kn(),o="cls@contexts",s="error@context";function a(e){this.name=e,this.active=null,this._set=[],this.id=null}function c(e){return process.namespaces[e]}function l(e){var t=c(e);r.ok(t,"can't delete nonexistent namespace!"),r.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){l(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||pr(),a.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},a.prototype.get=function(e){if(this.active)return this.active[e]},a.prototype.createContext=function(){return Object.create(this.active)},a.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e[s]=t),e}finally{this.exit(t)}},a.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},a.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[s]=t),e}finally{n.exit(t)}}},a.prototype.enter=function(e){r.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},a.prototype.exit=function(e){if(r.ok(e,"context must be provided for exiting"),this.active===e)return r.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);r.ok(t>=0,"context not currently entered; can't exit"),r.ok(t,"can't remove top context"),this._set.splice(t,1)},a.prototype.bindEmitter=function(e){r.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;i(e,(function(e){!e||(e[o]||(e[o]=Object.create(null)),e[o][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[o])return e;var t=e,n=e[o];return Object.keys(n).forEach((function(e){var r=n[e];t=r.namespace.bind(t,r.context)})),t}))},a.prototype.fromException=function(e){return e[s]},process.namespaces||u(),t.exports={getNamespace:c,createNamespace:function(e){r.ok(e,"namespace must be given a name!");var t=new a(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,n){n&&t.enter(n)},after:function(e,n){n&&t.exit(n)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:l,reset:u}})),hr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CorrelationContextManager=void 0;var t=g(),n=Wt(),r=Qt(),i=Xt(),o=Gn(),s=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,n,r,i,o){return t=t||e,this.enabled?{operation:{name:n,id:e,parentId:t,traceparent:i,tracestate:o},customProperties:new a(r)}:null},e.spanToContextObject=function(t,n,i){var o=new r;return o.traceId=t.traceId,o.spanId=t.spanId,o.traceFlag=r.formatOpenTelemetryTraceFlags(t.traceFlags)||r.DEFAULT_TRACE_FLAG,o.parentId=n,e.generateContextObject(o.traceId,o.parentId,i,null,o)},e.runWithContext=function(t,n){var r;return e.enabled?e.session.bind(n,((r={})[e.CONTEXT_NAME]=t,r))():n()},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t,n){var r;return e.enabled?e.session.bind(t,n?((r={})[e.CONTEXT_NAME]=n,r):void 0):t},e.enable=function(t){if(!this.enabled){if(!this.isNodeVersionCompatible())return void(this.enabled=!1);e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=ar():this.cls=dr()),e.session=this.cls.createNamespace("AI-CLS-Session"),n.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0}},e.startOperation=function(n,s){var a=n&&n.traceContext||null,c=n&&n.traceId?n:null,l=n&&n.headers;if(c){var u=new r("00-"+c.traceId+"-"+c.spanId+"-01"),p=new i(c.traceState?c.traceState.serialize():null);return e.generateContextObject(c.traceId,"|"+c.traceId+"."+c.spanId+".","string"==typeof s?s:"",void 0,u,p)}if(a){u=new r(a.traceparent),p=new i(a.tracestate);var d="object"==typeof s?new o(s):null;return e.generateContextObject(u.traceId,u.parentId,"string"==typeof s?s:d.getOperationName({}),d&&d.getCorrelationContextHeader()||void 0,u,p)}return l?(u=new r(l.traceparent?l.traceparent.toString():null),p=new i(l.tracestate?l.tracestate.toString():null),d=new o(n),e.generateContextObject(u.traceId,u.parentId,d.getOperationName({}),d.getCorrelationContextHeader(),u,p)):(t.warn("startOperation was called with invalid arguments",arguments),null)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,n=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,r=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&n)&&r},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();e.CorrelationContextManager=s;var a=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var n=this.props[t];if(n.key===e)return n.value}},e.prototype.setProperty=function(n,r){if(e.bannedCharacters.test(n)||e.bannedCharacters.test(r))t.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+n+" and value: "+r);else{for(var i=0;i<this.props.length;++i){var o=this.props[i];if(o.key===n)return void(o.value=r)}this.props.push({key:n,value:r})}},e.bannedCharacters=/[,=]/,e}()})),fr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Vn(),n=_(),r=[],i=function(e){var n=e.data.message;r.forEach((function(r){n instanceof Error?r.trackException({exception:n}):(n.lastIndexOf("\n")==n.length-1&&(n=n.substring(0,n.length-1)),r.trackTrace({message:n,severity:e.data.stderr?t.SeverityLevel.Warning:t.SeverityLevel.Information}))}))};e.enable=function(e,t){e?(0===r.length&&n.channel.subscribe("console",i),r.push(t)):0===(r=r.filter((function(e){return e!=t}))).length&&n.channel.unsubscribe("console",i)},e.dispose=function(){n.channel.unsubscribe("console",i),r=[]}})),mr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Vn(),n=_(),r=[],i={10:t.SeverityLevel.Verbose,20:t.SeverityLevel.Verbose,30:t.SeverityLevel.Information,40:t.SeverityLevel.Warning,50:t.SeverityLevel.Error,60:t.SeverityLevel.Critical},o=function(e){var t=e.data.result;r.forEach((function(n){var r=i[e.data.level];t instanceof Error?n.trackException({exception:t}):n.trackTrace({message:t,severity:r})}))};e.enable=function(e,t){e?(0===r.length&&n.channel.subscribe("bunyan",o),r.push(t)):0===(r=r.filter((function(e){return e!=t}))).length&&n.channel.unsubscribe("bunyan",o)},e.dispose=function(){n.channel.unsubscribe("bunyan",o),r=[]}})),gr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Vn(),n=_(),r=[],i={syslog:function(e){var n={emerg:t.SeverityLevel.Critical,alert:t.SeverityLevel.Critical,crit:t.SeverityLevel.Critical,error:t.SeverityLevel.Error,warning:t.SeverityLevel.Warning,notice:t.SeverityLevel.Information,info:t.SeverityLevel.Information,debug:t.SeverityLevel.Verbose};return void 0===n[e]?t.SeverityLevel.Information:n[e]},npm:function(e){var n={error:t.SeverityLevel.Error,warn:t.SeverityLevel.Warning,info:t.SeverityLevel.Information,verbose:t.SeverityLevel.Verbose,debug:t.SeverityLevel.Verbose,silly:t.SeverityLevel.Verbose};return void 0===n[e]?t.SeverityLevel.Information:n[e]},unknown:function(e){return t.SeverityLevel.Information}},o=function(e){var t=e.data.message;r.forEach((function(n){if(t instanceof Error)n.trackException({exception:t,properties:e.data.meta});else{var r=i[e.data.levelKind](e.data.level);n.trackTrace({message:t,severity:r,properties:e.data.meta})}}))};e.enable=function(e,t){e?(0===r.length&&n.channel.subscribe("winston",o),r.push(t)):0===(r=r.filter((function(e){return e!=t}))).length&&n.channel.unsubscribe("winston",o)},e.dispose=function(){n.channel.unsubscribe("winston",o),r=[]}})),yr=f(((e,t)=>{"use strict";var n=Wt(),r=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){n.IsInitialized&&(fr().enable(e&&t,this._client),mr().enable(e,this._client),gr().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();t.exports=r})),vr=f(((e,t)=>{"use strict";var n=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var n=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(n[0])>13||13===parseInt(n[0])&&parseInt(n[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var n=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var r=function(t,r,i){void 0===i&&(i=new Error(e._FALLBACK_ERROR_MESSAGE)),n._client.trackException({exception:i}),n._client.flush({isAppCrashing:!0}),t&&r&&1===process.listeners(r).length&&(console.error(i),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=r.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=r.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=r.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();t.exports=n})),br=f((e=>{"use strict";var t,n,r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeatMetricName=e.DependencyTypeName=e.SpanAttribute=e.TelemetryTypeStringToQuickPulseDocumentType=e.TelemetryTypeStringToQuickPulseType=e.QuickPulseType=e.QuickPulseDocumentType=e.PerformanceToQuickPulseCounter=e.MetricId=e.PerformanceCounter=e.QuickPulseCounter=e.DEFAULT_LIVEMETRICS_HOST=e.DEFAULT_LIVEMETRICS_ENDPOINT=e.DEFAULT_BREEZE_ENDPOINT=void 0,e.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",(r=n=e.QuickPulseCounter||(e.QuickPulseCounter={})).COMMITTED_BYTES="\\Memory\\Committed Bytes",r.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",r.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",r.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",r.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",r.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",r.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",r.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",r.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec",function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(i=e.PerformanceCounter||(e.PerformanceCounter={})),function(e){e.REQUESTS_DURATION="requests/duration",e.DEPENDENCIES_DURATION="dependencies/duration",e.EXCEPTIONS_COUNT="exceptions/count",e.TRACES_COUNT="traces/count"}(e.MetricId||(e.MetricId={})),e.PerformanceToQuickPulseCounter=((t={})[i.PROCESSOR_TIME]=n.PROCESSOR_TIME,t[i.REQUEST_RATE]=n.REQUEST_RATE,t[i.REQUEST_DURATION]=n.REQUEST_DURATION,t[n.COMMITTED_BYTES]=n.COMMITTED_BYTES,t[n.REQUEST_FAILURE_RATE]=n.REQUEST_FAILURE_RATE,t[n.DEPENDENCY_RATE]=n.DEPENDENCY_RATE,t[n.DEPENDENCY_FAILURE_RATE]=n.DEPENDENCY_FAILURE_RATE,t[n.DEPENDENCY_DURATION]=n.DEPENDENCY_DURATION,t[n.EXCEPTION_RATE]=n.EXCEPTION_RATE,t),e.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},e.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},e.TelemetryTypeStringToQuickPulseType={EventData:e.QuickPulseType.Event,ExceptionData:e.QuickPulseType.Exception,MessageData:e.QuickPulseType.Trace,MetricData:e.QuickPulseType.Metric,RequestData:e.QuickPulseType.Request,RemoteDependencyData:e.QuickPulseType.Dependency,AvailabilityData:e.QuickPulseType.Availability,PageViewData:e.QuickPulseType.PageView},e.TelemetryTypeStringToQuickPulseDocumentType={EventData:e.QuickPulseDocumentType.Event,ExceptionData:e.QuickPulseDocumentType.Exception,MessageData:e.QuickPulseDocumentType.Trace,MetricData:e.QuickPulseDocumentType.Metric,RequestData:e.QuickPulseDocumentType.Request,RemoteDependencyData:e.QuickPulseDocumentType.Dependency,AvailabilityData:e.QuickPulseDocumentType.Availability,PageViewData:e.QuickPulseDocumentType.PageView},e.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},e.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},e.HeartBeatMetricName="HeartBeat"})),wr=f(((e,t)=>{"use strict";var r=n(857),i=br(),o=function(){function e(t,n,r){void 0===n&&(n=6e4),void 0===r&&(r=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=n,this._enableLiveMetricsCounters=r}return e.prototype.enable=function(t,n){var i=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval((function(){return i.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalRequestExecutionTime+=r,!1===n&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalDependencyExecutionTime+=r,!1===n&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=r.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,n=0,o=0,s=0,a=0,c=0;e&&c<e.length;c++){var l=e[c],u=this._lastCpus[c],p=(l.model,l.speed,l.times),d=u.times;t+=p.user-d.user||0,n+=p.sys-d.sys||0,o+=p.nice-d.nice||0,s+=p.idle-d.idle||0,a+=p.irq-d.irq||0}var h=void 0;if("function"==typeof process.cpuUsage){var f=process.cpuUsage(),m=process.hrtime(),g=f.user-this._lastAppCpuUsage.user+(f.system-this._lastAppCpuUsage.system)||0;void 0!==this._lastHrtime&&2===this._lastHrtime.length&&(h=100*g/((1e6*(m[0]-this._lastHrtime[0])+(m[1]-this._lastHrtime[1])/1e3||0)*e.length)),this._lastAppCpuUsage=f,this._lastHrtime=m}var y=t+n+o+s+a||1;this._client.trackMetric({name:i.PerformanceCounter.PROCESSOR_TIME,value:(y-s)/y*100}),this._client.trackMetric({name:i.PerformanceCounter.PROCESS_TIME,value:h||t/y*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=r.freemem(),t=process.memoryUsage().rss,n=r.totalmem()-e;this._client.trackMetric({name:i.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:i.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.COMMITTED_BYTES,value:n})},e.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-t.totalRequestCount||0,o=n.totalFailedRequestCount-t.totalFailedRequestCount||0,s=n.time-t.time,a=s/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/r||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,s>0){var l=r/a,u=o/a;this._client.trackMetric({name:i.PerformanceCounter.REQUEST_RATE,value:l}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:i.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.REQUEST_FAILURE_RATE,value:u})}this._lastRequests=n},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,n={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},r=n.totalDependencyCount-t.totalDependencyCount||0,o=n.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=n.time-t.time,a=s/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/r||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,s>0){var l=r/a,u=o/a;this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_RATE,value:l}),this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:u}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=n}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,n={totalExceptionCount:e._totalExceptionCount,time:+new Date},r=n.totalExceptionCount-t.totalExceptionCount||0,o=n.time-t.time;if(o>0){var s=r/(o/1e3);this._client.trackMetric({name:i.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=n}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();t.exports=o})),_r=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AggregatedMetricCounter=void 0;e.AggregatedMetricCounter=function(e){this.dimensions=e,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}})),Er=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreaggregatedMetricPropertyNames=void 0,e.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}})),xr=f(((e,t)=>{"use strict";var n=e&&e.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},r=br(),i=_r(),o=Er(),s=function(){function e(t,n){void 0===n&&(n=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=t,this._collectionInterval=n}return e.prototype.enable=function(e,t){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._collectionInterval=t||this._collectionInterval,this._handle=setInterval((function(){return n.trackPreAggregatedMetrics()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countException=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._exceptionCountersCollection).totalCount++},e.countTrace=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._traceCountersCollection).totalCount++},e.countRequest=function(t,n){if(e.isEnabled()){var r,i=e._getAggregatedCounter(n,this._requestCountersCollection);if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}i.intervalExecutionTime+=r,i.totalCount++}},e.countDependency=function(t,n){if(e.isEnabled()){var r,i=e._getAggregatedCounter(n,this._dependencyCountersCollection);if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}i.intervalExecutionTime+=r,i.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(e,t){for(var n=!1,r=0;r<t.length;r++){if(e===t[r].dimensions)return t[r];if(Object.keys(e).length===Object.keys(t[r].dimensions).length){for(var o in e)if(e[o]!=t[r].dimensions[o]){n=!0;break}if(!n)return t[r];n=!1}}var s=new i.AggregatedMetricCounter(e);return t.push(s),s},e.prototype._trackRequestMetrics=function(){for(var t=0;t<e._requestCountersCollection.length;t++){var n=e._requestCountersCollection[t];n.time=+new Date;var i=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime,s=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/i||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,o>0&&i>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:n.dimensions,value:s,count:i,aggregationInterval:o,metricType:r.MetricId.REQUESTS_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackDependencyMetrics=function(){for(var t=0;t<e._dependencyCountersCollection.length;t++){var n=e._dependencyCountersCollection[t];n.time=+new Date;var i=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime,s=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/i||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,o>0&&i>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:n.dimensions,value:s,count:i,aggregationInterval:o,metricType:r.MetricId.DEPENDENCIES_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackExceptionMetrics=function(){for(var t=0;t<e._exceptionCountersCollection.length;t++){var n=e._exceptionCountersCollection[t],i=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:n.dimensions,value:i,count:i,aggregationInterval:o,metricType:r.MetricId.EXCEPTIONS_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackTraceMetrics=function(){for(var t=0;t<e._traceCountersCollection.length;t++){var n=e._traceCountersCollection[t],i=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:n.dimensions,value:i,count:i,aggregationInterval:o,metricType:r.MetricId.TRACES_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackPreAggregatedMetric=function(e){var t={};for(var r in e.dimensions)t[o.PreaggregatedMetricPropertyNames[r]]=e.dimensions[r];t=n(n({},t),{"_MS.MetricId":e.metricType,"_MS.AggregationIntervalMs":String(e.aggregationInterval),"_MS.IsAutocollected":"True"});var i={name:e.name,value:e.value,count:e.count,properties:t,kind:"Aggregation"};this._client.trackMetric(i)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();t.exports=s})),Sr=f(((e,t)=>{"use strict";var r=n(857),i=n(9896),o=n(6928),s=Vn(),a=g(),c=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(e),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||o.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.appVersion[t]=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},e.prototype._loadInternalContext=function(){var t=o.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.sdkVersion=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();t.exports=c})),Tr=f(((e,t)=>{"use strict";var r,i=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(7016),s=Vn(),a=Yt(),c=Kt(),l=Hn(),u=Jt(),p=function(e){function t(n,r){var i=e.call(this)||this;return r&&r.method&&n&&(i.method=r.method,i.url=t._getUrlFromRequestOptions(n,r),i.startTime=+new Date),i}return i(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var n=o.parse(this.url);n.search=void 0,n.hash=void 0;var r=this.method.toUpperCase()+" "+n.pathname,i=s.RemoteDependencyDataConstants.TYPE_HTTP,a=n.hostname;n.port&&(a+=":"+n.port),this.correlationId?(i=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==u.correlationIdPrefix&&(a+=" | "+this.correlationId)):i=s.RemoteDependencyDataConstants.TYPE_HTTP;var c={id:t,name:r,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:i,target:a};if(e&&e.time?c.time=e.time:this.startTime&&(c.time=new Date(this.startTime)),e){for(var l in e)c[l]||(c[l]=e[l]);if(e.properties)for(var l in e.properties)c.properties[l]=e.properties[l]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)if(0===e.indexOf("http://")||0===e.indexOf("https://"))e=o.parse(e);else{var n=o.parse(e);e="443"===n.host?o.parse("https://"+e):o.parse("http://"+e)}else{if(e&&"function"==typeof o.URL&&e instanceof o.URL)return o.format(e);var r=e;e={},r&&Object.keys(r).forEach((function(t){e[t]=r[t]}))}if(e.path){var i=o.parse(e.path);e.pathname=i.pathname,e.search=i.search}return e.host&&e.port&&!o.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host),e.protocol=e.protocol||t.agent&&t.agent.protocol||t.protocol||void 0,e.hostname=e.hostname||"localhost",o.format(e)},t}(l);t.exports=p})),Cr=f((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.spanToTelemetryContract=void 0;var n=ge(),r=br();function i(e){var n=t({},e);return Object.keys(r.SpanAttribute).forEach((function(e){delete n[e]})),n}e.spanToTelemetryContract=function(e){var o="|"+e.spanContext().traceId+"."+e.spanContext().spanId+".",s=Math.round(1e3*e._duration[0]+e._duration[1]/1e6),a=e.attributes["peer.address"]?e.attributes["peer.address"].toString():"",c=e.attributes.component?e.attributes.component.toString():"",l=c.toUpperCase()===r.DependencyTypeName.Http||!!e.attributes[r.SpanAttribute.HttpUrl],u=c.toLowerCase()===r.DependencyTypeName.Grpc;if(l){var p=e.attributes[r.SpanAttribute.HttpMethod]||"GET",d=new URL(e.attributes[r.SpanAttribute.HttpUrl].toString()),h=e.attributes[r.SpanAttribute.HttpHost]||d.host,f=e.attributes[r.SpanAttribute.HttpPort]||d.port||null,m=p+" "+(d.pathname||"/"),g=r.DependencyTypeName.Http,y=f?(h+":"+f).toString():h.toString(),v=d.toString(),b=e.attributes[r.SpanAttribute.HttpStatusCode]||e.status.code||0;return{id:o,name:m,dependencyTypeName:g,target:y,data:v,success:b<400,duration:s,url:v,resultCode:String(b),properties:i(e.attributes)}}if(u){p=e.attributes[r.SpanAttribute.GrpcMethod]||"rpc";var w=e.attributes[r.SpanAttribute.GrpcService],_=w?p+" "+w:e.name;return{id:o,duration:s,name:_,target:w.toString(),data:w.toString()||_,url:w.toString()||_,dependencyTypeName:r.DependencyTypeName.Grpc,resultCode:String(e.status.code||0),success:0===e.status.code,properties:i(e.attributes)}}var E=e.name,x=e.links&&e.links.map((function(e){return{operation_Id:e.context.traceId,id:e.context.spanId}}));return{id:o,duration:s,name:E,target:a,data:a||E,url:a||E,dependencyTypeName:e.kind===n.SpanKind.INTERNAL?r.DependencyTypeName.InProc:c||e.name,resultCode:String(e.status.code||0),success:0===e.status.code,properties:t(t({},i(e.attributes)),{"_MS.links":x||void 0})}}})),Pr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=ge(),n=_(),r=Qt(),i=Cr(),o=y(),s=[];e.subscriber=function(e){var n=e.data,a=i.spanToTelemetryContract(n),c=n.spanContext(),l=new r;l.traceId=c.traceId,l.spanId=c.spanId,l.traceFlag=r.formatOpenTelemetryTraceFlags(c.traceFlags),l.parentId=n.parentSpanId?"|"+c.traceId+"."+n.parentSpanId+".":null,o.AsyncScopeManager.with(n,(function(){s.forEach((function(e){n.kind===t.SpanKind.SERVER?e.trackRequest(a):(n.kind===t.SpanKind.CLIENT||n.kind===t.SpanKind.INTERNAL)&&e.trackDependency(a)}))}))},e.enable=function(t,r){t?(0===s.length&&n.channel.subscribe("azure-coretracing",e.subscriber),s.push(r)):0===(s=s.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("azure-coretracing",e.subscriber)}})),Ir=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=_(),n=[];e.subscriber=function(e){"ismaster"!==e.data.event.commandName&&n.forEach((function(t){var n=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:n,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",time:e.data.startedData.time,dependencyTypeName:"mongodb"})}))},e.enable=function(r,i){r?(0===n.length&&t.channel.subscribe("mongodb",e.subscriber),n.push(i)):0===(n=n.filter((function(e){return e!=i}))).length&&t.channel.unsubscribe("mongodb",e.subscriber)}})),Or=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=_(),n=[];e.subscriber=function(e){n.forEach((function(t){var n=e.data.query||{},r=n.sql||"Unknown query",i=!e.data.err,o=(n._connection||{}).config||{},s=o.socketPath?o.socketPath:(o.host||"localhost")+":"+o.port;t.trackDependency({target:s,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",time:e.data.time,dependencyTypeName:"mysql"})}))},e.enable=function(r,i){r?(0===n.length&&t.channel.subscribe("mysql",e.subscriber),n.push(i)):0===(n=n.filter((function(e){return e!=i}))).length&&t.channel.unsubscribe("mysql",e.subscriber)}})),kr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=_(),n=[];e.subscriber=function(e){n.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",time:e.data.time,dependencyTypeName:"redis"})}))},e.enable=function(r,i){r?(0===n.length&&t.channel.subscribe("redis",e.subscriber),n.push(i)):0===(n=n.filter((function(e){return e!=i}))).length&&t.channel.unsubscribe("redis",e.subscriber)}})),Dr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=_(),n=[];e.subscriber=function(e){n.forEach((function(t){var n=e.data.query,r=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",i=!e.data.error,o=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:o,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",time:e.data.time,dependencyTypeName:"postgres"})}))},e.enable=function(r,i){r?(0===n.length&&t.channel.subscribe("postgres",e.subscriber),n.push(i)):0===(n=n.filter((function(e){return e!=i}))).length&&t.channel.unsubscribe("postgres",e.subscriber)}})),Ar=f(((e,t)=>{"use strict";var r=e&&e.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},i=n(8611),o=n(5692),s=g(),a=Yt(),c=Kt(),l=Tr(),u=hr(),p=Jt(),d=Qt(),h=Wt(),f=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),h.IsInitialized&&(Pr().enable(!0,this._client),Ir().enable(e,this._client),Or().enable(e,this._client),kr().enable(e,this._client),Dr().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=i.request,s=o.request,a=function(n,r){var i=!r[e.disableCollectionRequestOption]&&!n[e.alreadyAutoCollectedFlag];r.headers&&r.headers["user-agent"]&&-1!==r.headers["user-agent"].toString().indexOf("azsdk-js")&&(i=!1),n[e.alreadyAutoCollectedFlag]=!0,n&&r&&i&&(u.CorrelationContextManager.wrapEmitter(n),e.trackRequest(t._client,{options:r,request:n}))};i.request=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var s=n.call.apply(n,r([i,e],t));return a(s,e),s},o.request=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=s.call.apply(s,r([o,e],t));return a(i,e),i},i.get=function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var s=(t=i.request).call.apply(t,r([i,e],n));return s.end(),s},o.get=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=(t=o.request).call.apply(t,r([o,e],n));return s.end(),s}},e.trackRequest=function(t,n){if(n.options&&n.request&&t){var r,i,o=new l(n.options,n.request),h=u.CorrelationContextManager.getCurrentContext();if(h&&h.operation&&h.operation.traceparent&&d.isValidTraceId(h.operation.traceparent.traceId)?(h.operation.traceparent.updateSpanId(),r=h.operation.traceparent.getBackCompatRequestId()):p.w3cEnabled?(i=(m=new d).toString(),r=m.getBackCompatRequestId()):r=h&&h.operation&&h.operation.parentId+e.requestNumber+++".",a.canIncludeCorrelationHeader(t,o.getUrl())&&n.request.getHeader&&n.request.setHeader&&t.config&&t.config.correlationId){var f=n.request.getHeader(c.requestContextHeader);try{a.safeIncludeCorrelationHeader(t,n.request,f)}catch(e){s.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(h&&h.operation)try{if(n.request.setHeader(c.requestIdHeader,r),t.config.ignoreLegacyHeaders||(n.request.setHeader(c.parentIdHeader,h.operation.id),n.request.setHeader(c.rootIdHeader,r)),i||h.operation.traceparent)n.request.setHeader(c.traceparentHeader,i||h.operation.traceparent.toString());else if(p.w3cEnabled){var m=(new d).toString();n.request.setHeader(c.traceparentHeader,m)}if(h.operation.tracestate){var g=h.operation.tracestate.toString();g&&n.request.setHeader(c.traceStateHeader,g)}var y=h.customProperties.serializeToHeader();y&&n.request.setHeader(c.correlationContextHeader,y)}catch(e){s.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}n.request.on&&(n.request.on("response",(function(e){o.onResponse(e);var i=o.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects["http.ClientResponse"]=e,t.trackDependency(i)})),n.request.on("error",(function(e){o.onError(e);var i=o.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects.Error=e,t.trackDependency(i)})),n.request.on("abort",(function(){o.onError(new Error);var e=o.getDependencyTelemetry(n,r);e.contextObjects=e.contextObjects||{},e.contextObjects["http.RequestOptions"]=n.options,e.contextObjects["http.ClientRequest"]=n.request,t.trackDependency(e)})))}else s.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=f})),Rr=f(((e,t)=>{"use strict";var r=n(857),i=br(),o=Yt(),s=Sr(),a=Ar(),c=function(){function e(t){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t}return e.prototype.enable=function(e,t){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._handle=setInterval((function(){return n.trackHeartBeat(t,(function(){}))}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(e,t){var n=this,o=!1,a={},c=s.sdkVersion;a.sdk=c,a.osType=r.type(),process.env.WEBSITE_SITE_NAME?(a.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",a.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",a.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?a.azfunction_appId=process.env.WEBSITE_HOSTNAME:e&&(void 0===this._isVM?(o=!0,this._getAzureComputeMetadata(e,(function(){n._isVM&&Object.keys(n._vmData).length>0&&(a.azInst_vmId=n._vmData.vmId||"",a.azInst_subscriptionId=n._vmData.subscriptionId||"",a.azInst_osType=n._vmData.osType||"",n._azInst_vmId=n._vmData.vmId||"",n._azInst_subscriptionId=n._vmData.subscriptionId||"",n._azInst_osType=n._vmData.osType||""),n._client.trackMetric({name:i.HeartBeatMetricName,value:0,properties:a}),t()}))):this._isVM&&(a.azInst_vmId=this._azInst_vmId,a.azInst_subscriptionId=this._azInst_subscriptionId,a.azInst_osType=this._azInst_osType)),o||(this._client.trackMetric({name:i.HeartBeatMetricName,value:0,properties:a}),t())},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.prototype._getAzureComputeMetadata=function(e,t){var n,r=this,i=((n={method:"GET"})[a.disableCollectionRequestOption]=!0,n.headers={Metadata:"True"},n),s=o.makeRequest(e,"http://169.254.169.254/metadata/instance/compute?api-version=2017-12-01&format=json",i,(function(e){if(200===e.statusCode){r._isVM=!0;var n="";e.on("data",(function(e){n+=e})),e.on("end",(function(){r._vmData=r._isJSON(n)?JSON.parse(n):{},t()}))}else t()}));s&&(s.on("error",(function(e){e&&e.message&&e.message.indexOf("ENETUNREACH")>-1&&(r._isVM=!1),t()})),s.end())},e.prototype._isJSON=function(e){try{return JSON.parse(e)&&!!e}catch(e){return!1}},e}();t.exports=c})),Nr=f(((e,t)=>{"use strict";var r=n(8611),i=n(5692),o=g(),s=Yt(),a=Kt(),c=Gn(),l=hr(),u=wr(),p=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||u.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?l.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&l.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return l.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=function(n){if(n){if("function"!=typeof n)throw new Error("onRequest handler must be a function");return function(r,i){l.CorrelationContextManager.wrapEmitter(r),l.CorrelationContextManager.wrapEmitter(i);var o=r&&!r[e.alreadyAutoCollectedFlag];if(r&&o){var s=new c(r),a=t._generateCorrelationContext(s);l.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&&(r[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:r,response:i},s)),"function"==typeof n&&n(r,i)}))}else"function"==typeof n&&n(r,i)}}},o=function(e){var t=e.addListener.bind(e);e.addListener=function(e,r){switch(e){case"request":case"checkContinue":return t(e,n(r));default:return t(e,r)}},e.on=e.addListener},s=r.createServer;r.createServer=function(e,t){if(t&&"function"==typeof t){var r=s(e,n(t));return o(r),r}return r=s(n(e)),o(r),r};var a=i.createServer;i.createServer=function(e,t){var r=a(e,n(t));return o(r),r}},e.trackRequestSync=function(t,n){if(n.request&&n.response&&t){e.addResponseCorrelationIdHeader(t,n.response);var r=l.CorrelationContextManager.getCurrentContext(),i=new c(n.request,r&&r.operation.parentId);r&&(r.operation.id=i.getOperationId(t.context.tags)||r.operation.id,r.operation.name=i.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=i.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,n,n.duration,n.error)}else o.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t)},e.trackRequest=function(t,n,r){if(n.request&&n.response&&t){var i=l.CorrelationContextManager.getCurrentContext(),a=r||new c(n.request,i&&i.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,n.response),i&&!r&&(i.operation.id=a.getOperationId(t.context.tags)||i.operation.id,i.operation.name=a.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=a.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(a.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",(function(){e.endRequest(t,a,n,null,null)})),n.request.on&&n.request.on("error",(function(r){e.endRequest(t,a,n,null,r)})),n.request.on&&n.request.on("aborted",(function(){e.endRequest(t,a,n,null,"The request has been aborted and the network socket has closed.")}))}else o.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var n=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,n)}},e.endRequest=function(e,t,n,r,i){i?t.onError(i,r):t.onResponse(n.response,r);var o=t.getRequestTelemetry(n);if(o.tagOverrides=t.getRequestTags(e.context.tags),n.tagOverrides)for(var s in n.tagOverrides)o.tagOverrides[s]=n.tagOverrides[s];var a=t.getLegacyRootId();a&&(o.properties.ai_legacyRootId=a),o.contextObjects=o.contextObjects||{},o.contextObjects["http.ServerRequest"]=n.request,o.contextObjects["http.ServerResponse"]=n.response,e.trackRequest(o)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,l.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=p})),Lr=f(((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=n(857),o=Vn(),s=br(),a=Yt(),c=g(),l=a.w3cTraceId(),u=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,n,r){var o=i&&"function"==typeof i.hostname&&i.hostname()||"Unknown",s=r.tags&&r.keys&&r.keys.cloudRoleInstance&&r.tags[r.keys.cloudRoleInstance]||o,a=r.tags&&r.keys&&r.keys.cloudRole&&r.tags[r.keys.cloudRole]||null;return{Documents:t.length>0?t:null,InstrumentationKey:n.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:r.tags[r.keys.internalSdkVersion],StreamId:l,MachineName:o,Instance:s,RoleName:a}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case o.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case o.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case o.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case o.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case o.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.name;return r(r({},n),{Name:i})},e.createQuickPulseTraceDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.severityLevel||0;return r(r({},n),{Message:t.data.baseData.message,SeverityLevel:o.SeverityLevel[i]})},e.createQuickPulseExceptionDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.exceptions,o="",s="",a="";return i&&i.length>0&&(i[0].parsedStack&&i[0].parsedStack.length>0?i[0].parsedStack.forEach((function(e){o+=e.assembly+"\n"})):i[0].stack&&i[0].stack.length>0&&(o=i[0].stack),s=i[0].message,a=i[0].typeName),r(r({},n),{Exception:o,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r(r({},n),{Name:i.name,Success:i.success,Duration:i.duration,ResponseCode:i.responseCode,OperationName:i.name})},e.createQuickPulseDependencyDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r(r({},n),{Name:i.name,Target:i.target,Success:i.success,Duration:i.duration,ResultCode:i.resultCode,CommandName:i.data,OperationName:n.OperationId,DependencyTypeName:i.type})},e.createQuickPulseDocument=function(t){var n,r;return t.data.baseType?(r=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],n=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:n,__type:r,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],n=e.data.baseData.measurements||{};for(var r in n)if(n.hasOwnProperty(r)){var i={key:r,value:n[r]};t.push(i)}var o=e.data.baseData.properties||{};for(var r in o)o.hasOwnProperty(r)&&(i={key:r,value:o[r]},t.push(i));return t},e.keys=new o.ContextTagKeys,e}();t.exports=u})),Fr=f(((e,t)=>{"use strict";t.exports={getTransmissionTime:function(){return 1e4*(Date.now()+621355968e5)}}})),Mr=f(((e,t)=>{"use strict";var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=n(5692),s=Ar(),a=g(),c=Fr(),l=Yt(),u="x-ms-qps-service-polling-interval-hint",p="x-ms-qps-service-endpoint-redirect",d=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t,n){var r=[{name:"x-ms-qps-stream-id",value:e.StreamId},{name:"x-ms-qps-machine-name",value:e.MachineName},{name:"x-ms-qps-role-name",value:e.RoleName},{name:"x-ms-qps-instance-name",value:e.Instance},{name:"x-ms-qps-invariant-version",value:e.InvariantVersion.toString()}];this._submitData(e,t,n,"ping",r)},e.prototype.post=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this._submitData([e],t,n,"post")];case 1:return r.sent(),[2]}}))}))},e.prototype._submitData=function(e,t,n,a,d){return r(this,void 0,void 0,(function(){var r,h,f,m,g,y=this;return i(this,(function(i){return r=JSON.stringify(e),(m={})[s.disableCollectionRequestOption]=!0,m.host=t&&t.length>0?t:this._config.quickPulseHost,m.method="POST",m.path="/QuickPulseService.svc/"+a+"?ikey="+this._config.instrumentationKey,m.headers=((g={Expect:"100-continue"})["x-ms-qps-transmission-time"]=c.getTransmissionTime(),g["Content-Type"]="application/json",g["Content-Length"]=Buffer.byteLength(r),g),h=m,d&&d.length>0&&d.forEach((function(e){return h.headers[e.name]=e.value})),this._config.httpsAgent?h.agent=this._config.httpsAgent:h.agent=l.tlsRestrictedAgent,(f=o.request(h,(function(e){if(200==e.statusCode){var t="true"===e.headers["x-ms-qps-subscribed"],r=e.headers[p]?e.headers[p].toString():null,i=e.headers[u]?parseInt(e.headers[u].toString()):null;y._consecutiveErrors=0,n(t,e,r,i)}else y._onError("StatusCode:"+e.statusCode+" StatusMessage:"+e.statusMessage),n()}))).on("error",(function(e){y._onError(e),n()})),f.write(r),f.end(),[2]}))}))},e.prototype._onError=function(t){this._consecutiveErrors++;var n="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(n="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",a.warn(e.TAG,n,t)):a.info(e.TAG,n,t)},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();t.exports=d})),jr=f(((e,t)=>{"use strict";var n=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},r=e&&e.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=g(),o=Lr(),s=Mr(),a=br(),c=Sr(),l=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=e,this.context=t||new c,this._sender=new s(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=o.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,n=e.count||1,r=a.PerformanceToQuickPulseCounter[e.name];r&&(this._metrics[r]?(this._metrics[r].Value=(this._metrics[r].Value*this._metrics[r].Weight+t*n)/(this._metrics[r].Weight+n),this._metrics[r].Weight+=n):(this._metrics[r]=o.createQuickPulseMetric(e),this._metrics[r].Name=r,this._metrics[r].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return n(this,void 0,void 0,(function(){var t,n,i,s,a=this;return r(this,(function(r){switch(r.label){case 0:return t=Object.keys(this._metrics).map((function(e){return a._metrics[e]})),n=o.createQuickPulseEnvelope(t,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(n)]:[3,2];case 1:return r.sent(),[3,3];case 2:this._ping(n),r.label=3;case 3:return i=this._pollingIntervalHint>0?this._pollingIntervalHint:e.PING_INTERVAL,s=this._isCollectingData?e.POST_INTERVAL:i,this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,s=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(s=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),s),this._handle.unref(),[2]}}))}))},e.prototype._ping=function(e){this._sender.ping(e,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this._sender.post(e,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return t.sent(),[2]}}))}))},e.prototype._quickPulseDone=function(e,t,n,r){null!=e?(this._isCollectingData!==e&&(i.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,n&&n.length>0&&(this._redirectedHost=n,i.info("Redirecting endpoint to: ",n)),r&&r>0&&(this._pollingIntervalHint=r),t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();t.exports=l})),Br=f(((e,t)=>{"use strict";var n=br(),r=function(){function e(){}return e.parse=function(t){if(!t)return{};var r=t.split(e._FIELDS_SEPARATOR).reduce((function(t,n){var r=n.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===r.length){var i=r[0].toLowerCase(),o=r[1];t[i]=o}return t}),{});if(Object.keys(r).length>0){if(r.endpointsuffix){var i=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+i+"dc."+r.endpointsuffix,r.liveendpoint=r.liveendpoint||"https://"+i+"live."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||n.DEFAULT_BREEZE_ENDPOINT,r.liveendpoint=r.liveendpoint||n.DEFAULT_LIVEMETRICS_ENDPOINT}return r},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();t.exports=r})),Ur=f(((e,t)=>{"use strict";var r=Jt(),i=Br(),o=(g(),br()),s=n(7016),a=function(){function e(t){var n=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var r=process.env[e.ENV_connectionString],a=i.parse(t),c=i.parse(r),l=!a.instrumentationkey&&Object.keys(a).length>0?null:t;this.instrumentationKey=a.instrumentationkey||l||c.instrumentationkey||e._getInstrumentationKey(),e._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(a.ingestionendpoint||c.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return n.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=a.ingestionendpoint||c.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=a.liveendpoint||c.liveendpoint||process.env[e.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!1,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e._validateInstrumentationKey=function(e){return new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();t.exports=a})),qr=f((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCollectNativePerformance=void 0;var r=Ur(),i=Sr(),o=g(),s=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,r,i){var s=this;if(void 0===r&&(r={}),void 0===i&&(i=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=n(5827);e._emitter=new a,e._metricsAvailable=!0,o.info("Native metrics module successfully loaded!")}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=r,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,i),this._handle||(this._handle=setInterval((function(){return s._trackNativeMetrics()}),i),this._handle.unref())):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var n=process.env[r.ENV_nativeMetricsDisableAll],i=process.env[r.ENV_nativeMetricsDisablers];if(n)return{isEnabled:!1,disabledMetrics:{}};if(i){var o=i.split(","),s={};if(o.length>0)for(var a=0,c=o;a<c.length;a++)s[c[a]]=!0;return"object"==typeof e?{isEnabled:!0,disabledMetrics:t(t({},e),s)}:{isEnabled:e,disabledMetrics:s}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var t;if(!this._disabledMetrics.gc){var n=e._emitter.getGCData();for(var r in n){var o=n[r].metrics,s=r+" Garbage Collection Duration",a=Math.sqrt(o.sumSquares/o.count-Math.pow(o.total/o.count,2))||0;this._client.trackMetric({name:s,value:o.total,count:o.count,max:o.max,min:o.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){var t;if(!this._disabledMetrics.loop){var n=e._emitter.getLoopData().loopUsage;if(0!=n.count){var r=Math.sqrt(n.sumSquares/n.count-Math.pow(n.total/n.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:n.total,count:n.count,min:n.min,max:n.max,stdDev:r,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)})}}},e.prototype._trackHeapUsage=function(){var e,t,n;if(!this._disabledMetrics.heap){var r=process.memoryUsage(),o=r.heapUsed,s=r.heapTotal,a=r.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,n)})}},e}();e.AutoCollectNativePerformance=s})),$r=f(((e,t)=>{"use strict";var n=g(),r=function(){function e(e,t,n,r){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=n,this._sender=r}return e.prototype.setUseDiskRetryCaching=function(e,t,n){this._sender.setDiskRetryMode(e,t,n)},e.prototype.send=function(e){var t=this;if(!this._isDisabled()){if(!e)return void n.warn("Cannot send null/undefined telemetry");if(this._buffer.push(e),this._buffer.length>=this._getBatchSize())return void this.triggerSend(!1);!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs()))}},e.prototype.triggerSend=function(e,t){var n=this._buffer.length<1;n||(e?(this._sender.saveOnCrash(this._buffer),"function"==typeof t&&t("data saved on crash")):this._sender.send(this._buffer,t)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&"function"==typeof t&&t("no data to send")},e}();t.exports=r})),Vr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azureRoleEnvironmentTelemetryProcessor=void 0,e.azureRoleEnvironmentTelemetryProcessor=function(e,t){process.env.WEBSITE_SITE_NAME&&(e.tags[t.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}})),Hr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSamplingHashCode=e.samplingTelemetryProcessor=void 0;var t=Vn();function n(e){var t=2147483647,n=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var r=0;r<e.length;r++)n=((n<<5)+n|0)+e.charCodeAt(r)|0;return(n=n<=-2147483648?t:Math.abs(n))/t*100}e.samplingTelemetryProcessor=function(e,r){var i=e.sampleRate;return!!(null==i||i>=100||e.data&&t.TelemetryType.Metric===t.baseTypeToTelemetryType(e.data.baseType))||(r.correlationContext&&r.correlationContext.operation?n(r.correlationContext.operation.id)<i:100*Math.random()<i)},e.getSamplingHashCode=n})),Gr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performanceMetricsTelemetryProcessor=void 0;var t=wr(),n=Vn();e.performanceMetricsTelemetryProcessor=function(e,r){switch(r&&r.addDocument(e),e.data.baseType){case n.TelemetryTypeString.Exception:t.countException();break;case n.TelemetryTypeString.Request:var i=e.data.baseData;t.countRequest(i.duration,i.success);break;case n.TelemetryTypeString.Dependency:var o=e.data.baseData;t.countDependency(o.duration,o.success)}return!0}})),zr=f((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.preAggregatedMetricsTelemetryProcessor=void 0;var n=Vn(),r=xr(),i=Vn();e.preAggregatedMetricsTelemetryProcessor=function(e,o){if(r.isEnabled())switch(e.data.baseType){case i.TelemetryTypeString.Exception:var s=e.data.baseData;s.properties=t(t({},s.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var a={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole]};r.countException(a);break;case i.TelemetryTypeString.Trace:var c=e.data.baseData;c.properties=t(t({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var l={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],traceSeverityLevel:n.SeverityLevel[c.severity]};r.countTrace(l);break;case i.TelemetryTypeString.Request:var u=e.data.baseData;u.properties=t(t({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var p={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],operationSynthetic:e.tags[o.keys.operationSyntheticSource],requestSuccess:u.success,requestResultCode:u.responseCode};r.countRequest(u.duration,p);break;case i.TelemetryTypeString.Dependency:var d=e.data.baseData;d.properties=t(t({},d.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var h={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],operationSynthetic:e.tags[o.keys.operationSyntheticSource],dependencySuccess:d.success,dependencyType:d.type,dependencyTarget:d.target,dependencyResultCode:d.resultCode};r.countDependency(d.duration,h)}return!0}})),Wr=f((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Vr(),e),n(Hr(),e),n(Gr(),e),n(zr(),e)})),Kr=f(((e,t)=>{"use strict";var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=n(9896),s=n(857),a=n(6928),c=n(3106),l=n(5317),u=g(),p=Ar(),d=Yt(),h=function(){function e(t,n,r){if(this._redirectedHost=null,this._config=t,this._onSuccess=n,this._onError=r,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=a.join(s.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=o.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||u.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,n,r){var i=this;this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof n&&n>=0&&(this._resendInterval=Math.floor(n)),"number"==typeof r&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,u.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout((function(){i._fileCleanupTask()}),e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},e.prototype.send=function(t,n){return r(this,void 0,void 0,(function(){var r,o,s,a,l=this;return i(this,(function(i){return t&&(r=this._redirectedHost||this._config.endpointUrl,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},s="",t.forEach((function(e){var t=l._stringify(e);"string"==typeof t&&(s+=t+"\n")})),s.length>0&&(s=s.substring(0,s.length-1)),a=Buffer.from?Buffer.from(s):new Buffer(s),c.gzip(a,(function(i,s){var c=s;i?(u.warn(i),c=a,o.headers["Content-Length"]=a.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=s.length.toString()),u.info(e.TAG,o),o[p.disableCollectionRequestOption]=!0;var h=d.makeRequest(l._config,r,o,(function(r){r.setEncoding("utf-8");var i="";r.on("data",(function(e){i+=e})),r.on("end",(function(){if(l._numConsecutiveFailures=0,l._enableDiskRetryMode)if(200===r.statusCode)l._resendTimer||(l._resendTimer=setTimeout((function(){l._resendTimer=null,l._sendFirstFileOnDisk()}),l._resendInterval),l._resendTimer.unref());else if(l._isRetriable(r.statusCode))try{var o=JSON.parse(i),s=[];o.errors.forEach((function(e){l._isRetriable(e.statusCode)&&s.push(t[e.index])})),s.length>0&&l._storeToDisk(s)}catch(e){l._storeToDisk(t)}if(307===r.statusCode||308===r.statusCode)if(l._numConsecutiveRedirects++,l._numConsecutiveRedirects<10){var a=r.headers.location?r.headers.location.toString():null;a&&(l._redirectedHost=a,l.send(t,n))}else"function"==typeof n&&n("Error sending telemetry because of circular redirects.");else l._numConsecutiveRedirects=0,"function"==typeof n&&n(i),u.info(e.TAG,i),"function"==typeof l._onSuccess&&l._onSuccess(i)}))}));h.on("error",(function(r){if(l._numConsecutiveFailures++,!l._enableDiskRetryMode||l._numConsecutiveFailures>0&&l._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var i="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";l._enableDiskRetryMode&&(i="Ingestion endpoint could not be reached "+l._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),u.warn(e.TAG,i,d.dumpObj(r))}else i="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:",u.info(e.TAG,i,d.dumpObj(r));l._onErrorHelper(r),"function"==typeof n&&(r&&n(d.dumpObj(r)),n("Error sending telemetry")),l._enableDiskRetryMode&&l._storeToDisk(t)})),h.write(c),h.end()}))),[2]}))}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(e))},e.prototype._isRetriable=function(e){return 206===e||408===e||429===e||439===e||500===e||503===e},e.prototype._runICACLS=function(t,n){var r=l.spawn(e.ICACLS_PATH,t,{windowsHide:!0});r.on("error",(function(e){return n(e)})),r.on("close",(function(e,t){return n(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!l.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var n=l.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(0!==n.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var n=l.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),r="";n.stdout.on("data",(function(e){return r+=e})),n.on("error",(function(e){return t(e,null)})),n.on("close",(function(n,i){return e.ACL_IDENTITY=r&&r.trim(),t(0===n?null:new Error("Getting ACL identity did not succeed (PS returned code "+n+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(l.spawnSync){var t=l.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,n){var r=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?n(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(i,o){if(i)return e.ACLED_DIRECTORIES[t]=!1,n(i);r._runICACLS(r._getACLArguments(t,o),(function(r){return e.ACLED_DIRECTORIES[t]=!r,n(r)}))}))):n(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var n=this;o.lstat(e,(function(r,i){r&&"ENOENT"===r.code?o.mkdir(e,(function(r){r&&"EEXIST"!==r.code?t(r):n._applyACLRules(e,t)})):!r&&i.isDirectory()?n._applyACLRules(e,t):t(r||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){o.readdir(e,(function(n,r){if(n)return t(n,-1);var i=null,s=0,c=0;if(0!==r.length)for(var l=0;l<r.length;l++)o.stat(a.join(e,r[l]),(function(e,n){c++,e?i=e:n.isFile()&&(s+=n.size),c===r.length&&t(i,i?-1:s)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=o.readdirSync(e),n=0,r=0;r<t.length;r++)n+=o.statSync(a.join(e,t[r])).size;return n},e.prototype._storeToDisk=function(t){var n=this;u.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,(function(r){if(r)return u.warn(e.TAG,"Error while checking/creating directory: "+(r&&r.message)),void n._onErrorHelper(r);n._getShallowDirectorySize(n._tempDir,(function(r,i){if(r||i<0)return u.warn(e.TAG,"Error while checking directory size: "+(r&&r.message)),void n._onErrorHelper(r);if(i>n._maxBytesOnDisk)u.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+i);else{var s=(new Date).getTime()+".ai.json",c=a.join(n._tempDir,s);u.info(e.TAG,"saving data to disk at: "+c),o.writeFile(c,n._stringify(t),{mode:384},(function(e){return n._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){try{u.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),o.existsSync(this._tempDir)||o.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var n=this._getShallowDirectorySizeSync(this._tempDir);if(n>this._maxBytesOnDisk)return void u.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+n);var r=(new Date).getTime()+".ai.json",i=a.join(this._tempDir,r);u.info(e.TAG,"saving data before crash to disk at: "+i),o.writeFileSync(i,t,{mode:384})}catch(t){u.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var e=this;o.exists(this._tempDir,(function(t){t&&o.readdir(e._tempDir,(function(t,n){if(t)e._onErrorHelper(t);else if((n=n.filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0){var r=n[0],i=a.join(e._tempDir,r);o.readFile(i,(function(t,n){t?e._onErrorHelper(t):o.unlink(i,(function(t){if(t)e._onErrorHelper(t);else try{var r=JSON.parse(n.toString());e.send(r)}catch(e){u.warn("Failed to read persisted file",e)}}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){u.warn("Failed to serialize payload",t,e)}},e.prototype._fileCleanupTask=function(){var t=this;o.exists(this._tempDir,(function(n){n&&o.readdir(t._tempDir,(function(n,r){n?t._onErrorHelper(n):(r=r.filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0&&r.forEach((function(n){var r=new Date(parseInt(n.split(".ai.json")[0]));if(new Date(+new Date-e.FILE_RETEMPTION_PERIOD)>r){var i=a.join(t._tempDir,n);o.unlink(i,(function(e){e&&t._onErrorHelper(e)}))}}))}))}))},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=52428800,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=36e5,e.FILE_RETEMPTION_PERIOD=6048e5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===s.type(),e}();t.exports=h})),Yr=f(((e,t)=>{"use strict";var n=Vn(),r=Yt(),i=hr(),o=function(){function e(){}return e.createEnvelope=function(t,i,o,s,a){var c=null;switch(i){case n.TelemetryType.Trace:c=e.createTraceData(t);break;case n.TelemetryType.Dependency:c=e.createDependencyData(t);break;case n.TelemetryType.Event:c=e.createEventData(t);break;case n.TelemetryType.Exception:c=e.createExceptionData(t);break;case n.TelemetryType.Request:c=e.createRequestData(t);break;case n.TelemetryType.Metric:c=e.createMetricData(t);break;case n.TelemetryType.Availability:c=e.createAvailabilityData(t);break;case n.TelemetryType.PageView:c=e.createPageViewData(t)}if(o&&n.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var l in o)c.baseData.properties[l]||(c.baseData.properties[l]=o[l]);else c.baseData.properties=o;c.baseData.properties=r.validateStringMap(c.baseData.properties)}var u=a&&a.instrumentationKey||"",p=new n.Envelope;return p.data=c,p.iKey=u,p.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),p.tags=this.getTags(s,t.tagOverrides),p.time=(new Date).toISOString(),p.ver=1,p.sampleRate=a?a.samplingPercentage:100,i===n.TelemetryType.Metric&&(p.sampleRate=100),p},e.createTraceData=function(e){var t=new n.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Information:t.severityLevel=e.severity;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Trace),r.baseData=t,r},e.createDependencyData=function(e){var t=new n.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=r.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=r.w3cTraceId();var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Dependency),i.baseData=t,i},e.createEventData=function(e){var t=new n.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Event),r.baseData=t,r},e.createExceptionData=function(e){var t=new n.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var i=e.exception.stack,o=new n.ExceptionDetails;o.message=e.exception.message,o.typeName=e.exception.name,o.parsedStack=this.parseStack(i),o.hasFullStack=r.isArray(o.parsedStack)&&o.parsedStack.length>0,t.exceptions.push(o);var s=new n.Data;return s.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Exception),s.baseData=t,s},e.createRequestData=function(e){var t=new n.RequestData;e.id?t.id=e.id:t.id=r.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=r.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Request),i.baseData=t,i},e.createMetricData=function(e){var t=new n.MetricData;t.metrics=[];var r=new n.DataPoint;r.count=isNaN(e.count)?1:e.count,r.kind=n.DataPointType.Aggregation,r.max=isNaN(e.max)?e.value:e.max,r.min=isNaN(e.min)?e.value:e.min,r.name=e.name,r.stdDev=isNaN(e.stdDev)?0:e.stdDev,r.value=e.value,t.metrics.push(r),t.properties=e.properties;var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Metric),i.baseData=t,i},e.createAvailabilityData=function(e){var t=new n.AvailabilityData;e.id?t.id=e.id:t.id=r.w3cTraceId(),t.name=e.name,t.duration=r.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Availability),i.baseData=t,i},e.createPageViewData=function(e){var t=new n.PageViewData;t.name=e.name,t.duration=r.msToTimeSpan(e.duration),t.url=e.url,t.measurements=e.measurements,t.properties=e.properties;var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.PageView),i.baseData=t,i},e.getTags=function(e,t){var n=i.CorrelationContextManager.getCurrentContext(),r={};if(e&&e.tags)for(var o in e.tags)r[o]=e.tags[o];if(t)for(var o in t)r[o]=t[o];return n&&(r[e.keys.operationId]=r[e.keys.operationId]||n.operation.id,r[e.keys.operationName]=r[e.keys.operationName]||n.operation.name,r[e.keys.operationParentId]=r[e.keys.operationParentId]||n.operation.parentId),r},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var n=e.split("\n");t=[];for(var r=0,i=0,o=0;o<=n.length;o++){var a=n[o];if(s.regex.test(a)){var c=new s(n[o],r++);i+=c.sizeInBytes,t.push(c)}}if(i>32768)for(var l=0,u=t.length-1,p=0,d=l,h=u;l<u;){if((p+=t[l].sizeInBytes+t[u].sizeInBytes)>32768){var f=h-d+1;t.splice(d,f);break}d=l,h=u,l++,u--}}return t},e}(),s=function(){function e(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=r.trim(t);var i=t.match(e.regex);i&&i.length>=5&&(this.method=r.trim(i[2])||this.method,this.fileName=r.trim(i[4])||"<no_filename>",this.line=parseInt(i[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();t.exports=o})),Jr=f(((e,t)=>{"use strict";var r=n(7016),i=Ur(),o=Sr(),s=Vn(),a=$r(),c=Wr(),l=hr(),u=Kr(),p=Yt(),d=g(),h=Yr(),f=function(){function e(e){this._telemetryProcessors=[],this._enableAzureProperties=!1;var t=new i(e);this.config=t,this.context=new o,this.commonProperties={};var n=new u(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),n)}return e.prototype.trackAvailability=function(e){this.track(e,s.TelemetryType.Availability)},e.prototype.trackPageView=function(e){this.track(e,s.TelemetryType.PageView)},e.prototype.trackTrace=function(e){this.track(e,s.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,s.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!p.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,s.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,s.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,s.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=r.parse(e.data).host),this.track(e,s.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&s.telemetryTypeToBaseType(t)){var n=h.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(n.time=e.time.toISOString()),this._enableAzureProperties&&c.azureRoleEnvironmentTelemetryProcessor(n,this.context);var r=this.runTelemetryProcessors(n,e.contextObjects);r=r&&c.samplingTelemetryProcessor(n,{correlationContext:l.CorrelationContextManager.getCurrentContext()}),c.preAggregatedMetricsTelemetryProcessor(n,this.context),r&&(c.performanceMetricsTelemetryProcessor(n,this.quickPulseClient),this.channel.send(n))}else d.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.setAutoPopulateAzureProperties=function(e){this._enableAzureProperties=e},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var n=!0,r=this._telemetryProcessors.length;if(0===r)return n;(t=t||{}).correlationContext=l.CorrelationContextManager.getCurrentContext();for(var i=0;i<r;++i)try{var o=this._telemetryProcessors[i];if(o&&!1===o.apply(null,[e,t])){n=!1;break}}catch(t){n=!0,d.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return n&&(e&&e.tags&&(e.tags=p.validateStringMap(e.tags)),e&&e.data&&e.data.baseData&&e.data.baseData.properties&&(e.data.baseData.properties=p.validateStringMap(e.data.baseData.properties))),n},e}();t.exports=f})),Qr=f(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=Jr(),o=Nr(),s=Ar(),a=g(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?o.trackRequestSync(this,e):a.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&a.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?o.trackRequest(this,e):a.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?s.trackRequest(this,e):a.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(i);t.exports=c})),Xr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Zr=f((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.Configuration=e.wrapWithCorrelationContext=e.startOperation=e.getCorrelationContext=e.start=e.setup=e.liveMetricsClient=e.defaultClient=e.DistributedTracingModes=void 0;var t,n,r=hr(),i=yr(),o=vr(),s=wr(),a=xr(),c=Rr(),l=Ar(),u=Nr(),p=Jt(),d=g(),h=jr(),f=qr();e.TelemetryClient=Qr(),e.Contracts=Vn(),e.azureFunctionsTypes=Xr(),(n=t=e.DistributedTracingModes||(e.DistributedTracingModes={}))[n.AI=0]="AI",n[n.AI_AND_W3C=1]="AI_AND_W3C";var m,y,v,b,w,_,E,x,S,T,C,P=!0,I=!1,O=!0,k=!0,D=!0,A=!1,R=!0,N=!0,L=!0,F=!0,M=!1,j=!0,B=void 0,U=void 0,q=!1;function $(){return e.defaultClient?(q=!0,v.enable(P,I),b.enable(O),w.enable(k),_.enable(D),E.enable(A,e.defaultClient.config),x.enable(j,y),S.useAutoCorrelation(F,m),S.enable(R),T.enable(N),e.liveMetricsClient&&M&&e.liveMetricsClient.enable(M)):d.warn("Start cannot be called before setup"),V}e.setup=function(t){return e.defaultClient?d.info("The default client is already setup"):(e.defaultClient=new e.TelemetryClient(t),v=new i(e.defaultClient),b=new o(e.defaultClient),w=new s(e.defaultClient),_=new a(e.defaultClient),E=new c(e.defaultClient),S=new u(e.defaultClient),T=new l(e.defaultClient),x||(x=new f.AutoCollectNativePerformance(e.defaultClient))),e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(L,B,U),V},e.start=$,e.getCorrelationContext=function(){return F?r.CorrelationContextManager.getCurrentContext():null},e.startOperation=function(e,t){return r.CorrelationContextManager.startOperation(e,t)},e.wrapWithCorrelationContext=function(e,t){return r.CorrelationContextManager.wrapCallback(e,t)};var V=function(){function n(){}return n.setDistributedTracingMode=function(e){return p.w3cEnabled=e===t.AI_AND_W3C,n},n.setAutoCollectConsole=function(e,t){return void 0===t&&(t=!1),P=e,I=t,q&&v.enable(e,t),n},n.setAutoCollectExceptions=function(e){return O=e,q&&b.enable(e),n},n.setAutoCollectPerformance=function(e,t){void 0===t&&(t=!0),k=e;var r=f.AutoCollectNativePerformance.parseEnabled(t);return j=r.isEnabled,y=r.disabledMetrics,q&&(w.enable(e),x.enable(r.isEnabled,r.disabledMetrics)),n},n.setAutoCollectPreAggregatedMetrics=function(e){return D=e,q&&_.enable(e),n},n.setAutoCollectHeartbeat=function(t){return A=t,q&&E.enable(t,e.defaultClient.config),n},n.setAutoCollectRequests=function(e){return R=e,q&&S.enable(e),n},n.setAutoCollectDependencies=function(e){return N=e,q&&T.enable(e),n},n.setAutoDependencyCorrelation=function(e,t){return F=e,m=t,q&&S.useAutoCorrelation(e,t),n},n.setUseDiskRetryCaching=function(t,r,i){return L=t,B=r,U=i,e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(t,r,i),n},n.setInternalLogging=function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!0),d.enableDebug=e,d.disableWarnings=!t,n},n.setSendLiveMetrics=function(t){return void 0===t&&(t=!1),e.defaultClient?(!e.liveMetricsClient&&t?(e.liveMetricsClient=new h(e.defaultClient.config,null),C=new s(e.liveMetricsClient,1e3,!0),e.liveMetricsClient.addCollector(C),e.defaultClient.quickPulseClient=e.liveMetricsClient):e.liveMetricsClient&&e.liveMetricsClient.enable(t),M=t,n):(d.warn("Live metrics client cannot be setup without the default client"),n)},n.start=$,n}();e.Configuration=V,e.dispose=function(){p.w3cEnabled=!0,e.defaultClient=null,q=!1,v&&v.dispose(),b&&b.dispose(),w&&w.dispose(),_&&_.dispose(),E&&E.dispose(),x&&x.dispose(),S&&S.dispose(),T&&T.dispose(),e.liveMetricsClient&&(e.liveMetricsClient.enable(!1),M=!1,e.liveMetricsClient=void 0)}}));((e,t)=>{for(var n in h(e),t)i(e,n,{get:t[n],enumerable:!0})})(t,{default:()=>ui});var ei,ti,ni=m(n(857)),ri=m(n(4980)),ii=m(n(4980)),oi=m(n(4980));function si(){try{let e=oi.env.telemetryConfiguration;return e.isUsageEnabled&&e.isErrorsEnabled&&e.isCrashEnabled?ei.ON:e.isErrorsEnabled&&e.isCrashEnabled?ei.ERROR:ei.OFF}catch{return void 0!==oi.env.isTelemetryEnabled?oi.env.isTelemetryEnabled?ei.ON:ei.OFF:oi.workspace.getConfiguration("telemetry").get("enableTelemetry")?ei.ON:ei.OFF}}(ti=ei||(ei={})).ON="on",ti.ERROR="error",ti.OFF="off";var ai=class{constructor(e,t,n,r,i){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=r,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!i,this.updateUserOptStatus(),void 0!==ii.env.onDidChangeTelemetryEnabled?(this.disposables.push(ii.env.onDidChangeTelemetryEnabled((()=>this.updateUserOptStatus()))),this.disposables.push(ii.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))):this.disposables.push(ii.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))}updateUserOptStatus(){let e=si();this.userOptIn=e===ei.ON,this.errorOptIn=e===ei.ERROR||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((n=>{0===e.indexOf(`${n}`)&&(t=n)})),t}get extension(){return void 0===this._extension&&(this._extension=ii.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(null===e||"object"!=typeof e||"function"!=typeof t)return e;let n={};for(let r in e)n[r]=t(r,e[r]);return n}shouldSendErrorTelemetry(){return!(!1===this.errorOptIn||this.firstParty&&"other"===this.cleanRemoteName(ii.env.remoteName)&&(void 0===this.extension||this.extension.extensionKind===ii.ExtensionKind.Workspace||ii.env.uiKind===ii.UIKind.Web))}getCommonProperties(){let e=Object.create(null);if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,ii&&ii.env){switch(e["common.vscodemachineid"]=ii.env.machineId,e["common.vscodesessionid"]=ii.env.sessionId,e["common.vscodeversion"]=ii.version,e["common.isnewappinstall"]=ii.env.isNewAppInstall?ii.env.isNewAppInstall.toString():"false",e["common.product"]=ii.env.appHost,ii.env.uiKind){case ii.UIKind.Web:e["common.uikind"]="web";break;case ii.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(ii.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(null==e)return"";let r=[];""!==ii.env.appRoot&&r.push(new RegExp(ii.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let t=[];for(let i of r)for(;(n=i.exec(e))&&n;)t.push([n.index,i.lastIndex]);let o=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,a=0;for(i="";(n=s.exec(e))&&n;)n[0]&&!o.test(n[0])&&t.every((([e,t])=>n.index<e||n.index>=t))&&(i+=e.substring(a,n.index)+"<REDACTED: user-file-path>",a=s.lastIndex);a<e.length&&(i+=e.substr(a))}for(let e of r)i=i.replace(e,"");return i}removePropertiesWithPossibleUserInfo(e){if("object"!=typeof e)return;let t=Object.create(null);for(let n of Object.keys(e)){let r=e[n];if(!r)continue;let i=/@[a-zA-Z0-9-.]+/,o=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/.test(r.toLowerCase())?t[n]="<REDACTED: secret>":i.test(r)?t[n]="<REDACTED: email>":o.test(r)?t[n]="<REDACTED: token>":t[n]=r}return t}get telemetryLevel(){switch(si()){case ei.ON:return"all";case ei.ERROR:return"error";case ei.OFF:return"off"}}sendTelemetryEvent(e,t,n){if(this.userOptIn&&""!==e){t=d(d({},t),this.getCommonProperties());let r=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(r),measurements:n})}}sendRawTelemetryEvent(e,t,n){this.userOptIn&&""!==e&&(t=d(d({},t),this.getCommonProperties()),this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:t,measurements:n}))}sendTelemetryErrorEvent(e,t,n,r){if(this.errorOptIn&&""!==e){t=d(d({},t),this.getCommonProperties());let i=this.cloneAndChange(t,((e,t)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(t,this.firstParty):void 0===r||-1!==r.indexOf(e)?"REDACTED":this.anonymizeFilePaths(t,this.firstParty)));this.telemetryAppender.logEvent(`${this.extensionId}/${e}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:n})}}sendTelemetryException(e,t,n){if(this.shouldSendErrorTelemetry()&&this.errorOptIn&&e){t=d(d({},t),this.getCommonProperties());let r=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),this.telemetryAppender.logException(e,{properties:this.removePropertiesWithPossibleUserInfo(r),measurements:n})}}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((e=>e.dispose())))}},ci=class{constructor(e,t){this._isInstantiated=!1,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e,si()!==ei.OFF&&this.instantiateAppender()}logEvent(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):!this._isInstantiated&&si()===ei.ON&&this._eventQueue.push({eventName:e,data:t})}logException(e,t){this._telemetryClient?this._telemetryClient.logException(e,t):!this._isInstantiated&&si()!==ei.OFF&&this._exceptionQueue.push({exception:e,data:t})}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.logEvent(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.logException(e,t))),this._exceptionQueue=[]}instantiateAppender(){this._isInstantiated||this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._isInstantiated=!0,this._flushQueues()})).catch((e=>{console.error(e)}))}},li=async e=>{let t;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let n=await Promise.resolve().then((()=>m(Zr())));n.defaultClient?(t=new n.TelemetryClient(e),t.channel.setUseDiskRetryCaching(!0)):(n.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),t=n.defaultClient),ri&&ri.env&&(t.context.tags[t.context.keys.userId]=ri.env.machineId,t.context.tags[t.context.keys.sessionId]=ri.env.sessionId,t.context.tags[t.context.keys.cloudRole]=ri.env.appName,t.context.tags[t.context.keys.cloudRoleInstance]=ri.env.appName),e&&0===e.indexOf("AIF-")&&(t.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1")}catch(e){return Promise.reject(e)}return{logEvent:(e,n)=>{null==t||t.trackEvent({name:e,properties:null==n?void 0:n.properties,measurements:null==n?void 0:n.measurements})},logException:(e,n)=>{null==t||t.trackException({exception:e,properties:null==n?void 0:n.properties,measurements:null==n?void 0:n.measurements})},flush:async()=>{null==t||t.flush()}}},ui=class extends ai{constructor(e,t,n,r){let i=new ci(n,li);n&&0===n.indexOf("AIF-")&&(r=!0),super(e,t,i,{release:ni.release(),platform:ni.platform(),architecture:ni.arch()},r)}}},3270:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=3270,e.exports=t},8371:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=8371,e.exports=t},4583:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s,a=n(8961),c={fg:"#FFF",bg:"#000",newline:!1,escapeXML:!1,stream:!1,colors:(s={0:"#000",1:"#A00",2:"#0A0",3:"#A50",4:"#00A",5:"#A0A",6:"#0AA",7:"#AAA",8:"#555",9:"#F55",10:"#5F5",11:"#FF5",12:"#55F",13:"#F5F",14:"#5FF",15:"#FFF"},d(0,5).forEach((function(e){d(0,5).forEach((function(t){d(0,5).forEach((function(n){return function(e,t,n,r){var o=e>0?40*e+55:0,s=t>0?40*t+55:0,a=n>0?40*n+55:0;r[16+36*e+6*t+n]=function(e){var t,n=[],r=i(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(l(o))}}catch(e){r.e(e)}finally{r.f()}return"#"+n.join("")}([o,s,a])}(e,t,n,s)}))}))})),d(0,23).forEach((function(e){var t=e+232,n=l(10*e+8);s[t]="#"+n+n+n})),s)};function l(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function u(e,t,n,r){var i;return"text"===t?i=function(e,t){return t.escapeXML?a.encodeXML(e):e}(n,r):"display"===t?i=function(e,t,n){var r,i={"-1":function(){return"<br/>"},0:function(){return e.length&&p(e)},1:function(){return f(e,"b")},3:function(){return f(e,"i")},4:function(){return f(e,"u")},8:function(){return m(e,"display:none")},9:function(){return f(e,"strike")},22:function(){return m(e,"font-weight:normal;text-decoration:none;font-style:normal")},23:function(){return v(e,"i")},24:function(){return v(e,"u")},39:function(){return g(e,n.fg)},49:function(){return y(e,n.bg)},53:function(){return m(e,"text-decoration:overline")}};return i[t=parseInt(t,10)]?r=i[t]():4<t&&t<7?r=f(e,"blink"):29<t&&t<38?r=g(e,n.colors[t-30]):39<t&&t<48?r=y(e,n.colors[t-40]):89<t&&t<98?r=g(e,n.colors[t-90+8]):99<t&&t<108&&(r=y(e,n.colors[t-100+8])),r}(e,n,r):"xterm256"===t?i=g(e,r.colors[n]):"rgb"===t&&(i=function(e,t){return m(e,(38===+(t=t.substring(2).slice(0,-1)).substr(0,2)?"color:#":"background-color:#")+t.substring(5).split(";").map((function(e){return("0"+Number(e).toString(16)).substr(-2)})).join(""))}(e,n)),i}function p(e){var t=e.slice(0);return e.length=0,t.reverse().map((function(e){return"</"+e+">"})).join("")}function d(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n}function h(e){var t=null;return 0===(e=parseInt(e,10))?t="all":1===e?t="bold":2<e&&e<5?t="underline":4<e&&e<7?t="blink":8===e?t="hide":9===e?t="strike":29<e&&e<38||39===e||89<e&&e<98?t="foreground-color":(39<e&&e<48||49===e||99<e&&e<108)&&(t="background-color"),t}function f(e,t,n){return n||(n=""),e.push(t),"<".concat(t).concat(n?' style="'.concat(n,'"'):"",">")}function m(e,t){return f(e,"span",t)}function g(e,t){return f(e,"span","color:"+t)}function y(e,t){return f(e,"span","background-color:"+t)}function v(e,t){var n;if(e.slice(-1)[0]===t&&(n=e.pop()),n)return"</"+t+">"}var b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=t||{}).colors&&(t.colors=Object.assign({},c.colors,t.colors)),this.options=Object.assign({},c,t),this.stack=[],this.stickyStack=[]}var t,n;return t=e,(n=[{key:"toHtml",value:function(e){var t=this;e="string"==typeof e?[e]:e;var n=this.stack,r=this.options,o=[];return this.stickyStack.forEach((function(e){var t=u(n,e.token,e.data,r);t&&o.push(t)})),function(e,t,n){var r=!1;function o(){return""}function s(e){return t.newline?n("display",-1):n("text",e),""}var a=[{pattern:/^\x08+/,sub:o},{pattern:/^\x1b\[[012]?K/,sub:o},{pattern:/^\x1b\[\(B/,sub:o},{pattern:/^\x1b\[[34]8;2;\d+;\d+;\d+m/,sub:function(e){return n("rgb",e),""}},{pattern:/^\x1b\[38;5;(\d+)m/,sub:function(e,t){return n("xterm256",t),""}},{pattern:/^\n/,sub:s},{pattern:/^\r+\n/,sub:s},{pattern:/^\x1b\[((?:\d{1,3};?)+|)m/,sub:function(e,t){r=!0,0===t.trim().length&&(t="0");var o,s=i(t=t.trimRight(";").split(";"));try{for(s.s();!(o=s.n()).done;){var a=o.value;n("display",a)}}catch(e){s.e(e)}finally{s.f()}return""}},{pattern:/^\x1b\[\d?J/,sub:o},{pattern:/^\x1b\[\d{0,3};\d{0,3}f/,sub:o},{pattern:/^\x1b\[?[\d;]{0,3}/,sub:o},{pattern:/^(([^\x1b\x08\r\n])+)/,sub:function(e){return n("text",e),""}}];function c(t,n){n>3&&r||(r=!1,e=e.replace(t.pattern,t.sub))}var l=[],u=e.length;e:for(;u>0;){for(var p=0,d=0,h=a.length;d<h;p=++d)if(c(a[p],p),e.length!==u){u=e.length;continue e}if(e.length===u)break;l.push(0),u=e.length}}(e.join(""),r,(function(e,i){var s=u(n,e,i,r);s&&o.push(s),r.stream&&(t.stickyStack=function(e,t,n){var r;return"text"!==t&&(e=e.filter((r=h(n),function(e){return(null===r||e.category!==r)&&"all"!==r}))).push({token:t,data:n,category:h(n)}),e}(t.stickyStack,e,i))})),n.length&&o.push(p(n)),o.join("")}}])&&r(t.prototype,n),e}();e.exports=b},403:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHTML=t.decodeHTMLStrict=t.decodeXML=void 0;var i=r(n(4837)),o=r(n(3753)),s=r(n(7235)),a=r(n(3897)),c=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function l(e){var t=p(e);return function(e){return String(e).replace(c,t)}}t.decodeXML=l(s.default),t.decodeHTMLStrict=l(i.default);var u=function(e,t){return e<t?1:-1};function p(e){return function(t){if("#"===t.charAt(1)){var n=t.charAt(2);return"X"===n||"x"===n?a.default(parseInt(t.substr(3),16)):a.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}t.decodeHTML=function(){for(var e=Object.keys(o.default).sort(u),t=Object.keys(i.default).sort(u),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var s=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=p(i.default);function c(e){return";"!==e.substr(-1)&&(e+=";"),a(e)}return function(e){return String(e).replace(s,c)}}()},3897:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(392)),o=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)};t.default=function(e){return e>=55296&&e<=57343||e>1114111?"�":(e in i.default&&(e=i.default[e]),o(e))}},1679:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=void 0;var i=u(r(n(7235)).default),o=p(i);t.encodeXML=g(i);var s,a,c=u(r(n(4837)).default),l=p(c);function u(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function p(e){for(var t=[],n=[],r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];1===o.length?t.push("\\"+o):n.push(o)}t.sort();for(var s=0;s<t.length-1;s++){for(var a=s;a<t.length-1&&t[a].charCodeAt(1)+1===t[a+1].charCodeAt(1);)a+=1;var c=1+a-s;c<3||t.splice(s,c,t[s]+"-"+t[a])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.encodeHTML=(s=c,a=l,function(e){return e.replace(a,(function(e){return s[e]})).replace(d,f)}),t.encodeNonAsciiHTML=g(c);var d=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,h=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function f(e){return"&#x"+(e.length>1?h(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var m=new RegExp(o.source+"|"+d.source,"g");function g(e){return function(t){return t.replace(m,(function(t){return e[t]||f(t)}))}}t.escape=function(e){return e.replace(m,f)},t.escapeUTF8=function(e){return e.replace(o,f)}},8961:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var r=n(403),i=n(1679);t.decode=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?i.encodeXML:i.encodeHTML)(e)};var o=n(1679);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var s=n(403);Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})},580:e=>{"use strict";var t;"Set"in global?"function"==typeof Set.prototype.forEach&&(t=!1,new Set([!0]).forEach((function(e){t=e})),!0===t)?e.exports=function(e){var t=[];return new Set(e).forEach((function(e){t.push(e)})),t}:e.exports=function(e){var t=new Set;return e.filter((function(e){return!t.has(e)&&(t.add(e),!0)}))}:e.exports=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}},5119:function(e,t,n){var r;e=n.nmd(e),r=function(t){"use strict";function n(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r}var r=function(e){var t=n(arguments,1);return function(){var r=n(arguments);return e.apply(null,t.concat(r))}},i=function(e){return function(){var t=n(arguments),r=t.pop();e.call(this,t,r)}};function o(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var s="function"==typeof setImmediate&&setImmediate,a="object"==typeof process&&"function"==typeof process.nextTick;function c(e){setTimeout(e,0)}function l(e){return function(t){var r=n(arguments,1);e((function(){t.apply(null,r)}))}}var u=l(s?setImmediate:a?process.nextTick:c);function p(e){return i((function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}o(r)&&"function"==typeof r.then?r.then((function(e){d(n,null,e)}),(function(e){d(n,e.message?e:new Error(e))})):n(null,r)}))}function d(e,t,n){try{e(t,n)}catch(e){u(h,e)}}function h(e){throw e}var f="function"==typeof Symbol;function m(e){return f&&"AsyncFunction"===e[Symbol.toStringTag]}function g(e){return m(e)?p(e):e}function y(e){return function(t){var r=n(arguments,1),o=i((function(n,r){var i=this;return e(t,(function(e,t){g(e).apply(i,n.concat(t))}),r)}));return r.length?o.apply(this,r):o}}var v="object"==typeof global&&global&&global.Object===Object&&global,b="object"==typeof self&&self&&self.Object===Object&&self,w=v||b||Function("return this")(),_=w.Symbol,E=Object.prototype,x=E.hasOwnProperty,S=E.toString,T=_?_.toStringTag:void 0,C=Object.prototype.toString,P="[object Null]",I="[object Undefined]",O=_?_.toStringTag:void 0;function k(e){return null==e?void 0===e?I:P:O&&O in Object(e)?function(e){var t=x.call(e,T),n=e[T];try{e[T]=void 0;var r=!0}catch(e){}var i=S.call(e);return r&&(t?e[T]=n:delete e[T]),i}(e):function(e){return C.call(e)}(e)}var D="[object AsyncFunction]",A="[object Function]",R="[object GeneratorFunction]",N="[object Proxy]",L=9007199254740991;function F(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=L}function M(e){return null!=e&&F(e.length)&&!function(e){if(!o(e))return!1;var t=k(e);return t==A||t==R||t==D||t==N}(e)}var j={};function B(){}function U(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var q="function"==typeof Symbol&&Symbol.iterator,$=function(e){return q&&e[q]&&e[q]()};function V(e){return null!=e&&"object"==typeof e}function H(e){return V(e)&&"[object Arguments]"==k(e)}var G=Object.prototype,z=G.hasOwnProperty,W=G.propertyIsEnumerable,K=H(function(){return arguments}())?H:function(e){return V(e)&&z.call(e,"callee")&&!W.call(e,"callee")},Y=Array.isArray,J="object"==typeof t&&t&&!t.nodeType&&t,Q=J&&e&&!e.nodeType&&e,X=Q&&Q.exports===J?w.Buffer:void 0,Z=(X?X.isBuffer:void 0)||function(){return!1},ee=9007199254740991,te=/^(?:0|[1-9]\d*)$/;function ne(e,t){var n=typeof e;return!!(t=null==t?ee:t)&&("number"==n||"symbol"!=n&&te.test(e))&&e>-1&&e%1==0&&e<t}var re={};re["[object Float32Array]"]=re["[object Float64Array]"]=re["[object Int8Array]"]=re["[object Int16Array]"]=re["[object Int32Array]"]=re["[object Uint8Array]"]=re["[object Uint8ClampedArray]"]=re["[object Uint16Array]"]=re["[object Uint32Array]"]=!0,re["[object Arguments]"]=re["[object Array]"]=re["[object ArrayBuffer]"]=re["[object Boolean]"]=re["[object DataView]"]=re["[object Date]"]=re["[object Error]"]=re["[object Function]"]=re["[object Map]"]=re["[object Number]"]=re["[object Object]"]=re["[object RegExp]"]=re["[object Set]"]=re["[object String]"]=re["[object WeakMap]"]=!1;var ie,oe="object"==typeof t&&t&&!t.nodeType&&t,se=oe&&e&&!e.nodeType&&e,ae=se&&se.exports===oe&&v.process,ce=function(){try{return se&&se.require&&se.require("util").types||ae&&ae.binding&&ae.binding("util")}catch(e){}}(),le=ce&&ce.isTypedArray,ue=le?(ie=le,function(e){return ie(e)}):function(e){return V(e)&&F(e.length)&&!!re[k(e)]},pe=Object.prototype.hasOwnProperty;var de=Object.prototype,he=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),fe=Object.prototype.hasOwnProperty;function me(e){return M(e)?function(e,t){var n=Y(e),r=!n&&K(e),i=!n&&!r&&Z(e),o=!n&&!r&&!i&&ue(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var l in e)!t&&!pe.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ne(l,c))||a.push(l);return a}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||de))return he(e);var t,n,r=[];for(var i in Object(e))fe.call(e,i)&&"constructor"!=i&&r.push(i);return r}(e)}function ge(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function ye(e){return function(t,n,r){if(r=U(r||B),e<=0||!t)return r(null);var i=function(e){if(M(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t,n,r,i,o=$(e);return o?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(o):(n=me(t=e),r=-1,i=n.length,function e(){var o=n[++r];return"__proto__"===o?e():r<i?{value:t[o],key:o}:null})}(t),o=!1,s=0,a=!1;function c(e,t){if(s-=1,e)o=!0,r(e);else{if(t===j||o&&s<=0)return o=!0,r(null);a||l()}}function l(){for(a=!0;s<e&&!o;){var t=i();if(null===t)return o=!0,void(s<=0&&r(null));s+=1,n(t.value,t.key,ge(c))}a=!1}l()}}function ve(e,t,n,r){ye(t)(e,g(n),r)}function be(e,t){return function(n,r,i){return e(n,t,r,i)}}function we(e,t,n){n=U(n||B);var r=0,i=0,o=e.length;function s(e,t){e?n(e):++i!==o&&t!==j||n(null)}for(0===o&&n(null);r<o;r++)t(e[r],r,ge(s))}var _e=be(ve,1/0),Ee=function(e,t,n){(M(e)?we:_e)(e,g(t),n)};function xe(e){return function(t,n,r){return e(Ee,t,g(n),r)}}function Se(e,t,n,r){r=r||B,t=t||[];var i=[],o=0,s=g(n);e(t,(function(e,t,n){var r=o++;s(e,(function(e,t){i[r]=t,n(e)}))}),(function(e){r(e,i)}))}var Te=xe(Se),Ce=y(Te);function Pe(e){return function(t,n,r,i){return e(ye(n),t,g(r),i)}}var Ie=Pe(Se),Oe=be(Ie,1),ke=y(Oe);function De(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var Ae=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[++r];if(!1===t(i[a],a,i))break}return e};function Re(e,t){return e&&Ae(e,t,me)}function Ne(e){return e!=e}function Le(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,o=n+-1;++o<i;)if(t(e[o],o,e))return o;return-1}(e,Ne,n)}var Fe=function(e,t,r){"function"==typeof t&&(r=t,t=null),r=U(r||B);var i=me(e).length;if(!i)return r(null);t||(t=i);var o={},s=0,a=!1,c=Object.create(null),l=[],u=[],p={};function d(e,t){l.push((function(){!function(e,t){if(!a){var i=ge((function(t,i){if(s--,arguments.length>2&&(i=n(arguments,1)),t){var l={};Re(o,(function(e,t){l[t]=e})),l[e]=i,a=!0,c=Object.create(null),r(t,l)}else o[e]=i,De(c[e]||[],(function(e){e()})),h()}));s++;var l=g(t[t.length-1]);t.length>1?l(o,i):l(i)}}(e,t)}))}function h(){if(0===l.length&&0===s)return r(null,o);for(;l.length&&s<t;)l.shift()()}function f(t){var n=[];return Re(e,(function(e,r){Y(e)&&Le(e,t,0)>=0&&n.push(r)})),n}Re(e,(function(t,n){if(!Y(t))return d(n,[t]),void u.push(n);var r=t.slice(0,t.length-1),i=r.length;if(0===i)return d(n,t),void u.push(n);p[n]=i,De(r,(function(o){if(!e[o])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+r.join(", "));var s,a,l;a=function(){0==--i&&d(n,t)},(l=c[s=o])||(l=c[s]=[]),l.push(a)}))})),function(){for(var e=0;u.length;)e++,De(f(u.pop()),(function(e){0==--p[e]&&u.push(e)}));if(e!==i)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),h()};function Me(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var je="[object Symbol]",Be=1/0,Ue=_?_.prototype:void 0,qe=Ue?Ue.toString:void 0;function $e(e){if("string"==typeof e)return e;if(Y(e))return Me(e,$e)+"";if(function(e){return"symbol"==typeof e||V(e)&&k(e)==je}(e))return qe?qe.call(e):"";var t=e+"";return"0"==t&&1/e==-Be?"-0":t}var Ve=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),He="\\ud800-\\udfff",Ge="["+He+"]",ze="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",We="\\ud83c[\\udffb-\\udfff]",Ke="[^"+He+"]",Ye="(?:\\ud83c[\\udde6-\\uddff]){2}",Je="[\\ud800-\\udbff][\\udc00-\\udfff]",Qe="(?:"+ze+"|"+We+")?",Xe="[\\ufe0e\\ufe0f]?",Ze=Xe+Qe+"(?:\\u200d(?:"+[Ke,Ye,Je].join("|")+")"+Xe+Qe+")*",et="(?:"+[Ke+ze+"?",ze,Ye,Je,Ge].join("|")+")",tt=RegExp(We+"(?="+We+")|"+et+Ze,"g");function nt(e){return function(e){return Ve.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}var rt=/^\s+|\s+$/g;function it(e,t,n){var r;if((e=null==(r=e)?"":$e(r))&&(n||void 0===t))return e.replace(rt,"");if(!e||!(t=$e(t)))return e;var i=nt(e),o=nt(t),s=function(e,t){for(var n=-1,r=e.length;++n<r&&Le(t,e[n],0)>-1;);return n}(i,o),a=function(e,t){for(var n=e.length;n--&&Le(t,e[n],0)>-1;);return n}(i,o)+1;return function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}(e,t,n)}(i,s,a).join("")}var ot=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,st=/,/,at=/(=.+)?(\s*)$/,ct=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function lt(e,t){var n={};Re(e,(function(e,t){var r,i=m(e),o=!i&&1===e.length||i&&0===e.length;if(Y(e))r=e.slice(0,-1),e=e[e.length-1],n[t]=r.concat(r.length>0?s:e);else if(o)n[t]=e;else{if(r=function(e){return(e=(e=(e=e.toString().replace(ct,"")).match(ot)[2].replace(" ",""))?e.split(st):[]).map((function(e){return it(e.replace(at,""))}))}(e),0===e.length&&!i&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");i||r.pop(),n[t]=r.concat(s)}function s(t,n){var i=Me(r,(function(e){return t[e]}));i.push(n),g(e).apply(null,i)}})),Fe(n,t)}function ut(){this.head=this.tail=null,this.length=0}function pt(e,t){e.length=1,e.head=e.tail=t}function dt(e,t,n){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=g(e),i=0,o=[],s=!1;function a(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(p.started=!0,Y(e)||(e=[e]),0===e.length&&p.idle())return u((function(){p.drain()}));for(var r=0,i=e.length;r<i;r++){var o={data:e[r],callback:n||B};t?p._tasks.unshift(o):p._tasks.push(o)}s||(s=!0,u((function(){s=!1,p.process()})))}function c(e){return function(t){i-=1;for(var n=0,r=e.length;n<r;n++){var s=e[n],a=Le(o,s,0);0===a?o.shift():a>0&&o.splice(a,1),s.callback.apply(s,arguments),null!=t&&p.error(t,s.data)}i<=p.concurrency-p.buffer&&p.unsaturated(),p.idle()&&p.drain(),p.process()}}var l=!1,p={_tasks:new ut,concurrency:t,payload:n,saturated:B,unsaturated:B,buffer:t/4,empty:B,drain:B,error:B,started:!1,paused:!1,push:function(e,t){a(e,!1,t)},kill:function(){p.drain=B,p._tasks.empty()},unshift:function(e,t){a(e,!0,t)},remove:function(e){p._tasks.remove(e)},process:function(){if(!l){for(l=!0;!p.paused&&i<p.concurrency&&p._tasks.length;){var e=[],t=[],n=p._tasks.length;p.payload&&(n=Math.min(n,p.payload));for(var s=0;s<n;s++){var a=p._tasks.shift();e.push(a),o.push(a),t.push(a.data)}i+=1,0===p._tasks.length&&p.empty(),i===p.concurrency&&p.saturated();var u=ge(c(e));r(t,u)}l=!1}},length:function(){return p._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return p._tasks.length+i===0},pause:function(){p.paused=!0},resume:function(){!1!==p.paused&&(p.paused=!1,u(p.process))}};return p}function ht(e,t){return dt(e,1,t)}ut.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},ut.prototype.empty=function(){for(;this.head;)this.shift();return this},ut.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},ut.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},ut.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):pt(this,e)},ut.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):pt(this,e)},ut.prototype.shift=function(){return this.head&&this.removeLink(this.head)},ut.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},ut.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},ut.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var ft=be(ve,1);function mt(e,t,n,r){r=U(r||B);var i=g(n);ft(e,(function(e,n,r){i(t,e,(function(e,n){t=n,r(e)}))}),(function(e){r(e,t)}))}function gt(){var e=Me(arguments,g);return function(){var t=n(arguments),r=this,i=t[t.length-1];"function"==typeof i?t.pop():i=B,mt(e,t,(function(e,t,i){t.apply(r,e.concat((function(e){var t=n(arguments,1);i(e,t)})))}),(function(e,t){i.apply(r,[e].concat(t))}))}}var yt=function(){return gt.apply(null,n(arguments).reverse())},vt=Array.prototype.concat,bt=function(e,t,r,i){i=i||B;var o=g(r);Ie(e,t,(function(e,t){o(e,(function(e){return e?t(e):t(null,n(arguments,1))}))}),(function(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&(n=vt.apply(n,t[r]));return i(e,n)}))},wt=be(bt,1/0),_t=be(bt,1),Et=function(){var e=n(arguments),t=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,t)}};function xt(e){return e}function St(e,t){return function(n,r,i,o){o=o||B;var s,a=!1;n(r,(function(n,r,o){i(n,(function(r,i){r?o(r):e(i)&&!s?(a=!0,s=t(!0,n),o(null,j)):o()}))}),(function(e){e?o(e):o(null,a?s:t(!1))}))}}function Tt(e,t){return t}var Ct=xe(St(xt,Tt)),Pt=Pe(St(xt,Tt)),It=be(Pt,1);function Ot(e){return function(t){var r=n(arguments,1);r.push((function(t){var r=n(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&De(r,(function(t){console[e](t)})))})),g(t).apply(null,r)}}var kt=Ot("dir");function Dt(e,t,r){r=ge(r||B);var i=g(e),o=g(t);function s(e){if(e)return r(e);var t=n(arguments,1);t.push(a),o.apply(this,t)}function a(e,t){return e?r(e):t?void i(s):r(null)}a(null,!0)}function At(e,t,r){r=ge(r||B);var i=g(e),o=function(e){if(e)return r(e);var s=n(arguments,1);if(t.apply(this,s))return i(o);r.apply(null,[null].concat(s))};i(o)}function Rt(e,t,n){At(e,(function(){return!t.apply(this,arguments)}),n)}function Nt(e,t,n){n=ge(n||B);var r=g(t),i=g(e);function o(e){if(e)return n(e);i(s)}function s(e,t){return e?n(e):t?void r(o):n(null)}i(s)}function Lt(e){return function(t,n,r){return e(t,r)}}function Ft(e,t,n){Ee(e,Lt(g(t)),n)}function Mt(e,t,n,r){ye(t)(e,Lt(g(n)),r)}var jt=be(Mt,1);function Bt(e){return m(e)?e:i((function(t,n){var r=!0;t.push((function(){var e=arguments;r?u((function(){n.apply(null,e)})):n.apply(null,e)})),e.apply(this,t),r=!1}))}function Ut(e){return!e}var qt=xe(St(Ut,Ut)),$t=Pe(St(Ut,Ut)),Vt=be($t,1);function Ht(e){return function(t){return null==t?void 0:t[e]}}function Gt(e,t,n,r){var i=new Array(t.length);e(t,(function(e,t,r){n(e,(function(e,n){i[t]=!!n,r(e)}))}),(function(e){if(e)return r(e);for(var n=[],o=0;o<t.length;o++)i[o]&&n.push(t[o]);r(null,n)}))}function zt(e,t,n,r){var i=[];e(t,(function(e,t,r){n(e,(function(n,o){n?r(n):(o&&i.push({index:t,value:e}),r())}))}),(function(e){e?r(e):r(null,Me(i.sort((function(e,t){return e.index-t.index})),Ht("value")))}))}function Wt(e,t,n,r){(M(t)?Gt:zt)(e,t,g(n),r||B)}var Kt=xe(Wt),Yt=Pe(Wt),Jt=be(Yt,1);function Qt(e,t){var n=ge(t||B),r=g(Bt(e));!function e(t){if(t)return n(t);r(e)}()}var Xt=function(e,t,n,r){r=r||B;var i=g(n);Ie(e,t,(function(e,t){i(e,(function(n,r){return n?t(n):t(null,{key:r,val:e})}))}),(function(e,t){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var s=t[o].key,a=t[o].val;i.call(n,s)?n[s].push(a):n[s]=[a]}return r(e,n)}))},Zt=be(Xt,1/0),en=be(Xt,1),tn=Ot("log");function nn(e,t,n,r){r=U(r||B);var i={},o=g(n);ve(e,t,(function(e,t,n){o(e,t,(function(e,r){if(e)return n(e);i[t]=r,n()}))}),(function(e){r(e,i)}))}var rn=be(nn,1/0),on=be(nn,1);function sn(e,t){return t in e}function an(e,t){var r=Object.create(null),o=Object.create(null);t=t||xt;var s=g(e),a=i((function(e,i){var a=t.apply(null,e);sn(r,a)?u((function(){i.apply(null,r[a])})):sn(o,a)?o[a].push(i):(o[a]=[i],s.apply(null,e.concat((function(){var e=n(arguments);r[a]=e;var t=o[a];delete o[a];for(var i=0,s=t.length;i<s;i++)t[i].apply(null,e)}))))}));return a.memo=r,a.unmemoized=e,a}var cn=l(a?process.nextTick:s?setImmediate:c);function ln(e,t,r){r=r||B;var i=M(t)?[]:{};e(t,(function(e,t,r){g(e)((function(e,o){arguments.length>2&&(o=n(arguments,1)),i[t]=o,r(e)}))}),(function(e){r(e,i)}))}function un(e,t){ln(Ee,e,t)}function pn(e,t,n){ln(ye(t),e,n)}var dn=function(e,t){var n=g(e);return dt((function(e,t){n(e[0],t)}),t,1)},hn=function(e,t){var n=dn(e,t);return n.push=function(e,t,r){if(null==r&&(r=B),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Y(e)||(e=[e]),0===e.length)return u((function(){n.drain()}));t=t||0;for(var i=n._tasks.head;i&&t>=i.priority;)i=i.next;for(var o=0,s=e.length;o<s;o++){var a={data:e[o],priority:t,callback:r};i?n._tasks.insertBefore(i,a):n._tasks.push(a)}u(n.process)},delete n.unshift,n};function fn(e,t){if(t=U(t||B),!Y(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)g(e[n])(t)}function mn(e,t,r,i){mt(n(e).reverse(),t,r,i)}function gn(e){var t=g(e);return i((function(e,r){return e.push((function(e,t){var i;e?r(null,{error:e}):(i=arguments.length<=2?t:n(arguments,1),r(null,{value:i}))})),t.apply(this,e)}))}function yn(e){var t;return Y(e)?t=Me(e,gn):(t={},Re(e,(function(e,n){t[n]=gn.call(this,e)}))),t}function vn(e,t,n,r){Wt(e,t,(function(e,t){n(e,(function(e,n){t(e,!n)}))}),r)}var bn=xe(vn),wn=Pe(vn),_n=be(wn,1);function En(e){return function(){return e}}function xn(e,t,n){var r={times:5,intervalFunc:En(0)};if(arguments.length<3&&"function"==typeof e?(n=t||B,t=e):(function(e,t){if("object"==typeof t)e.times=+t.times||5,e.intervalFunc="function"==typeof t.interval?t.interval:En(+t.interval||0),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||5}}(r,e),n=n||B),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var i=g(t),o=1;!function e(){i((function(t){t&&o++<r.times&&("function"!=typeof r.errorFilter||r.errorFilter(t))?setTimeout(e,r.intervalFunc(o)):n.apply(null,arguments)}))}()}var Sn=function(e,t){t||(t=e,e=null);var n=g(t);return i((function(t,r){function i(e){n.apply(null,t.concat(e))}e?xn(e,i,r):xn(i,r)}))};function Tn(e,t){ln(ft,e,t)}var Cn=xe(St(Boolean,xt)),Pn=Pe(St(Boolean,xt)),In=be(Pn,1);function On(e,t,n){var r=g(t);function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}Te(e,(function(e,t){r(e,(function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})}))}),(function(e,t){if(e)return n(e);n(null,Me(t.sort(i),Ht("value")))}))}function kn(e,t,n){var r=g(e);return i((function(i,o){var s,a=!1;i.push((function(){a||(o.apply(null,arguments),clearTimeout(s))})),s=setTimeout((function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),a=!0,o(r)}),t),r.apply(null,i)}))}var Dn=Math.ceil,An=Math.max;function Rn(e,t,n,r){var i=g(n);Ie(function(e,t,n,r){for(var i=-1,o=An(Dn((t-e)/1),0),s=Array(o);o--;)s[++i]=e,e+=1;return s}(0,e),t,i,r)}var Nn=be(Rn,1/0),Ln=be(Rn,1);function Fn(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=Y(e)?[]:{}),r=U(r||B);var i=g(n);Ee(e,(function(e,n,r){i(t,e,n,r)}),(function(e){r(e,t)}))}function Mn(e,t){var r,i=null;t=t||B,jt(e,(function(e,t){g(e)((function(e,o){r=arguments.length>2?n(arguments,1):o,i=e,t(!e)}))}),(function(){t(i,r)}))}function jn(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function Bn(e,t,r){r=ge(r||B);var i=g(t);if(!e())return r(null);var o=function(t){if(t)return r(t);if(e())return i(o);var s=n(arguments,1);r.apply(null,[null].concat(s))};i(o)}function Un(e,t,n){Bn((function(){return!e.apply(this,arguments)}),t,n)}var qn=function(e,t){if(t=U(t||B),!Y(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function i(t){var n=g(e[r++]);t.push(ge(o)),n.apply(null,t)}function o(o){if(o||r===e.length)return t.apply(null,arguments);i(n(arguments,1))}i([])},$n={apply:r,applyEach:Ce,applyEachSeries:ke,asyncify:p,auto:Fe,autoInject:lt,cargo:ht,compose:yt,concat:wt,concatLimit:bt,concatSeries:_t,constant:Et,detect:Ct,detectLimit:Pt,detectSeries:It,dir:kt,doDuring:Dt,doUntil:Rt,doWhilst:At,during:Nt,each:Ft,eachLimit:Mt,eachOf:Ee,eachOfLimit:ve,eachOfSeries:ft,eachSeries:jt,ensureAsync:Bt,every:qt,everyLimit:$t,everySeries:Vt,filter:Kt,filterLimit:Yt,filterSeries:Jt,forever:Qt,groupBy:Zt,groupByLimit:Xt,groupBySeries:en,log:tn,map:Te,mapLimit:Ie,mapSeries:Oe,mapValues:rn,mapValuesLimit:nn,mapValuesSeries:on,memoize:an,nextTick:cn,parallel:un,parallelLimit:pn,priorityQueue:hn,queue:dn,race:fn,reduce:mt,reduceRight:mn,reflect:gn,reflectAll:yn,reject:bn,rejectLimit:wn,rejectSeries:_n,retry:xn,retryable:Sn,seq:gt,series:Tn,setImmediate:u,some:Cn,someLimit:Pn,someSeries:In,sortBy:On,timeout:kn,times:Nn,timesLimit:Rn,timesSeries:Ln,transform:Fn,tryEach:Mn,unmemoize:jn,until:Un,waterfall:qn,whilst:Bn,all:qt,allLimit:$t,allSeries:Vt,any:Cn,anyLimit:Pn,anySeries:In,find:Ct,findLimit:Pt,findSeries:It,forEach:Ft,forEachSeries:jt,forEachLimit:Mt,forEachOf:Ee,forEachOfSeries:ft,forEachOfLimit:ve,inject:mt,foldl:mt,foldr:mn,select:Kt,selectLimit:Yt,selectSeries:Jt,wrapSync:p};t.default=$n,t.apply=r,t.applyEach=Ce,t.applyEachSeries=ke,t.asyncify=p,t.auto=Fe,t.autoInject=lt,t.cargo=ht,t.compose=yt,t.concat=wt,t.concatLimit=bt,t.concatSeries=_t,t.constant=Et,t.detect=Ct,t.detectLimit=Pt,t.detectSeries=It,t.dir=kt,t.doDuring=Dt,t.doUntil=Rt,t.doWhilst=At,t.during=Nt,t.each=Ft,t.eachLimit=Mt,t.eachOf=Ee,t.eachOfLimit=ve,t.eachOfSeries=ft,t.eachSeries=jt,t.ensureAsync=Bt,t.every=qt,t.everyLimit=$t,t.everySeries=Vt,t.filter=Kt,t.filterLimit=Yt,t.filterSeries=Jt,t.forever=Qt,t.groupBy=Zt,t.groupByLimit=Xt,t.groupBySeries=en,t.log=tn,t.map=Te,t.mapLimit=Ie,t.mapSeries=Oe,t.mapValues=rn,t.mapValuesLimit=nn,t.mapValuesSeries=on,t.memoize=an,t.nextTick=cn,t.parallel=un,t.parallelLimit=pn,t.priorityQueue=hn,t.queue=dn,t.race=fn,t.reduce=mt,t.reduceRight=mn,t.reflect=gn,t.reflectAll=yn,t.reject=bn,t.rejectLimit=wn,t.rejectSeries=_n,t.retry=xn,t.retryable=Sn,t.seq=gt,t.series=Tn,t.setImmediate=u,t.some=Cn,t.someLimit=Pn,t.someSeries=In,t.sortBy=On,t.timeout=kn,t.times=Nn,t.timesLimit=Rn,t.timesSeries=Ln,t.transform=Fn,t.tryEach=Mn,t.unmemoize=jn,t.until=Un,t.waterfall=qn,t.whilst=Bn,t.all=qt,t.allLimit=$t,t.allSeries=Vt,t.any=Cn,t.anyLimit=Pn,t.anySeries=In,t.find=Ct,t.findLimit=Pt,t.findSeries=It,t.forEach=Ft,t.forEachSeries=jt,t.forEachLimit=Mt,t.forEachOf=Ee,t.forEachOfSeries=ft,t.forEachOfLimit=ve,t.inject=mt,t.foldl=mt,t.foldr=mn,t.select=Kt,t.selectLimit=Yt,t.selectSeries=Jt,t.wrapSync=p,Object.defineProperty(t,"__esModule",{value:!0})},r(t)},1873:(e,t,n)=>{e.exports={parallel:n(8798),serial:n(2081),serialOrdered:n(28)}},4555:e=>{function t(e){"function"==typeof this.jobs[e]&&this.jobs[e]()}e.exports=function(e){Object.keys(e.jobs).forEach(t.bind(e)),e.jobs={}}},2313:(e,t,n)=>{var r=n(405);e.exports=function(e){var t=!1;return r((function(){t=!0})),function(n,i){t?e(n,i):r((function(){e(n,i)}))}}},405:e=>{e.exports=function(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}},8051:(e,t,n)=>{var r=n(2313),i=n(4555);e.exports=function(e,t,n,o){var s=n.keyedList?n.keyedList[n.index]:n.index;n.jobs[s]=function(e,t,n,i){return 2==e.length?e(n,r(i)):e(n,t,r(i))}(t,s,e[s],(function(e,t){s in n.jobs&&(delete n.jobs[s],e?i(n):n.results[s]=t,o(e,n.results))}))}},9500:e=>{e.exports=function(e,t){var n=!Array.isArray(e),r={index:0,keyedList:n||t?Object.keys(e):null,jobs:{},results:n?{}:[],size:n?Object.keys(e).length:e.length};return t&&r.keyedList.sort(n?t:function(n,r){return t(e[n],e[r])}),r}},6276:(e,t,n)=>{var r=n(4555),i=n(2313);e.exports=function(e){Object.keys(this.jobs).length&&(this.index=this.size,r(this),i(e)(null,this.results))}},8798:(e,t,n)=>{var r=n(8051),i=n(9500),o=n(6276);e.exports=function(e,t,n){for(var s=i(e);s.index<(s.keyedList||e).length;)r(e,t,s,(function(e,t){e?n(e,t):0!==Object.keys(s.jobs).length||n(null,s.results)})),s.index++;return o.bind(s,n)}},2081:(e,t,n)=>{var r=n(28);e.exports=function(e,t,n){return r(e,t,null,n)}},28:(e,t,n)=>{var r=n(8051),i=n(9500),o=n(6276);function s(e,t){return e<t?-1:e>t?1:0}e.exports=function(e,t,n,s){var a=i(e,n);return r(e,t,a,(function n(i,o){i?s(i,o):(a.index++,a.index<(a.keyedList||e).length?r(e,t,a,n):s(null,a.results))})),o.bind(a,s)},e.exports.ascending=s,e.exports.descending=function(e,t){return-1*s(e,t)}},7042:e=>{function t(e){return Buffer.isBuffer(e)?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength)}e.exports={isBuffer:function(e){return Buffer.isBuffer(e)||e instanceof Uint8Array},isEncoding:function(e){return Buffer.isEncoding(e)},alloc:function(e,t,n){return Buffer.alloc(e,t,n)},allocUnsafe:function(e){return Buffer.allocUnsafe(e)},allocUnsafeSlow:function(e){return Buffer.allocUnsafeSlow(e)},byteLength:function(e,t){return Buffer.byteLength(e,t)},compare:function(e,t){return Buffer.compare(e,t)},concat:function(e,t){return Buffer.concat(e,t)},copy:function(e,n,r,i,o){return t(e).copy(n,r,i,o)},equals:function(e,n){return t(e).equals(n)},fill:function(e,n,r,i,o){return t(e).fill(n,r,i,o)},from:function(e,t,n){return Buffer.from(e,t,n)},includes:function(e,n,r,i){return t(e).includes(n,r,i)},indexOf:function(e,n,r,i){return t(e).indexOf(n,r,i)},lastIndexOf:function(e,n,r,i){return t(e).lastIndexOf(n,r,i)},swap16:function(e){return t(e).swap16()},swap32:function(e){return t(e).swap32()},swap64:function(e){return t(e).swap64()},toBuffer:t,toString:function(e,n,r,i){return t(e).toString(n,r,i)},write:function(e,n,r,i,o){return t(e).write(n,r,i,o)},readDoubleBE:function(e,n){return t(e).readDoubleBE(n)},readDoubleLE:function(e,n){return t(e).readDoubleLE(n)},readFloatBE:function(e,n){return t(e).readFloatBE(n)},readFloatLE:function(e,n){return t(e).readFloatLE(n)},readInt32BE:function(e,n){return t(e).readInt32BE(n)},readInt32LE:function(e,n){return t(e).readInt32LE(n)},readUInt32BE:function(e,n){return t(e).readUInt32BE(n)},readUInt32LE:function(e,n){return t(e).readUInt32LE(n)},writeDoubleBE:function(e,n,r){return t(e).writeDoubleBE(n,r)},writeDoubleLE:function(e,n,r){return t(e).writeDoubleLE(n,r)},writeFloatBE:function(e,n,r){return t(e).writeFloatBE(n,r)},writeFloatLE:function(e,n,r){return t(e).writeFloatLE(n,r)},writeInt32BE:function(e,n,r){return t(e).writeInt32BE(n,r)},writeInt32LE:function(e,n,r){return t(e).writeInt32LE(n,r)},writeUInt32BE:function(e,n,r){return t(e).writeUInt32BE(n,r)},writeUInt32LE:function(e,n,r){return t(e).writeUInt32LE(n,r)}}},8505:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var o=r(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,o,s,a,c=n.indexOf(e),l=n.indexOf(t,c+1),u=c;if(c>=0&&l>0){if(e===t)return[c,l];for(r=[],o=n.length;u>=0&&!a;)u==c?(r.push(u),c=n.indexOf(e,u+1)):1==r.length?a=[r.pop(),l]:((i=r.pop())<o&&(o=i,s=l),l=n.indexOf(t,u+1)),u=c<l&&c>=0?c:l;r.length&&(a=[o,s])}return a}e.exports=t,t.range=r},4025:(e,t,n)=>{var r=n(181).Buffer,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function o(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function s(e,t){e=o(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,s=0;s<e.length;s++)n=i[255&(n^e[s])]^n>>>8;return-1^n}function a(){return e=s.apply(null,arguments),(t=o(4)).writeInt32BE(e,0),t;var e,t}"undefined"!=typeof Int32Array&&(i=new Int32Array(i)),a.signed=function(){return s.apply(null,arguments)},a.unsigned=function(){return s.apply(null,arguments)>>>0},e.exports=a},3144:(e,t,n)=>{"use strict";var r=n(6743),i=n(1002),o=n(76),s=n(7119);e.exports=s||r.call(o,i)},1002:e=>{"use strict";e.exports=Function.prototype.apply},76:e=>{"use strict";e.exports=Function.prototype.call},3126:(e,t,n)=>{"use strict";var r=n(6743),i=n(9675),o=n(76),s=n(3144);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return s(r,o,e)}},7119:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},4189:(e,t,n)=>{var r={};e.exports=r,r.themes={};var i=r.styles=n(2139),o=Object.defineProperties;r.supportsColor=n(2708),void 0===r.enabled&&(r.enabled=r.supportsColor),r.stripColors=r.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")},r.stylize=function(e,t){return i[t].open+e+i[t].close};var s=/[|\\{}()[\]^$+*?.]/g;function a(e){var t=function e(){return p.apply(e,arguments)};return t._styles=e,t.__proto__=u,t}var c,l=(c={},i.grey=i.gray,Object.keys(i).forEach((function(e){i[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(s,"\\$&")}(i[e].close),"g"),c[e]={get:function(){return a(this._styles.concat(e))}}})),c),u=o((function(){}),l);function p(){var e=arguments,t=e.length,n=0!==t&&String(arguments[0]);if(t>1)for(var o=1;o<t;o++)n+=" "+e[o];if(!r.enabled||!n)return n;for(var s=this._styles,a=s.length;a--;){var c=i[s[a]];n=c.open+n.replace(c.closeRe,c.open)+c.close}return n}function d(e){for(var t in e)!function(t){r[t]=function(n){return r[e[t]](n)}}(t)}r.setTheme=function(e){if("string"==typeof e)try{return r.themes[e]=n(5908)(e),d(r.themes[e]),r.themes[e]}catch(e){return console.log(e),e}else d(e)};var h=function(e,t){var n=t.split("");return(n=n.map(e)).join("")};for(var f in r.trap=n(5722),r.zalgo=n(5408),r.maps={},r.maps.america=n(113),r.maps.zebra=n(889),r.maps.rainbow=n(6239),r.maps.random=n(3906),r.maps)!function(e){r[e]=function(t){return h(r.maps[e],t)}}(f);o(r,function(){var e={};return Object.keys(l).forEach((function(t){e[t]={get:function(){return a([t])}}})),e}())},5722:e=>{e.exports=function(e,t){var n="";e=(e=e||"Run the trap, drop the bass").split("");var r={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return e.forEach((function(e){e=e.toLowerCase();var t=r[e]||[" "],i=Math.floor(Math.random()*t.length);n+=void 0!==r[e]?r[e][i]:e})),n}},5408:e=>{e.exports=function(e,t){e=e||"   he is here   ";var n={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},r=[].concat(n.up,n.down,n.mid);function i(e){return Math.floor(Math.random()*e)}function o(e){var t=!1;return r.filter((function(n){t=n===e})),t}return function(e,t){var r,s,a="";for(s in(t=t||{}).up=t.up||!0,t.mid=t.mid||!0,t.down=t.down||!0,t.size=t.size||"maxi",e=e.split(""))if(!o(s)){switch(a+=e[s],r={up:0,down:0,mid:0},t.size){case"mini":r.up=i(8),r.min=i(2),r.down=i(8);break;case"maxi":r.up=i(16)+3,r.min=i(4)+1,r.down=i(64)+3;break;default:r.up=i(8)+1,r.mid=i(6)/2,r.down=i(8)+1}var c=["up","mid","down"];for(var l in c)for(var u=c[l],p=0;p<=r[u];p++)t[u]&&(a+=n[u][i(n[u].length)])}return a}(e)}},113:(e,t,n)=>{var r=n(4189);e.exports=function(e,t,n){if(" "===e)return e;switch(t%3){case 0:return r.red(e);case 1:return r.white(e);case 2:return r.blue(e)}}},6239:(e,t,n)=>{var r,i=n(4189);e.exports=(r=["red","yellow","green","blue","magenta"],function(e,t,n){return" "===e?e:i[r[t++%r.length]](e)})},3906:(e,t,n)=>{var r,i=n(4189);e.exports=(r=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"],function(e,t,n){return" "===e?e:i[r[Math.round(Math.random()*(r.length-1))]](e)})},889:(e,t,n)=>{var r=n(4189);e.exports=function(e,t,n){return t%2==0?e:r.inverse(e)}},2139:e=>{var t={};e.exports=t;var n={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(n).forEach((function(e){var r=n[e],i=t[e]=[];i.open="["+r[0]+"m",i.close="["+r[1]+"m"}))},2708:e=>{var t=process.argv;e.exports=-1===t.indexOf("--no-color")&&-1===t.indexOf("--color=false")&&(-1!==t.indexOf("--color")||-1!==t.indexOf("--color=true")||-1!==t.indexOf("--color=always")||!(process.stdout&&!process.stdout.isTTY)&&("win32"===process.platform||"COLORTERM"in process.env||"dumb"!==process.env.TERM&&!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)))},5908:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=5908,e.exports=t},948:(e,t,n)=>{var r=n(4189);e.exports=r},801:(e,t,n)=>{var r=n(9023),i=n(2203).Stream,o=n(8069);function s(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}e.exports=s,r.inherits(s,i),s.create=function(e){var t=new this;for(var n in e=e||{})t[n]=e[n];return t},s.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!Buffer.isBuffer(e)},s.prototype.append=function(e){if(s.isStreamLike(e)){if(!(e instanceof o)){var t=o.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},s.prototype.pipe=function(e,t){return i.prototype.pipe.call(this,e,t),this.resume(),e},s.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop)this._pendingNext=!0;else{this._insideLoop=!0;try{do{this._pendingNext=!1,this._realGetNext()}while(this._pendingNext)}finally{this._insideLoop=!1}}},s.prototype._realGetNext=function(){var e=this._streams.shift();void 0!==e?"function"==typeof e?e(function(e){s.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}.bind(this)):this._pipeNext(e):this.end()},s.prototype._pipeNext=function(e){if(this._currentStream=e,s.isStreamLike(e))return e.on("end",this._getNext.bind(this)),void e.pipe(this,{end:!1});var t=e;this.write(t),this._getNext()},s.prototype._handleErrors=function(e){var t=this;e.on("error",(function(e){t._emitError(e)}))},s.prototype.write=function(e){this.emit("data",e)},s.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},s.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},s.prototype.end=function(){this._reset(),this.emit("end")},s.prototype.destroy=function(){this._reset(),this.emit("close")},s.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},s.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}},s.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach((function(t){t.dataSize&&(e.dataSize+=t.dataSize)})),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},s.prototype._emitError=function(e){this._reset(),this.emit("error",e)}},9818:e=>{e.exports=function(e,n){for(var r=[],i=0;i<e.length;i++){var o=n(e[i],i);t(o)?r.push.apply(r,o):r.push(o)}return r};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},1331:(__unused_webpack_module,exports)=>{var cycle=exports;cycle.decycle=function(e){"use strict";var t=[],n=[];return function e(r,i){var o,s,a;if(!("object"!=typeof r||null===r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String)){for(o=0;o<t.length;o+=1)if(t[o]===r)return{$ref:n[o]};if(t.push(r),n.push(i),"[object Array]"===Object.prototype.toString.apply(r))for(a=[],o=0;o<r.length;o+=1)a[o]=e(r[o],i+"["+o+"]");else for(s in a={},r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=e(r[s],i+"["+JSON.stringify(s)+"]"));return a}return r}(e,"$")},cycle.retrocycle=function retrocycle($){"use strict";var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"==typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$}},8e3:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function o(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=i?o(a,c,i,"day"):c>=r?o(a,c,r,"hour"):c>=n?o(a,c,n,"minute"):c>=t?o(a,c,t,"second"):a+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=r?Math.round(e/r)+"h":o>=n?Math.round(e/n)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7833:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(736)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},736:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(8e3),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},5753:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(7833):e.exports=n(6033)},6033:(e,t,n)=>{const r=n(2018),i=n(9023);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=i.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(7687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(736)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},4744:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,n,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=r;var l=Array.isArray(n);return l===Array.isArray(e)?l?c.arrayMerge(e,n,c):function(e,t,n){var i={};return n.isMergeableObject(e)&&o(e).forEach((function(t){i[t]=r(e[t],n)})),o(t).forEach((function(o){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(s(e,o)&&n.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))})),i}(e,n,c):r(n,c)}a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})};var c=a;e.exports=c},2958:(e,t,n)=>{"use strict";const r=n(6928),i=n(7938),o=n(5036),s=n(2866),a=n(6867),c=n(922),l=n(552),u=a(c);function p(e){if(o(e))throw new Error("Cannot delete the current working directory. Can be overridden with the `force` option.");if(!s(e))throw new Error("Cannot delete files/folders outside the current working directory. Can be overridden with the `force` option.")}const d=(e,t)=>{t=Object.assign({},t);const{force:n,dryRun:o}=t;delete t.force,delete t.dryRun;const s=e=>(n||p(e),e=r.resolve(t.cwd||"",e),o?e:u(e,{glob:!1}).then((()=>e)));return i(e,t).then((e=>l(e,s,t)))};e.exports=d,e.exports.default=d,e.exports.sync=(e,t)=>{t=Object.assign({},t);const{force:n,dryRun:o}=t;return delete t.force,delete t.dryRun,i.sync(e,t).map((e=>(n||p(e),e=r.resolve(t.cwd||"",e),o||c.sync(e,{glob:!1}),e)))}},922:(e,t,n)=>{e.exports=d,d.sync=y;var r=n(2613),i=n(6928),o=n(9896),s=void 0;try{s=n(3577)}catch(e){}var a=parseInt("666",8),c={nosort:!0,silent:!0},l=0,u="win32"===process.platform;function p(e){if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((function(t){e[t]=e[t]||o[t],e[t+="Sync"]=e[t]||o[t]})),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,!1===e.glob&&(e.disableGlob=!0),!0!==e.disableGlob&&void 0===s)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||c}function d(e,t,n){"function"==typeof t&&(n=t,t={}),r(e,"rimraf: missing path"),r.equal(typeof e,"string","rimraf: path should be a string"),r.equal(typeof n,"function","rimraf: callback function required"),r(t,"rimraf: invalid options argument provided"),r.equal(typeof t,"object","rimraf: options should be object"),p(t);var i=0,o=null,a=0;if(t.disableGlob||!s.hasMagic(e))return c(null,[e]);function c(e,r){return e?n(e):0===(a=r.length)?n():void r.forEach((function(e){h(e,t,(function r(s){if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&i<t.maxBusyTries)return i++,setTimeout((function(){h(e,t,r)}),100*i);if("EMFILE"===s.code&&l<t.emfileWait)return setTimeout((function(){h(e,t,r)}),l++);"ENOENT"===s.code&&(s=null)}l=0,function(e){o=o||e,0==--a&&n(o)}(s)}))}))}t.lstat(e,(function(n,r){if(!n)return c(null,[e]);s(e,t.glob,c)}))}function h(e,t,n){r(e),r(t),r("function"==typeof n),t.lstat(e,(function(r,i){return r&&"ENOENT"===r.code?n(null):(r&&"EPERM"===r.code&&u&&f(e,t,r,n),i&&i.isDirectory()?g(e,t,r,n):void t.unlink(e,(function(r){if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return u?f(e,t,r,n):g(e,t,r,n);if("EISDIR"===r.code)return g(e,t,r,n)}return n(r)})))}))}function f(e,t,n,i){r(e),r(t),r("function"==typeof i),n&&r(n instanceof Error),t.chmod(e,a,(function(r){r?i("ENOENT"===r.code?null:n):t.stat(e,(function(r,o){r?i("ENOENT"===r.code?null:n):o.isDirectory()?g(e,t,n,i):t.unlink(e,i)}))}))}function m(e,t,n){r(e),r(t),n&&r(n instanceof Error);try{t.chmodSync(e,a)}catch(e){if("ENOENT"===e.code)return;throw n}try{var i=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}i.isDirectory()?v(e,t,n):t.unlinkSync(e)}function g(e,t,n,o){r(e),r(t),n&&r(n instanceof Error),r("function"==typeof o),t.rmdir(e,(function(s){!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?o(n):o(s):function(e,t,n){r(e),r(t),r("function"==typeof n),t.readdir(e,(function(r,o){if(r)return n(r);var s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach((function(r){d(i.join(e,r),t,(function(r){if(!s)return r?n(s=r):void(0==--a&&t.rmdir(e,n))}))}))}))}(e,t,o)}))}function y(e,t){var n;if(p(t=t||{}),r(e,"rimraf: missing path"),r.equal(typeof e,"string","rimraf: path should be a string"),r(t,"rimraf: missing options"),r.equal(typeof t,"object","rimraf: options should be object"),t.disableGlob||!s.hasMagic(e))n=[e];else try{t.lstatSync(e),n=[e]}catch(r){n=s.sync(e,t.glob)}if(n.length)for(var i=0;i<n.length;i++){e=n[i];try{var o=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&u&&m(e,t,n)}try{o&&o.isDirectory()?v(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return u?m(e,t,n):v(e,t,n);if("EISDIR"!==n.code)throw n;v(e,t,n)}}}function v(e,t,n){r(e),r(t),n&&r(n instanceof Error);try{t.rmdirSync(e)}catch(o){if("ENOENT"===o.code)return;if("ENOTDIR"===o.code)throw n;"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code||function(e,t){r(e),r(t),t.readdirSync(e).forEach((function(n){y(i.join(e,n),t)}));for(var n=u?100:1,o=0;;){var s=!0;try{var a=t.rmdirSync(e,t);return s=!1,a}finally{if(++o<n&&s)continue}}}(e,t)}}},8069:(e,t,n)=>{var r=n(2203).Stream,i=n(9023);function o(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}e.exports=o,i.inherits(o,r),o.create=function(e,t){var n=new this;for(var r in t=t||{})n[r]=t[r];n.source=e;var i=e.emit;return e.emit=function(){return n._handleEmit(arguments),i.apply(e,arguments)},e.on("error",(function(){})),n.pauseStream&&e.pause(),n},Object.defineProperty(o.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),o.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},o.prototype.resume=function(){this._released||this.release(),this.source.resume()},o.prototype.pause=function(){this.source.pause()},o.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]},o.prototype.pipe=function(){var e=r.prototype.pipe.apply(this,arguments);return this.resume(),e},o.prototype._handleEmit=function(e){this._released?this.emit.apply(this,e):("data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e))},o.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}},4460:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attributeNames=t.elementNames=void 0,t.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((function(e){return[e.toLowerCase(),e]}))),t.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((function(e){return[e.toLowerCase(),e]})))},3806:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var a=s(n(5413)),c=n(2730),l=n(4460),u=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function p(e){return e.replace(/"/g,"&quot;")}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function h(e,t){void 0===t&&(t={});for(var n=("length"in e?e:[e]),r="",i=0;i<n.length;i++)r+=f(n[i],t);return r}function f(e,t){switch(e.type){case a.Root:return h(e.children,t);case a.Doctype:case a.Directive:return"<".concat(e.data,">");case a.Comment:return"\x3c!--".concat(e.data,"--\x3e");case a.CDATA:return function(e){return"<![CDATA[".concat(e.children[0].data,"]]>")}(e);case a.Script:case a.Style:case a.Tag:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=l.elementNames.get(e.name))&&void 0!==n?n:e.name,e.parent&&m.has(e.parent.name)&&(t=r(r({},t),{xmlMode:!1}))),!t.xmlMode&&g.has(e.name)&&(t=r(r({},t),{xmlMode:"foreign"}));var i="<".concat(e.name),o=function(e,t){var n;if(e){var r=!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)?p:t.xmlMode||"utf8"!==t.encodeEntities?c.encodeXML:c.escapeAttribute;return Object.keys(e).map((function(n){var i,o,s=null!==(i=e[n])&&void 0!==i?i:"";return"foreign"===t.xmlMode&&(n=null!==(o=l.attributeNames.get(n))&&void 0!==o?o:n),t.emptyAttrs||t.xmlMode||""!==s?"".concat(n,'="').concat(r(s),'"'):n})).join(" ")}}(e.attribs,t);return o&&(i+=" ".concat(o)),0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&d.has(e.name))?(t.xmlMode||(i+=" "),i+="/>"):(i+=">",e.children.length>0&&(i+=h(e.children,t)),!t.xmlMode&&d.has(e.name)||(i+="</".concat(e.name,">"))),i}(e,t);case a.Text:return function(e,t){var n,r=e.data||"";return!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)||!t.xmlMode&&e.parent&&u.has(e.parent.name)||(r=t.xmlMode||"utf8"!==t.encodeEntities?(0,c.encodeXML)(r):(0,c.escapeText)(r)),r}(e,t)}}t.render=h,t.default=h;var m=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),g=new Set(["svg","math"])},5413:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},1141:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var o=n(5413),s=n(6957);i(n(6957),t);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=function(){function e(e,t,n){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=a),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:a,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?o.ElementType.Tag:void 0,r=new s.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===o.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new s.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=e;else{var t=new s.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new s.Text(""),t=new s.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new s.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=c,t.default=c},6957:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var s=n(5413),a=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),E(this,e)},e}();t.Node=a;var c=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return i(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);t.DataNode=c;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Text,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(c);t.Text=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Comment,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(c);t.Comment=u;var p=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=s.ElementType.Directive,r}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(c);t.ProcessingInstruction=p;var d=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return i(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(a);t.NodeWithChildren=d;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.CDATA,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(d);t.CDATA=h;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Root,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(d);t.Document=f;var m=function(e){function t(t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===t?s.ElementType.Script:"style"===t?s.ElementType.Style:s.ElementType.Tag);var o=e.call(this,r)||this;return o.name=t,o.attribs=n,o.type=i,o}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(d);function g(e){return(0,s.isTag)(e)}function y(e){return e.type===s.ElementType.CDATA}function v(e){return e.type===s.ElementType.Text}function b(e){return e.type===s.ElementType.Comment}function w(e){return e.type===s.ElementType.Directive}function _(e){return e.type===s.ElementType.Root}function E(e,t){var n;if(void 0===t&&(t=!1),v(e))n=new l(e.data);else if(b(e))n=new u(e.data);else if(g(e)){var r=t?x(e.children):[],i=new m(e.name,o({},e.attribs),r);r.forEach((function(e){return e.parent=i})),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=o({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=o({},e["x-attribsPrefix"])),n=i}else if(y(e)){r=t?x(e.children):[];var s=new h(r);r.forEach((function(e){return e.parent=s})),n=s}else if(_(e)){r=t?x(e.children):[];var a=new f(r);r.forEach((function(e){return e.parent=a})),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else{if(!w(e))throw new Error("Not implemented yet: ".concat(e.type));var c=new p(e.name,e.data);null!=e["x-name"]&&(c["x-name"]=e["x-name"],c["x-publicId"]=e["x-publicId"],c["x-systemId"]=e["x-systemId"]),n=c}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function x(e){for(var t=e.map((function(e){return E(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=m,t.isTag=g,t.isCDATA=y,t.isText=v,t.isComment=b,t.isDirective=w,t.isDocument=_,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=E},4437:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeed=function(e){var t=c(p,e);return t?"feed"===t.name?function(e){var t,n=e.children,r={type:"atom",items:(0,i.getElementsByTagName)("entry",n).map((function(e){var t,n=e.children,r={media:a(n)};u(r,"id","id",n),u(r,"title","title",n);var i=null===(t=c("link",n))||void 0===t?void 0:t.attribs.href;i&&(r.link=i);var o=l("summary",n)||l("content",n);o&&(r.description=o);var s=l("updated",n);return s&&(r.pubDate=new Date(s)),r}))};u(r,"id","id",n),u(r,"title","title",n);var o=null===(t=c("link",n))||void 0===t?void 0:t.attribs.href;o&&(r.link=o),u(r,"description","subtitle",n);var s=l("updated",n);return s&&(r.updated=new Date(s)),u(r,"author","email",n,!0),r}(t):function(e){var t,n,r=null!==(n=null===(t=c("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],o={type:e.name.substr(0,3),id:"",items:(0,i.getElementsByTagName)("item",e.children).map((function(e){var t=e.children,n={media:a(t)};u(n,"id","guid",t),u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t);var r=l("pubDate",t)||l("dc:date",t);return r&&(n.pubDate=new Date(r)),n}))};u(o,"title","title",r),u(o,"link","link",r),u(o,"description","description",r);var s=l("lastBuildDate",r);return s&&(o.updated=new Date(s)),u(o,"author","managingEditor",r,!0),o}(t):null};var r=n(6037),i=n(3209),o=["url","type","lang"],s=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function a(e){return(0,i.getElementsByTagName)("media:content",e).map((function(e){for(var t=e.attribs,n={medium:t.medium,isDefault:!!t.isDefault},r=0,i=o;r<i.length;r++)t[l=i[r]]&&(n[l]=t[l]);for(var a=0,c=s;a<c.length;a++){var l;t[l=c[a]]&&(n[l]=parseInt(t[l],10))}return t.expression&&(n.expression=t.expression),n}))}function c(e,t){return(0,i.getElementsByTagName)(e,t,!0,1)[0]}function l(e,t,n){return void 0===n&&(n=!1),(0,r.textContent)((0,i.getElementsByTagName)(e,t,n,1)).trim()}function u(e,t,n,r,i){void 0===i&&(i=!1);var o=l(n,r,i);o&&(e[t]=o)}function p(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}},5397:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentPosition=void 0,t.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e},t.compareDocumentPosition=o,t.uniqueSort=function(e){return(e=e.filter((function(e,t,n){return!n.includes(e,t+1)}))).sort((function(e,t){var n=o(e,t);return n&r.PRECEDING?-1:n&r.FOLLOWING?1:0})),e};var r,i=n(1141);function o(e,t){var n=[],o=[];if(e===t)return 0;for(var s=(0,i.hasChildren)(e)?e:e.parent;s;)n.unshift(s),s=s.parent;for(s=(0,i.hasChildren)(t)?t:t.parent;s;)o.unshift(s),s=s.parent;for(var a=Math.min(n.length,o.length),c=0;c<a&&n[c]===o[c];)c++;if(0===c)return r.DISCONNECTED;var l=n[c-1],u=l.children,p=n[c],d=o[c];return u.indexOf(p)>u.indexOf(d)?l===t?r.FOLLOWING|r.CONTAINED_BY:r.FOLLOWING:l===e?r.PRECEDING|r.CONTAINS:r.PRECEDING}!function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"}(r||(t.DocumentPosition=r={}))},8888:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,i(n(6037),t),i(n(8938),t),i(n(3403),t),i(n(718),t),i(n(3209),t),i(n(5397),t),i(n(4437),t);var o=n(1141);Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return o.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return o.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return o.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return o.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return o.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return o.hasChildren}})},3209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testElement=function(e,t){var n=c(e);return!n||n(t)},t.getElements=function(e,t,n,r){void 0===r&&(r=1/0);var o=c(e);return o?(0,i.filter)(o,t,n,r):[]},t.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),(0,i.findOne)(s("id",e),t,n)},t.getElementsByTagName=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,i.filter)(o.tag_name(e),t,n,r)},t.getElementsByClassName=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,i.filter)(s("class",e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,i.filter)(o.tag_type(e),t,n,r)};var r=n(1141),i=n(718),o={tag_name:function(e){return"function"==typeof e?function(t){return(0,r.isTag)(t)&&e(t.name)}:"*"===e?r.isTag:function(t){return(0,r.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return(0,r.isText)(t)&&e(t.data)}:function(t){return(0,r.isText)(t)&&t.data===e}}};function s(e,t){return"function"==typeof t?function(n){return(0,r.isTag)(n)&&t(n.attribs[e])}:function(n){return(0,r.isTag)(n)&&n.attribs[e]===t}}function a(e,t){return function(n){return e(n)||t(n)}}function c(e){var t=Object.keys(e).map((function(t){var n=e[t];return Object.prototype.hasOwnProperty.call(o,t)?o[t](n):s(t,n)}));return 0===t.length?null:t.reduce(a)}},3403:(e,t)=>{"use strict";function n(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}Object.defineProperty(t,"__esModule",{value:!0}),t.removeElement=n,t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var o=i.children;o[o.lastIndexOf(e)]=t,e.parent=null}},t.appendChild=function(e,t){if(n(t),t.next=null,t.parent=e,e.children.push(t)>1){var r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null},t.append=function(e,t){n(t);var r=e.parent,i=e.next;if(t.next=i,t.prev=e,e.next=t,t.parent=r,i){if(i.prev=t,r){var o=r.children;o.splice(o.lastIndexOf(i),0,t)}}else r&&r.children.push(t)},t.prependChild=function(e,t){if(n(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){var r=e.children[1];r.prev=t,t.next=r}else t.next=null},t.prepend=function(e,t){n(t);var r=e.parent;if(r){var i=r.children;i.splice(i.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}},718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filter=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),i(e,Array.isArray(t)?t:[t],n,r)},t.find=i,t.findOneChild=function(e,t){return t.find(e)},t.findOne=function e(t,n,i){void 0===i&&(i=!0);for(var o=Array.isArray(n)?n:[n],s=0;s<o.length;s++){var a=o[s];if((0,r.isTag)(a)&&t(a))return a;if(i&&(0,r.hasChildren)(a)&&a.children.length>0){var c=e(t,a.children,!0);if(c)return c}}return null},t.existsOne=function e(t,n){return(Array.isArray(n)?n:[n]).some((function(n){return(0,r.isTag)(n)&&t(n)||(0,r.hasChildren)(n)&&e(t,n.children)}))},t.findAll=function(e,t){for(var n=[],i=[Array.isArray(t)?t:[t]],o=[0];;)if(o[0]>=i[0].length){if(1===i.length)return n;i.shift(),o.shift()}else{var s=i[0][o[0]++];(0,r.isTag)(s)&&e(s)&&n.push(s),(0,r.hasChildren)(s)&&s.children.length>0&&(o.unshift(0),i.unshift(s.children))}};var r=n(1141);function i(e,t,n,i){for(var o=[],s=[Array.isArray(t)?t:[t]],a=[0];;)if(a[0]>=s[0].length){if(1===a.length)return o;s.shift(),a.shift()}else{var c=s[0][a[0]++];if(e(c)&&(o.push(c),--i<=0))return o;n&&(0,r.hasChildren)(c)&&c.children.length>0&&(a.unshift(0),s.unshift(c.children))}}},6037:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getOuterHTML=a,t.getInnerHTML=function(e,t){return(0,i.hasChildren)(e)?e.children.map((function(e){return a(e,t)})).join(""):""},t.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.isTag)(t)?"br"===t.name?"\n":e(t.children):(0,i.isCDATA)(t)?e(t.children):(0,i.isText)(t)?t.data:""},t.textContent=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.hasChildren)(t)&&!(0,i.isComment)(t)?e(t.children):(0,i.isText)(t)?t.data:""},t.innerText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.hasChildren)(t)&&(t.type===s.ElementType.Tag||(0,i.isCDATA)(t))?e(t.children):(0,i.isText)(t)?t.data:""};var i=n(1141),o=r(n(3806)),s=n(5413);function a(e,t){return(0,o.default)(e,t)}},8938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChildren=i,t.getParent=o,t.getSiblings=function(e){var t=o(e);if(null!=t)return i(t);for(var n=[e],r=e.prev,s=e.next;null!=r;)n.unshift(r),r=r.prev;for(;null!=s;)n.push(s),s=s.next;return n},t.getAttributeValue=function(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]},t.hasAttrib=function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},t.getName=function(e){return e.name},t.nextElementSibling=function(e){for(var t=e.next;null!==t&&!(0,r.isTag)(t);)t=t.next;return t},t.prevElementSibling=function(e){for(var t=e.prev;null!==t&&!(0,r.isTag)(t);)t=t.prev;return t};var r=n(1141);function i(e){return(0,r.hasChildren)(e)?e.children:[]}function o(e){return e.parent||null}},7176:(e,t,n)=>{"use strict";var r,i=n(3126),o=n(5795);try{r=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var s=!!r&&o&&o(Object.prototype,"__proto__"),a=Object,c=a.getPrototypeOf;e.exports=s&&"function"==typeof s.get?i([s.get]):"function"==typeof c&&function(e){return c(null==e?e:a(e))}},6611:(e,t,n)=>{var r=n(3519),i=function(){},o=global.Bare?queueMicrotask:process.nextTick.bind(process),s=function(e,t,n){if("function"==typeof t)return s(e,null,t);t||(t={}),n=r(n||i);var a=e._writableState,c=e._readableState,l=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,p=!1,d=function(){e.writable||h()},h=function(){u=!1,l||n.call(e)},f=function(){l=!1,u||n.call(e)},m=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},g=function(t){n.call(e,t)},y=function(){o(v)},v=function(){if(!p)return(!l||c&&c.ended&&!c.destroyed)&&(!u||a&&a.ended&&!a.destroyed)?void 0:n.call(e,new Error("premature close"))},b=function(){e.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",h),e.on("abort",y),e.req?b():e.on("request",b)):u&&!a&&(e.on("end",d),e.on("close",d)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",m),e.on("end",f),e.on("finish",h),!1!==t.error&&e.on("error",g),e.on("close",y),function(){p=!0,e.removeListener("complete",h),e.removeListener("abort",y),e.removeListener("request",b),e.req&&e.req.removeListener("finish",h),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("exit",m),e.removeListener("end",f),e.removeListener("error",g),e.removeListener("close",y)}};e.exports=s},9878:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var a=s(n(3603));t.htmlDecodeTree=a.default;var c=s(n(2517));t.xmlDecodeTree=c.default;var l=o(n(5096));t.decodeCodePoint=l.default;var u,p,d,h,f=n(5096);function m(e){return e>=u.ZERO&&e<=u.NINE}Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return f.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return f.fromCodePoint}}),function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(u||(u={})),function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(p=t.BinTrieFlags||(t.BinTrieFlags={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(d||(d={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(h=t.DecodingMode||(t.DecodingMode={}));var g=function(){function e(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=d.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=h.Strict}return e.prototype.startEntity=function(e){this.decodeMode=e,this.state=d.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},e.prototype.write=function(e,t){switch(this.state){case d.EntityStart:return e.charCodeAt(t)===u.NUM?(this.state=d.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=d.NamedEntity,this.stateNamedEntity(e,t));case d.NumericStart:return this.stateNumericStart(e,t);case d.NumericDecimal:return this.stateNumericDecimal(e,t);case d.NumericHex:return this.stateNumericHex(e,t);case d.NamedEntity:return this.stateNamedEntity(e,t)}},e.prototype.stateNumericStart=function(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===u.LOWER_X?(this.state=d.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=d.NumericDecimal,this.stateNumericDecimal(e,t))},e.prototype.addToNumericResult=function(e,t,n,r){if(t!==n){var i=n-t;this.result=this.result*Math.pow(r,i)+parseInt(e.substr(t,i),r),this.consumed+=i}},e.prototype.stateNumericHex=function(e,t){for(var n,r=t;t<e.length;){var i=e.charCodeAt(t);if(!(m(i)||(n=i,n>=u.UPPER_A&&n<=u.UPPER_F||n>=u.LOWER_A&&n<=u.LOWER_F)))return this.addToNumericResult(e,r,t,16),this.emitNumericEntity(i,3);t+=1}return this.addToNumericResult(e,r,t,16),-1},e.prototype.stateNumericDecimal=function(e,t){for(var n=t;t<e.length;){var r=e.charCodeAt(t);if(!m(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1},e.prototype.emitNumericEntity=function(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===u.SEMI)this.consumed+=1;else if(this.decodeMode===h.Strict)return 0;return this.emitCodePoint((0,l.replaceCodePoint)(this.result),this.consumed),this.errors&&(e!==u.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},e.prototype.stateNamedEntity=function(e,t){for(var n=this.decodeTree,r=n[this.treeIndex],i=(r&p.VALUE_LENGTH)>>14;t<e.length;t++,this.excess++){var o=e.charCodeAt(t);if(this.treeIndex=v(n,r,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return 0===this.result||this.decodeMode===h.Attribute&&(0===i||((s=o)===u.EQUALS||function(e){return e>=u.UPPER_A&&e<=u.UPPER_Z||e>=u.LOWER_A&&e<=u.LOWER_Z||m(e)}(s)))?0:this.emitNotTerminatedNamedEntity();if(0!=(i=((r=n[this.treeIndex])&p.VALUE_LENGTH)>>14)){if(o===u.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==h.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}var s;return-1},e.prototype.emitNotTerminatedNamedEntity=function(){var e,t=this.result,n=(this.decodeTree[t]&p.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed},e.prototype.emitNamedEntityData=function(e,t,n){var r=this.decodeTree;return this.emitCodePoint(1===t?r[e]&~p.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n},e.prototype.end=function(){var e;switch(this.state){case d.NamedEntity:return 0===this.result||this.decodeMode===h.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case d.NumericDecimal:return this.emitNumericEntity(0,2);case d.NumericHex:return this.emitNumericEntity(0,3);case d.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case d.EntityStart:return 0}},e}();function y(e){var t="",n=new g(e,(function(e){return t+=(0,l.fromCodePoint)(e)}));return function(e,r){for(var i=0,o=0;(o=e.indexOf("&",o))>=0;){t+=e.slice(i,o),n.startEntity(r);var s=n.write(e,o+1);if(s<0){i=o+n.end();break}i=o+s,o=0===s?i+1:i}var a=t+e.slice(i);return t="",a}}function v(e,t,n,r){var i=(t&p.BRANCH_LENGTH)>>7,o=t&p.JUMP_TABLE;if(0===i)return 0!==o&&r===o?n:-1;if(o){var s=r-o;return s<0||s>=i?-1:e[n+s]-1}for(var a=n,c=a+i-1;a<=c;){var l=a+c>>>1,u=e[l];if(u<r)a=l+1;else{if(!(u>r))return e[l+i];c=l-1}}return-1}t.EntityDecoder=g,t.determineBranch=v;var b=y(a.default),w=y(c.default);t.decodeHTML=function(e,t){return void 0===t&&(t=h.Legacy),b(e,t)},t.decodeHTMLAttribute=function(e){return b(e,h.Attribute)},t.decodeHTMLStrict=function(e){return b(e,h.Strict)},t.decodeXML=function(e){return w(e,h.Strict)}},5096:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function i(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=r.get(e))&&void 0!==t?t:e}t.fromCodePoint=null!==(n=String.fromCodePoint)&&void 0!==n?n:function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)},t.replaceCodePoint=i,t.default=function(e){return(0,t.fromCodePoint)(i(e))}},1818:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.encodeNonAsciiHTML=t.encodeHTML=void 0;var i=r(n(5504)),o=n(5987),s=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function a(e,t){for(var n,r="",s=0;null!==(n=e.exec(t));){var a=n.index;r+=t.substring(s,a);var c=t.charCodeAt(a),l=i.default.get(c);if("object"==typeof l){if(a+1<t.length){var u=t.charCodeAt(a+1),p="number"==typeof l.n?l.n===u?l.o:void 0:l.n.get(u);if(void 0!==p){r+=p,s=e.lastIndex+=1;continue}}l=l.v}if(void 0!==l)r+=l,s=a+1;else{var d=(0,o.getCodePoint)(t,a);r+="&#x".concat(d.toString(16),";"),s=e.lastIndex+=Number(d!==c)}}return r+t.substr(s)}t.encodeHTML=function(e){return a(s,e)},t.encodeNonAsciiHTML=function(e){return a(o.xmlReplacer,e)}},5987:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var n=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function r(e){for(var r,i="",o=0;null!==(r=t.xmlReplacer.exec(e));){var s=r.index,a=e.charCodeAt(s),c=n.get(a);void 0!==c?(i+=e.substring(o,s)+c,o=s+1):(i+="".concat(e.substring(o,s),"&#x").concat((0,t.getCodePoint)(e,s).toString(16),";"),o=t.xmlReplacer.lastIndex+=Number(55296==(64512&a)))}return i+e.substr(o)}function i(e,t){return function(n){for(var r,i=0,o="";r=e.exec(n);)i!==r.index&&(o+=n.substring(i,r.index)),o+=t.get(r[0].charCodeAt(0)),i=r.index+1;return o+n.substring(i)}}t.getCodePoint=null!=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 55296==(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t)},t.encodeXML=r,t.escape=r,t.escapeUTF8=i(/[&<>'"]/g,n),t.escapeAttribute=i(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=i(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))},3603:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map((function(e){return e.charCodeAt(0)})))},2517:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Uint16Array("Ȁaglq\tɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map((function(e){return e.charCodeAt(0)})))},5504:(e,t)=>{"use strict";function n(e){for(var t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Map(n([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(n([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(n([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(n([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))},2730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var r,i,o=n(9878),s=n(1818),a=n(5987);function c(e,t){if(void 0===t&&(t=r.XML),("number"==typeof t?t:t.level)===r.HTML){var n="object"==typeof t?t.mode:void 0;return(0,o.decodeHTML)(e,n)}return(0,o.decodeXML)(e)}!function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(r=t.EntityLevel||(t.EntityLevel={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}(i=t.EncodingMode||(t.EncodingMode={})),t.decode=c,t.decodeStrict=function(e,t){var n;void 0===t&&(t=r.XML);var i="number"==typeof t?{level:t}:t;return null!==(n=i.mode)&&void 0!==n||(i.mode=o.DecodingMode.Strict),c(e,i)},t.encode=function(e,t){void 0===t&&(t=r.XML);var n="number"==typeof t?{level:t}:t;return n.mode===i.UTF8?(0,a.escapeUTF8)(e):n.mode===i.Attribute?(0,a.escapeAttribute)(e):n.mode===i.Text?(0,a.escapeText)(e):n.level===r.HTML?n.mode===i.ASCII?(0,s.encodeNonAsciiHTML)(e):(0,s.encodeHTML)(e):(0,a.encodeXML)(e)};var l=n(5987);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return l.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return l.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return l.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return l.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return l.escapeText}});var u=n(1818);Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return u.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return u.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return u.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return u.encodeHTML}});var p=n(9878);Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return p.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return p.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return p.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return p.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return p.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return p.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return p.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return p.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return p.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return p.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return p.decodeXML}})},655:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},1237:e=>{"use strict";e.exports=EvalError},9383:e=>{"use strict";e.exports=Error},9290:e=>{"use strict";e.exports=RangeError},9538:e=>{"use strict";e.exports=ReferenceError},8068:e=>{"use strict";e.exports=SyntaxError},9675:e=>{"use strict";e.exports=TypeError},5345:e=>{"use strict";e.exports=URIError},9612:e=>{"use strict";e.exports=Object},9605:(e,t,n)=>{"use strict";var r=n(453)("%Object.defineProperty%",!0),i=n(5732)(),o=n(9957),s=n(9675),a=i?Symbol.toStringTag:null;e.exports=function(e,t){var n=arguments.length>2&&!!arguments[2]&&arguments[2].force,i=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(void 0!==n&&"boolean"!=typeof n||void 0!==i&&"boolean"!=typeof i)throw new s("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");!a||!n&&o(e,a)||(r?r(e,a,{configurable:!i,enumerable:!1,value:t,writable:!1}):e[a]=t)}},5732:(e,t,n)=>{"use strict";var r=n(1333);e.exports=function(){return r()&&!!Symbol.toStringTag}},2834:e=>{"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},301:(e,t,n)=>{e.exports=n(4434)},8190:e=>{e.exports=class{constructor(e){if(!(e>0)||0!=(e-1&e))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}}},6080:(e,t,n)=>{const r=n(8190);e.exports=class{constructor(e){this.hwm=e||16,this.head=new r(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){const t=this.head;this.head=t.next=new r(2*this.head.buffer.length),this.head.push(e)}}shift(){0!==this.length&&this.length--;const e=this.tail.shift();if(void 0===e&&this.tail.next){const e=this.tail.next;return this.tail.next=null,this.tail=e,this.tail.shift()}return e}peek(){const e=this.tail.peek();return void 0===e&&this.tail.next?this.tail.next.peek():e}isEmpty(){return 0===this.length}}},3070:(e,t,n)=>{var r=n(9896),i=n(9023),o=n(2203),s=o.Readable,a=o.Writable,c=o.PassThrough,l=n(1436),u=n(4434).EventEmitter;function p(e,t){t=t||{},u.call(this),this.fd=e,this.pend=new l,this.pend.max=1,this.refCount=0,this.autoClose=!!t.autoClose}function d(e,t){t=t||{},s.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=t.end,this.pos=this.start,this.destroyed=!1}function h(e,t){t=t||{},a.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=null==t.end?1/0:+t.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}function f(e,t){u.call(this),t=t||{},this.refCount=0,this.buffer=e,this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}t.createFromBuffer=function(e,t){return new f(e,t)},t.createFromFd=function(e,t){return new p(e,t)},t.BufferSlicer=f,t.FdSlicer=p,i.inherits(p,u),p.prototype.read=function(e,t,n,i,o){var s=this;s.pend.go((function(a){r.read(s.fd,e,t,n,i,(function(e,t,n){a(),o(e,t,n)}))}))},p.prototype.write=function(e,t,n,i,o){var s=this;s.pend.go((function(a){r.write(s.fd,e,t,n,i,(function(e,t,n){a(),o(e,t,n)}))}))},p.prototype.createReadStream=function(e){return new d(this,e)},p.prototype.createWriteStream=function(e){return new h(this,e)},p.prototype.ref=function(){this.refCount+=1},p.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.autoClose&&r.close(e.fd,(function(t){t?e.emit("error",t):e.emit("close")}))}},i.inherits(d,s),d.prototype._read=function(e){var t=this;if(!t.destroyed){var n=Math.min(t._readableState.highWaterMark,e);if(null!=t.endOffset&&(n=Math.min(n,t.endOffset-t.pos)),n<=0)return t.destroyed=!0,t.push(null),void t.context.unref();t.context.pend.go((function(e){if(t.destroyed)return e();var i=new Buffer(n);r.read(t.context.fd,i,0,n,t.pos,(function(n,r){n?t.destroy(n):0===r?(t.destroyed=!0,t.push(null),t.context.unref()):(t.pos+=r,t.push(i.slice(0,r))),e()}))}))}},d.prototype.destroy=function(e){this.destroyed||(e=e||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",e),this.context.unref())},i.inherits(h,a),h.prototype._write=function(e,t,n){var i=this;if(!i.destroyed){if(i.pos+e.length>i.endOffset){var o=new Error("maximum file length exceeded");return o.code="ETOOBIG",i.destroy(),void n(o)}i.context.pend.go((function(t){if(i.destroyed)return t();r.write(i.context.fd,e,0,e.length,i.pos,(function(e,r){e?(i.destroy(),t(),n(e)):(i.bytesWritten+=r,i.pos+=r,i.emit("progress"),t(),n())}))}))}},h.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())},i.inherits(f,u),f.prototype.read=function(e,t,n,r,i){var o=r+n,s=o-this.buffer.length,a=s>0?s:n;this.buffer.copy(e,t,r,o),setImmediate((function(){i(null,a)}))},f.prototype.write=function(e,t,n,r,i){e.copy(this.buffer,r,t,t+n),setImmediate((function(){i(null,n,e)}))},f.prototype.createReadStream=function(e){var t=new c(e=e||{});t.destroyed=!1,t.start=e.start||0,t.endOffset=e.end,t.pos=t.endOffset||this.buffer.length;for(var n=this.buffer.slice(t.start,t.pos),r=0;;){var i=r+this.maxChunkSize;if(i>=n.length){r<n.length&&t.write(n.slice(r,n.length));break}t.write(n.slice(r,i)),r=i}return t.end(),t.destroy=function(){t.destroyed=!0},t},f.prototype.createWriteStream=function(e){var t=this,n=new a(e=e||{});return n.start=e.start||0,n.endOffset=null==e.end?this.buffer.length:+e.end,n.bytesWritten=0,n.pos=n.start,n.destroyed=!1,n._write=function(e,r,i){if(!n.destroyed){var o=n.pos+e.length;if(o>n.endOffset){var s=new Error("maximum file length exceeded");return s.code="ETOOBIG",n.destroyed=!0,void i(s)}e.copy(t.buffer,n.pos,0,e.length),n.bytesWritten+=e.length,n.pos=o,n.emit("progress"),i()}},n.destroy=function(){n.destroyed=!0},n},f.prototype.ref=function(){this.refCount+=1},f.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")}},7507:(e,t,n)=>{var r;e.exports=function(){if(!r){try{r=n(5753)("follow-redirects")}catch(e){}"function"!=typeof r&&(r=function(){})}r.apply(null,arguments)}},3164:(e,t,n)=>{var r,i,o,s=n(7016),a=s.URL,c=n(8611),l=n(5692),u=n(2203).Writable,p=n(2613),d=n(7507);r="undefined"!=typeof process,i="undefined"!=typeof window&&"undefined"!=typeof document,o=R(Error.captureStackTrace),r||!i&&o||console.warn("The follow-redirects package should be excluded from browser builds.");var h=!1;try{p(new a(""))}catch(e){h="ERR_INVALID_URL"===e.code}var f=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],m=["abort","aborted","connect","error","socket","timeout"],g=Object.create(null);m.forEach((function(e){g[e]=function(t,n,r){this._redirectable.emit(e,t,n,r)}}));var y=k("ERR_INVALID_URL","Invalid URL",TypeError),v=k("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),b=k("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",v),w=k("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),_=k("ERR_STREAM_WRITE_AFTER_END","write after end"),E=u.prototype.destroy||T;function x(e,t){u.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(e){try{n._processResponse(e)}catch(e){n.emit("error",e instanceof v?e:new v({cause:e}))}},this._performRequest()}function S(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach((function(r){var i=r+":",o=n[i]=e[r],s=t[r]=Object.create(o);Object.defineProperties(s,{request:{value:function(e,r,o){return a&&e instanceof a?e=I(e):A(e)?e=I(C(e)):(o=r,r=P(e),e={protocol:i}),R(r)&&(o=r,r=null),(r=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,r)).nativeProtocols=n,A(r.host)||A(r.hostname)||(r.hostname="::1"),p.equal(r.protocol,i,"protocol mismatch"),d("options",r),new x(r,o)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,n){var r=s.request(e,t,n);return r.end(),r},configurable:!0,enumerable:!0,writable:!0}})})),t}function T(){}function C(e){var t;if(h)t=new a(e);else if(!A((t=P(s.parse(e))).protocol))throw new y({input:e});return t}function P(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname))throw new y({input:e.href||e});if(/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new y({input:e.href||e});return e}function I(e,t){var n=t||{};for(var r of f)n[r]=e[r];return n.hostname.startsWith("[")&&(n.hostname=n.hostname.slice(1,-1)),""!==n.port&&(n.port=Number(n.port)),n.path=n.search?n.pathname+n.search:n.pathname,n}function O(e,t){var n;for(var r in t)e.test(r)&&(n=t[r],delete t[r]);return null==n?void 0:String(n).trim()}function k(e,t,n){function r(n){R(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,n||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return r.prototype=new(n||Error),Object.defineProperties(r.prototype,{constructor:{value:r,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),r}function D(e,t){for(var n of m)e.removeListener(n,g[n]);e.on("error",T),e.destroy(t)}function A(e){return"string"==typeof e||e instanceof String}function R(e){return"function"==typeof e}x.prototype=Object.create(u.prototype),x.prototype.abort=function(){D(this._currentRequest),this._currentRequest.abort(),this.emit("abort")},x.prototype.destroy=function(e){return D(this._currentRequest,e),E.call(this,e),this},x.prototype.write=function(e,t,n){if(this._ending)throw new _;if(!(A(e)||"object"==typeof(r=e)&&"length"in r))throw new TypeError("data should be a string, Buffer or Uint8Array");var r;R(t)&&(n=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new w),this.abort()):n&&n()},x.prototype.end=function(e,t,n){if(R(e)?(n=e,e=t=null):R(t)&&(n=t,t=null),e){var r=this,i=this._currentRequest;this.write(e,t,(function(){r._ended=!0,i.end(null,null,n)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},x.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},x.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},x.prototype.setTimeout=function(e,t){var n=this;function r(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function i(t){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout((function(){n.emit("timeout"),o()}),e),r(t)}function o(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",o),n.removeListener("error",o),n.removeListener("response",o),n.removeListener("close",o),t&&n.removeListener("timeout",t),n.socket||n._currentRequest.removeListener("socket",i)}return t&&this.on("timeout",t),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",r),this.on("abort",o),this.on("error",o),this.on("response",o),this.on("close",o),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){x.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(x.prototype,e,{get:function(){return this._currentRequest[e]}})})),x.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},x.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw new TypeError("Unsupported protocol "+e);if(this._options.agents){var n=e.slice(0,-1);this._options.agent=this._options.agents[n]}var r=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var i of(r._redirectable=this,m))r.on(i,g[i]);if(this._currentUrl=/^\//.test(this._options.path)?s.format(this._options):this._options.path,this._isRedirect){var o=0,a=this,c=this._requestBodyBuffers;!function e(t){if(r===a._currentRequest)if(t)a.emit("error",t);else if(o<c.length){var n=c[o++];r.finished||r.write(n.data,n.encoding,e)}else a._ended&&r.end()}()}},x.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n,r=e.headers.location;if(!r||!1===this._options.followRedirects||t<300||t>=400)return e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),void(this._requestBodyBuffers=[]);if(D(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new b;var i=this._options.beforeRedirect;i&&(n=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var o=this._options.method;((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],O(/^content-/i,this._options.headers));var c,l,u=O(/^host$/i,this._options.headers),f=C(this._currentUrl),m=u||f.host,g=/^\w+:/.test(r)?this._currentUrl:s.format(Object.assign(f,{host:m})),y=(c=r,l=g,h?new a(c,l):C(s.resolve(l,c)));if(d("redirecting to",y.href),this._isRedirect=!0,I(y,this._options),(y.protocol!==f.protocol&&"https:"!==y.protocol||y.host!==m&&!function(e,t){p(A(e)&&A(t));var n=e.length-t.length-1;return n>0&&"."===e[n]&&e.endsWith(t)}(y.host,m))&&O(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),R(i)){var v={headers:e.headers,statusCode:t},w={url:g,method:o,headers:n};i(this._options,v,w),this._sanitizeOptions(this._options)}this._performRequest()},e.exports=S({http:c,https:l}),e.exports.wrap=S},737:(e,t,n)=>{"use strict";var r=n(801),i=n(9023),o=n(6928),s=n(8611),a=n(5692),c=n(7016).parse,l=n(9896),u=n(2203).Stream,p=n(6982),d=n(6049),h=n(1873),f=n(9605),m=n(9957),g=n(1362);function y(e){if(!(this instanceof y))return new y(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],r.call(this),e=e||{})this[t]=e[t]}i.inherits(y,r),y.LINE_BREAK="\r\n",y.DEFAULT_CONTENT_TYPE="application/octet-stream",y.prototype.append=function(e,t,n){"string"==typeof(n=n||{})&&(n={filename:n});var i=r.prototype.append.bind(this);if("number"!=typeof t&&null!=t||(t=String(t)),Array.isArray(t))this._error(new Error("Arrays are not supported."));else{var o=this._multiPartHeader(e,t,n),s=this._multiPartFooter();i(o),i(t),i(s),this._trackLength(o,t,n)}},y.prototype._trackLength=function(e,t,n){var r=0;null!=n.knownLength?r+=Number(n.knownLength):Buffer.isBuffer(t)?r=t.length:"string"==typeof t&&(r=Buffer.byteLength(t)),this._valueLength+=r,this._overheadLength+=Buffer.byteLength(e)+y.LINE_BREAK.length,t&&(t.path||t.readable&&m(t,"httpVersion")||t instanceof u)&&(n.knownLength||this._valuesToMeasure.push(t))},y.prototype._lengthRetriever=function(e,t){m(e,"fd")?null!=e.end&&e.end!=1/0&&null!=e.start?t(null,e.end+1-(e.start?e.start:0)):l.stat(e.path,(function(n,r){if(n)t(n);else{var i=r.size-(e.start?e.start:0);t(null,i)}})):m(e,"httpVersion")?t(null,Number(e.headers["content-length"])):m(e,"httpModule")?(e.on("response",(function(n){e.pause(),t(null,Number(n.headers["content-length"]))})),e.resume()):t("Unknown stream")},y.prototype._multiPartHeader=function(e,t,n){if("string"==typeof n.header)return n.header;var r,i=this._getContentDisposition(t,n),o=this._getContentType(t,n),s="",a={"Content-Disposition":["form-data",'name="'+e+'"'].concat(i||[]),"Content-Type":[].concat(o||[])};for(var c in"object"==typeof n.header&&g(a,n.header),a)if(m(a,c)){if(null==(r=a[c]))continue;Array.isArray(r)||(r=[r]),r.length&&(s+=c+": "+r.join("; ")+y.LINE_BREAK)}return"--"+this.getBoundary()+y.LINE_BREAK+s+y.LINE_BREAK},y.prototype._getContentDisposition=function(e,t){var n;if("string"==typeof t.filepath?n=o.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e&&(e.name||e.path)?n=o.basename(t.filename||e&&(e.name||e.path)):e&&e.readable&&m(e,"httpVersion")&&(n=o.basename(e.client._httpMessage.path||"")),n)return'filename="'+n+'"'},y.prototype._getContentType=function(e,t){var n=t.contentType;return!n&&e&&e.name&&(n=d.lookup(e.name)),!n&&e&&e.path&&(n=d.lookup(e.path)),!n&&e&&e.readable&&m(e,"httpVersion")&&(n=e.headers["content-type"]),n||!t.filepath&&!t.filename||(n=d.lookup(t.filepath||t.filename)),!n&&e&&"object"==typeof e&&(n=y.DEFAULT_CONTENT_TYPE),n},y.prototype._multiPartFooter=function(){return function(e){var t=y.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}.bind(this)},y.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+y.LINE_BREAK},y.prototype.getHeaders=function(e){var t,n={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)m(e,t)&&(n[t.toLowerCase()]=e[t]);return n},y.prototype.setBoundary=function(e){if("string"!=typeof e)throw new TypeError("FormData boundary must be a string");this._boundary=e},y.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},y.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),n=0,r=this._streams.length;n<r;n++)"function"!=typeof this._streams[n]&&(e=Buffer.isBuffer(this._streams[n])?Buffer.concat([e,this._streams[n]]):Buffer.concat([e,Buffer.from(this._streams[n])]),"string"==typeof this._streams[n]&&this._streams[n].substring(2,t.length+2)===t||(e=Buffer.concat([e,Buffer.from(y.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},y.prototype._generateBoundary=function(){this._boundary="--------------------------"+p.randomBytes(12).toString("hex")},y.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e},y.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},y.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;this._streams.length&&(t+=this._lastBoundary().length),this._valuesToMeasure.length?h.parallel(this._valuesToMeasure,this._lengthRetriever,(function(n,r){n?e(n):(r.forEach((function(e){t+=e})),e(null,t))})):process.nextTick(e.bind(this,null,t))},y.prototype.submit=function(e,t){var n,r,i={method:"post"};return"string"==typeof e?(e=c(e),r=g({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},i)):(r=g(e,i)).port||(r.port="https:"===r.protocol?443:80),r.headers=this.getHeaders(e.headers),n="https:"===r.protocol?a.request(r):s.request(r),this.getLength(function(e,r){if(e&&"Unknown stream"!==e)this._error(e);else if(r&&n.setHeader("Content-Length",r),this.pipe(n),t){var i,o=function(e,r){return n.removeListener("error",o),n.removeListener("response",i),t.call(this,e,r)};i=o.bind(this,null),n.on("error",o),n.on("response",i)}}.bind(this)),n},y.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},y.prototype.toString=function(){return"[object FormData]"},f(y,"FormData"),e.exports=y},1362:e=>{"use strict";e.exports=function(e,t){return Object.keys(t).forEach((function(n){e[n]=e[n]||t[n]})),e}},174:(e,t,n)=>{"use strict";const r=n(3735),i=n(6928),o=n(3798).mkdirsSync,s=n(7211).utimesMillisSync,a=n(6462);function c(e,t,n,o){if(!o.filter||o.filter(t,n))return function(e,t,n,o){const s=(o.dereference?r.statSync:r.lstatSync)(t);return s.isDirectory()?function(e,t,n,i,o){if(!t)return function(e,t,n,i){return r.mkdirSync(n),u(t,n,i),r.chmodSync(n,e.mode)}(e,n,i,o);if(t&&!t.isDirectory())throw new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`);return u(n,i,o)}(s,e,t,n,o):s.isFile()||s.isCharacterDevice()||s.isBlockDevice()?function(e,t,n,i,o){return t?function(e,t,n,i){if(i.overwrite)return r.unlinkSync(n),l(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,i,o):l(e,n,i,o)}(s,e,t,n,o):s.isSymbolicLink()?function(e,t,n,o){let s=r.readlinkSync(t);if(o.dereference&&(s=i.resolve(process.cwd(),s)),e){let e;try{e=r.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return r.symlinkSync(s,n);throw e}if(o.dereference&&(e=i.resolve(process.cwd(),e)),a.isSrcSubdir(s,e))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`);if(r.statSync(n).isDirectory()&&a.isSrcSubdir(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}(s,n)}return r.symlinkSync(s,n)}(e,t,n,o):void 0}(e,t,n,o)}function l(e,t,i,o){return"function"==typeof r.copyFileSync?(r.copyFileSync(t,i),r.chmodSync(i,e.mode),o.preserveTimestamps?s(i,e.atime,e.mtime):void 0):function(e,t,i,o){const s=n(1054)(65536),a=r.openSync(t,"r"),c=r.openSync(i,"w",e.mode);let l=0;for(;l<e.size;){const e=r.readSync(a,s,0,65536,l);r.writeSync(c,s,0,e),l+=e}o.preserveTimestamps&&r.futimesSync(c,e.atime,e.mtime),r.closeSync(a),r.closeSync(c)}(e,t,i,o)}function u(e,t,n){r.readdirSync(e).forEach((r=>function(e,t,n,r){const o=i.join(t,e),s=i.join(n,e),{destStat:l}=a.checkPathsSync(o,s,"copy");return c(l,o,s,r)}(r,e,t,n)))}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:s,destStat:l}=a.checkPathsSync(e,t,"copy");return a.checkParentPathsSync(e,s,t,"copy"),function(e,t,n,s){if(s.filter&&!s.filter(t,n))return;const a=i.dirname(n);return r.existsSync(a)||o(a),c(e,t,n,s)}(l,e,t,n)}},1881:(e,t,n)=>{"use strict";e.exports={copySync:n(174)}},4994:(e,t,n)=>{"use strict";const r=n(3735),i=n(6928),o=n(3798).mkdirs,s=n(9288).pathExists,a=n(7211).utimesMillis,c=n(6462);function l(e,t,n,r,a){const c=i.dirname(n);s(c,((i,s)=>i?a(i):s?p(e,t,n,r,a):void o(c,(i=>i?a(i):p(e,t,n,r,a)))))}function u(e,t,n,r,i,o){Promise.resolve(i.filter(n,r)).then((s=>s?e(t,n,r,i,o):o()),(e=>o(e)))}function p(e,t,n,r,i){return r.filter?u(d,e,t,n,r,i):d(e,t,n,r,i)}function d(e,t,n,o,s){(o.dereference?r.stat:r.lstat)(t,((a,l)=>a?s(a):l.isDirectory()?function(e,t,n,i,o,s){return t?t&&!t.isDirectory()?s(new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`)):m(n,i,o,s):function(e,t,n,i,o){r.mkdir(n,(s=>{if(s)return o(s);m(t,n,i,(t=>t?o(t):r.chmod(n,e.mode,o)))}))}(e,n,i,o,s)}(l,e,t,n,o,s):l.isFile()||l.isCharacterDevice()||l.isBlockDevice()?function(e,t,n,i,o,s){return t?function(e,t,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,(r=>r?o(r):h(e,t,n,i,o)))}(e,n,i,o,s):h(e,n,i,o,s)}(l,e,t,n,o,s):l.isSymbolicLink()?function(e,t,n,o,s){r.readlink(t,((t,a)=>t?s(t):(o.dereference&&(a=i.resolve(process.cwd(),a)),e?void r.readlink(n,((t,l)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?r.symlink(a,n,s):s(t):(o.dereference&&(l=i.resolve(process.cwd(),l)),c.isSrcSubdir(a,l)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${l}'.`)):e.isDirectory()&&c.isSrcSubdir(l,a)?s(new Error(`Cannot overwrite '${l}' with '${a}'.`)):function(e,t,n){r.unlink(t,(i=>i?n(i):r.symlink(e,t,n)))}(a,n,s)))):r.symlink(a,n,s))))}(e,t,n,o,s):void 0))}function h(e,t,n,i,o){return"function"==typeof r.copyFile?r.copyFile(t,n,(t=>t?o(t):f(e,n,i,o))):function(e,t,n,i,o){const s=r.createReadStream(t);s.on("error",(e=>o(e))).once("open",(()=>{const t=r.createWriteStream(n,{mode:e.mode});t.on("error",(e=>o(e))).on("open",(()=>s.pipe(t))).once("close",(()=>f(e,n,i,o)))}))}(e,t,n,i,o)}function f(e,t,n,i){r.chmod(t,e.mode,(r=>r?i(r):n.preserveTimestamps?a(t,e.atime,e.mtime,i):i()))}function m(e,t,n,i){r.readdir(e,((r,o)=>r?i(r):g(o,e,t,n,i)))}function g(e,t,n,r,o){const s=e.pop();return s?function(e,t,n,r,o,s){const a=i.join(n,t),l=i.join(r,t);c.checkPaths(a,l,"copy",((t,i)=>{if(t)return s(t);const{destStat:c}=i;p(c,a,l,o,(t=>t?s(t):g(e,n,r,o,s)))}))}(e,s,t,n,r,o):o()}e.exports=function(e,t,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),c.checkPaths(e,t,"copy",((i,o)=>{if(i)return r(i);const{srcStat:s,destStat:a}=o;c.checkParentPaths(e,s,t,"copy",(i=>i?r(i):n.filter?u(l,a,e,t,n,r):l(a,e,t,n,r)))}))}},4423:(e,t,n)=>{"use strict";const r=n(7500).S;e.exports={copy:r(n(4994))}},2591:(e,t,n)=>{"use strict";const r=n(7500).S,i=n(3735),o=n(6928),s=n(3798),a=n(5422),c=r((function(e,t){t=t||function(){},i.readdir(e,((n,r)=>{if(n)return s.mkdirs(e,t);r=r.map((t=>o.join(e,t))),function e(){const n=r.pop();if(!n)return t();a.remove(n,(n=>{if(n)return t(n);e()}))}()}))}));function l(e){let t;try{t=i.readdirSync(e)}catch(t){return s.mkdirsSync(e)}t.forEach((t=>{t=o.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:l,emptydirSync:l,emptyDir:c,emptydir:c}},9616:(e,t,n)=>{"use strict";const r=n(7500).S,i=n(6928),o=n(3735),s=n(3798),a=n(9288).pathExists;e.exports={createFile:r((function(e,t){function n(){o.writeFile(e,"",(e=>{if(e)return t(e);t()}))}o.stat(e,((r,o)=>{if(!r&&o.isFile())return t();const c=i.dirname(e);a(c,((e,r)=>e?t(e):r?n():void s.mkdirs(c,(e=>{if(e)return t(e);n()}))))}))})),createFileSync:function(e){let t;try{t=o.statSync(e)}catch(e){}if(t&&t.isFile())return;const n=i.dirname(e);o.existsSync(n)||s.mkdirsSync(n),o.writeFileSync(e,"")}}},6288:(e,t,n)=>{"use strict";const r=n(9616),i=n(1522),o=n(5291);e.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},1522:(e,t,n)=>{"use strict";const r=n(7500).S,i=n(6928),o=n(3735),s=n(3798),a=n(9288).pathExists;e.exports={createLink:r((function(e,t,n){function r(e,t){o.link(e,t,(e=>{if(e)return n(e);n(null)}))}a(t,((c,l)=>c?n(c):l?n(null):void o.lstat(e,(o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const c=i.dirname(t);a(c,((i,o)=>i?n(i):o?r(e,t):void s.mkdirs(c,(i=>{if(i)return n(i);r(e,t)}))))}))))})),createLinkSync:function(e,t){if(o.existsSync(t))return;try{o.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=i.dirname(t);return o.existsSync(n)||s.mkdirsSync(n),o.linkSync(e,t)}}},3838:(e,t,n)=>{"use strict";const r=n(6928),i=n(3735),o=n(9288).pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e})));{const s=r.dirname(t),a=r.join(s,e);return o(a,((t,o)=>t?n(t):o?n(null,{toCwd:a,toDst:e}):i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(s,e)})))))}},symlinkPathsSync:function(e,t){let n;if(r.isAbsolute(e)){if(n=i.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=r.dirname(t),s=r.join(o,e);if(n=i.existsSync(s),n)return{toCwd:s,toDst:e};if(n=i.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(o,e)}}}}},7064:(e,t,n)=>{"use strict";const r=n(3735);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,((e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)}))},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch(e){return"file"}return n&&n.isDirectory()?"dir":"file"}}},5291:(e,t,n)=>{"use strict";const r=n(7500).S,i=n(6928),o=n(3735),s=n(3798),a=s.mkdirs,c=s.mkdirsSync,l=n(3838),u=l.symlinkPaths,p=l.symlinkPathsSync,d=n(7064),h=d.symlinkType,f=d.symlinkTypeSync,m=n(9288).pathExists;e.exports={createSymlink:r((function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,m(t,((s,c)=>s?r(s):c?r(null):void u(e,t,((s,c)=>{if(s)return r(s);e=c.toDst,h(c.toCwd,n,((n,s)=>{if(n)return r(n);const c=i.dirname(t);m(c,((n,i)=>n?r(n):i?o.symlink(e,t,s,r):void a(c,(n=>{if(n)return r(n);o.symlink(e,t,s,r)}))))}))}))))})),createSymlinkSync:function(e,t,n){if(o.existsSync(t))return;const r=p(e,t);e=r.toDst,n=f(r.toCwd,n);const s=i.dirname(t);return o.existsSync(s)||c(s),o.symlinkSync(e,t,n)}}},8737:(e,t,n)=>{"use strict";const r=n(7500).S,i=n(3735),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof i[e]));Object.keys(i).forEach((e=>{"promises"!==e&&(t[e]=i[e])})),o.forEach((e=>{t[e]=r(i[e])})),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise((t=>i.exists(e,t)))},t.read=function(e,t,n,r,o,s){return"function"==typeof s?i.read(e,t,n,r,o,s):new Promise(((s,a)=>{i.read(e,t,n,r,o,((e,t,n)=>{if(e)return a(e);s({bytesRead:t,buffer:n})}))}))},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?i.write(e,t,...n):new Promise(((r,o)=>{i.write(e,t,...n,((e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffer:n})}))}))},"function"==typeof i.realpath.native&&(t.realpath.native=r(i.realpath.native))},1605:(e,t,n)=>{"use strict";e.exports=Object.assign({},n(8737),n(1881),n(4423),n(2591),n(6288),n(3376),n(3798),n(8617),n(2455),n(3811),n(9288),n(5422));const r=n(9896);Object.getOwnPropertyDescriptor(r,"promises")&&Object.defineProperty(e.exports,"promises",{get:()=>r.promises})},3376:(e,t,n)=>{"use strict";const r=n(7500).S,i=n(2934);i.outputJson=r(n(6426)),i.outputJsonSync=n(2188),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},2934:(e,t,n)=>{"use strict";const r=n(7500).S,i=n(3669);e.exports={readJson:r(i.readFile),readJsonSync:i.readFileSync,writeJson:r(i.writeFile),writeJsonSync:i.writeFileSync}},2188:(e,t,n)=>{"use strict";const r=n(3735),i=n(6928),o=n(3798),s=n(2934);e.exports=function(e,t,n){const a=i.dirname(e);r.existsSync(a)||o.mkdirsSync(a),s.writeJsonSync(e,t,n)}},6426:(e,t,n)=>{"use strict";const r=n(6928),i=n(3798),o=n(9288).pathExists,s=n(2934);e.exports=function(e,t,n,a){"function"==typeof n&&(a=n,n={});const c=r.dirname(e);o(c,((r,o)=>r?a(r):o?s.writeJson(e,t,n,a):void i.mkdirs(c,(r=>{if(r)return a(r);s.writeJson(e,t,n,a)}))))}},3798:(e,t,n)=>{"use strict";const r=(0,n(7500).S)(n(3180)),i=n(3582);e.exports={mkdirs:r,mkdirsSync:i,mkdirp:r,mkdirpSync:i,ensureDir:r,ensureDirSync:i}},3582:(e,t,n)=>{"use strict";const r=n(3735),i=n(6928),o=n(2069).invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,n,a){n&&"object"==typeof n||(n={mode:n});let c=n.mode;const l=n.fs||r;if("win32"===process.platform&&o(t)){const e=new Error(t+" contains invalid WIN32 path characters.");throw e.code="EINVAL",e}void 0===c&&(c=s&~process.umask()),a||(a=null),t=i.resolve(t);try{l.mkdirSync(t,c),a=a||t}catch(r){if("ENOENT"===r.code){if(i.dirname(t)===t)throw r;a=e(i.dirname(t),n,a),e(t,n,a)}else{let e;try{e=l.statSync(t)}catch(e){throw r}if(!e.isDirectory())throw r}}return a}},3180:(e,t,n)=>{"use strict";const r=n(3735),i=n(6928),o=n(2069).invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,n,a,c){if("function"==typeof n?(a=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&o(t)){const e=new Error(t+" contains invalid WIN32 path characters.");return e.code="EINVAL",a(e)}let l=n.mode;const u=n.fs||r;void 0===l&&(l=s&~process.umask()),c||(c=null),a=a||function(){},t=i.resolve(t),u.mkdir(t,l,(r=>{if(!r)return a(null,c=c||t);if("ENOENT"===r.code){if(i.dirname(t)===t)return a(r);e(i.dirname(t),n,((r,i)=>{r?a(r,i):e(t,n,a,i)}))}else u.stat(t,((e,t)=>{e||!t.isDirectory()?a(r,c):a(null,c)}))}))}},2069:(e,t,n)=>{"use strict";const r=n(6928);function i(e){return(e=r.normalize(r.resolve(e)).split(r.sep)).length>0?e[0]:null}const o=/[<>:"|?*]/;e.exports={getRootPath:i,invalidWin32Path:function(e){const t=i(e);return e=e.replace(t,""),o.test(e)}}},8617:(e,t,n)=>{"use strict";e.exports={moveSync:n(7974)}},7974:(e,t,n)=>{"use strict";const r=n(3735),i=n(6928),o=n(1881).copySync,s=n(5422).removeSync,a=n(3798).mkdirpSync,c=n(6462);function l(e,t,n){try{r.renameSync(e,t)}catch(r){if("EXDEV"!==r.code)throw r;return function(e,t,n){return o(e,t,{overwrite:n,errorOnExist:!0}),s(e)}(e,t,n)}}e.exports=function(e,t,n){const o=(n=n||{}).overwrite||n.clobber||!1,{srcStat:u}=c.checkPathsSync(e,t,"move");return c.checkParentPathsSync(e,u,t,"move"),a(i.dirname(t)),function(e,t,n){if(n)return s(t),l(e,t,n);if(r.existsSync(t))throw new Error("dest already exists.");return l(e,t,n)}(e,t,o)}},2455:(e,t,n)=>{"use strict";const r=n(7500).S;e.exports={move:r(n(3314))}},3314:(e,t,n)=>{"use strict";const r=n(3735),i=n(6928),o=n(4423).copy,s=n(5422).remove,a=n(3798).mkdirp,c=n(9288).pathExists,l=n(6462);function u(e,t,n,i){r.rename(e,t,(r=>r?"EXDEV"!==r.code?i(r):function(e,t,n,r){o(e,t,{overwrite:n,errorOnExist:!0},(t=>t?r(t):s(e,r)))}(e,t,n,i):i()))}e.exports=function(e,t,n,r){"function"==typeof n&&(r=n,n={});const o=n.overwrite||n.clobber||!1;l.checkPaths(e,t,"move",((n,p)=>{if(n)return r(n);const{srcStat:d}=p;l.checkParentPaths(e,d,t,"move",(n=>{if(n)return r(n);a(i.dirname(t),(n=>n?r(n):function(e,t,n,r){if(n)return s(t,(i=>i?r(i):u(e,t,n,r)));c(t,((i,o)=>i?r(i):o?r(new Error("dest already exists.")):u(e,t,n,r)))}(e,t,o,r)))}))}))}},3811:(e,t,n)=>{"use strict";const r=n(7500).S,i=n(3735),o=n(6928),s=n(3798),a=n(9288).pathExists;e.exports={outputFile:r((function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const c=o.dirname(e);a(c,((o,a)=>o?r(o):a?i.writeFile(e,t,n,r):void s.mkdirs(c,(o=>{if(o)return r(o);i.writeFile(e,t,n,r)}))))})),outputFileSync:function(e,...t){const n=o.dirname(e);if(i.existsSync(n))return i.writeFileSync(e,...t);s.mkdirsSync(n),i.writeFileSync(e,...t)}}},9288:(e,t,n)=>{"use strict";const r=n(7500).z,i=n(8737);e.exports={pathExists:r((function(e){return i.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:i.existsSync}},5422:(e,t,n)=>{"use strict";const r=n(7500).S,i=n(1249);e.exports={remove:r(i),removeSync:i.sync}},1249:(e,t,n)=>{"use strict";const r=n(3735),i=n(6928),o=n(2613),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((t=>{e[t]=e[t]||r[t],e[t+="Sync"]=e[t]||r[t]})),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.strictEqual(typeof t,"object","rimraf: options should be object"),a(t),l(e,t,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<t.maxBusyTries)return r++,setTimeout((()=>l(e,t,i)),100*r);"ENOENT"===o.code&&(o=null)}n(o)}))}function l(e,t,n){o(e),o(t),o("function"==typeof n),t.lstat(e,((r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?u(e,t,r,n):i&&i.isDirectory()?d(e,t,r,n):void t.unlink(e,(r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?u(e,t,r,n):d(e,t,r,n);if("EISDIR"===r.code)return d(e,t,r,n)}return n(r)}))))}function u(e,t,n,r){o(e),o(t),o("function"==typeof r),n&&o(n instanceof Error),t.chmod(e,438,(i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,((i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?d(e,t,n,r):t.unlink(e,r)}))}))}function p(e,t,n){let r;o(e),o(t),n&&o(n instanceof Error);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}r.isDirectory()?f(e,t,n):t.unlinkSync(e)}function d(e,t,n,r){o(e),o(t),n&&o(n instanceof Error),o("function"==typeof r),t.rmdir(e,(s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(e,t,n){o(e),o(t),o("function"==typeof n),t.readdir(e,((r,o)=>{if(r)return n(r);let s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach((r=>{c(i.join(e,r),t,(r=>{if(!s)return r?n(s=r):void(0==--a&&t.rmdir(e,n))}))}))}))}(e,t,r)}))}function h(e,t){let n;a(t=t||{}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&p(e,t,n)}try{n&&n.isDirectory()?f(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?p(e,t,n):f(e,t,n);if("EISDIR"!==n.code)throw n;f(e,t,n)}}function f(e,t,n){o(e),o(t),n&&o(n instanceof Error);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){if(o(e),o(t),t.readdirSync(e).forEach((n=>h(i.join(e,n),t))),!s)return t.rmdirSync(e,t);{const n=Date.now();do{try{return t.rmdirSync(e,t)}catch(e){}}while(Date.now()-n<500)}}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=c,c.sync=h},1054:e=>{"use strict";e.exports=function(e){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}return new Buffer(e)}},6462:(e,t,n)=>{"use strict";const r=n(3735),i=n(6928),o=process.versions.node.split("."),s=Number.parseInt(o[0],10),a=Number.parseInt(o[1],10),c=Number.parseInt(o[2],10);function l(){if(s>10)return!0;if(10===s){if(a>5)return!0;if(5===a&&c>=0)return!0}return!1}function u(e,t){const n=i.resolve(e).split(i.sep).filter((e=>e)),r=i.resolve(t).split(i.sep).filter((e=>e));return n.reduce(((e,t,n)=>e&&r[n]===t),!0)}function p(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,n,i){!function(e,t,n){l()?r.stat(e,{bigint:!0},((e,i)=>{if(e)return n(e);r.stat(t,{bigint:!0},((e,t)=>e?"ENOENT"===e.code?n(null,{srcStat:i,destStat:null}):n(e):n(null,{srcStat:i,destStat:t})))})):r.stat(e,((e,i)=>{if(e)return n(e);r.stat(t,((e,t)=>e?"ENOENT"===e.code?n(null,{srcStat:i,destStat:null}):n(e):n(null,{srcStat:i,destStat:t})))}))}(e,t,((r,o)=>{if(r)return i(r);const{srcStat:s,destStat:a}=o;return a&&a.ino&&a.dev&&a.ino===s.ino&&a.dev===s.dev?i(new Error("Source and destination must not be the same.")):s.isDirectory()&&u(e,t)?i(new Error(p(e,t,n))):i(null,{srcStat:s,destStat:a})}))},checkPathsSync:function(e,t,n){const{srcStat:i,destStat:o}=function(e,t){let n,i;n=l()?r.statSync(e,{bigint:!0}):r.statSync(e);try{i=l()?r.statSync(t,{bigint:!0}):r.statSync(t)}catch(e){if("ENOENT"===e.code)return{srcStat:n,destStat:null};throw e}return{srcStat:n,destStat:i}}(e,t);if(o&&o.ino&&o.dev&&o.ino===i.ino&&o.dev===i.dev)throw new Error("Source and destination must not be the same.");if(i.isDirectory()&&u(e,t))throw new Error(p(e,t,n));return{srcStat:i,destStat:o}},checkParentPaths:function e(t,n,o,s,a){const c=i.resolve(i.dirname(t)),u=i.resolve(i.dirname(o));if(u===c||u===i.parse(u).root)return a();l()?r.stat(u,{bigint:!0},((r,i)=>r?"ENOENT"===r.code?a():a(r):i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev?a(new Error(p(t,o,s))):e(t,n,u,s,a))):r.stat(u,((r,i)=>r?"ENOENT"===r.code?a():a(r):i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev?a(new Error(p(t,o,s))):e(t,n,u,s,a)))},checkParentPathsSync:function e(t,n,o,s){const a=i.resolve(i.dirname(t)),c=i.resolve(i.dirname(o));if(c===a||c===i.parse(c).root)return;let u;try{u=l()?r.statSync(c,{bigint:!0}):r.statSync(c)}catch(e){if("ENOENT"===e.code)return;throw e}if(u.ino&&u.dev&&u.ino===n.ino&&u.dev===n.dev)throw new Error(p(t,o,s));return e(t,n,c,s)},isSrcSubdir:u}},7211:(e,t,n)=>{"use strict";const r=n(3735),i=n(857),o=n(6928);e.exports={hasMillisRes:function(e){let t=o.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=o.join(i.tmpdir(),t);const n=new Date(1435410243862);r.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",(i=>{if(i)return e(i);r.open(t,"r+",((i,o)=>{if(i)return e(i);r.futimes(o,n,n,(n=>{if(n)return e(n);r.close(o,(n=>{if(n)return e(n);r.stat(t,((t,n)=>{if(t)return e(t);e(null,n.mtime>1435410243e3)}))}))}))}))}))},hasMillisResSync:function(){let e=o.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=o.join(i.tmpdir(),e);const t=new Date(1435410243862);r.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(e,"r+");return r.futimesSync(n,t,t),r.closeSync(n),r.statSync(e).mtime>1435410243e3},timeRemoveMillis:function(e){if("number"==typeof e)return 1e3*Math.floor(e/1e3);if(e instanceof Date)return new Date(1e3*Math.floor(e.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(e,t,n,i){r.open(e,"r+",((e,o)=>{if(e)return i(e);r.futimes(o,t,n,(e=>{r.close(o,(t=>{i&&i(e||t)}))}))}))},utimesMillisSync:function(e,t,n){const i=r.openSync(e,"r+");return r.futimesSync(i,t,n),r.closeSync(i)}}},3669:(e,t,n)=>{var r;try{r=n(3735)}catch(e){r=n(9896)}function i(e,t){var n,r="\n";return"object"==typeof t&&null!==t&&(t.spaces&&(n=t.spaces),t.EOL&&(r=t.EOL)),JSON.stringify(e,t?t.replacer:null,n).replace(/\n/g,r)+r}function o(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var s={readFile:function(e,t,n){null==n&&(n=t,t={}),"string"==typeof t&&(t={encoding:t});var i=(t=t||{}).fs||r,s=!0;"throws"in t&&(s=t.throws),i.readFile(e,t,(function(r,i){if(r)return n(r);var a;i=o(i);try{a=JSON.parse(i,t?t.reviver:null)}catch(t){return s?(t.message=e+": "+t.message,n(t)):n(null,null)}n(null,a)}))},readFileSync:function(e,t){"string"==typeof(t=t||{})&&(t={encoding:t});var n=t.fs||r,i=!0;"throws"in t&&(i=t.throws);try{var s=n.readFileSync(e,t);return s=o(s),JSON.parse(s,t.reviver)}catch(t){if(i)throw t.message=e+": "+t.message,t;return null}},writeFile:function(e,t,n,o){null==o&&(o=n,n={});var s=(n=n||{}).fs||r,a="";try{a=i(t,n)}catch(e){return void(o&&o(e,null))}s.writeFile(e,a,n,o)},writeFileSync:function(e,t,n){var o=(n=n||{}).fs||r,s=i(t,n);return o.writeFileSync(e,s,n)}};e.exports=s},7500:(e,t)=>{"use strict";t.S=function(e){return Object.defineProperty((function(){if("function"!=typeof arguments[arguments.length-1])return new Promise(((t,n)=>{arguments[arguments.length]=(e,r)=>{if(e)return n(e);t(r)},arguments.length++,e.apply(this,arguments)}));e.apply(this,arguments)}),"name",{value:e.name})},t.z=function(e){return Object.defineProperty((function(){const t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);e.apply(this,arguments).then((e=>t(null,e)),t)}),"name",{value:e.name})}},1455:(e,t,n)=>{e.exports=u,u.realpath=u,u.sync=p,u.realpathSync=p,u.monkeypatch=function(){r.realpath=u,r.realpathSync=p},u.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(9896),i=r.realpath,o=r.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=n(6674);function l(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function u(e,t,n){if(a)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,(function(r,i){l(r)?c.realpath(e,t,n):n(r,i)}))}function p(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(l(n))return c.realpathSync(e,t);throw n}}},6674:(e,t,n)=>{var r=n(6928),i="win32"===process.platform,o=n(9896),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(r.normalize,i)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(i)var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else c=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,s,l,u,p=e,d={},h={};function f(){var t=c.exec(e);n=t[0].length,s=t[0],l=t[0],u="",i&&!h[l]&&(o.lstatSync(l),h[l]=!0)}for(f();n<e.length;){a.lastIndex=n;var m=a.exec(e);if(u=s,s+=m[0],l=u+m[1],n=a.lastIndex,!(h[l]||t&&t[l]===l)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,l))g=t[l];else{var y=o.lstatSync(l);if(!y.isSymbolicLink()){h[l]=!0,t&&(t[l]=l);continue}var v=null;if(!i){var b=y.dev.toString(32)+":"+y.ino.toString(32);d.hasOwnProperty(b)&&(v=d[b])}null===v&&(o.statSync(l),v=o.readlinkSync(l)),g=r.resolve(u,v),t&&(t[l]=g),i||(d[b]=v)}e=r.resolve(g,e.slice(n)),f()}}return t&&(t[p]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=function(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var l,u,p,d,h=e,f={},m={};function g(){var t=c.exec(e);l=t[0].length,u=t[0],p=t[0],d="",i&&!m[p]?o.lstat(p,(function(e){if(e)return n(e);m[p]=!0,y()})):process.nextTick(y)}function y(){if(l>=e.length)return t&&(t[h]=e),n(null,e);a.lastIndex=l;var r=a.exec(e);return d=u,u+=r[0],p=d+r[1],l=a.lastIndex,m[p]||t&&t[p]===p?process.nextTick(y):t&&Object.prototype.hasOwnProperty.call(t,p)?w(t[p]):o.lstat(p,v)}function v(e,r){if(e)return n(e);if(!r.isSymbolicLink())return m[p]=!0,t&&(t[p]=p),process.nextTick(y);if(!i){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(f.hasOwnProperty(s))return b(null,f[s],p)}o.stat(p,(function(e){if(e)return n(e);o.readlink(p,(function(e,t){i||(f[s]=t),b(e,t)}))}))}function b(e,i,o){if(e)return n(e);var s=r.resolve(d,i);t&&(t[o]=s),w(s)}function w(t){e=r.resolve(t,e.slice(l)),g()}g()}},9353:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(e,t){for(var n=[],r=1,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n}(arguments),a=n(0,i.length-s.length),c=[],l=0;l<a;l++)c[l]="$"+l;if(o=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=",");return n}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,r(s,arguments));return Object(t)===t?t:this}return i.apply(e,r(s,arguments))})),i.prototype){var u=function(){};u.prototype=i.prototype,o.prototype=new u,u.prototype=null}return o}},6743:(e,t,n)=>{"use strict";var r=n(9353);e.exports=Function.prototype.bind||r},453:(e,t,n)=>{"use strict";var r,i=n(9612),o=n(9383),s=n(1237),a=n(9290),c=n(9538),l=n(8068),u=n(9675),p=n(5345),d=n(1514),h=n(8968),f=n(6188),m=n(8002),g=n(5880),y=n(414),v=n(3093),b=Function,w=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},_=n(5795),E=n(655),x=function(){throw new u},S=_?function(){try{return x}catch(e){try{return _(arguments,"callee").get}catch(e){return x}}}():x,T=n(4039)(),C=n(3628),P=n(1064),I=n(8648),O=n(1002),k=n(76),D={},A="undefined"!=typeof Uint8Array&&C?C(Uint8Array):r,R={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":T&&C?C([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":D,"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":D,"%AsyncIteratorPrototype%":D,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":s,"%Float16Array%":"undefined"==typeof Float16Array?r:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":D,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&C?C(C([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&T&&C?C((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":a,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&T&&C?C((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&C?C(""[Symbol.iterator]()):r,"%Symbol%":T?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":S,"%TypedArray%":A,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":p,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":k,"%Function.prototype.apply%":O,"%Object.defineProperty%":E,"%Object.getPrototypeOf%":P,"%Math.abs%":d,"%Math.floor%":h,"%Math.max%":f,"%Math.min%":m,"%Math.pow%":g,"%Math.round%":y,"%Math.sign%":v,"%Reflect.getPrototypeOf%":I};if(C)try{null.error}catch(e){var N=C(C(e));R["%Error.prototype%"]=N}var L=function e(t){var n;if("%AsyncFunction%"===t)n=w("async function () {}");else if("%GeneratorFunction%"===t)n=w("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=w("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&C&&(n=C(i.prototype))}return R[t]=n,n},F={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=n(6743),j=n(9957),B=M.call(k,Array.prototype.concat),U=M.call(O,Array.prototype.splice),q=M.call(k,String.prototype.replace),$=M.call(k,String.prototype.slice),V=M.call(k,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G=/\\(\\)?/g,z=function(e,t){var n,r=e;if(j(F,r)&&(r="%"+(n=F[r])[0]+"%"),j(R,r)){var i=R[r];if(i===D&&(i=L(r)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===V(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=$(e,0,1),n=$(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var r=[];return q(e,H,(function(e,t,n,i){r[r.length]=n?q(i,G,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=z("%"+r+"%",t),o=i.name,s=i.value,a=!1,c=i.alias;c&&(r=c[0],U(n,B([0,1],c)));for(var p=1,d=!0;p<n.length;p+=1){var h=n[p],f=$(h,0,1),m=$(h,-1);if(('"'===f||"'"===f||"`"===f||'"'===m||"'"===m||"`"===m)&&f!==m)throw new l("property names with quotes must have matching quotes");if("constructor"!==h&&d||(a=!0),j(R,o="%"+(r+="."+h)+"%"))s=R[o];else if(null!=s){if(!(h in s)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(_&&p+1>=n.length){var g=_(s,h);s=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:s[h]}else d=j(s,h),s=s[h];d&&!a&&(R[o]=s)}}return s}},1064:(e,t,n)=>{"use strict";var r=n(9612);e.exports=r.getPrototypeOf||null},8648:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},3628:(e,t,n)=>{"use strict";var r=n(8648),i=n(1064),o=n(7176);e.exports=r?function(e){return r(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return i(e)}:o?function(e){return o(e)}:null},1198:(e,t,n)=>{function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.setopts=function(e,t,n){if(n||(n={}),n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0),e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.fs=n.fs||i,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(u))}(e,n),e.changedCwd=!1;var s=process.cwd();r(n,"cwd")?(e.cwd=o.resolve(n.cwd),e.changedCwd=e.cwd!==s):e.cwd=s,e.root=n.root||o.resolve(e.cwd,"/"),e.root=o.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=a(e.cwd)?e.cwd:p(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,n.allowWindowsEscape=!1,e.minimatch=new c(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=p,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?n.push.apply(n,s):s.forEach((function(e){n[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}if(t||(n=Object.keys(n)),e.nosort||(n=n.sort(l)),e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[p(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!d(e,t)}))),e.found=n},t.mark=function(e,t){var n=p(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=p(e,i);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return i},t.isIgnored=d,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var i=n(9896),o=n(6928),s=n(4027),a=n(2641),c=s.Minimatch;function l(e,t){return e.localeCompare(t,"en")}function u(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new c(n,{dot:!0})}return{matcher:new c(e,{dot:!0}),gmatcher:t}}function p(e,t){var n=t;return n="/"===t.charAt(0)?o.join(e.root,t):a(t)||""===t?t:e.changedCwd?o.resolve(e.cwd,t):o.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function d(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},3577:(e,t,n)=>{e.exports=v;var r=n(1455),i=n(4027),o=(i.Minimatch,n(2017)),s=n(4434).EventEmitter,a=n(6928),c=n(2613),l=n(2641),u=n(4700),p=n(1198),d=p.setopts,h=p.ownProp,f=n(3423),m=(n(9023),p.childrenIgnored),g=p.isIgnored,y=n(3519);function v(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return u(e,t)}return new w(e,t,n)}v.sync=u;var b=v.GlobSync=u.GlobSync;function w(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new b(e,t)}if(!(this instanceof w))return new w(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=y(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,s=0;s<r;s++)this._process(this.minimatch.set[s],s,!1,a);function a(){--i._processing,i._processing<=0&&(o?process.nextTick((function(){i._finish()})):i._finish())}o=!1}v.glob=v,v.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new w(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},v.Glob=w,o(w,s),w.prototype._finish=function(){if(c(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},w.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var i=Object.keys(n),o=this,s=i.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);i.forEach((function(n,i){n=o._makeAbs(n),r.realpath(n,o.realpathCache,(function(r,i){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[i]=!0,0==--s&&(o.matches[e]=a,t())}))}))},w.prototype._mark=function(e){return p.mark(this,e)},w.prototype._makeAbs=function(e){return p.makeAbs(this,e)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);for(this._processQueue.length=0,t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},w.prototype._process=function(e,t,n,r){if(c(this instanceof w),c("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var o,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:o=null;break;default:o=e.slice(0,s).join("/")}var a,u=e.slice(s);null===o?a=".":l(o)||l(e.map((function(e){return"string"==typeof e?e:"[*]"})).join("/"))?(o&&l(o)||(o="/"+o),a=o):a=o;var p=this._makeAbs(a);if(m(this,a))return r();u[0]===i.GLOBSTAR?this._processGlobStar(o,a,p,u,t,n,r):this._processReaddir(o,a,p,u,t,n,r)}},w.prototype._processReaddir=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,l){return a._processReaddir2(e,t,n,r,i,o,l,s)}))},w.prototype._processReaddir2=function(e,t,n,r,i,o,s,c){if(!s)return c();for(var l=r[0],u=!!this.minimatch.negate,p=l._glob,d=this.dot||"."===p.charAt(0),h=[],f=0;f<s.length;f++)("."!==(g=s[f]).charAt(0)||d)&&(u&&!e?!g.match(l):g.match(l))&&h.push(g);var m=h.length;if(0===m)return c();if(1===r.length&&!this.mark&&!this.stat){for(this.matches[i]||(this.matches[i]=Object.create(null)),f=0;f<m;f++){var g=h[f];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=a.join(this.root,g)),this._emitMatch(i,g)}return c()}for(r.shift(),f=0;f<m;f++)g=h[f],e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(r),i,o,c);c()},w.prototype._emitMatch=function(e,t){if(!this.aborted&&!g(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},w.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,r=f("lstat\0"+e,(function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));r&&n.fs.lstat(e,r)}},w.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=f("readdir\0"+e+"\0"+t,n))){if(t&&!h(this.symlinks,e))return this._readdirInGlobStar(e,n);if(h(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return n();if(Array.isArray(r))return n(null,r)}this.fs.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},w.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},w.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},w.prototype._processGlobStar=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,l){a._processGlobStar2(e,t,n,r,i,o,l,s)}))},w.prototype._processGlobStar2=function(e,t,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),l=e?[e]:[],u=l.concat(c);this._process(u,i,!1,a);var p=this.symlinks[n],d=s.length;if(p&&o)return a();for(var h=0;h<d;h++)if("."!==s[h].charAt(0)||this.dot){var f=l.concat(s[h],c);this._process(f,i,!0,a);var m=l.concat(s[h],r);this._process(m,i,!0,a)}a()},w.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(i,o){r._processSimple2(e,t,i,o,n)}))},w.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=a.join(this.root,e):(e=a.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},w.prototype._stat=function(e,t){var n=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&h(this.cache,n)){var i=this.cache[n];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return t(null,i);if(r&&"FILE"===i)return t()}var o=this.statCache[n];if(void 0!==o){if(!1===o)return t(null,o);var s=o.isDirectory()?"DIR":"FILE";return r&&"FILE"===s?t():t(null,s,o)}var a=this,c=f("stat\0"+n,(function(r,i){if(i&&i.isSymbolicLink())return a.fs.stat(n,(function(r,o){r?a._stat2(e,n,null,i,t):a._stat2(e,n,r,o,t)}));a._stat2(e,n,r,i,t)}));c&&a.fs.lstat(n,c)},w.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?i():i(null,s,r)}},4700:(e,t,n)=>{e.exports=h,h.GlobSync=f;var r=n(1455),i=n(4027),o=(i.Minimatch,n(3577).Glob,n(9023),n(6928)),s=n(2613),a=n(2641),c=n(1198),l=c.setopts,u=c.ownProp,p=c.childrenIgnored,d=c.isIgnored;function h(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new f(e,t).found}function f(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof f))return new f(e,t);if(l(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}f.prototype._finish=function(){if(s.ok(this instanceof f),this.realpath){var e=this;this.matches.forEach((function(t,n){var i=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),i[r.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;i[e._makeAbs(o)]=!0}}))}c.finish(this)},f.prototype._process=function(e,t,n){s.ok(this instanceof f);for(var r,o=0;"string"==typeof e[o];)o++;switch(o){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,o).join("/")}var c,l=e.slice(o);null===r?c=".":a(r)||a(e.map((function(e){return"string"==typeof e?e:"[*]"})).join("/"))?(r&&a(r)||(r="/"+r),c=r):c=r;var u=this._makeAbs(c);p(this,c)||(l[0]===i.GLOBSTAR?this._processGlobStar(r,c,u,l,t,n):this._processReaddir(r,c,u,l,t,n))},f.prototype._processReaddir=function(e,t,n,r,i,s){var a=this._readdir(n,s);if(a){for(var c=r[0],l=!!this.minimatch.negate,u=c._glob,p=this.dot||"."===u.charAt(0),d=[],h=0;h<a.length;h++)("."!==(g=a[h]).charAt(0)||p)&&(l&&!e?!g.match(c):g.match(c))&&d.push(g);var f=d.length;if(0!==f)if(1!==r.length||this.mark||this.stat)for(r.shift(),h=0;h<f;h++){var m;g=d[h],m=e?[e,g]:[g],this._process(m.concat(r),i,s)}else{this.matches[i]||(this.matches[i]=Object.create(null));for(h=0;h<f;h++){var g=d[h];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=o.join(this.root,g)),this._emitMatch(i,g)}}}},f.prototype._emitMatch=function(e,t){if(!d(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},f.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=this.fs.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var r=n&&n.isSymbolicLink();return this.symlinks[e]=r,r||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},f.prototype._readdir=function(e,t){if(t&&!u(this.symlinks,e))return this._readdirInGlobStar(e);if(u(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},f.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},f.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},f.prototype._processGlobStar=function(e,t,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=e?[e]:[],l=c.concat(a);this._process(l,i,!1);var u=s.length;if(!this.symlinks[n]||!o)for(var p=0;p<u;p++)if("."!==s[p].charAt(0)||this.dot){var d=c.concat(s[p],a);this._process(d,i,!0);var h=c.concat(s[p],r);this._process(h,i,!0)}}},f.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&a(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=o.join(this.root,e):(e=o.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},f.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&u(this.cache,t)){var r=this.cache[t];if(Array.isArray(r)&&(r="DIR"),!n||"DIR"===r)return r;if(n&&"FILE"===r)return!1}var i=this.statCache[t];if(!i){var o;try{o=this.fs.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(t)}catch(e){i=o}else i=o}return this.statCache[t]=i,r=!0,i&&(r=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||r,(!n||"FILE"!==r)&&r},f.prototype._mark=function(e){return c.mark(this,e)},f.prototype._makeAbs=function(e){return c.makeAbs(this,e)}},7938:(e,t,n)=>{"use strict";var r=n(887),i=n(8421),o=n(5228),s=n(3577),a=n(548)(s,r).bind(s);function c(e){return"!"===e[0]}function l(e){return"string"==typeof e}function u(e,t){!function(e){if(!e.every(l))throw new TypeError("patterns must be a string or an array of strings")}(e=[].concat(e));var n=[];return t=o({cache:Object.create(null),statCache:Object.create(null),realpathCache:Object.create(null),symlinks:Object.create(null),ignore:[]},t),e.forEach((function(r,i){if(!c(r)){var s=e.slice(i).filter(c).map((function(e){return e.slice(1)}));n.push({pattern:r,opts:o({},t,{ignore:t.ignore.concat(s)})})}})),n}e.exports=function(e,t){var n;try{n=u(e,t)}catch(e){return r.reject(e)}return r.all(n.map((function(e){return a(e.pattern,e.opts)}))).then((function(e){return i.apply(null,e)}))},e.exports.sync=function(e,t){return u(e,t).reduce((function(e,t){return i(e,s.sync(t.pattern,t.opts))}),[])},e.exports.generateGlobTasks=u,e.exports.hasMagic=function(e,t){return[].concat(e).some((function(e){return s.hasMagic(e,t)}))}},8421:(e,t,n)=>{"use strict";var r=n(580);e.exports=function(){return r([].concat.apply([],arguments))}},548:e=>{"use strict";var t=function(e,t,n){return function(){for(var r=this,i=new Array(arguments.length),o=0;o<arguments.length;o++)i[o]=arguments[o];return new t((function(t,o){i.push((function(e,r){if(e)o(e);else if(n.multiArgs){for(var i=new Array(arguments.length-1),s=1;s<arguments.length;s++)i[s-1]=arguments[s];t(i)}else t(r)})),e.apply(r,i)}))}},n=e.exports=function(e,n,r){"function"!=typeof n&&(r=n,n=Promise),(r=r||{}).exclude=r.exclude||[/.+Sync$/];var i="function"==typeof e?function(){return r.excludeMain?e.apply(this,arguments):t(e,n,r).apply(this,arguments)}:{};return Object.keys(e).reduce((function(i,o){var s=e[o];return i[o]="function"==typeof s&&function(e){var t=function(t){return"string"==typeof t?e===t:t.test(e)};return r.include?r.include.some(t):!r.exclude.some(t)}(o)?t(s,n,r):s,i}),i)};n.all=n},6549:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},5795:(e,t,n)=>{"use strict";var r=n(6549);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},1283:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var n={__proto__:t(e)};else n=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})),n};var t=Object.getPrototypeOf||function(e){return e.__proto__}},3735:(e,t,n)=>{var r,i,o=n(9896),s=n(9106),a=n(1995),c=n(1283),l=n(9023);function u(e,t){Object.defineProperty(e,r,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var p,d=function(){};if(l.debuglog?d=l.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var e=l.format.apply(l,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!o[r]){var h=global[r]||[];u(o,h),o.close=function(e){function t(t,n){return e.call(o,t,(function(e){e||g(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,i,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),g()}return Object.defineProperty(t,i,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){d(o[r]),n(2613).equal(o[r].length,0)}))}function f(e){s(e),e.gracefulify=f,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,r){return"function"==typeof n&&(r=n,n=null),function e(n,r,i,o){return t(n,r,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof i&&i.apply(this,arguments):m([e,[n,r,i],t,o||Date.now(),Date.now()])}))}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){return"function"==typeof r&&(i=r,r=null),function e(t,r,i,o,s){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof o&&o.apply(this,arguments):m([e,[t,r,i,o],n,s||Date.now(),Date.now()])}))}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,o,s){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof o&&o.apply(this,arguments):m([e,[t,n,i,o],r,s||Date.now(),Date.now()])}))}(e,t,n,i)});var i=e.copyFile;i&&(e.copyFile=function(e,t,n,r){return"function"==typeof n&&(r=n,n=0),function e(t,n,r,o,s){return i(t,n,r,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof o&&o.apply(this,arguments):m([e,[t,n,r,o],i,s||Date.now(),Date.now()])}))}(e,t,n,r)});var o=e.readdir;e.readdir=function(e,t,n){"function"==typeof t&&(n=t,t=null);var r=c.test(process.version)?function(e,t,n,r){return o(e,i(e,t,n,r))}:function(e,t,n,r){return o(e,t,i(e,t,n,r))};return r(e,t,n);function i(e,t,n,i){return function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?(s&&s.sort&&s.sort(),"function"==typeof n&&n.call(this,o,s)):m([r,[e,t,n],o,i||Date.now(),Date.now()])}}};var c=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var l=a(e);g=l.ReadStream,y=l.WriteStream}var u=e.ReadStream;u&&(g.prototype=Object.create(u.prototype),g.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var p=e.WriteStream;p&&(y.prototype=Object.create(p.prototype),y.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(e){g=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var d=g;Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var h=y;function g(e,t){return this instanceof g?(u.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function y(e,t){return this instanceof y?(p.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var v=e.open;function b(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i,o){return v(t,n,r,(function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof i&&i.apply(this,arguments):m([e,[t,n,r,i],s,o||Date.now(),Date.now()])}))}(e,t,n,r)}return e.open=b,e}function m(e){d("ENQUEUE",e[0].name,e[1]),o[r].push(e),y()}function g(){for(var e=Date.now(),t=0;t<o[r].length;++t)o[r][t].length>2&&(o[r][t][3]=e,o[r][t][4]=e);y()}function y(){if(clearTimeout(p),p=void 0,0!==o[r].length){var e=o[r].shift(),t=e[0],n=e[1],i=e[2],s=e[3],a=e[4];if(void 0===s)d("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-s>=6e4){d("TIMEOUT",t.name,n);var c=n.pop();"function"==typeof c&&c.call(null,i)}else{var l=Date.now()-a,u=Math.max(a-s,1);l>=Math.min(1.2*u,100)?(d("RETRY",t.name,n),t.apply(null,n.concat([s]))):o[r].push(e)}void 0===p&&(p=setTimeout(y,0))}}global[r]||u(global,o[r]),e.exports=f(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=f(o),o.__patched=!0)},1995:(e,t,n)=>{var r=n(2203).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var l=s[a];this[l]=i[l]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()})):process.nextTick((function(){o._read()}))},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},9106:(e,t,n)=>{var r=n(9140),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){function t(t){return t?function(n,r,i){return t.call(e,n,r,(function(e){l(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function n(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!l(e))throw e}}:t}function i(t){return t?function(n,r,i,o){return t.call(e,n,r,i,(function(e){l(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function o(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!l(e))throw e}}:t}function a(t){return t?function(n,r,i){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?t.call(e,n,r,o):t.call(e,n,o)}:t}function c(t){return t?function(n,r){var i=r?t.call(e,n,r):t.call(e,n);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:t}function l(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var u;r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,(function(t,r){t?i&&i(t):e.fchmod(r,n,(function(t){e.close(r,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(t,n){var i,o=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{i=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return i}}(e),e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,n,i,o){e.open(t,r.O_SYMLINK,(function(t,r){t?o&&o(t):e.futimes(r,n,i,(function(t){e.close(r,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,n,i){var o,s=e.openSync(t,r.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,i),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):e.futimes&&(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e),e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){}),"win32"===s&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function n(n,r,i){var o=Date.now(),s=0;t(n,r,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code||"EBUSY"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(r,(function(e,o){e&&"ENOENT"===e.code?t(n,r,a):i(c)}))}),s),void(s<100&&(s+=10));i&&i(c)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function n(n,r,i,o,s,a){var c;if(a&&"function"==typeof a){var l=0;c=function(u,p,d){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,n,r,i,o,s,c);a.apply(this,arguments)}}return t.call(e,n,r,i,o,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(u=e.readSync,function(t,n,r,i,o){for(var s=0;;)try{return u.call(e,t,n,r,i,o)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}})}},5884:e=>{"use strict";e.exports=(e,t=process.argv)=>{const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),i=t.indexOf("--");return-1!==r&&(-1===i||r<i)}},4039:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(1333);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},1333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},9957:(e,t,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(6743);e.exports=o.call(r,i)},1724:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var s=o(n(7918)),a=n(9878),c=new Set(["input","option","optgroup","select","button","datalist","textarea"]),l=new Set(["p"]),u=new Set(["thead","tbody"]),p=new Set(["dd","dt"]),d=new Set(["rt","rp"]),h=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",l],["h1",l],["h2",l],["h3",l],["h4",l],["h5",l],["h6",l],["select",c],["input",c],["output",c],["button",c],["datalist",c],["textarea",c],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",p],["dt",p],["address",l],["article",l],["aside",l],["blockquote",l],["details",l],["div",l],["dl",l],["fieldset",l],["figcaption",l],["figure",l],["footer",l],["form",l],["header",l],["hr",l],["main",l],["nav",l],["ol",l],["pre",l],["section",l],["table",l],["ul",l],["rt",d],["rp",d],["tbody",u],["tfoot",u]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),m=new Set(["math","svg"]),g=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),y=/\s|\//,v=function(){function e(e,t){var n,r,i,o,a;void 0===t&&(t={}),this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=e?e:{},this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:!t.xmlMode,this.lowerCaseAttributeNames=null!==(r=t.lowerCaseAttributeNames)&&void 0!==r?r:!t.xmlMode,this.tokenizer=new(null!==(i=t.Tokenizer)&&void 0!==i?i:s.default)(this.options,this),null===(a=(o=this.cbs).onparserinit)||void 0===a||a.call(o,this)}return e.prototype.ontext=function(e,t){var n,r,i=this.getSlice(e,t);this.endIndex=t-1,null===(r=(n=this.cbs).ontext)||void 0===r||r.call(n,i),this.startIndex=t},e.prototype.ontextentity=function(e){var t,n,r=this.tokenizer.getSectionStart();this.endIndex=r-1,null===(n=(t=this.cbs).ontext)||void 0===n||n.call(t,(0,a.fromCodePoint)(e)),this.startIndex=r},e.prototype.isVoidElement=function(e){return!this.options.xmlMode&&f.has(e)},e.prototype.onopentagname=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},e.prototype.emitOpenTag=function(e){var t,n,r,i;this.openTagStart=this.startIndex,this.tagname=e;var o=!this.options.xmlMode&&h.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){var s=this.stack.pop();null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,s,!0)}this.isVoidElement(e)||(this.stack.push(e),m.has(e)?this.foreignContext.push(!0):g.has(e)&&this.foreignContext.push(!1)),null===(i=(r=this.cbs).onopentagname)||void 0===i||i.call(r,e),this.cbs.onopentag&&(this.attribs={})},e.prototype.endOpenTag=function(e){var t,n;this.startIndex=this.openTagStart,this.attribs&&(null===(n=(t=this.cbs).onopentag)||void 0===n||n.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},e.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},e.prototype.onclosetag=function(e,t){var n,r,i,o,s,a;this.endIndex=t;var c=this.getSlice(e,t);if(this.lowerCaseTagNames&&(c=c.toLowerCase()),(m.has(c)||g.has(c))&&this.foreignContext.pop(),this.isVoidElement(c))this.options.xmlMode||"br"!==c||(null===(r=(n=this.cbs).onopentagname)||void 0===r||r.call(n,"br"),null===(o=(i=this.cbs).onopentag)||void 0===o||o.call(i,"br",{},!0),null===(a=(s=this.cbs).onclosetag)||void 0===a||a.call(s,"br",!1));else{var l=this.stack.lastIndexOf(c);if(-1!==l)if(this.cbs.onclosetag)for(var u=this.stack.length-l;u--;)this.cbs.onclosetag(this.stack.pop(),0!==u);else this.stack.length=l;else this.options.xmlMode||"p"!==c||(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1},e.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},e.prototype.closeCurrentTag=function(e){var t,n,r=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===r&&(null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,r,!e),this.stack.pop())},e.prototype.onattribname=function(e,t){this.startIndex=e;var n=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},e.prototype.onattribdata=function(e,t){this.attribvalue+=this.getSlice(e,t)},e.prototype.onattribentity=function(e){this.attribvalue+=(0,a.fromCodePoint)(e)},e.prototype.onattribend=function(e,t){var n,r;this.endIndex=t,null===(r=(n=this.cbs).onattribute)||void 0===r||r.call(n,this.attribname,this.attribvalue,e===s.QuoteType.Double?'"':e===s.QuoteType.Single?"'":e===s.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},e.prototype.getInstructionName=function(e){var t=e.search(y),n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var r=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(r),"!".concat(n))}this.startIndex=t+1},e.prototype.onprocessinginstruction=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var r=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(r),"?".concat(n))}this.startIndex=t+1},e.prototype.oncomment=function(e,t,n){var r,i,o,s;this.endIndex=t,null===(i=(r=this.cbs).oncomment)||void 0===i||i.call(r,this.getSlice(e,t-n)),null===(s=(o=this.cbs).oncommentend)||void 0===s||s.call(o),this.startIndex=t+1},e.prototype.oncdata=function(e,t,n){var r,i,o,s,a,c,l,u,p,d;this.endIndex=t;var h=this.getSlice(e,t-n);this.options.xmlMode||this.options.recognizeCDATA?(null===(i=(r=this.cbs).oncdatastart)||void 0===i||i.call(r),null===(s=(o=this.cbs).ontext)||void 0===s||s.call(o,h),null===(c=(a=this.cbs).oncdataend)||void 0===c||c.call(a)):(null===(u=(l=this.cbs).oncomment)||void 0===u||u.call(l,"[CDATA[".concat(h,"]]")),null===(d=(p=this.cbs).oncommentend)||void 0===d||d.call(p)),this.startIndex=t+1},e.prototype.onend=function(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)},e.prototype.reset=function(){var e,t,n,r;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(r=(n=this.cbs).onparserinit)||void 0===r||r.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},e.prototype.parseComplete=function(e){this.reset(),this.end(e)},e.prototype.getSlice=function(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,t-this.bufferOffset);return n},e.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},e.prototype.write=function(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".write() after done!")):(this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++))},e.prototype.end=function(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".end() after done!")):(e&&this.write(e),this.ended=!0,this.tokenizer.end())},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},e.prototype.parseChunk=function(e){this.write(e)},e.prototype.done=function(e){this.end(e)},e}();t.Parser=v},7918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var r,i,o,s=n(9878);function a(e){return e===r.Space||e===r.NewLine||e===r.Tab||e===r.FormFeed||e===r.CarriageReturn}function c(e){return e===r.Slash||e===r.Gt||a(e)}function l(e){return e>=r.Zero&&e<=r.Nine}!function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"}(r||(r={})),function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.SpecialStartSequence=23]="SpecialStartSequence",e[e.InSpecialTag=24]="InSpecialTag",e[e.BeforeEntity=25]="BeforeEntity",e[e.BeforeNumericEntity=26]="BeforeNumericEntity",e[e.InNamedEntity=27]="InNamedEntity",e[e.InNumericEntity=28]="InNumericEntity",e[e.InHexEntity=29]="InHexEntity"}(i||(i={})),function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"}(o=t.QuoteType||(t.QuoteType={}));var u={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},p=function(){function e(e,t){var n=e.xmlMode,r=void 0!==n&&n,o=e.decodeEntities,a=void 0===o||o;this.cbs=t,this.state=i.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=i.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=r,this.decodeEntities=a,this.entityTrie=r?s.xmlDecodeTree:s.htmlDecodeTree}return e.prototype.reset=function(){this.state=i.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=i.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},e.prototype.write=function(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()},e.prototype.end=function(){this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},e.prototype.getIndex=function(){return this.index},e.prototype.getSectionStart=function(){return this.sectionStart},e.prototype.stateText=function(e){e===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=i.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===r.Amp&&(this.state=i.BeforeEntity)},e.prototype.stateSpecialStartSequence=function(e){var t=this.sequenceIndex===this.currentSequence.length;if(t?c(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=i.InTagName,this.stateInTagName(e)},e.prototype.stateInSpecialTag=function(e){if(this.sequenceIndex===this.currentSequence.length){if(e===r.Gt||a(e)){var t=this.index-this.currentSequence.length;if(this.sectionStart<t){var n=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=n}return this.isSpecial=!1,this.sectionStart=t+2,void this.stateInClosingTagName(e)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===u.TitleEnd?this.decodeEntities&&e===r.Amp&&(this.state=i.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===r.Lt)},e.prototype.stateCDATASequence=function(e){e===u.Cdata[this.sequenceIndex]?++this.sequenceIndex===u.Cdata.length&&(this.state=i.InCommentLike,this.currentSequence=u.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=i.InDeclaration,this.stateInDeclaration(e))},e.prototype.fastForwardTo=function(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1},e.prototype.stateInCommentLike=function(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=i.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},e.prototype.isTagStartChar=function(e){return this.xmlMode?!c(e):function(e){return e>=r.LowerA&&e<=r.LowerZ||e>=r.UpperA&&e<=r.UpperZ}(e)},e.prototype.startSpecial=function(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=i.SpecialStartSequence},e.prototype.stateBeforeTagName=function(e){if(e===r.ExclamationMark)this.state=i.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===r.Questionmark)this.state=i.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){var t=32|e;this.sectionStart=this.index,this.xmlMode||t!==u.TitleEnd[2]?this.state=this.xmlMode||t!==u.ScriptEnd[2]?i.InTagName:i.BeforeSpecialS:this.startSpecial(u.TitleEnd,3)}else e===r.Slash?this.state=i.BeforeClosingTagName:(this.state=i.Text,this.stateText(e))},e.prototype.stateInTagName=function(e){c(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(e))},e.prototype.stateBeforeClosingTagName=function(e){a(e)||(e===r.Gt?this.state=i.Text:(this.state=this.isTagStartChar(e)?i.InClosingTagName:i.InSpecialComment,this.sectionStart=this.index))},e.prototype.stateInClosingTagName=function(e){(e===r.Gt||a(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.AfterClosingTagName,this.stateAfterClosingTagName(e))},e.prototype.stateAfterClosingTagName=function(e){(e===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=i.Text,this.baseState=i.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeAttributeName=function(e){e===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=i.InSpecialTag,this.sequenceIndex=0):this.state=i.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===r.Slash?this.state=i.InSelfClosingTag:a(e)||(this.state=i.InAttributeName,this.sectionStart=this.index)},e.prototype.stateInSelfClosingTag=function(e){e===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=i.Text,this.baseState=i.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(e)||(this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(e))},e.prototype.stateInAttributeName=function(e){(e===r.Eq||c(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.AfterAttributeName,this.stateAfterAttributeName(e))},e.prototype.stateAfterAttributeName=function(e){e===r.Eq?this.state=i.BeforeAttributeValue:e===r.Slash||e===r.Gt?(this.cbs.onattribend(o.NoValue,this.index),this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(e)):a(e)||(this.cbs.onattribend(o.NoValue,this.index),this.state=i.InAttributeName,this.sectionStart=this.index)},e.prototype.stateBeforeAttributeValue=function(e){e===r.DoubleQuote?(this.state=i.InAttributeValueDq,this.sectionStart=this.index+1):e===r.SingleQuote?(this.state=i.InAttributeValueSq,this.sectionStart=this.index+1):a(e)||(this.sectionStart=this.index,this.state=i.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))},e.prototype.handleInAttributeValue=function(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===r.DoubleQuote?o.Double:o.Single,this.index),this.state=i.BeforeAttributeName):this.decodeEntities&&e===r.Amp&&(this.baseState=this.state,this.state=i.BeforeEntity)},e.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,r.DoubleQuote)},e.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,r.SingleQuote)},e.prototype.stateInAttributeValueNoQuotes=function(e){a(e)||e===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(o.Unquoted,this.index),this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===r.Amp&&(this.baseState=this.state,this.state=i.BeforeEntity)},e.prototype.stateBeforeDeclaration=function(e){e===r.OpeningSquareBracket?(this.state=i.CDATASequence,this.sequenceIndex=0):this.state=e===r.Dash?i.BeforeComment:i.InDeclaration},e.prototype.stateInDeclaration=function(e){(e===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=i.Text,this.sectionStart=this.index+1)},e.prototype.stateInProcessingInstruction=function(e){(e===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=i.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeComment=function(e){e===r.Dash?(this.state=i.InCommentLike,this.currentSequence=u.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=i.InDeclaration},e.prototype.stateInSpecialComment=function(e){(e===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=i.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeSpecialS=function(e){var t=32|e;t===u.ScriptEnd[3]?this.startSpecial(u.ScriptEnd,4):t===u.StyleEnd[3]?this.startSpecial(u.StyleEnd,4):(this.state=i.InTagName,this.stateInTagName(e))},e.prototype.stateBeforeEntity=function(e){this.entityExcess=1,this.entityResult=0,e===r.Number?this.state=i.BeforeNumericEntity:e===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=i.InNamedEntity,this.stateInNamedEntity(e))},e.prototype.stateInNamedEntity=function(e){if(this.entityExcess+=1,this.trieIndex=(0,s.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0)return this.emitNamedEntity(),void this.index--;this.trieCurrent=this.entityTrie[this.trieIndex];var t=this.trieCurrent&s.BinTrieFlags.VALUE_LENGTH;if(t){var n=(t>>14)-1;if(this.allowLegacyEntity()||e===r.Semi){var i=this.index-this.entityExcess+1;i>this.sectionStart&&this.emitPartial(this.sectionStart,i),this.entityResult=this.trieIndex,this.trieIndex+=n,this.entityExcess=0,this.sectionStart=this.index+1,0===n&&this.emitNamedEntity()}else this.trieIndex+=n}},e.prototype.emitNamedEntity=function(){if(this.state=this.baseState,0!==this.entityResult)switch((this.entityTrie[this.entityResult]&s.BinTrieFlags.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~s.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}},e.prototype.stateBeforeNumericEntity=function(e){(32|e)===r.LowerX?(this.entityExcess++,this.state=i.InHexEntity):(this.state=i.InNumericEntity,this.stateInNumericEntity(e))},e.prototype.emitNumericEntity=function(e){var t=this.index-this.entityExcess-1;t+2+Number(this.state===i.InHexEntity)!==this.index&&(t>this.sectionStart&&this.emitPartial(this.sectionStart,t),this.sectionStart=this.index+Number(e),this.emitCodePoint((0,s.replaceCodePoint)(this.entityResult))),this.state=this.baseState},e.prototype.stateInNumericEntity=function(e){e===r.Semi?this.emitNumericEntity(!0):l(e)?(this.entityResult=10*this.entityResult+(e-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},e.prototype.stateInHexEntity=function(e){e===r.Semi?this.emitNumericEntity(!0):l(e)?(this.entityResult=16*this.entityResult+(e-r.Zero),this.entityExcess++):function(e){return e>=r.UpperA&&e<=r.UpperF||e>=r.LowerA&&e<=r.LowerF}(e)?(this.entityResult=16*this.entityResult+((32|e)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},e.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===i.Text||this.baseState===i.InSpecialTag)},e.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===i.Text||this.state===i.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==i.InAttributeValueDq&&this.state!==i.InAttributeValueSq&&this.state!==i.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},e.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},e.prototype.parse=function(){for(;this.shouldContinue();){var e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case i.Text:this.stateText(e);break;case i.SpecialStartSequence:this.stateSpecialStartSequence(e);break;case i.InSpecialTag:this.stateInSpecialTag(e);break;case i.CDATASequence:this.stateCDATASequence(e);break;case i.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(e);break;case i.InAttributeName:this.stateInAttributeName(e);break;case i.InCommentLike:this.stateInCommentLike(e);break;case i.InSpecialComment:this.stateInSpecialComment(e);break;case i.BeforeAttributeName:this.stateBeforeAttributeName(e);break;case i.InTagName:this.stateInTagName(e);break;case i.InClosingTagName:this.stateInClosingTagName(e);break;case i.BeforeTagName:this.stateBeforeTagName(e);break;case i.AfterAttributeName:this.stateAfterAttributeName(e);break;case i.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(e);break;case i.BeforeAttributeValue:this.stateBeforeAttributeValue(e);break;case i.BeforeClosingTagName:this.stateBeforeClosingTagName(e);break;case i.AfterClosingTagName:this.stateAfterClosingTagName(e);break;case i.BeforeSpecialS:this.stateBeforeSpecialS(e);break;case i.InAttributeValueNq:this.stateInAttributeValueNoQuotes(e);break;case i.InSelfClosingTag:this.stateInSelfClosingTag(e);break;case i.InDeclaration:this.stateInDeclaration(e);break;case i.BeforeDeclaration:this.stateBeforeDeclaration(e);break;case i.BeforeComment:this.stateBeforeComment(e);break;case i.InProcessingInstruction:this.stateInProcessingInstruction(e);break;case i.InNamedEntity:this.stateInNamedEntity(e);break;case i.BeforeEntity:this.stateBeforeEntity(e);break;case i.InHexEntity:this.stateInHexEntity(e);break;case i.InNumericEntity:this.stateInNumericEntity(e);break;default:this.stateBeforeNumericEntity(e)}this.index++}this.cleanup()},e.prototype.finish=function(){this.state===i.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var e=this.buffer.length+this.offset;this.state===i.InCommentLike?this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===i.InNumericEntity&&this.allowLegacyEntity()||this.state===i.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===i.InTagName||this.state===i.BeforeAttributeName||this.state===i.BeforeAttributeValue||this.state===i.AfterAttributeName||this.state===i.InAttributeName||this.state===i.InAttributeValueSq||this.state===i.InAttributeValueDq||this.state===i.InAttributeValueNq||this.state===i.InClosingTagName||this.cbs.ontext(this.sectionStart,e)},e.prototype.emitPartial=function(e,t){this.baseState!==i.Text&&this.baseState!==i.InSpecialTag?this.cbs.onattribdata(e,t):this.cbs.ontext(e,t)},e.prototype.emitCodePoint=function(e){this.baseState!==i.Text&&this.baseState!==i.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)},e}();t.default=p},8659:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var a=n(1724),c=n(1724);Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return c.Parser}});var l=n(1141),u=n(1141);function p(e,t){var n=new l.DomHandler(void 0,t);return new a.Parser(n,t).end(e),n.root}function d(e,t){return p(e,t).children}Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}}),t.parseDocument=p,t.parseDOM=d,t.createDomStream=function(e,t,n){var r=new l.DomHandler(e,t,n);return new a.Parser(r,t)};var h=n(7918);Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return s(h).default}}),t.ElementType=o(n(5413));var f=n(8888),m=n(8888);Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return m.getFeed}});var g={xmlMode:!0};t.parseFeed=function(e,t){return void 0===t&&(t=g),(0,f.getFeed)(d(e,t))},t.DomUtils=o(n(8888))},3423:(e,t,n)=>{var r=n(6587),i=Object.create(null),o=n(3519);e.exports=r((function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o((function t(){var n=i[e],r=n.length,o=function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}(arguments);try{for(var s=0;s<r;s++)n[s].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){t.apply(null,o)}))):delete i[e]}}))}(e))}))},2017:(e,t,n)=>{try{var r=n(9023);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(6698)}},6698:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},5036:(e,t,n)=>{"use strict";const r=n(6928);e.exports=e=>{let t=process.cwd();return e=r.resolve(e),"win32"===process.platform&&(t=t.toLowerCase(),e=e.toLowerCase()),e===t}},2866:(e,t,n)=>{"use strict";const r=n(1046);e.exports=e=>r(e,process.cwd())},1046:(e,t,n)=>{"use strict";const r=n(6928),i=n(2331);e.exports=(e,t)=>(e=r.resolve(e))!==(t=r.resolve(t))&&i(e,t)},8682:(e,t)=>{"use strict";function n(e){return"[object Object]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=function(e){var t,r;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}},4181:(e,t,n)=>{var r=n(2203);function i(e){return e instanceof r.Stream}function o(e){return i(e)&&"function"==typeof e._read&&"object"==typeof e._readableState}function s(e){return i(e)&&"function"==typeof e._write&&"object"==typeof e._writableState}e.exports=i,e.exports.isReadable=o,e.exports.isWritable=s,e.exports.isDuplex=function(e){return o(e)&&s(e)}},8833:function(e,t){"use strict";(function(){var n=this||{},r=n.jsonic,i=n.jsonic=function(e){return"[object String]"!==Object.prototype.toString.call(e)?Object.prototype.toString.call(e).match(/\[object (Object|Array)\]/)?e:""+e:("{"!=(e=e.trim())[0]&&"["!=e[0]&&(e="{"+e+"}"),o.parse(e))};i.noConflict=function(){return n.jsonic=r,i};var o=function(){function e(e,t,n,r,i,o){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=i,this.column=o,this.name="SyntaxError"}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,r=arguments.length>1?arguments[1]:{},i={},o={start:yt},s=yt,a=i,c=function(e){return e},l=function(e){return e},u="{",p={type:"literal",value:"{",description:'"{"'},d="}",h={type:"literal",value:"}",description:'"}"'},f=function(){return{}},m=function(e){return e},g=null,y=",",v={type:"literal",value:",",description:'","'},b=function(e,t){var n={};e&&(n[e[0]]=$t(e[1]));for(var r=0;r<t.length;r++)n[t[r][2][0]]=$t(t[r][2][1]);return n},w=":",_={type:"literal",value:":",description:'":"'},E=function(e,t){return[e,t]},x="[",S={type:"literal",value:"[",description:'"["'},T="]",C={type:"literal",value:"]",description:'"]"'},P=function(){return[]},I=function(e){return e},O=function(e,t){var n=[];null!=e&&n.push($t(e));for(var r=0;r<t.length;r++)n.push($t(t[r][2]));return n},k="true",D={type:"literal",value:"true",description:'"true"'},A=function(){return!0},R="false",N={type:"literal",value:"false",description:'"false"'},L=function(){return!1},F="null",M={type:"literal",value:"null",description:'"null"'},j=function(){return qt},B=function(e){return e.join("").trim()},U={type:"other",description:"double-quote string"},q='"',$={type:"literal",value:'"',description:'"\\""'},V=function(){return""},H=function(e){return e},G={type:"other",description:"single-quote string"},z="'",W={type:"literal",value:"'",description:'"\'"'},K=function(e){return e.join("")},Y=/^[^"\\\0-\x1F]/,J={type:"class",value:'[^"\\\\\\0-\\x1F]',description:'[^"\\\\\\0-\\x1F]'},Q='\\"',X={type:"literal",value:'\\"',description:'"\\\\\\""'},Z=function(){return'"'},ee="\\\\",te={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},ne=function(){return"\\"},re="\\/",ie={type:"literal",value:"\\/",description:'"\\\\/"'},oe=function(){return"/"},se="\\b",ae={type:"literal",value:"\\b",description:'"\\\\b"'},ce=function(){return"\b"},le="\\f",ue={type:"literal",value:"\\f",description:'"\\\\f"'},pe=function(){return"\f"},de="\\n",he={type:"literal",value:"\\n",description:'"\\\\n"'},fe=function(){return"\n"},me="\\r",ge={type:"literal",value:"\\r",description:'"\\\\r"'},ye=function(){return"\r"},ve="\\t",be={type:"literal",value:"\\t",description:'"\\\\t"'},we=function(){return"\t"},_e="\\u",Ee={type:"literal",value:"\\u",description:'"\\\\u"'},xe=function(e,t,n,r){return String.fromCharCode(parseInt("0x"+e+t+n+r))},Se=/^[^'\\\0-\x1F]/,Te={type:"class",value:"[^'\\\\\\0-\\x1F]",description:"[^'\\\\\\0-\\x1F]"},Ce="\\'",Pe={type:"literal",value:"\\'",description:'"\\\\\'"'},Ie=function(){return"'"},Oe={type:"other",description:"key"},ke=/^[a-zA-Z0-9_$\-]/,De={type:"class",value:"[a-zA-Z0-9_$\\-]",description:"[a-zA-Z0-9_$\\-]"},Ae=function(e){return e.join("")},Re=/^[^,}\]]/,Ne={type:"class",value:"[^,}\\]]",description:"[^,}\\]]"},Le={type:"other",description:"number"},Fe=function(e,t,n,r){return 0===r.length?parseFloat(e+t+n):(e+t+n+r.join("")).trim()},Me=function(e,t,n){return 0===n.length?parseFloat(e+t):(e+t+n.join("")).trim()},je=function(e,t,n){return 0===n.length?parseFloat(e+t):(e+t+n.join("")).trim()},Be=function(e,t){return 0===t.length?parseFloat(e):(e+t.join("")).trim()},Ue=function(e,t){return e+t},qe="-",$e={type:"literal",value:"-",description:'"-"'},Ve=function(e,t){return"-"+e+t},He=function(e){return"-"+e},Ge=".",ze={type:"literal",value:".",description:'"."'},We=function(e){return"."+e},Ke=function(e,t){return e+t},Ye=function(e){return e.join("")},Je=/^[eE]/,Qe={type:"class",value:"[eE]",description:"[eE]"},Xe=/^[+\-]/,Ze={type:"class",value:"[+\\-]",description:"[+\\-]"},et=function(e,t){return e+(t||"")},tt=/^[0-9]/,nt={type:"class",value:"[0-9]",description:"[0-9]"},rt=/^[1-9]/,it={type:"class",value:"[1-9]",description:"[1-9]"},ot=/^[0-9a-fA-F]/,st={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},at={type:"other",description:"whitespace"},ct=/^[ \t\n\r]/,lt={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},ut=0,pt=0,dt={line:1,column:1,seenCR:!1},ht=0,ft=[],mt=0;if("startRule"in r){if(!(r.startRule in o))throw new Error("Can't start parsing from rule \""+r.startRule+'".');s=o[r.startRule]}function gt(e){ut<ht||(ut>ht&&(ht=ut,ft=[]),ft.push(e))}function yt(){var e,t;return e=ut,Nt()!==i&&(t=vt())!==i?e=c(t):(ut=e,e=a),e===i&&(e=ut,Nt()!==i&&(t=wt())!==i?e=l(t):(ut=e,e=a)),e}function vt(){var e,n,r,o;return e=ut,123===t.charCodeAt(ut)?(n=u,ut++):(n=i,0===mt&&gt(p)),n!==i&&Nt()!==i?(125===t.charCodeAt(ut)?(r=d,ut++):(r=i,0===mt&&gt(h)),r!==i&&(o=Nt())!==i?e=n=f():(ut=e,e=a)):(ut=e,e=a),e===i&&(e=ut,123===t.charCodeAt(ut)?(n=u,ut++):(n=i,0===mt&&gt(p)),n!==i&&Nt()!==i?(r=function(){var e,n,r,o,s,c,l,u;if(e=ut,44===t.charCodeAt(ut)?(n=y,ut++):(n=i,0===mt&&gt(v)),n===i&&(n=g),n!==i)if((r=bt())===i&&(r=g),r!==i){for(o=[],s=ut,44===t.charCodeAt(ut)?(c=y,ut++):(c=i,0===mt&&gt(v)),c!==i&&(l=Nt())!==i&&(u=bt())!==i?s=c=[c,l,u]:(ut=s,s=a);s!==i;)o.push(s),s=ut,44===t.charCodeAt(ut)?(c=y,ut++):(c=i,0===mt&&gt(v)),c!==i&&(l=Nt())!==i&&(u=bt())!==i?s=c=[c,l,u]:(ut=s,s=a);o!==i?(44===t.charCodeAt(ut)?(s=y,ut++):(s=i,0===mt&&gt(v)),s===i&&(s=g),s!==i&&(c=Nt())!==i?e=n=b(r,o):(ut=e,e=a)):(ut=e,e=a)}else ut=e,e=a;else ut=e,e=a;return e}(),r!==i?(125===t.charCodeAt(ut)?(o=d,ut++):(o=i,0===mt&&gt(h)),o!==i&&Nt()!==i?e=n=m(r):(ut=e,e=a)):(ut=e,e=a)):(ut=e,e=a)),e}function bt(){var e,n,r,o;return e=ut,n=function(){var e,n,r;if(mt++,(e=Et())===i&&(e=xt())===i){if(e=ut,n=[],ke.test(t.charAt(ut))?(r=t.charAt(ut),ut++):(r=i,0===mt&&gt(De)),r!==i)for(;r!==i;)n.push(r),ke.test(t.charAt(ut))?(r=t.charAt(ut),ut++):(r=i,0===mt&&gt(De));else n=a;n!==i&&(n=Ae(n)),e=n}return mt--,e===i&&(n=i,0===mt&&gt(Oe)),e}(),n!==i&&Nt()!==i?(58===t.charCodeAt(ut)?(r=w,ut++):(r=i,0===mt&&gt(_)),r!==i&&Nt()!==i&&(o=_t())!==i?e=n=E(n,o):(ut=e,e=a)):(ut=e,e=a),e}function wt(){var e,n,r,o;return e=ut,91===t.charCodeAt(ut)?(n=x,ut++):(n=i,0===mt&&gt(S)),n!==i&&Nt()!==i?(93===t.charCodeAt(ut)?(r=T,ut++):(r=i,0===mt&&gt(C)),r!==i&&(o=Nt())!==i?e=n=P():(ut=e,e=a)):(ut=e,e=a),e===i&&(e=ut,91===t.charCodeAt(ut)?(n=x,ut++):(n=i,0===mt&&gt(S)),n!==i&&Nt()!==i?(r=function(){var e,n,r,o,s,c,l,u;if(e=ut,44===t.charCodeAt(ut)?(n=y,ut++):(n=i,0===mt&&gt(v)),n===i&&(n=g),n!==i)if((r=_t())===i&&(r=g),r!==i){for(o=[],s=ut,44===t.charCodeAt(ut)?(c=y,ut++):(c=i,0===mt&&gt(v)),c!==i&&(l=Nt())!==i&&(u=_t())!==i?s=c=[c,l,u]:(ut=s,s=a);s!==i;)o.push(s),s=ut,44===t.charCodeAt(ut)?(c=y,ut++):(c=i,0===mt&&gt(v)),c!==i&&(l=Nt())!==i&&(u=_t())!==i?s=c=[c,l,u]:(ut=s,s=a);o!==i?(44===t.charCodeAt(ut)?(s=y,ut++):(s=i,0===mt&&gt(v)),s===i&&(s=g),s!==i&&(c=Nt())!==i?e=n=O(r,o):(ut=e,e=a)):(ut=e,e=a)}else ut=e,e=a;else ut=e,e=a;return e}(),r!==i?(93===t.charCodeAt(ut)?(o=T,ut++):(o=i,0===mt&&gt(C)),o!==i&&Nt()!==i?e=n=I(r):(ut=e,e=a)):(ut=e,e=a)):(ut=e,e=a)),e}function _t(){var e,n;return(e=Et())===i&&(e=xt())===i&&(e=vt())===i&&(e=wt())===i&&(e=ut,t.substr(ut,4)===k?(n=k,ut+=4):(n=i,0===mt&&gt(D)),n!==i&&Nt()!==i?e=n=A():(ut=e,e=a),e===i&&(e=ut,t.substr(ut,5)===R?(n=R,ut+=5):(n=i,0===mt&&gt(N)),n!==i&&Nt()!==i?e=n=L():(ut=e,e=a),e===i&&(e=ut,t.substr(ut,4)===F?(n=F,ut+=4):(n=i,0===mt&&gt(M)),n!==i&&Nt()!==i?e=n=j():(ut=e,e=a),e===i&&(e=function(){var e,t,n,r,o,s,c;if(mt++,e=ut,(t=Pt())!==i)if((n=It())!==i)if((r=Ot())!==i)if((o=Nt())!==i){for(s=[],c=Ct();c!==i;)s.push(c),c=Ct();s!==i?e=t=Fe(t,n,r,s):(ut=e,e=a)}else ut=e,e=a;else ut=e,e=a;else ut=e,e=a;else ut=e,e=a;if(e===i){if(e=ut,(t=Pt())!==i)if((n=It())!==i)if((r=Nt())!==i){for(o=[],s=Ct();s!==i;)o.push(s),s=Ct();o!==i?e=t=Me(t,n,o):(ut=e,e=a)}else ut=e,e=a;else ut=e,e=a;else ut=e,e=a;if(e===i){if(e=ut,(t=Pt())!==i)if((n=Ot())!==i)if((r=Nt())!==i){for(o=[],s=Ct();s!==i;)o.push(s),s=Ct();o!==i?e=t=je(t,n,o):(ut=e,e=a)}else ut=e,e=a;else ut=e,e=a;else ut=e,e=a;if(e===i)if(e=ut,(t=Pt())!==i)if((n=Nt())!==i){for(r=[],o=Ct();o!==i;)r.push(o),o=Ct();r!==i?e=t=Be(t,r):(ut=e,e=a)}else ut=e,e=a;else ut=e,e=a}}return mt--,e===i&&(t=i,0===mt&&gt(Le)),e}(),e===i&&(e=ut,n=function(){var e,t;if(e=[],(t=Ct())!==i)for(;t!==i;)e.push(t),t=Ct();else e=a;return e}(),n!==i&&(n=B(n)),e=n))))),e}function Et(){var e,n,r,o;return mt++,e=ut,34===t.charCodeAt(ut)?(n=q,ut++):(n=i,0===mt&&gt($)),n!==i?(34===t.charCodeAt(ut)?(r=q,ut++):(r=i,0===mt&&gt($)),r!==i&&(o=Nt())!==i?e=n=V():(ut=e,e=a)):(ut=e,e=a),e===i&&(e=ut,34===t.charCodeAt(ut)?(n=q,ut++):(n=i,0===mt&&gt($)),n!==i?(r=function(){var e,t;if(ut,e=[],(t=St())!==i)for(;t!==i;)e.push(t),t=St();else e=a;return e!==i&&(e=K(e)),e}(),r!==i?(34===t.charCodeAt(ut)?(o=q,ut++):(o=i,0===mt&&gt($)),o!==i&&Nt()!==i?e=n=H(r):(ut=e,e=a)):(ut=e,e=a)):(ut=e,e=a)),mt--,e===i&&(n=i,0===mt&&gt(U)),e}function xt(){var e,n,r,o;return mt++,e=ut,39===t.charCodeAt(ut)?(n=z,ut++):(n=i,0===mt&&gt(W)),n!==i?(39===t.charCodeAt(ut)?(r=z,ut++):(r=i,0===mt&&gt(W)),r!==i&&(o=Nt())!==i?e=n=V():(ut=e,e=a)):(ut=e,e=a),e===i&&(e=ut,39===t.charCodeAt(ut)?(n=z,ut++):(n=i,0===mt&&gt(W)),n!==i?(r=function(){var e,t;if(ut,e=[],(t=Tt())!==i)for(;t!==i;)e.push(t),t=Tt();else e=a;return e!==i&&(e=K(e)),e}(),r!==i?(39===t.charCodeAt(ut)?(o=z,ut++):(o=i,0===mt&&gt(W)),o!==i&&Nt()!==i?e=n=H(r):(ut=e,e=a)):(ut=e,e=a)):(ut=e,e=a)),mt--,e===i&&(n=i,0===mt&&gt(G)),e}function St(){var e,n,r,o,s,c;return Y.test(t.charAt(ut))?(e=t.charAt(ut),ut++):(e=i,0===mt&&gt(J)),e===i&&(e=ut,t.substr(ut,2)===Q?(n=Q,ut+=2):(n=i,0===mt&&gt(X)),n!==i&&(n=Z()),(e=n)===i&&(e=ut,t.substr(ut,2)===ee?(n=ee,ut+=2):(n=i,0===mt&&gt(te)),n!==i&&(n=ne()),(e=n)===i&&(e=ut,t.substr(ut,2)===re?(n=re,ut+=2):(n=i,0===mt&&gt(ie)),n!==i&&(n=oe()),(e=n)===i&&(e=ut,t.substr(ut,2)===se?(n=se,ut+=2):(n=i,0===mt&&gt(ae)),n!==i&&(n=ce()),(e=n)===i&&(e=ut,t.substr(ut,2)===le?(n=le,ut+=2):(n=i,0===mt&&gt(ue)),n!==i&&(n=pe()),(e=n)===i&&(e=ut,t.substr(ut,2)===de?(n=de,ut+=2):(n=i,0===mt&&gt(he)),n!==i&&(n=fe()),(e=n)===i&&(e=ut,t.substr(ut,2)===me?(n=me,ut+=2):(n=i,0===mt&&gt(ge)),n!==i&&(n=ye()),(e=n)===i&&(e=ut,t.substr(ut,2)===ve?(n=ve,ut+=2):(n=i,0===mt&&gt(be)),n!==i&&(n=we()),(e=n)===i&&(e=ut,t.substr(ut,2)===_e?(n=_e,ut+=2):(n=i,0===mt&&gt(Ee)),n!==i&&(r=Rt())!==i&&(o=Rt())!==i&&(s=Rt())!==i&&(c=Rt())!==i?e=n=xe(r,o,s,c):(ut=e,e=a)))))))))),e}function Tt(){var e,n,r,o,s,c;return Se.test(t.charAt(ut))?(e=t.charAt(ut),ut++):(e=i,0===mt&&gt(Te)),e===i&&(e=ut,t.substr(ut,2)===Ce?(n=Ce,ut+=2):(n=i,0===mt&&gt(Pe)),n!==i&&(n=Ie()),(e=n)===i&&(e=ut,t.substr(ut,2)===ee?(n=ee,ut+=2):(n=i,0===mt&&gt(te)),n!==i&&(n=ne()),(e=n)===i&&(e=ut,t.substr(ut,2)===re?(n=re,ut+=2):(n=i,0===mt&&gt(ie)),n!==i&&(n=oe()),(e=n)===i&&(e=ut,t.substr(ut,2)===se?(n=se,ut+=2):(n=i,0===mt&&gt(ae)),n!==i&&(n=ce()),(e=n)===i&&(e=ut,t.substr(ut,2)===le?(n=le,ut+=2):(n=i,0===mt&&gt(ue)),n!==i&&(n=pe()),(e=n)===i&&(e=ut,t.substr(ut,2)===de?(n=de,ut+=2):(n=i,0===mt&&gt(he)),n!==i&&(n=fe()),(e=n)===i&&(e=ut,t.substr(ut,2)===me?(n=me,ut+=2):(n=i,0===mt&&gt(ge)),n!==i&&(n=ye()),(e=n)===i&&(e=ut,t.substr(ut,2)===ve?(n=ve,ut+=2):(n=i,0===mt&&gt(be)),n!==i&&(n=we()),(e=n)===i&&(e=ut,t.substr(ut,2)===_e?(n=_e,ut+=2):(n=i,0===mt&&gt(Ee)),n!==i&&(r=Rt())!==i&&(o=Rt())!==i&&(s=Rt())!==i&&(c=Rt())!==i?e=n=xe(r,o,s,c):(ut=e,e=a)))))))))),e}function Ct(){var e;return Re.test(t.charAt(ut))?(e=t.charAt(ut),ut++):(e=i,0===mt&&gt(Ne)),e}function Pt(){var e,n,r,o;return e=ut,(n=At())!==i&&(r=kt())!==i?e=n=Ue(n,r):(ut=e,e=a),e===i&&(e=Dt())===i&&(e=ut,45===t.charCodeAt(ut)?(n=qe,ut++):(n=i,0===mt&&gt($e)),n!==i&&(r=At())!==i&&(o=kt())!==i?e=n=Ve(r,o):(ut=e,e=a),e===i&&(e=ut,45===t.charCodeAt(ut)?(n=qe,ut++):(n=i,0===mt&&gt($e)),n!==i&&(r=Dt())!==i?e=n=He(r):(ut=e,e=a))),e}function It(){var e,n,r;return e=ut,46===t.charCodeAt(ut)?(n=Ge,ut++):(n=i,0===mt&&gt(ze)),n!==i&&(r=kt())!==i?e=n=We(r):(ut=e,e=a),e}function Ot(){var e,n,r;return e=ut,n=function(){var e,n,r;return e=ut,Je.test(t.charAt(ut))?(n=t.charAt(ut),ut++):(n=i,0===mt&&gt(Qe)),n!==i?(Xe.test(t.charAt(ut))?(r=t.charAt(ut),ut++):(r=i,0===mt&&gt(Ze)),r===i&&(r=g),r!==i?e=n=et(n,r):(ut=e,e=a)):(ut=e,e=a),e}(),n!==i&&(r=kt())!==i?e=n=Ke(n,r):(ut=e,e=a),e}function kt(){var e,t;if(ut,e=[],(t=Dt())!==i)for(;t!==i;)e.push(t),t=Dt();else e=a;return e!==i&&(e=Ye(e)),e}function Dt(){var e;return tt.test(t.charAt(ut))?(e=t.charAt(ut),ut++):(e=i,0===mt&&gt(nt)),e}function At(){var e;return rt.test(t.charAt(ut))?(e=t.charAt(ut),ut++):(e=i,0===mt&&gt(it)),e}function Rt(){var e;return ot.test(t.charAt(ut))?(e=t.charAt(ut),ut++):(e=i,0===mt&&gt(st)),e}function Nt(){var e,t;for(mt++,e=[],t=Lt();t!==i;)e.push(t),t=Lt();return mt--,e===i&&(t=i,0===mt&&gt(at)),e}function Lt(){var e;return ct.test(t.charAt(ut))?(e=t.charAt(ut),ut++):(e=i,0===mt&&gt(lt)),e}var Ft,Mt,jt,Bt,Ut,qt=new Object;function $t(e){return e===qt?null:e}if((n=s())!==i&&ut===t.length)return n;throw n!==i&&ut<t.length&&gt({type:"end",description:"end of input"}),Ft=null,Mt=ft,Bt=function(e){return pt!==e&&(pt>e&&(pt=0,dt={line:1,column:1,seenCR:!1}),function(e,n,r){var i,o;for(i=n;i<r;i++)"\n"===(o=t.charAt(i))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(dt,pt,e),pt=e),dt}(jt=ht),Ut=jt<t.length?t.charAt(jt):null,null!==Mt&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(Mt),new e(null!==Ft?Ft:function(e,t){var n,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n].description;return"Expected "+(e.length>1?r.slice(0,-1).join(", ")+" or "+r[e.length-1]:r[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0180-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1080-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(Mt,Ut),Mt,Ut,jt,Bt.line,Bt.column)}}}();function s(e,t,n){if(n++,null==e)return"null";var r=Object.prototype.toString.call(e).charAt(8);if("F"===r&&!t.showfunc)return null;if(t.custom){if(e.hasOwnProperty("toString"))return e.toString();if(e.hasOwnProperty("inspect"))return e.inspect()}var i,o,a,c=0;if("N"===r)return isNaN(e)?"null":e.toString();if("O"===r){if(i=[],n<=t.depth)for(c in o=0,e){if(o>=t.maxitems)break;var l=!0;for(a=0;a<t.exclude.length&&l;a++)l=!~c.indexOf(t.exclude[a]);if(l=l&&!t.omit[c],null!=(p=s(e[c],t,n))&&l){var u=c.match(/^[a-zA-Z0-9_$]+$/)?c:JSON.stringify(c);i.push(u+":"+p),o++}}return"{"+i.join(",")+"}"}if("A"===r){if(i=[],n<=t.depth)for(;c<e.length&&c<t.maxitems;c++){var p;null!=(p=s(e[c],t,n))&&i.push(p)}return"["+i.join(",")+"]"}var d=e.toString();return(~" \"'\r\n\t,}]".indexOf(d[0])||!~d.match(/,}]/)||~" \r\n\t".indexOf(d[d.length-1]))&&(d="'"+d.replace(/'/g,"\\'")+"'"),d}i.stringify=function(e,t){try{t=t||{};var n={};n.showfunc=t.showfunc||t.f||!1,n.custom=t.custom||t.c||!1,n.depth=t.depth||t.d||3,n.maxitems=t.maxitems||t.mi||11,n.maxchars=t.maxchars||t.mc||111,n.exclude=t.exclude||t.x||["$"];var r=t.omit||t.o||[];n.omit={};for(var i=0;i<r.length;i++)n.omit[r[i]]=!0;var o=s(e,n,0);return null==o?"":o.substring(0,n.maxchars)}catch(t){return"ERROR: jsonic.stringify: "+t+" input was: "+JSON.stringify(e)}},e.exports&&(t=e.exports=i),t.jsonic=i}).call(this)},1514:e=>{"use strict";e.exports=Math.abs},8968:e=>{"use strict";e.exports=Math.floor},4459:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},6188:e=>{"use strict";e.exports=Math.max},8002:e=>{"use strict";e.exports=Math.min},5880:e=>{"use strict";e.exports=Math.pow},414:e=>{"use strict";e.exports=Math.round},3093:(e,t,n)=>{"use strict";var r=n(4459);e.exports=function(e){return r(e)||0===e?e:e<0?-1:1}},7598:(e,t,n)=>{e.exports=n(1813)},6049:(e,t,n)=>{"use strict";var r,i,o,s=n(7598),a=n(6928).extname,c=/^\s*([^;\s]*)(?:;|\s|$)/,l=/^text\//i;function u(e){if(!e||"string"!=typeof e)return!1;var t=c.exec(e),n=t&&s[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!l.test(t[1]))&&"UTF-8"}t.charset=u,t.charsets={lookup:u},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var r=t.charset(n);r&&(n+="; charset="+r.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var n=c.exec(e),r=n&&t.extensions[n[1].toLowerCase()];return!(!r||!r.length)&&r[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=a("x."+e).toLowerCase().substr(1);return n&&t.types[n]||!1},t.types=Object.create(null),r=t.extensions,i=t.types,o=["nginx","apache",void 0,"iana"],Object.keys(s).forEach((function(e){var t=s[e],n=t.extensions;if(n&&n.length){r[e]=n;for(var a=0;a<n.length;a++){var c=n[a];if(i[c]){var l=o.indexOf(s[i[c]].source),u=o.indexOf(t.source);if("application/octet-stream"!==i[c]&&(l>u||l===u&&"application/"===i[c].substr(0,12)))continue}i[c]=e}}}))},4027:(e,t,n)=>{e.exports=d,d.Minimatch=h;var r=function(){try{return n(6928)}catch(e){}}()||{sep:"/"};d.sep=r.sep;var i=d.GLOBSTAR=h.GLOBSTAR={},o=n(7310),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",l="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),u=/\/+/;function p(e,t){t=t||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function d(e,t,n){return m(t),n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&new h(t,n).match(e)}function h(e,t){if(!(this instanceof h))return new h(e,t);m(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===r.sep||(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function f(e,t){return t||(t=this instanceof h?this.options:{}),e=void 0===e?this.pattern:e,m(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)}d.filter=function(e,t){return t=t||{},function(n,r,i){return d(n,e,t)}},d.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return d;var t=d,n=function(n,r,i){return t(n,r,p(e,i))};return(n.Minimatch=function(n,r){return new t.Minimatch(n,p(e,r))}).defaults=function(n){return t.defaults(p(e,n)).Minimatch},n.filter=function(n,r){return t.filter(n,p(e,r))},n.defaults=function(n){return t.defaults(p(e,n))},n.makeRe=function(n,r){return t.makeRe(n,p(e,r))},n.braceExpand=function(n,r){return t.braceExpand(n,p(e,r))},n.match=function(n,r,i){return t.match(n,r,p(e,i))},n},h.defaults=function(e){return d.defaults(e).Minimatch},h.prototype.debug=function(){},h.prototype.make=function(){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(u)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(!this.options.nonegate){for(var r=0,i=e.length;r<i&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}},d.braceExpand=function(e,t){return f(e,t)},h.prototype.braceExpand=f;var m=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};h.prototype.parse=function(e,t){m(e);var n=this.options;if("**"===e){if(!n.noglobstar)return i;e="*"}if(""===e)return"";var r,o="",u=!!n.nocase,p=!1,d=[],h=[],f=!1,y=-1,v=-1,b="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=this;function _(){if(r){switch(r){case"*":o+=c,u=!0;break;case"?":o+=a,u=!0;break;default:o+="\\"+r}w.debug("clearStateChar %j %j",r,o),r=!1}}for(var E,x=0,S=e.length;x<S&&(E=e.charAt(x));x++)if(this.debug("%s\t%s %s %j",e,x,o,E),p&&l[E])o+="\\"+E,p=!1;else switch(E){case"/":return!1;case"\\":_(),p=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,x,o,E),f){this.debug("  in class"),"!"===E&&x===v+1&&(E="^"),o+=E;continue}w.debug("call clearStateChar %j",r),_(),r=E,n.noext&&_();continue;case"(":if(f){o+="(";continue}if(!r){o+="\\(";continue}d.push({type:r,start:x-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(f||!d.length){o+="\\)";continue}_(),u=!0;var T=d.pop();o+=T.close,"!"===T.type&&h.push(T),T.reEnd=o.length;continue;case"|":if(f||!d.length||p){o+="\\|",p=!1;continue}_(),o+="|";continue;case"[":if(_(),f){o+="\\"+E;continue}f=!0,v=x,y=o.length,o+=E;continue;case"]":if(x===v+1||!f){o+="\\"+E,p=!1;continue}var C=e.substring(v+1,x);try{RegExp("["+C+"]")}catch(e){var P=this.parse(C,g);o=o.substr(0,y)+"\\["+P[0]+"\\]",u=u||P[1],f=!1;continue}u=!0,f=!1,o+=E;continue;default:_(),p?p=!1:!l[E]||"^"===E&&f||(o+="\\"),o+=E}for(f&&(C=e.substr(v+1),P=this.parse(C,g),o=o.substr(0,y)+"\\["+P[0],u=u||P[1]),T=d.pop();T;T=d.pop()){var I=o.slice(T.reStart+T.open.length);this.debug("setting tail",o,T),I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",I,I,T,o);var O="*"===T.type?c:"?"===T.type?a:"\\"+T.type;u=!0,o=o.slice(0,T.reStart)+O+"\\("+I}_(),p&&(o+="\\\\");var k=!1;switch(o.charAt(0)){case"[":case".":case"(":k=!0}for(var D=h.length-1;D>-1;D--){var A=h[D],R=o.slice(0,A.reStart),N=o.slice(A.reStart,A.reEnd-8),L=o.slice(A.reEnd-8,A.reEnd),F=o.slice(A.reEnd);L+=F;var M=R.split("(").length-1,j=F;for(x=0;x<M;x++)j=j.replace(/\)[+*?]?/,"");var B="";""===(F=j)&&t!==g&&(B="$"),o=R+N+F+B+L}if(""!==o&&u&&(o="(?=.)"+o),k&&(o=b+o),t===g)return[o,u];if(!u)return e.replace(/\\(.)/g,"$1");var U=n.nocase?"i":"";try{var q=new RegExp("^"+o+"$",U)}catch(e){return new RegExp("$.")}return q._glob=e,q._src=o,q};var g={};d.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},d.match=function(e,t,n){var r=new h(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(u),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;if(n.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var l,u=t[s],p=e[o];if(this.debug(t,u,p),!1===u)return!1;if(u===i){this.debug("GLOBSTAR",[t,u,p]);var d=o,h=s+1;if(h===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;d<a;){var f=e[d];if(this.debug("\nglobstar while",e,d,t,h,f),this.matchOne(e.slice(d),t.slice(h),n))return this.debug("globstar found match!",d,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,d,t,h);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!n||(this.debug("\n>>> no match, partial?",e,d,t,h),d!==a))}if("string"==typeof u?(l=p===u,this.debug("string match",u,p,l)):(l=p.match(u),this.debug("pattern match",u,p,l)),!l)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},7310:(e,t,n)=>{var r=n(9818),i=n(8505);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),y(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(p)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function p(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function d(e){if(!e)return[""];var t=[],n=i("{","}",e);if(!n)return e.split(",");var r=n.pre,o=n.body,s=n.post,a=r.split(",");a[a.length-1]+="{"+o+"}";var c=d(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function h(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function m(e,t){return e<=t}function g(e,t){return e>=t}function y(e,t){var n=[],o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var s,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),p=c||l,v=o.body.indexOf(",")>=0;if(!p&&!v)return o.post.match(/,(?!,).*\}/)?y(e=o.pre+"{"+o.body+a+o.post):[e];if(p)s=o.body.split(/\.\./);else if(1===(s=d(o.body)).length&&1===(s=y(s[0],!1).map(h)).length)return(_=o.post.length?y(o.post,!1):[""]).map((function(e){return o.pre+s[0]+e}));var b,w=o.pre,_=o.post.length?y(o.post,!1):[""];if(p){var E=u(s[0]),x=u(s[1]),S=Math.max(s[0].length,s[1].length),T=3==s.length?Math.abs(u(s[2])):1,C=m;x<E&&(T*=-1,C=g);var P=s.some(f);b=[];for(var I=E;C(I,x);I+=T){var O;if(l)"\\"===(O=String.fromCharCode(I))&&(O="");else if(O=String(I),P){var k=S-O.length;if(k>0){var D=new Array(k+1).join("0");O=I<0?"-"+D+O.slice(1):D+O}}b.push(O)}}else b=r(s,(function(e){return y(e,!1)}));for(var A=0;A<b.length;A++)for(var R=0;R<_.length;R++){var N=w+b[A]+_[R];(!t||p||N)&&n.push(N)}return n}},6585:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function o(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=i?o(a,c,i,"day"):c>=r?o(a,c,r,"hour"):c>=n?o(a,c,n,"minute"):c>=t?o(a,c,t,"second"):a+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=r?Math.round(e/r)+"h":o>=n?Math.round(e/n)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},8169:(e,t,n)=>{const r=require;"function"==typeof r.addon?e.exports=r.addon.bind(r):e.exports=n(101)},5228:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(a[l]=o[l]);if(t){s=t(o);for(var u=0;u<s.length;u++)r.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},3519:(e,t,n)=>{var r=n(6587);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},552:e=>{"use strict";const t=(e,t,n)=>new Promise(((r,i)=>{if(n=Object.assign({concurrency:1/0},n),"function"!=typeof t)throw new TypeError("Mapper function is required");const{concurrency:o}=n;if(!("number"==typeof o&&o>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${o}\` (${typeof o})`);const s=[],a=e[Symbol.iterator]();let c=!1,l=!1,u=0,p=0;const d=()=>{if(c)return;const e=a.next(),n=p;if(p++,e.done)return l=!0,void(0===u&&r(s));u++,Promise.resolve(e.value).then((e=>t(e,n))).then((e=>{s[n]=e,u--,d()}),(e=>{c=!0,i(e)}))};for(let e=0;e<o&&(d(),!l);e++);}));e.exports=t,e.exports.default=t},9466:function(e,t){var n,r;void 0===(r="function"==typeof(n=function(){return function(e){function t(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function n(t){var n,r=t.exec(e.substring(m));if(r)return n=r[0],m+=n.length,n}for(var r,i,o,s,a,c=e.length,l=/^[ \t\n\r\u000c]+/,u=/^[, \t\n\r\u000c]+/,p=/^[^ \t\n\r\u000c]+/,d=/[,]+$/,h=/^\d+$/,f=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,m=0,g=[];;){if(n(u),m>=c)return g;r=n(p),i=[],","===r.slice(-1)?(r=r.replace(d,""),v()):y()}function y(){for(n(l),o="",s="in descriptor";;){if(a=e.charAt(m),"in descriptor"===s)if(t(a))o&&(i.push(o),o="",s="after descriptor");else{if(","===a)return m+=1,o&&i.push(o),void v();if("("===a)o+=a,s="in parens";else{if(""===a)return o&&i.push(o),void v();o+=a}}else if("in parens"===s)if(")"===a)o+=a,s="in descriptor";else{if(""===a)return i.push(o),void v();o+=a}else if("after descriptor"===s)if(t(a));else{if(""===a)return void v();s="in descriptor",m-=1}m+=1}}function v(){var t,n,o,s,a,c,l,u,p,d=!1,m={};for(s=0;s<i.length;s++)c=(a=i[s])[a.length-1],l=a.substring(0,a.length-1),u=parseInt(l,10),p=parseFloat(l),h.test(l)&&"w"===c?((t||n)&&(d=!0),0===u?d=!0:t=u):f.test(l)&&"x"===c?((t||n||o)&&(d=!0),p<0?d=!0:n=p):h.test(l)&&"h"===c?((o||n)&&(d=!0),0===u?d=!0:o=u):d=!0;d?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+a+"'."):(m.url=r,t&&(m.w=t),n&&(m.d=n),o&&(m.h=o),g.push(m))}}})?n.apply(t,[]):n)||(e.exports=r)},2641:e=>{"use strict";function t(e){return"/"===e.charAt(0)}function n(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?n:t,e.exports.posix=t,e.exports.win32=n},2331:(e,t,n)=>{"use strict";var r=n(6928);function i(e){return e[e.length-1]===r.sep?e.slice(0,-1):e}e.exports=function(e,t){return e=i(e),t=i(t),"win32"===process.platform&&(e=e.toLowerCase(),t=t.toLowerCase()),0===e.lastIndexOf(t,0)&&(e[t.length]===r.sep||void 0===e[t.length])}},1436:e=>{function t(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}function n(e){e.pending+=1;var t=!1;return function(i){if(t)throw new Error("callback called twice");if(t=!0,e.error=e.error||i,e.pending-=1,e.waiting.length>0&&e.pending<e.max)r(e,e.waiting.shift());else if(0===e.pending){var o=e.listeners;e.listeners=[],o.forEach(n)}};function n(t){t(e.error)}}function r(e,t){t(n(e))}e.exports=t,t.prototype.go=function(e){this.pending<this.max?r(this,e):this.waiting.push(e)},t.prototype.wait=function(e){0===this.pending?e(this.error):this.listeners.push(e)},t.prototype.hold=function(){return n(this)}},8991:e=>{let t=process||{},n=t.argv||[],r=t.env||{},i=!(r.NO_COLOR||n.includes("--no-color"))&&(!!r.FORCE_COLOR||n.includes("--color")||"win32"===t.platform||(t.stdout||{}).isTTY&&"dumb"!==r.TERM||!!r.CI),o=(e,t,n=e)=>r=>{let i=""+r,o=i.indexOf(t,e.length);return~o?e+s(i,t,n,o)+t:e+i+t},s=(e,t,n,r)=>{let i="",o=0;do{i+=e.substring(o,r)+n,o=r+t.length,r=e.indexOf(t,o)}while(~r);return i+e.substring(o)},a=(e=i)=>{let t=e?o:()=>String;return{isColorSupported:e,reset:t("[0m","[0m"),bold:t("[1m","[22m","[22m[1m"),dim:t("[2m","[22m","[22m[2m"),italic:t("[3m","[23m"),underline:t("[4m","[24m"),inverse:t("[7m","[27m"),hidden:t("[8m","[28m"),strikethrough:t("[9m","[29m"),black:t("[30m","[39m"),red:t("[31m","[39m"),green:t("[32m","[39m"),yellow:t("[33m","[39m"),blue:t("[34m","[39m"),magenta:t("[35m","[39m"),cyan:t("[36m","[39m"),white:t("[37m","[39m"),gray:t("[90m","[39m"),bgBlack:t("[40m","[49m"),bgRed:t("[41m","[49m"),bgGreen:t("[42m","[49m"),bgYellow:t("[43m","[49m"),bgBlue:t("[44m","[49m"),bgMagenta:t("[45m","[49m"),bgCyan:t("[46m","[49m"),bgWhite:t("[47m","[49m"),blackBright:t("[90m","[39m"),redBright:t("[91m","[39m"),greenBright:t("[92m","[39m"),yellowBright:t("[93m","[39m"),blueBright:t("[94m","[39m"),magentaBright:t("[95m","[39m"),cyanBright:t("[96m","[39m"),whiteBright:t("[97m","[39m"),bgBlackBright:t("[100m","[49m"),bgRedBright:t("[101m","[49m"),bgGreenBright:t("[102m","[49m"),bgYellowBright:t("[103m","[49m"),bgBlueBright:t("[104m","[49m"),bgMagentaBright:t("[105m","[49m"),bgCyanBright:t("[106m","[49m"),bgWhiteBright:t("[107m","[49m")}};e.exports=a(),e.exports.createColors=a},6867:e=>{"use strict";const t=(e,t)=>function(...n){return new(0,t.promiseModule)(((r,i)=>{t.multiArgs?n.push(((...e)=>{t.errorFirst?e[0]?i(e):(e.shift(),r(e)):r(e)})):t.errorFirst?n.push(((e,t)=>{e?i(e):r(t)})):n.push(r),e.apply(this,n)}))};e.exports=(e,n)=>{n=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},n);const r=typeof e;if(null===e||"object"!==r&&"function"!==r)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":r}\``);const i=e=>{const t=t=>"string"==typeof t?e===t:t.test(e);return n.include?n.include.some(t):!n.exclude.some(t)};let o;o="function"===r?function(...r){return n.excludeMain?e(...r):t(e,n).apply(this,r)}:Object.create(Object.getPrototypeOf(e));for(const r in e){const s=e[r];o[r]="function"==typeof s&&i(r)?t(s,n):s}return o}},887:(e,t,n)=>{"use strict";e.exports="function"==typeof Promise?Promise:n(2239)},2239:e=>{"use strict";var t,n="pending",r="settled",i="fulfilled",o="rejected",s=function(){},a="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,c="undefined"==typeof setImmediate?setTimeout:setImmediate,l=[];function u(){for(var e=0;e<l.length;e++)l[e][0](l[e][1]);l=[],t=!1}function p(e,n){l.push([e,n]),t||(t=!0,c(u,0))}function d(e){var t=e.owner,n=t._state,r=t._data,s=e[n],a=e.then;if("function"==typeof s){n=i;try{r=s(r)}catch(e){g(a,e)}}h(a,r)||(n===i&&f(a,r),n===o&&g(a,r))}function h(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var r=t.then;if("function"==typeof r)return r.call(t,(function(r){n||(n=!0,t===r?m(e,r):f(e,r))}),(function(t){n||(n=!0,g(e,t))})),!0}}catch(t){return n||g(e,t),!0}return!1}function f(e,t){e!==t&&h(e,t)||m(e,t)}function m(e,t){e._state===n&&(e._state=r,e._data=t,p(v,e))}function g(e,t){e._state===n&&(e._state=r,e._data=t,p(b,e))}function y(e){e._then=e._then.forEach(d)}function v(e){e._state=i,y(e)}function b(e){e._state=o,y(e),!e._handled&&a&&global.process.emit("unhandledRejection",e._data,e)}function w(e){global.process.emit("rejectionHandled",e)}function _(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof _==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){g(t,e)}try{e((function(e){f(t,e)}),n)}catch(e){n(e)}}(e,this)}_.prototype={constructor:_,_state:n,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(s),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===o&&a&&p(w,this)),this._state===i||this._state===o?p(d,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},_.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new _((function(t,n){var r=[],i=0;function o(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var s,a=0;a<e.length;a++)(s=e[a])&&"function"==typeof s.then?s.then(o(a),n):r[a]=s;i||t(r)}))},_.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new _((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"==typeof r.then?r.then(t,n):t(r)}))},_.resolve=function(e){return e&&"object"==typeof e&&e.constructor===_?e:new _((function(t){t(e)}))},_.reject=function(e){return new _((function(t,n){n(e)}))},e.exports=_},396:(e,t,n)=>{"use strict";let r=n(7793);class i extends r{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}e.exports=i,i.default=i,r.registerAtRule(i)},9371:(e,t,n)=>{"use strict";let r=n(3152);class i extends r{constructor(e){super(e),this.type="comment"}}e.exports=i,i.default=i},7793:(e,t,n)=>{"use strict";let r,i,o,s,a=n(9371),c=n(5238),l=n(3152),{isClean:u,my:p}=n(4151);function d(e){return e.map((e=>(e.nodes&&(e.nodes=d(e.nodes)),delete e.source,e)))}function h(e){if(e[u]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)h(t)}class f extends l{get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t,n,r=this.getIterator();for(;this.indexes[r]<this.proxyOf.nodes.length&&(t=this.indexes[r],n=e(this.proxyOf.nodes[t],t),!1!==n);)this.indexes[r]+=1;return delete this.indexes[r],n}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...n)=>e[t](...n.map((e=>"function"==typeof e?(t,n)=>e(t.toProxy(),n):e))):"every"===t||"some"===t?n=>e[t](((e,...t)=>n(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,n)=>(e[t]===n||(e[t]=n,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let n,r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let e of i)this.proxyOf.nodes.splice(r+1,0,e);for(let e in this.indexes)n=this.indexes[e],r<n&&(this.indexes[e]=n+i.length);return this.markDirty(),this}insertBefore(e,t){let n,r=this.index(e),i=0===r&&"prepend",o=this.normalize(t,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let e of o)this.proxyOf.nodes.splice(r,0,e);for(let e in this.indexes)n=this.indexes[e],r<=n&&(this.indexes[e]=n+o.length);return this.markDirty(),this}normalize(e,t){if("string"==typeof e)e=d(i(e).nodes);else if(void 0===e)e=[];else if(Array.isArray(e)){e=e.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if("root"===e.type&&"document"!==this.type){e=e.nodes.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new c(e)]}else if(e.selector||e.selectors)e=[new s(e)];else if(e.name)e=[new r(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new a(e)]}return e.map((e=>(e[p]||f.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[u]&&h(e),e.raws||(e.raws={}),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/\S/g,"")),e.parent=this.proxyOf,e)))}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let n in this.indexes)t=this.indexes[n],t>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls((r=>{t.props&&!t.props.includes(r.prop)||t.fast&&!r.value.includes(t.fast)||(r.value=r.value.replace(e,n))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,n)=>{let r;try{r=e(t,n)}catch(e){throw t.addToError(e)}return!1!==r&&t.walk&&(r=t.walk(e)),r}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((n,r)=>{if("atrule"===n.type&&e.test(n.name))return t(n,r)})):this.walk(((n,r)=>{if("atrule"===n.type&&n.name===e)return t(n,r)})):(t=e,this.walk(((e,n)=>{if("atrule"===e.type)return t(e,n)})))}walkComments(e){return this.walk(((t,n)=>{if("comment"===t.type)return e(t,n)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((n,r)=>{if("decl"===n.type&&e.test(n.prop))return t(n,r)})):this.walk(((n,r)=>{if("decl"===n.type&&n.prop===e)return t(n,r)})):(t=e,this.walk(((e,n)=>{if("decl"===e.type)return t(e,n)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((n,r)=>{if("rule"===n.type&&e.test(n.selector))return t(n,r)})):this.walk(((n,r)=>{if("rule"===n.type&&n.selector===e)return t(n,r)})):(t=e,this.walk(((e,n)=>{if("rule"===e.type)return t(e,n)})))}}f.registerParse=e=>{i=e},f.registerRule=e=>{s=e},f.registerAtRule=e=>{r=e},f.registerRoot=e=>{o=e},e.exports=f,f.default=f,f.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,r.prototype):"rule"===e.type?Object.setPrototypeOf(e,s.prototype):"decl"===e.type?Object.setPrototypeOf(e,c.prototype):"comment"===e.type?Object.setPrototypeOf(e,a.prototype):"root"===e.type&&Object.setPrototypeOf(e,o.prototype),e[p]=!0,e.nodes&&e.nodes.forEach((e=>{f.rebuild(e)}))}},3614:(e,t,n)=>{"use strict";let r=n(8991),i=n(8549);class o extends Error{constructor(e,t,n,r,i,s){super(e),this.name="CssSyntaxError",this.reason=e,i&&(this.file=i),r&&(this.source=r),s&&(this.plugin=s),void 0!==t&&void 0!==n&&("number"==typeof t?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,o)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=r.isColorSupported);let n=e=>e,o=e=>e,s=e=>e;if(e){let{bold:e,gray:t,red:a}=r.createColors(!0);o=t=>e(a(t)),n=e=>t(e),i&&(s=e=>i(e))}let a=t.split(/\r?\n/),c=Math.max(this.line-3,0),l=Math.min(this.line+2,a.length),u=String(l).length;return a.slice(c,l).map(((e,t)=>{let r=c+1+t,i=" "+(" "+r).slice(-u)+" | ";if(r===this.line){if(e.length>160){let t=20,r=Math.max(0,this.column-t),a=Math.max(this.column+t,this.endColumn+t),c=e.slice(r,a),l=n(i.replace(/\d/g," "))+e.slice(0,Math.min(this.column-1,t-1)).replace(/[^\t]/g," ");return o(">")+n(i)+s(c)+"\n "+l+o("^")}let t=n(i.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return o(">")+n(i)+s(e)+"\n "+t+o("^")}return" "+n(i)+s(e)})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}e.exports=o,o.default=o},5238:(e,t,n)=>{"use strict";let r=n(3152);class i extends r{get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}}e.exports=i,i.default=i},145:(e,t,n)=>{"use strict";let r,i,o=n(7793);class s extends o{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new r(new i,this,e).stringify()}}s.registerLazyResult=e=>{r=e},s.registerProcessor=e=>{i=e},e.exports=s,s.default=s},3438:(e,t,n)=>{"use strict";let r=n(396),i=n(9371),o=n(5238),s=n(1106),a=n(3878),c=n(5644),l=n(1534);function u(e,t){if(Array.isArray(e))return e.map((e=>u(e)));let{inputs:n,...p}=e;if(n){t=[];for(let e of n){let n={...e,__proto__:s.prototype};n.map&&(n.map={...n.map,__proto__:a.prototype}),t.push(n)}}if(p.nodes&&(p.nodes=e.nodes.map((e=>u(e,t)))),p.source){let{inputId:e,...n}=p.source;p.source=n,null!=e&&(p.source.input=t[e])}if("root"===p.type)return new c(p);if("decl"===p.type)return new o(p);if("rule"===p.type)return new l(p);if("comment"===p.type)return new i(p);if("atrule"===p.type)return new r(p);throw new Error("Unknown node type: "+e.type)}e.exports=u,u.default=u},1106:(e,t,n)=>{"use strict";let{nanoid:r}=n(5463),{isAbsolute:i,resolve:o}=n(6928),{SourceMapConsumer:s,SourceMapGenerator:a}=n(5760),{fileURLToPath:c,pathToFileURL:l}=n(7016),u=n(3614),p=n(3878),d=n(8549),h=Symbol("lineToIndexCache"),f=Boolean(s&&a),m=Boolean(o&&i);function g(e){if(e[h])return e[h];let t=e.css.split("\n"),n=new Array(t.length),r=0;for(let e=0,i=t.length;e<i;e++)n[e]=r,r+=t[e].length+1;return e[h]=n,n}class y{get from(){return this.file||this.id}constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||"￾"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,t.document&&(this.document=t.document.toString()),t.from&&(!m||/^\w+:\/\//.test(t.from)||i(t.from)?this.file=t.from:this.file=o(t.from)),m&&f){let e=new p(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+r(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,n,r={}){let i,o,s,a,c;if(t&&"object"==typeof t){let e=t,r=n;if("number"==typeof e.offset){a=e.offset;let r=this.fromOffset(a);t=r.line,n=r.col}else t=e.line,n=e.column,a=this.fromLineAndColumn(t,n);if("number"==typeof r.offset){s=r.offset;let e=this.fromOffset(s);o=e.line,i=e.col}else o=r.line,i=r.column,s=this.fromLineAndColumn(r.line,r.column)}else if(n)a=this.fromLineAndColumn(t,n);else{a=t;let e=this.fromOffset(a);t=e.line,n=e.col}let p=this.origin(t,n,o,i);return c=p?new u(e,void 0===p.endLine?p.line:{column:p.column,line:p.line},void 0===p.endLine?p.column:{column:p.endColumn,line:p.endLine},p.source,p.file,r.plugin):new u(e,void 0===o?t:{column:n,line:t},void 0===o?n:{column:i,line:o},this.css,this.file,r.plugin),c.input={column:n,endColumn:i,endLine:o,endOffset:s,line:t,offset:a,source:this.css},this.file&&(l&&(c.input.url=l(this.file).toString()),c.input.file=this.file),c}fromLineAndColumn(e,t){return g(this)[e-1]+t-1}fromOffset(e){let t=g(this),n=0;if(e>=t[t.length-1])n=t.length-1;else{let r,i=t.length-2;for(;n<i;)if(r=n+(i-n>>1),e<t[r])i=r-1;else{if(!(e>=t[r+1])){n=r;break}n=r+1}}return{col:e-t[n]+1,line:n+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:o(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,n,r){if(!this.map)return!1;let o,s,a=this.map.consumer(),u=a.originalPositionFor({column:t,line:e});if(!u.source)return!1;"number"==typeof n&&(o=a.originalPositionFor({column:r,line:n})),s=i(u.source)?l(u.source):new URL(u.source,this.map.consumer().sourceRoot||l(this.map.mapFile));let p={column:u.column,endColumn:o&&o.column,endLine:o&&o.line,line:u.line,url:s.toString()};if("file:"===s.protocol){if(!c)throw new Error("file: protocol is not available in this PostCSS build");p.file=c(s)}let d=a.sourceContentFor(u.source);return d&&(p.source=d),p}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}}e.exports=y,y.default=y,d&&d.registerInput&&d.registerInput(y)},6966:(e,t,n)=>{"use strict";let r=n(7793),i=n(145),o=n(3604),s=n(9577),a=n(3717),c=n(5644),l=n(3303),{isClean:u,my:p}=n(4151);n(6156);const d={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},h={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},f={Once:!0,postcssPlugin:!0,prepare:!0},m=0;function g(e){return"object"==typeof e&&"function"==typeof e.then}function y(e){let t=!1,n=d[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[n,n+"-"+t,m,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:e.append?[n,m,n+"Exit"]:[n,n+"Exit"]}function v(e){let t;return t="document"===e.type?["Document",m,"DocumentExit"]:"root"===e.type?["Root",m,"RootExit"]:y(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function b(e){return e[u]=!1,e.nodes&&e.nodes.forEach((e=>b(e))),e}let w={};class _{get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}constructor(e,t,n){let i;if(this.stringified=!1,this.processed=!1,"object"!=typeof t||null===t||"root"!==t.type&&"document"!==t.type)if(t instanceof _||t instanceof a)i=b(t.root),t.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{let e=s;n.syntax&&(e=n.syntax.parse),n.parser&&(e=n.parser),e.parse&&(e=e.parse);try{i=e(t,n)}catch(e){this.processed=!0,this.error=e}i&&!i[p]&&r.rebuild(i)}else i=b(t);this.result=new a(e,i,n),this.helpers={...w,postcss:w,result:this.result},this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?n.postcssVersion:(e.plugin=n.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}prepareVisitors(){this.listeners={};let e=(e,t,n)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,n])};for(let t of this.plugins)if("object"==typeof t)for(let n in t){if(!h[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!f[n])if("object"==typeof t[n])for(let r in t[n])e(t,"*"===r?n:n+"-"+r.toLowerCase(),t[n][r]);else"function"==typeof t[n]&&e(t,n,t[n])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],n=this.runOnRoot(t);if(g(n))try{await n}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[u];){e[u]=!0;let t=[v(e)];for(;t.length>0;){let e=this.visitTick(t);if(g(e))try{await e}catch(e){let n=t[t.length-1].node;throw this.handleError(e,n)}}}if(this.listeners.OnceExit)for(let[t,n]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map((e=>n(e,this.helpers)));await Promise.all(t)}else await n(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return g(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=l;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new o(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins)if(g(this.runOnRoot(e)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[u];)e[u]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[n,r]of e){let e;this.result.lastPlugin=n;try{e=r(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(g(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:n,visitors:r}=t;if("root"!==n.type&&"document"!==n.type&&!n.parent)return void e.pop();if(r.length>0&&t.visitorIndex<r.length){let[e,i]=r[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return i(n.toProxy(),this.helpers)}catch(e){throw this.handleError(e,n)}}if(0!==t.iterator){let r,i=t.iterator;for(;r=n.nodes[n.indexes[i]];)if(n.indexes[i]+=1,!r[u])return r[u]=!0,void e.push(v(r));t.iterator=0,delete n.indexes[i]}let i=t.events;for(;t.eventIndex<i.length;){let e=i[t.eventIndex];if(t.eventIndex+=1,e===m)return void(n.nodes&&n.nodes.length&&(n[u]=!0,t.iterator=n.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}walkSync(e){e[u]=!0;let t=y(e);for(let n of t)if(n===m)e.nodes&&e.each((e=>{e[u]||this.walkSync(e)}));else{let t=this.listeners[n];if(t&&this.visitSync(t,e.toProxy()))return}}warnings(){return this.sync().warnings()}}_.registerPostcss=e=>{w=e},e.exports=_,_.default=_,c.registerLazyResult(_),i.registerLazyResult(_)},1752:e=>{"use strict";let t={comma:e=>t.split(e,[","],!0),space:e=>t.split(e,[" ","\n","\t"]),split(e,t,n){let r=[],i="",o=!1,s=0,a=!1,c="",l=!1;for(let n of e)l?l=!1:"\\"===n?l=!0:a?n===c&&(a=!1):'"'===n||"'"===n?(a=!0,c=n):"("===n?s+=1:")"===n?s>0&&(s-=1):0===s&&t.includes(n)&&(o=!0),o?(""!==i&&r.push(i.trim()),i="",o=!1):i+=n;return(n||""!==i)&&r.push(i.trim()),r}};e.exports=t,t.default=t},3604:(e,t,n)=>{"use strict";let{dirname:r,relative:i,resolve:o,sep:s}=n(6928),{SourceMapConsumer:a,SourceMapGenerator:c}=n(5760),{pathToFileURL:l}=n(7016),u=n(1106),p=Boolean(a&&c),d=Boolean(r&&o&&i&&s);e.exports=class{constructor(e,t,n,r){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=r,this.originalCSS=r,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,n=this.toUrl(this.path(e.file)),i=e.root||r(e.file);!1===this.mapOpts.sourcesContent?(t=new a(e.text),t.sourcesContent&&(t.sourcesContent=null)):t=e.consumer(),this.map.applySourceMap(t,n,this.toUrl(this.path(i)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),d&&p&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=c.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new c({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new c({file:this.outputFile(),ignoreInvalidMapping:!0});let e,t,n=1,r=1,i="<no source>",o={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((s,a,c)=>{if(this.css+=s,a&&"end"!==c&&(o.generated.line=n,o.generated.column=r-1,a.source&&a.source.start?(o.source=this.sourcePath(a),o.original.line=a.source.start.line,o.original.column=a.source.start.column-1,this.map.addMapping(o)):(o.source=i,o.original.line=1,o.original.column=0,this.map.addMapping(o))),t=s.match(/\n/g),t?(n+=t.length,e=s.lastIndexOf("\n"),r=s.length-e):r+=s.length,a&&"start"!==c){let e=a.parent||{raws:{}};("decl"===a.type||"atrule"===a.type&&!a.nodes)&&a===e.last&&!e.raws.semicolon||(a.source&&a.source.end?(o.source=this.sourcePath(a),o.original.line=a.source.end.line,o.original.column=a.source.end.column-1,o.generated.line=n,o.generated.column=r-2,this.map.addMapping(o)):(o.source=i,o.original.line=1,o.original.column=0,o.generated.line=n,o.generated.column=r-1,this.map.addMapping(o)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let n=this.opts.to?r(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(n=r(o(n,this.mapOpts.annotation)));let s=i(n,e);return this.memoizedPaths.set(e,s),s}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new u(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let n=t.source.input.from;if(n&&!e[n]){e[n]=!0;let r=this.usesFileUrls?this.toFileUrl(n):this.toUrl(this.path(n));this.map.setSourceContent(r,t.source.input.css)}}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(l){let t=l(e).toString();return this.memoizedFileURLs.set(e,t),t}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===s&&(e=e.replace(/\\/g,"/"));let n=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,n),n}}},4211:(e,t,n)=>{"use strict";let r=n(3604),i=n(9577);const o=n(3717);let s=n(3303);n(6156);class a{get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=i;try{e=t(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}constructor(e,t,n){let i;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0;let a=s;this.result=new o(this._processor,i,this._opts),this.result.css=t;let c=this;Object.defineProperty(this.result,"root",{get:()=>c.root});let l=new r(a,i,this._opts,t);if(l.isMap()){let[e,t]=l.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}}e.exports=a,a.default=a},3152:(e,t,n)=>{"use strict";let r=n(3614),i=n(7668),o=n(3303),{isClean:s,my:a}=n(4151);function c(e,t){let n=new e.constructor;for(let r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;if("proxyCache"===r)continue;let i=e[r],o=typeof i;"parent"===r&&"object"===o?t&&(n[r]=t):"source"===r?n[r]=i:Array.isArray(i)?n[r]=i.map((e=>c(e,n))):("object"===o&&null!==i&&(i=c(i)),n[r]=i)}return n}function l(e,t){if(t&&void 0!==t.offset)return t.offset;let n=1,r=1,i=0;for(let o=0;o<e.length;o++){if(r===t.line&&n===t.column){i=o;break}"\n"===e[o]?(n=1,r+=1):n+=1}return i}class u{get proxyOf(){return this}constructor(e={}){this.raws={},this[s]=!1,this[a]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let n of e[t])"function"==typeof n.clone?this.append(n.clone()):this.append(n)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=c(this);for(let n in e)t[n]=e[n];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:n,start:r}=this.rangeBy(t);return this.source.input.error(e,{column:r.column,line:r.line},{column:n.column,line:n.line},t)}return new r(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,n)=>(e[t]===n||(e[t]=n,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0)}}markClean(){this[s]=!0}markDirty(){if(this[s]){this[s]=!1;let e=this;for(;e=e.parent;)e[s]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e={}){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let n="document"in this.source.input?this.source.input.document:this.source.input.css,r=n.slice(l(n,this.source.start),l(n,this.source.end)).indexOf(e.word);-1!==r&&(t=this.positionInside(r))}return t}positionInside(e){let t=this.source.start.column,n=this.source.start.line,r="document"in this.source.input?this.source.input.document:this.source.input.css,i=l(r,this.source.start),o=i+e;for(let e=i;e<o;e++)"\n"===r[e]?(t=1,n+=1):t+=1;return{column:t,line:n,offset:o}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e={}){let t="document"in this.source.input?this.source.input.document:this.source.input.css,n={column:this.source.start.column,line:this.source.start.line,offset:l(t,this.source.start)},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line,offset:"number"==typeof this.source.end.offset?this.source.end.offset:l(t,this.source.end)+1}:{column:n.column+1,line:n.line,offset:n.offset+1};if(e.word){let i=t.slice(l(t,this.source.start),l(t,this.source.end)).indexOf(e.word);-1!==i&&(n=this.positionInside(i),r=this.positionInside(i+e.word.length))}else e.start?n={column:e.start.column,line:e.start.line,offset:l(t,e.start)}:e.index&&(n=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line,offset:l(t,e.end)}:"number"==typeof e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<n.line||r.line===n.line&&r.column<=n.column)&&(r={column:n.column+1,line:n.line,offset:n.offset+1}),{end:r,start:n}}raw(e,t){return(new i).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let r of e)r===this?n=!0:n?(this.parent.insertAfter(t,r),t=r):this.parent.insertBefore(t,r);n||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let n={},r=null==t;t=t||new Map;let i=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e))continue;if("parent"===e||"proxyCache"===e)continue;let r=this[e];if(Array.isArray(r))n[e]=r.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof r&&r.toJSON)n[e]=r.toJSON(null,t);else if("source"===e){if(null==r)continue;let o=t.get(r.input);null==o&&(o=i,t.set(r.input,i),i++),n[e]={end:r.end,inputId:o,start:r.start}}else n[e]=r}return r&&(n.inputs=[...t.keys()].map((e=>e.toJSON()))),n}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=o){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}warn(e,t,n={}){let r={node:this};for(let e in n)r[e]=n[e];return e.warn(t,r)}}e.exports=u,u.default=u},9577:(e,t,n)=>{"use strict";let r=n(7793),i=n(1106),o=n(8339);function s(e,t){let n=new i(e,t),r=new o(n);try{r.parse()}catch(e){throw e}return r.root}e.exports=s,s.default=s,r.registerParse(s)},8339:(e,t,n)=>{"use strict";let r=n(396),i=n(9371),o=n(5238),s=n(5644),a=n(1534),c=n(5781);const l={empty:!0,space:!0};e.exports=class{constructor(e){this.input=e,this.root=new s,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,n,i,o=new r;o.name=e[1].slice(1),""===o.name&&this.unnamedAtrule(o,e),this.init(o,e[2]);let s=!1,a=!1,c=[],l=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?l.push("("===t?")":"]"):"{"===t&&l.length>0?l.push("}"):t===l[l.length-1]&&l.pop(),0===l.length){if(";"===t){o.source.end=this.getPosition(e[2]),o.source.end.offset++,this.semicolon=!0;break}if("{"===t){a=!0;break}if("}"===t){if(c.length>0){for(i=c.length-1,n=c[i];n&&"space"===n[0];)n=c[--i];n&&(o.source.end=this.getPosition(n[3]||n[2]),o.source.end.offset++)}this.end(e);break}c.push(e)}else c.push(e);if(this.tokenizer.endOfFile()){s=!0;break}}o.raws.between=this.spacesAndCommentsFromEnd(c),c.length?(o.raws.afterName=this.spacesAndCommentsFromStart(c),this.raw(o,"params",c),s&&(e=c[c.length-1],o.source.end=this.getPosition(e[3]||e[2]),o.source.end.offset++,this.spaces=o.raws.between,o.raws.between="")):(o.raws.afterName="",o.params=""),a&&(o.nodes=[],this.current=o)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let n,r=0;for(let i=t-1;i>=0&&(n=e[i],"space"===n[0]||(r+=1,2!==r));i--);throw this.input.error("Missed semicolon","word"===n[0]?n[3]+1:n[2])}colon(e){let t,n,r,i=0;for(let[o,s]of e.entries()){if(n=s,r=n[0],"("===r&&(i+=1),")"===r&&(i-=1),0===i&&":"===r){if(t){if("word"===t[0]&&"progid"===t[1])continue;return o}this.doubleColon(n)}t=n}return!1}comment(e){let t=new i;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let e=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=c(this.input)}decl(e,t){let n=new o;this.init(n,e[0][2]);let r,i=e[e.length-1];for(";"===i[0]&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(i[3]||i[2]||function(e){for(let t=e.length-1;t>=0;t--){let n=e[t],r=n[3]||n[2];if(r)return r}}(e)),n.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;n.prop+=e.shift()[1]}for(n.raws.between="";e.length;){if(r=e.shift(),":"===r[0]){n.raws.between+=r[1];break}"word"===r[0]&&/\w/.test(r[1])&&this.unknownWord([r]),n.raws.between+=r[1]}"_"!==n.prop[0]&&"*"!==n.prop[0]||(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let s,a=[];for(;e.length&&(s=e[0][0],"space"===s||"comment"===s);)a.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if(r=e[t],"!important"===r[1].toLowerCase()){n.important=!0;let r=this.stringFrom(e,t);r=this.spacesFromEnd(e)+r," !important"!==r&&(n.raws.important=r);break}if("important"===r[1].toLowerCase()){let r=e.slice(0),i="";for(let e=t;e>0;e--){let t=r[e][0];if(i.trim().startsWith("!")&&"space"!==t)break;i=r.pop()[1]+i}i.trim().startsWith("!")&&(n.important=!0,n.raws.important=i,e=r)}if("space"!==r[0]&&"comment"!==r[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(n.raws.between+=a.map((e=>e[1])).join(""),a=[]),this.raw(n,"value",a.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new a;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="",t.source.end=this.getPosition(e[2]),t.source.end.offset+=t.raws.ownSemicolon.length)}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,n=null,r=!1,i=null,o=[],s=e[1].startsWith("--"),a=[],c=e;for(;c;){if(n=c[0],a.push(c),"("===n||"["===n)i||(i=c),o.push("("===n?")":"]");else if(s&&r&&"{"===n)i||(i=c),o.push("}");else if(0===o.length){if(";"===n){if(r)return void this.decl(a,s);break}if("{"===n)return void this.rule(a);if("}"===n){this.tokenizer.back(a.pop()),t=!0;break}":"===n&&(r=!0)}else n===o[o.length-1]&&(o.pop(),0===o.length&&(i=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(i),t&&r){if(!s)for(;a.length&&(c=a[a.length-1][0],"space"===c||"comment"===c);)this.tokenizer.back(a.pop());this.decl(a,s)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,n,r){let i,o,s,a,c=n.length,u="",p=!0;for(let e=0;e<c;e+=1)i=n[e],o=i[0],"space"!==o||e!==c-1||r?"comment"===o?(a=n[e-1]?n[e-1][0]:"empty",s=n[e+1]?n[e+1][0]:"empty",l[a]||l[s]||","===u.slice(-1)?p=!1:u+=i[1]):u+=i[1]:p=!1;if(!p){let r=n.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:r,value:u}}e[t]=u}rule(e){e.pop();let t=new a;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t,n="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)n+=e.shift()[1];return n}spacesFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)n=e.pop()[1]+n;return n}stringFrom(e,t){let n="";for(let r=t;r<e.length;r++)n+=e[r][1];return e.splice(t,e.length-t),n}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word "+e[0][1],{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}},2895:(e,t,n)=>{"use strict";let r=n(396),i=n(9371),o=n(7793),s=n(3614),a=n(5238),c=n(145),l=n(3438),u=n(1106),p=n(6966),d=n(1752),h=n(3152),f=n(9577),m=n(6846),g=n(3717),y=n(5644),v=n(1534),b=n(3303),w=n(38);function _(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new m(e)}_.plugin=function(e,t){let n,r=!1;function i(...n){console&&console.warn&&!r&&(r=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": 里面 postcss.plugin 被弃用. 迁移指南:\nhttps://www.w3ctech.com/topic/2226"));let i=t(...n);return i.postcssPlugin=e,i.postcssVersion=(new m).version,i}return Object.defineProperty(i,"postcss",{get:()=>(n||(n=i()),n)}),i.process=function(e,t,n){return _([i(n)]).process(e,t)},i},_.stringify=b,_.parse=f,_.fromJSON=l,_.list=d,_.comment=e=>new i(e),_.atRule=e=>new r(e),_.decl=e=>new a(e),_.rule=e=>new v(e),_.root=e=>new y(e),_.document=e=>new c(e),_.CssSyntaxError=s,_.Declaration=a,_.Container=o,_.Processor=m,_.Document=c,_.Comment=i,_.Warning=w,_.AtRule=r,_.Result=g,_.Input=u,_.Rule=v,_.Root=y,_.Node=h,p.registerPostcss(_),e.exports=_,_.default=_},3878:(e,t,n)=>{"use strict";let{existsSync:r,readFileSync:i}=n(9896),{dirname:o,join:s}=n(6928),{SourceMapConsumer:a,SourceMapGenerator:c}=n(5760);class l{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,r=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=o(this.mapFile)),r&&(this.text=r)}consumer(){return this.consumerCache||(this.consumerCache=new a(this.text)),this.consumerCache}decodeInline(e){let t=e.match(/^data:application\/json;charset=utf-?8,/)||e.match(/^data:application\/json,/);if(t)return decodeURIComponent(e.substr(t[0].length));let n=e.match(/^data:application\/json;charset=utf-?8;base64,/)||e.match(/^data:application\/json;base64,/);if(n)return r=e.substr(n[0].length),Buffer?Buffer.from(r,"base64").toString():window.atob(r);var r;let i=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+i)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let n=e.lastIndexOf(t.pop()),r=e.indexOf("*/",n);n>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,r)))}loadFile(e){if(this.root=o(e),r(e))return this.mapFile=e,i(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof a)return c.fromSourceMap(t).toString();if(t instanceof c)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let n=t(e);if(n){let e=this.loadFile(n);if(!e)throw new Error("Unable to load previous source map: "+n.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=s(o(e),t)),this.loadFile(t)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}e.exports=l,l.default=l},6846:(e,t,n)=>{"use strict";let r=n(145),i=n(6966),o=n(4211),s=n(5644);class a{constructor(e=[]){this.version="8.5.6",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let n of e)if(!0===n.postcss?n=n():n.postcss&&(n=n.postcss),"object"==typeof n&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if("object"==typeof n&&n.postcssPlugin)t.push(n);else if("function"==typeof n)t.push(n);else if("object"!=typeof n||!n.parse&&!n.stringify)throw new Error(n+" is not a PostCSS plugin");return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new i(this,e,t):new o(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}e.exports=a,a.default=a,s.registerProcessor(a),r.registerProcessor(a)},3717:(e,t,n)=>{"use strict";let r=n(38);class i{get content(){return this.css}constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css="",this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new r(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter((e=>"warning"===e.type))}}e.exports=i,i.default=i},5644:(e,t,n)=>{"use strict";let r,i,o=n(7793);class s extends o{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,n){let r=super.normalize(e);if(t)if("prepend"===n)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of r)e.raws.before=t.raws.before;return r}removeChild(e,t){let n=this.index(e);return!t&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}toResult(e={}){return new r(new i,this,e).stringify()}}s.registerLazyResult=e=>{r=e},s.registerProcessor=e=>{i=e},e.exports=s,s.default=s,o.registerRoot(s)},1534:(e,t,n)=>{"use strict";let r=n(7793),i=n(1752);class o extends r{get selectors(){return i.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}}e.exports=o,o.default=o,r.registerRule(o)},7668:e=>{"use strict";const t={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};class n{constructor(e){this.builder=e}atrule(e,t){let n="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:r&&(n+=" "),e.nodes)this.block(e,n+r);else{let i=(e.raws.between||"")+(t?";":"");this.builder(n+r+i,e)}}beforeAfter(e,t){let n;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let r=e.parent,i=0;for(;r&&"root"!==r.type;)i+=1,r=r.parent;if(n.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<i;e++)n+=t}return n}block(e,t){let n,r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let n=this.raw(e,"semicolon");for(let r=0;r<e.nodes.length;r++){let i=e.nodes[r],o=this.raw(i,"before");o&&this.builder(o),this.stringify(i,t!==r||n)}}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),r=e.prop+n+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}document(e){this.body(e)}raw(e,n,r){let i;if(r||(r=n),n&&(i=e.raws[n],void 0!==i))return i;let o=e.parent;if("before"===r){if(!o||"root"===o.type&&o.first===e)return"";if(o&&"document"===o.type)return""}if(!o)return t[r];let s=e.root();if(s.rawCache||(s.rawCache={}),void 0!==s.rawCache[r])return s.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);{let t="raw"+((a=r)[0].toUpperCase()+a.slice(1));this[t]?i=this[t](s,e):s.walk((e=>{if(i=e.raws[n],void 0!==i)return!1}))}var a;return void 0===i&&(i=t[r]),s.rawCache[r]=i,i}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let n;return e.walkComments((e=>{if(void 0!==e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls((e=>{if(void 0!==e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,void 0!==t))return!1})),t}rawBeforeRule(e){let t;return e.walk((n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&void 0!==n.raws.before)return t=n.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,void 0!==t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((n=>{let r=n.parent;if(r&&r!==e&&r.parent&&r.parent===e&&void 0!==n.raws.before){let e=n.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,void 0!==t))return!1})),t}rawValue(e,t){let n=e[t],r=e.raws[t];return r&&r.value===n?r.raw:n}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}e.exports=n,n.default=n},3303:(e,t,n)=>{"use strict";let r=n(7668);function i(e,t){new r(t).stringify(e)}e.exports=i,i.default=i},4151:e=>{"use strict";e.exports.isClean=Symbol("isClean"),e.exports.my=Symbol("my")},8549:(e,t,n)=>{"use strict";let r,i=n(8991),o=n(5781);const s={";":i.yellow,":":i.yellow,"(":i.cyan,")":i.cyan,"[":i.yellow,"]":i.yellow,"{":i.yellow,"}":i.yellow,"at-word":i.cyan,brackets:i.cyan,call:i.cyan,class:i.yellow,comment:i.gray,hash:i.magenta,string:i.green};function a([e,t],n){if("word"===e){if("."===t[0])return"class";if("#"===t[0])return"hash"}if(!n.endOfFile()){let e=n.nextToken();if(n.back(e),"brackets"===e[0]||"("===e[0])return"call"}return e}function c(e){let t=o(new r(e),{ignoreErrors:!0}),n="";for(;!t.endOfFile();){let e=t.nextToken(),r=s[a(e,t)];n+=r?e[1].split(/\r?\n/).map((e=>r(e))).join("\n"):e[1]}return n}c.registerInput=function(e){r=e},e.exports=c},5781:e=>{"use strict";const t="'".charCodeAt(0),n='"'.charCodeAt(0),r="\\".charCodeAt(0),i="/".charCodeAt(0),o="\n".charCodeAt(0),s=" ".charCodeAt(0),a="\f".charCodeAt(0),c="\t".charCodeAt(0),l="\r".charCodeAt(0),u="[".charCodeAt(0),p="]".charCodeAt(0),d="(".charCodeAt(0),h=")".charCodeAt(0),f="{".charCodeAt(0),m="}".charCodeAt(0),g=";".charCodeAt(0),y="*".charCodeAt(0),v=":".charCodeAt(0),b="@".charCodeAt(0),w=/[\t\n\f\r "#'()/;[\\\]{}]/g,_=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,E=/.[\r\n"'(/\\]/,x=/[\da-f]/i;e.exports=function(e,S={}){let T,C,P,I,O,k,D,A,R,N,L=e.css.valueOf(),F=S.ignoreErrors,M=L.length,j=0,B=[],U=[];function q(t){throw e.error("Unclosed "+t,j)}return{back:function(e){U.push(e)},endOfFile:function(){return 0===U.length&&j>=M},nextToken:function(e){if(U.length)return U.pop();if(j>=M)return;let S=!!e&&e.ignoreUnclosed;switch(T=L.charCodeAt(j),T){case o:case s:case c:case l:case a:I=j;do{I+=1,T=L.charCodeAt(I)}while(T===s||T===o||T===c||T===l||T===a);k=["space",L.slice(j,I)],j=I-1;break;case u:case p:case f:case m:case v:case g:case h:{let e=String.fromCharCode(T);k=[e,e,j];break}case d:if(N=B.length?B.pop()[1]:"",R=L.charCodeAt(j+1),"url"===N&&R!==t&&R!==n&&R!==s&&R!==o&&R!==c&&R!==a&&R!==l){I=j;do{if(D=!1,I=L.indexOf(")",I+1),-1===I){if(F||S){I=j;break}q("bracket")}for(A=I;L.charCodeAt(A-1)===r;)A-=1,D=!D}while(D);k=["brackets",L.slice(j,I+1),j,I],j=I}else I=L.indexOf(")",j+1),C=L.slice(j,I+1),-1===I||E.test(C)?k=["(","(",j]:(k=["brackets",C,j,I],j=I);break;case t:case n:O=T===t?"'":'"',I=j;do{if(D=!1,I=L.indexOf(O,I+1),-1===I){if(F||S){I=j+1;break}q("string")}for(A=I;L.charCodeAt(A-1)===r;)A-=1,D=!D}while(D);k=["string",L.slice(j,I+1),j,I],j=I;break;case b:w.lastIndex=j+1,w.test(L),I=0===w.lastIndex?L.length-1:w.lastIndex-2,k=["at-word",L.slice(j,I+1),j,I],j=I;break;case r:for(I=j,P=!0;L.charCodeAt(I+1)===r;)I+=1,P=!P;if(T=L.charCodeAt(I+1),P&&T!==i&&T!==s&&T!==o&&T!==c&&T!==l&&T!==a&&(I+=1,x.test(L.charAt(I)))){for(;x.test(L.charAt(I+1));)I+=1;L.charCodeAt(I+1)===s&&(I+=1)}k=["word",L.slice(j,I+1),j,I],j=I;break;default:T===i&&L.charCodeAt(j+1)===y?(I=L.indexOf("*/",j+2)+1,0===I&&(F||S?I=L.length:q("comment")),k=["comment",L.slice(j,I+1),j,I],j=I):(_.lastIndex=j+1,_.test(L),I=0===_.lastIndex?L.length-1:_.lastIndex-2,k=["word",L.slice(j,I+1),j,I],B.push(k),j=I)}return j++,k},position:function(){return j}}}},6156:e=>{"use strict";let t={};e.exports=function(e){t[e]||(t[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e))}},38:e=>{"use strict";class t{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}e.exports=t,t.default=t},8628:(e,t,n)=>{var r=n(3594),i=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function s(){this._array=[],this._set=o?new Map:Object.create(null)}s.fromArray=function(e,t){for(var n=new s,r=0,i=e.length;r<i;r++)n.add(e[r],t);return n},s.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(e,t){var n=o?e:r.toSetString(e),s=o?this.has(e):i.call(this._set,n),a=this._array.length;s&&!t||this._array.push(e),s||(o?this._set.set(e,a):this._set[n]=a)},s.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return i.call(this._set,t)},s.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(i.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},s.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},s.prototype.toArray=function(){return this._array.slice()},t.C=s},4557:(e,t,n)=>{var r=n(3269);t.encode=function(e){var t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=r.encode(t)}while(i>0);return n},t.decode=function(e,t,n){var i,o,s,a,c=e.length,l=0,u=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&o),l+=(o&=31)<<u,u+=5}while(i);n.value=(a=(s=l)>>1,1==(1&s)?-a:a),n.rest=t}},3269:(e,t)=>{var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},7872:(e,t)=>{function n(e,r,i,o,s,a){var c=Math.floor((r-e)/2)+e,l=s(i,o[c],!0);return 0===l?c:l>0?r-c>1?n(c,r,i,o,s,a):a==t.LEAST_UPPER_BOUND?r<o.length?r:-1:c:c-e>1?n(e,c,i,o,s,a):a==t.LEAST_UPPER_BOUND?c:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,r,i,o){if(0===r.length)return-1;var s=n(-1,r.length,e,r,i,o||t.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===i(r[s],r[s-1],!0);)--s;return s}},5087:(e,t,n)=>{var r=n(3594);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,n,i,o,s,a;n=e,i=(t=this._last).generatedLine,o=n.generatedLine,s=t.generatedColumn,a=n.generatedColumn,o>i||o==i&&a>=s||r.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.P=i},4720:(e,t)=>{function n(e){function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}return function e(n,r,i,o){if(i<o){var s=i-1;t(n,(u=i,p=o,Math.round(u+Math.random()*(p-u))),o);for(var a=n[o],c=i;c<o;c++)r(n[c],a,!1)<=0&&t(n,s+=1,c);t(n,s+1,c);var l=s+1;e(n,r,i,l-1),e(n,r,l+1,o)}var u,p}}let r=new WeakMap;t.g=function(e,t,i=0){let o=r.get(t);void 0===o&&(o=function(e){let t=n.toString();return new Function(`return ${t}`)()(e)}(t),r.set(t,o)),o(e,t,i,e.length-1)}},1985:(e,t,n)=>{var r=n(3594),i=n(7872),o=n(8628).C,s=n(4557),a=n(4720).g;function c(e,t){var n=e;return"string"==typeof e&&(n=r.parseSourceMapInput(e)),null!=n.sections?new h(n,t):new l(n,t)}function l(e,t){var n=e;"string"==typeof e&&(n=r.parseSourceMapInput(e));var i=r.getArg(n,"version"),s=r.getArg(n,"sources"),a=r.getArg(n,"names",[]),c=r.getArg(n,"sourceRoot",null),l=r.getArg(n,"sourcesContent",null),u=r.getArg(n,"mappings"),p=r.getArg(n,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);c&&(c=r.normalize(c)),s=s.map(String).map(r.normalize).map((function(e){return c&&r.isAbsolute(c)&&r.isAbsolute(e)?r.relative(c,e):e})),this._names=o.fromArray(a.map(String),!0),this._sources=o.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map((function(e){return r.computeSourceURL(c,e,t)})),this.sourceRoot=c,this.sourcesContent=l,this._mappings=u,this._sourceMapURL=t,this.file=p}function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}c.fromSourceMap=function(e,t){return l.fromSourceMap(e,t)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,n){var i,o=t||null;switch(n||c.GENERATED_ORDER){case c.GENERATED_ORDER:i=this._generatedMappings;break;case c.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var s=this.sourceRoot,a=e.bind(o),l=this._names,u=this._sources,p=this._sourceMapURL,d=0,h=i.length;d<h;d++){var f=i[d],m=null===f.source?null:u.at(f.source);null!==m&&(m=r.computeSourceURL(s,m,p)),a({source:m,generatedLine:f.generatedLine,generatedColumn:f.generatedColumn,originalLine:f.originalLine,originalColumn:f.originalColumn,name:null===f.name?null:l.at(f.name)})}},c.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var o=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(void 0===e.column)for(var c=a.originalLine;a&&a.originalLine===c;)o.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var l=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==l;)o.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return o},t.SourceMapConsumer=c,l.prototype=Object.create(c.prototype),l.prototype.consumer=c,l.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=r.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},l.fromSourceMap=function(e,t){var n=Object.create(l.prototype),i=n._names=o.fromArray(e._names.toArray(),!0),s=n._sources=o.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map((function(e){return r.computeSourceURL(n.sourceRoot,e,t)}));for(var c=e._mappings.toArray().slice(),p=n.__generatedMappings=[],d=n.__originalMappings=[],h=0,f=c.length;h<f;h++){var m=c[h],g=new u;g.generatedLine=m.generatedLine,g.generatedColumn=m.generatedColumn,m.source&&(g.source=s.indexOf(m.source),g.originalLine=m.originalLine,g.originalColumn=m.originalColumn,m.name&&(g.name=i.indexOf(m.name)),d.push(g)),p.push(g)}return a(n.__originalMappings,r.compareByOriginalPositions),n},l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});const p=r.compareByGeneratedPositionsDeflatedNoLine;function d(e,t){let n=e.length,r=e.length-t;if(!(r<=1))if(2==r){let n=e[t],r=e[t+1];p(n,r)>0&&(e[t]=r,e[t+1]=n)}else if(r<20)for(let r=t;r<n;r++)for(let n=r;n>t;n--){let t=e[n-1],r=e[n];if(p(t,r)<=0)break;e[n-1]=r,e[n]=t}else a(e,p,t)}function h(e,t){var n=e;"string"==typeof e&&(n=r.parseSourceMapInput(e));var i=r.getArg(n,"version"),s=r.getArg(n,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new o,this._names=new o;var a={line:-1,column:0};this._sections=s.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=r.getArg(e,"offset"),i=r.getArg(n,"line"),o=r.getArg(n,"column");if(i<a.line||i===a.line&&o<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=n,{generatedOffset:{generatedLine:i+1,generatedColumn:o+1},consumer:new c(r.getArg(e,"map"),t)}}))}l.prototype._parseMappings=function(e,t){var n,i,o,c,l=1,p=0,h=0,f=0,m=0,g=0,y=e.length,v=0,b={},w=[],_=[];let E=0;for(;v<y;)if(";"===e.charAt(v))l++,v++,p=0,d(_,E),E=_.length;else if(","===e.charAt(v))v++;else{for((n=new u).generatedLine=l,o=v;o<y&&!this._charIsMappingSeparator(e,o);o++);for(e.slice(v,o),i=[];v<o;)s.decode(e,v,b),c=b.value,v=b.rest,i.push(c);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");if(n.generatedColumn=p+i[0],p=n.generatedColumn,i.length>1&&(n.source=m+i[1],m+=i[1],n.originalLine=h+i[2],h=n.originalLine,n.originalLine+=1,n.originalColumn=f+i[3],f=n.originalColumn,i.length>4&&(n.name=g+i[4],g+=i[4])),_.push(n),"number"==typeof n.originalLine){let e=n.source;for(;w.length<=e;)w.push(null);null===w[e]&&(w[e]=[]),w[e].push(n)}}d(_,E),this.__generatedMappings=_;for(var x=0;x<w.length;x++)null!=w[x]&&a(w[x],r.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...w)},l.prototype._findMapping=function(e,t,n,r,o,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return i.search(e,t,o,s)},l.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},l.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var o=r.getArg(i,"source",null);null!==o&&(o=this._sources.at(o),o=r.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var s=r.getArg(i,"name",null);return null!==s&&(s=this._names.at(s)),{source:o,line:r.getArg(i,"originalLine",null),column:r.getArg(i,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))},l.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var i,o=e;if(null!=this.sourceRoot&&(o=r.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(i=r.urlParse(this.sourceRoot))){var s=o.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!i.path||"/"==i.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:r.getArg(o,"generatedLine",null),column:r.getArg(o,"generatedColumn",null),lastColumn:r.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},h.prototype=Object.create(c.prototype),h.prototype.constructor=c,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),h.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=i.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},h.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r||""===r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(r.getArg(e,"source"))){var i=n.consumer.generatedPositionFor(e);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},h.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,s=0;s<o.length;s++){var c=o[s],l=i.consumer._sources.at(c.source);null!==l&&(l=r.computeSourceURL(i.consumer.sourceRoot,l,this._sourceMapURL)),this._sources.add(l),l=this._sources.indexOf(l);var u=null;c.name&&(u=i.consumer._names.at(c.name),this._names.add(u),u=this._names.indexOf(u));var p={source:l,generatedLine:c.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(i.generatedOffset.generatedLine===c.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:u};this.__generatedMappings.push(p),"number"==typeof p.originalLine&&this.__originalMappings.push(p)}a(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),a(this.__originalMappings,r.compareByOriginalPositions)}},4816:(e,t,n)=>{var r=n(4557),i=n(3594),o=n(8628).C,s=n(5087).P;function a(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._ignoreInvalidMapping=i.getArg(e,"ignoreInvalidMapping",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e,t){var n=e.sourceRoot,r=new a(Object.assign(t||{},{file:e.file,sourceRoot:n}));return e.eachMapping((function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(t.source=e.source,null!=n&&(t.source=i.relative(n,t.source)),t.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(t.name=e.name)),r.addMapping(t)})),e.sources.forEach((function(t){var o=t;null!==n&&(o=i.relative(n,t)),r._sources.has(o)||r._sources.add(o);var s=e.sourceContentFor(t);null!=s&&r.setSourceContent(t,s)})),r},a.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),n=i.getArg(e,"original",null),r=i.getArg(e,"source",null),o=i.getArg(e,"name",null);(this._skipValidation||!1!==this._validateMapping(t,n,r,o))&&(null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o}))},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var s=this._sourceRoot;null!=s&&(r=i.relative(s,r));var a=new o,c=new o;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=i.join(n,t.source)),null!=s&&(t.source=i.relative(s,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var l=t.source;null==l||a.has(l)||a.add(l);var u=t.name;null==u||c.has(u)||c.add(u)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=i.join(n,t)),null!=s&&(t=i.relative(s,t)),this.setSourceContent(t,r))}),this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column){var i="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return"undefined"!=typeof console&&console.warn&&console.warn(i),!1;throw new Error(i)}if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n)){if(i="Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}),this._ignoreInvalidMapping)return"undefined"!=typeof console&&console.warn&&console.warn(i),!1;throw new Error(i)}},a.prototype._serializeMappings=function(){for(var e,t,n,o,s=0,a=1,c=0,l=0,u=0,p=0,d="",h=this._mappings.toArray(),f=0,m=h.length;f<m;f++){if(e="",(t=h[f]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!i.compareByGeneratedPositionsInflated(t,h[f-1]))continue;e+=","}e+=r.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-p),p=o,e+=r.encode(t.originalLine-1-l),l=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-u),u=n)),d+=e}return d},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},5860:(e,t,n)=>{var r=n(4816).SourceMapGenerator,i=n(3594),o=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[s]=!0,null!=r&&this.add(r)}a.fromStringWithSourceMap=function(e,t,n){var r=new a,s=e.split(o),c=0,l=function(){return e()+(e()||"");function e(){return c<s.length?s[c++]:void 0}},u=1,p=0,d=null;return t.eachMapping((function(e){if(null!==d){if(!(u<e.generatedLine)){var t=(n=s[c]||"").substr(0,e.generatedColumn-p);return s[c]=n.substr(e.generatedColumn-p),p=e.generatedColumn,h(d,t),void(d=e)}h(d,l()),u++,p=0}for(;u<e.generatedLine;)r.add(l()),u++;if(p<e.generatedColumn){var n=s[c]||"";r.add(n.substr(0,e.generatedColumn)),s[c]=n.substr(e.generatedColumn),p=e.generatedColumn}d=e}),this),c<s.length&&(d&&h(d,l()),r.add(s.splice(c).join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=i.join(n,e)),r.setSourceContent(e,o))})),r;function h(e,t){if(null===e||void 0===e.source)r.add(t);else{var o=n?i.join(n,e.source):e.source;r.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(i.fromSetString(r[t]),this.sourceContents[r[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),i=!1,o=null,s=null,a=null,c=null;return this.walk((function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(o===r.source&&s===r.line&&a===r.column&&c===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),o=r.source,s=r.line,a=r.column,c=r.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1);for(var l=0,u=e.length;l<u;l++)10===e.charCodeAt(l)?(t.line++,t.column=0,l+1===u?(o=null,i=!1):i&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},t.SourceNode=a},3594:(e,t)=>{t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function i(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}t.urlParse=i,t.urlGenerate=o;var s,a,c=(s=function(e){var n=e,r=i(e);if(r){if(!r.path)return e;n=r.path}for(var s=t.isAbsolute(n),a=[],c=0,l=0;;){if(c=l,-1===(l=n.indexOf("/",c))){a.push(n.slice(c));break}for(a.push(n.slice(c,l));l<n.length&&"/"===n[l];)l++}var u,p=0;for(l=a.length-1;l>=0;l--)"."===(u=a[l])?a.splice(l,1):".."===u?p++:p>0&&(""===u?(a.splice(l+1,p),p=0):(a.splice(l,2),p--));return""===(n=a.join("/"))&&(n=s?"/":"."),r?(r.path=n,o(r)):n},a=[],function(e){for(var t=0;t<a.length;t++)if(a[t].input===e){var n=a[0];return a[0]=a[t],a[t]=n,a[0].result}var r=s(e);return a.unshift({input:e,result:r}),a.length>32&&a.pop(),r});function l(e,t){""===e&&(e="."),""===t&&(t=".");var n=i(t),s=i(e);if(s&&(e=s.path||"/"),n&&!n.scheme)return s&&(n.scheme=s.scheme),o(n);if(n||t.match(r))return t;if(s&&!s.host&&!s.path)return s.host=t,o(s);var a="/"===t.charAt(0)?t:c(e.replace(/\/+$/,"")+"/"+t);return s?(s.path=a,o(s)):a}t.normalize=c,t.join=l,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var u=!("__proto__"in Object.create(null));function p(e){return e}function d(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=u?p:function(e){return d(e)?"$"+e:e},t.fromSetString=u?p:function(e){return d(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=h(e.source,t.source);return 0!==r||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)||n||0!=(r=e.generatedColumn-t.generatedColumn)||0!=(r=e.generatedLine-t.generatedLine)?r:h(e.name,t.name)},t.compareByOriginalPositionsNoSource=function(e,t,n){var r;return 0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)||n||0!=(r=e.generatedColumn-t.generatedColumn)||0!=(r=e.generatedLine-t.generatedLine)?r:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!=(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=h(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.compareByGeneratedPositionsDeflatedNoLine=function(e,t,n){var r=e.generatedColumn-t.generatedColumn;return 0!==r||n||0!==(r=h(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!=(n=e.generatedColumn-t.generatedColumn)||0!==(n=h(e.source,t.source))||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=i(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var s=r.path.lastIndexOf("/");s>=0&&(r.path=r.path.substring(0,s+1))}t=l(o(r),t)}return c(t)}},5760:(e,t,n)=>{t.SourceMapGenerator=n(4816).SourceMapGenerator,t.SourceMapConsumer=n(1985).SourceMapConsumer,t.SourceNode=n(5860).SourceNode},6504:(e,t,n)=>{"use strict";var r=n(7016).parse,i={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},o=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function s(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.getProxyForUrl=function(e){var t="string"==typeof e?r(e):e||{},n=t.protocol,a=t.host,c=t.port;if("string"!=typeof a||!a||"string"!=typeof n)return"";if(n=n.split(":",1)[0],!function(e,t){var n=(s("npm_config_no_proxy")||s("no_proxy")).toLowerCase();return!n||"*"!==n&&n.split(/[,\s]/).every((function(n){if(!n)return!0;var r=n.match(/^(.+):(\d+)$/),i=r?r[1]:n,s=r?parseInt(r[2]):0;return!(!s||s===t)||(/^[.*]/.test(i)?("*"===i.charAt(0)&&(i=i.slice(1)),!o.call(e,i)):e!==i)}))}(a=a.replace(/:\d*$/,""),c=parseInt(c)||i[n]||0))return"";var l=s("npm_config_"+n+"_proxy")||s(n+"_proxy")||s("npm_config_proxy")||s("all_proxy");return l&&-1===l.indexOf("://")&&(l=n+"://"+l),l}},815:(e,t,n)=>{var r,i=n(3519),o=n(6611);try{r=n(9896)}catch(e){}var s=function(){},a="undefined"!=typeof process&&/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},l=function(e){e()},u=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var p=t.map((function(u,d){var h=d<t.length-1;return function(e,t,n,l){l=i(l);var u=!1;e.on("close",(function(){u=!0})),o(e,{readable:t,writable:n},(function(e){if(e)return l(e);u=!0,l()}));var p=!1;return function(t){if(!u&&!p)return p=!0,function(e){return!!a&&!!r&&(e instanceof(r.ReadStream||s)||e instanceof(r.WriteStream||s))&&c(e.close)}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void l(t||new Error("stream was destroyed"))}}(u,h,d>0,(function(t){e||(e=t),t&&p.forEach(l),h||(p.forEach(l),n(e))}))}));return t.reduce(u)}},4728:(e,t,n)=>{const r=n(8659),i=n(2834),{isPlainObject:o}=n(8682),s=n(4744),a=n(9466),{parse:c}=n(2895),l=["img","audio","video","picture","svg","object","map","iframe","embed"],u=["script","style"];function p(e,t){e&&Object.keys(e).forEach((function(n){t(e[n],n)}))}function d(e,t){return{}.hasOwnProperty.call(e,t)}function h(e,t){const n=[];return p(e,(function(e){t(e)&&n.push(e)})),n}e.exports=m;const f=/^[^\0\t\n\f\r /<=>]+$/;function m(e,t,n){if(null==e)return"";"number"==typeof e&&(e=e.toString());let y="",v="";function b(e,t){const n=this;this.tag=e,this.attribs=t||{},this.tagPosition=y.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){k.length&&(k[k.length-1].text+=n.text)},this.updateParentNodeMediaChildren=function(){k.length&&l.includes(this.tag)&&k[k.length-1].mediaChildren.push(this.tag)}}(t=Object.assign({},m.defaults,t)).parser=Object.assign({},g,t.parser);const w=function(e){return!1===t.allowedTags||(t.allowedTags||[]).indexOf(e)>-1};u.forEach((function(e){w(e)&&!t.allowVulnerableTags&&console.warn(`\n\n⚠️ Your \`allowedTags\` option includes, \`${e}\`, which is inherently\nvulnerable to XSS attacks. Please remove it from \`allowedTags\`.\nOr, to disable this warning, add the \`allowVulnerableTags\` option\nand ensure you are accounting for this risk.\n\n`)}));const _=t.nonTextTags||["script","style","textarea","option"];let E,x;t.allowedAttributes&&(E={},x={},p(t.allowedAttributes,(function(e,t){E[t]=[];const n=[];e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):E[t].push(e)})),n.length&&(x[t]=new RegExp("^("+n.join("|")+")$"))})));const S={},T={},C={};p(t.allowedClasses,(function(e,t){if(E&&(d(E,t)||(E[t]=[]),E[t].push("class")),S[t]=e,Array.isArray(e)){const n=[];S[t]=[],C[t]=[],e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):e instanceof RegExp?C[t].push(e):S[t].push(e)})),n.length&&(T[t]=new RegExp("^("+n.join("|")+")$"))}}));const P={};let I,O,k,D,A,R,N;p(t.transformTags,(function(e,t){let n;"function"==typeof e?n=e:"string"==typeof e&&(n=m.simpleTransform(e)),"*"===t?I=n:P[t]=n}));let L=!1;M();const F=new r.Parser({onopentag:function(e,n){if(t.enforceHtmlBoundary&&"html"===e&&M(),R)return void N++;const r=new b(e,n);k.push(r);let i=!1;const l=!!r.text;let u;if(d(P,e)&&(u=P[e](e,n),r.attribs=n=u.attribs,void 0!==u.text&&(r.innerText=u.text),e!==u.tagName&&(r.name=e=u.tagName,A[O]=u.tagName)),I&&(u=I(e,n),r.attribs=n=u.attribs,e!==u.tagName&&(r.name=e=u.tagName,A[O]=u.tagName)),(!w(e)||"recursiveEscape"===t.disallowedTagsMode&&!function(e){for(const t in e)if(d(e,t))return!1;return!0}(D)||null!=t.nestingLimit&&O>=t.nestingLimit)&&(i=!0,D[O]=!0,"discard"===t.disallowedTagsMode&&-1!==_.indexOf(e)&&(R=!0,N=1),D[O]=!0),O++,i){if("discard"===t.disallowedTagsMode)return;v=y,y=""}y+="<"+e,"script"===e&&(t.allowedScriptHostnames||t.allowedScriptDomains)&&(r.innerText=""),(!E||d(E,e)||E["*"])&&p(n,(function(n,i){if(!f.test(i))return void delete r.attribs[i];if(""===n&&!t.allowedEmptyAttributes.includes(i)&&(t.nonBooleanAttributes.includes(i)||t.nonBooleanAttributes.includes("*")))return void delete r.attribs[i];let l=!1;if(!E||d(E,e)&&-1!==E[e].indexOf(i)||E["*"]&&-1!==E["*"].indexOf(i)||d(x,e)&&x[e].test(i)||x["*"]&&x["*"].test(i))l=!0;else if(E&&E[e])for(const t of E[e])if(o(t)&&t.name&&t.name===i){l=!0;let e="";if(!0===t.multiple){const r=n.split(" ");for(const n of r)-1!==t.values.indexOf(n)&&(""===e?e=n:e+=" "+n)}else t.values.indexOf(n)>=0&&(e=n);n=e}if(l){if(-1!==t.allowedSchemesAppliedToAttributes.indexOf(i)&&B(e,n))return void delete r.attribs[i];if("script"===e&&"src"===i){let e=!0;try{const r=U(n);if(t.allowedScriptHostnames||t.allowedScriptDomains){const n=(t.allowedScriptHostnames||[]).find((function(e){return e===r.url.hostname})),i=(t.allowedScriptDomains||[]).find((function(e){return r.url.hostname===e||r.url.hostname.endsWith(`.${e}`)}));e=n||i}}catch(t){e=!1}if(!e)return void delete r.attribs[i]}if("iframe"===e&&"src"===i){let e=!0;try{const r=U(n);if(r.isRelativeUrl)e=d(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames&&!t.allowedIframeDomains;else if(t.allowedIframeHostnames||t.allowedIframeDomains){const n=(t.allowedIframeHostnames||[]).find((function(e){return e===r.url.hostname})),i=(t.allowedIframeDomains||[]).find((function(e){return r.url.hostname===e||r.url.hostname.endsWith(`.${e}`)}));e=n||i}}catch(t){e=!1}if(!e)return void delete r.attribs[i]}if("srcset"===i)try{let e=a(n);if(e.forEach((function(e){B("srcset",e.url)&&(e.evil=!0)})),e=h(e,(function(e){return!e.evil})),!e.length)return void delete r.attribs[i];n=h(e,(function(e){return!e.evil})).map((function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")})).join(", "),r.attribs[i]=n}catch(e){return void delete r.attribs[i]}if("class"===i){const t=S[e],o=S["*"],a=T[e],c=C[e],l=[a,T["*"]].concat(c).filter((function(e){return e}));if(!(u=n,p=t&&o?s(t,o):t||o,m=l,n=p?(u=u.split(/\s+/)).filter((function(e){return-1!==p.indexOf(e)||m.some((function(t){return t.test(e)}))})).join(" "):u).length)return void delete r.attribs[i]}if("style"===i)if(t.parseStyleAttributes)try{if(n=function(e){return e.nodes[0].nodes.reduce((function(e,t){return e.push(`${t.prop}:${t.value}${t.important?" !important":""}`),e}),[]).join(";")}(function(e,t){if(!t)return e;const n=e.nodes[0];let r;return r=t[n.selector]&&t["*"]?s(t[n.selector],t["*"]):t[n.selector]||t["*"],r&&(e.nodes[0].nodes=n.nodes.reduce(function(e){return function(t,n){return d(e,n.prop)&&e[n.prop].some((function(e){return e.test(n.value)}))&&t.push(n),t}}(r),[])),e}(c(e+" {"+n+"}",{map:!1}),t.allowedStyles)),0===n.length)return void delete r.attribs[i]}catch(t){return"undefined"!=typeof window&&console.warn('Failed to parse "'+e+" {"+n+"}\", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547"),void delete r.attribs[i]}else if(t.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.");y+=" "+i,n&&n.length?y+='="'+j(n,!0)+'"':t.allowedEmptyAttributes.includes(i)&&(y+='=""')}else delete r.attribs[i];var u,p,m})),-1!==t.selfClosing.indexOf(e)?y+=" />":(y+=">",!r.innerText||l||t.textFilter||(y+=j(r.innerText),L=!0)),i&&(y=v+j(y),v="")},ontext:function(e){if(R)return;const n=k[k.length-1];let r;if(n&&(r=n.tag,e=void 0!==n.innerText?n.innerText:e),"discard"!==t.disallowedTagsMode||"script"!==r&&"style"!==r){const n=j(e,!1);t.textFilter&&!L?y+=t.textFilter(n,r):L||(y+=n)}else y+=e;k.length&&(k[k.length-1].text+=e)},onclosetag:function(e,n){if(R){if(N--,N)return;R=!1}const r=k.pop();if(!r)return;if(r.tag!==e)return void k.push(r);R=!!t.enforceHtmlBoundary&&"html"===e,O--;const i=D[O];if(i){if(delete D[O],"discard"===t.disallowedTagsMode)return void r.updateParentNodeText();v=y,y=""}A[O]&&(e=A[O],delete A[O]),t.exclusiveFilter&&t.exclusiveFilter(r)?y=y.substr(0,r.tagPosition):(r.updateParentNodeMediaChildren(),r.updateParentNodeText(),-1!==t.selfClosing.indexOf(e)||n&&!w(e)&&["escape","recursiveEscape"].indexOf(t.disallowedTagsMode)>=0?i&&(y=v,v=""):(y+="</"+e+">",i&&(y=v+j(y),v=""),L=!1))}},t.parser);return F.write(e),F.end(),y;function M(){y="",O=0,k=[],D={},A={},R=!1,N=0}function j(e,n){return"string"!=typeof e&&(e+=""),t.parser.decodeEntities&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;"))),e=e.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;")),e}function B(e,n){for(n=n.replace(/[\x00-\x20]+/g,"");;){const e=n.indexOf("\x3c!--");if(-1===e)break;const t=n.indexOf("--\x3e",e+4);if(-1===t)break;n=n.substring(0,e)+n.substring(t+3)}const r=n.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!r)return!!n.match(/^[/\\]{2}/)&&!t.allowProtocolRelative;const i=r[1].toLowerCase();return d(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(i):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(i)}function U(e){if((e=e.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//")).startsWith("relative:"))throw new Error("relative: exploit attempt");let t="relative://relative-site";for(let e=0;e<100;e++)t+=`/${e}`;const n=new URL(e,t);return{isRelativeUrl:n&&"relative-site"===n.hostname&&"relative:"===n.protocol,url:n}}}const g={decodeEntities:!0};m.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0},m.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(r,i){let o;if(n)for(o in t)i[o]=t[o];else i=t;return{tagName:e,attribs:i}}}},4043:(e,t,n)=>{!function(e){e.parser=function(e,t){return new i(e,t)},e.SAXParser=i,e.SAXStream=s,e.createStream=function(e,t){return new s(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(t,n){if(!(this instanceof i))return new i(t,n);var o=this;!function(e){for(var t=0,n=r.length;t<n;t++)e[r[t]]=""}(o),o.q=o.c="",o.bufferCheckPosition=e.MAX_BUFFER_LENGTH,o.opt=n||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!t,o.noscript=!(!t&&!o.opt.noscript),o.state=S.BEGIN,o.strictEntities=o.opt.strictEntities,o.ENTITIES=o.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=Object.create(p)),void 0===o.opt.unquotedAttributeValues&&(o.opt.unquotedAttributeValues=!t),o.trackPosition=!1!==o.opt.position,o.trackPosition&&(o.position=o.line=o.column=0),C(o,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),i.prototype={end:function(){D(this)},write:function(t){var n=this;if(this.error)throw this.error;if(n.closed)return k(n,"Cannot write after close. Assign an onready handler.");if(null===t)return D(n);"object"==typeof t&&(t=t.toString());for(var i=0,o="";o=U(t,i++),n.c=o,o;)switch(n.trackPosition&&(n.position++,"\n"===o?(n.line++,n.column=0):n.column++),n.state){case S.BEGIN:if(n.state=S.BEGIN_WHITESPACE,"\ufeff"===o)continue;B(n,o);continue;case S.BEGIN_WHITESPACE:B(n,o);continue;case S.TEXT:if(n.sawRoot&&!n.closedRoot){for(var s=i-1;o&&"<"!==o&&"&"!==o;)(o=U(t,i++))&&n.trackPosition&&(n.position++,"\n"===o?(n.line++,n.column=0):n.column++);n.textNode+=t.substring(s,i-1)}"<"!==o||n.sawRoot&&n.closedRoot&&!n.strict?(g(o)||n.sawRoot&&!n.closedRoot||A(n,"Text data outside of root node."),"&"===o?n.state=S.TEXT_ENTITY:n.textNode+=o):(n.state=S.OPEN_WAKA,n.startTagPosition=n.position);continue;case S.SCRIPT:"<"===o?n.state=S.SCRIPT_ENDING:n.script+=o;continue;case S.SCRIPT_ENDING:"/"===o?n.state=S.CLOSE_TAG:(n.script+="<"+o,n.state=S.SCRIPT);continue;case S.OPEN_WAKA:if("!"===o)n.state=S.SGML_DECL,n.sgmlDecl="";else if(g(o));else if(b(d,o))n.state=S.OPEN_TAG,n.tagName=o;else if("/"===o)n.state=S.CLOSE_TAG,n.tagName="";else if("?"===o)n.state=S.PROC_INST,n.procInstName=n.procInstBody="";else{if(A(n,"Unencoded <"),n.startTagPosition+1<n.position){var l=n.position-n.startTagPosition;o=new Array(l).join(" ")+o}n.textNode+="<"+o,n.state=S.TEXT}continue;case S.SGML_DECL:if(n.sgmlDecl+o==="--"){n.state=S.COMMENT,n.comment="",n.sgmlDecl="";continue}n.doctype&&!0!==n.doctype&&n.sgmlDecl?(n.state=S.DOCTYPE_DTD,n.doctype+="<!"+n.sgmlDecl+o,n.sgmlDecl=""):(n.sgmlDecl+o).toUpperCase()===a?(P(n,"onopencdata"),n.state=S.CDATA,n.sgmlDecl="",n.cdata=""):(n.sgmlDecl+o).toUpperCase()===c?(n.state=S.DOCTYPE,(n.doctype||n.sawRoot)&&A(n,"Inappropriately located doctype declaration"),n.doctype="",n.sgmlDecl=""):">"===o?(P(n,"onsgmldeclaration",n.sgmlDecl),n.sgmlDecl="",n.state=S.TEXT):y(o)?(n.state=S.SGML_DECL_QUOTED,n.sgmlDecl+=o):n.sgmlDecl+=o;continue;case S.SGML_DECL_QUOTED:o===n.q&&(n.state=S.SGML_DECL,n.q=""),n.sgmlDecl+=o;continue;case S.DOCTYPE:">"===o?(n.state=S.TEXT,P(n,"ondoctype",n.doctype),n.doctype=!0):(n.doctype+=o,"["===o?n.state=S.DOCTYPE_DTD:y(o)&&(n.state=S.DOCTYPE_QUOTED,n.q=o));continue;case S.DOCTYPE_QUOTED:n.doctype+=o,o===n.q&&(n.q="",n.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:"]"===o?(n.doctype+=o,n.state=S.DOCTYPE):"<"===o?(n.state=S.OPEN_WAKA,n.startTagPosition=n.position):y(o)?(n.doctype+=o,n.state=S.DOCTYPE_DTD_QUOTED,n.q=o):n.doctype+=o;continue;case S.DOCTYPE_DTD_QUOTED:n.doctype+=o,o===n.q&&(n.state=S.DOCTYPE_DTD,n.q="");continue;case S.COMMENT:"-"===o?n.state=S.COMMENT_ENDING:n.comment+=o;continue;case S.COMMENT_ENDING:"-"===o?(n.state=S.COMMENT_ENDED,n.comment=O(n.opt,n.comment),n.comment&&P(n,"oncomment",n.comment),n.comment=""):(n.comment+="-"+o,n.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==o?(A(n,"Malformed comment"),n.comment+="--"+o,n.state=S.COMMENT):n.doctype&&!0!==n.doctype?n.state=S.DOCTYPE_DTD:n.state=S.TEXT;continue;case S.CDATA:"]"===o?n.state=S.CDATA_ENDING:n.cdata+=o;continue;case S.CDATA_ENDING:"]"===o?n.state=S.CDATA_ENDING_2:(n.cdata+="]"+o,n.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===o?(n.cdata&&P(n,"oncdata",n.cdata),P(n,"onclosecdata"),n.cdata="",n.state=S.TEXT):"]"===o?n.cdata+="]":(n.cdata+="]]"+o,n.state=S.CDATA);continue;case S.PROC_INST:"?"===o?n.state=S.PROC_INST_ENDING:g(o)?n.state=S.PROC_INST_BODY:n.procInstName+=o;continue;case S.PROC_INST_BODY:if(!n.procInstBody&&g(o))continue;"?"===o?n.state=S.PROC_INST_ENDING:n.procInstBody+=o;continue;case S.PROC_INST_ENDING:">"===o?(P(n,"onprocessinginstruction",{name:n.procInstName,body:n.procInstBody}),n.procInstName=n.procInstBody="",n.state=S.TEXT):(n.procInstBody+="?"+o,n.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:b(h,o)?n.tagName+=o:(R(n),">"===o?F(n):"/"===o?n.state=S.OPEN_TAG_SLASH:(g(o)||A(n,"Invalid character in tag name"),n.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===o?(F(n,!0),M(n)):(A(n,"Forward-slash in opening tag not followed by >"),n.state=S.ATTRIB);continue;case S.ATTRIB:if(g(o))continue;">"===o?F(n):"/"===o?n.state=S.OPEN_TAG_SLASH:b(d,o)?(n.attribName=o,n.attribValue="",n.state=S.ATTRIB_NAME):A(n,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===o?n.state=S.ATTRIB_VALUE:">"===o?(A(n,"Attribute without value"),n.attribValue=n.attribName,L(n),F(n)):g(o)?n.state=S.ATTRIB_NAME_SAW_WHITE:b(h,o)?n.attribName+=o:A(n,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===o)n.state=S.ATTRIB_VALUE;else{if(g(o))continue;A(n,"Attribute without value"),n.tag.attributes[n.attribName]="",n.attribValue="",P(n,"onattribute",{name:n.attribName,value:""}),n.attribName="",">"===o?F(n):b(d,o)?(n.attribName=o,n.state=S.ATTRIB_NAME):(A(n,"Invalid attribute name"),n.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(g(o))continue;y(o)?(n.q=o,n.state=S.ATTRIB_VALUE_QUOTED):(n.opt.unquotedAttributeValues||k(n,"Unquoted attribute value"),n.state=S.ATTRIB_VALUE_UNQUOTED,n.attribValue=o);continue;case S.ATTRIB_VALUE_QUOTED:if(o!==n.q){"&"===o?n.state=S.ATTRIB_VALUE_ENTITY_Q:n.attribValue+=o;continue}L(n),n.q="",n.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:g(o)?n.state=S.ATTRIB:">"===o?F(n):"/"===o?n.state=S.OPEN_TAG_SLASH:b(d,o)?(A(n,"No whitespace between attributes"),n.attribName=o,n.attribValue="",n.state=S.ATTRIB_NAME):A(n,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(!v(o)){"&"===o?n.state=S.ATTRIB_VALUE_ENTITY_U:n.attribValue+=o;continue}L(n),">"===o?F(n):n.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(n.tagName)">"===o?M(n):b(h,o)?n.tagName+=o:n.script?(n.script+="</"+n.tagName,n.tagName="",n.state=S.SCRIPT):(g(o)||A(n,"Invalid tagname in closing tag"),n.state=S.CLOSE_TAG_SAW_WHITE);else{if(g(o))continue;w(d,o)?n.script?(n.script+="</"+o,n.state=S.SCRIPT):A(n,"Invalid tagname in closing tag."):n.tagName=o}continue;case S.CLOSE_TAG_SAW_WHITE:if(g(o))continue;">"===o?M(n):A(n,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:var u,p;switch(n.state){case S.TEXT_ENTITY:u=S.TEXT,p="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:u=S.ATTRIB_VALUE_QUOTED,p="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:u=S.ATTRIB_VALUE_UNQUOTED,p="attribValue"}if(";"===o){var _=j(n);n.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(_)?(n.entity="",n.state=u,n.write(_)):(n[p]+=_,n.entity="",n.state=u)}else b(n.entity.length?m:f,o)?n.entity+=o:(A(n,"Invalid character in entity name"),n[p]+="&"+n.entity+o,n.entity="",n.state=u);continue;default:throw new Error(n,"Unknown state: "+n.state)}return n.position>=n.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),i=0,o=0,s=r.length;o<s;o++){var a=t[r[o]].length;if(a>n)switch(r[o]){case"textNode":I(t);break;case"cdata":P(t,"oncdata",t.cdata),t.cdata="";break;case"script":P(t,"onscript",t.script),t.script="";break;default:k(t,"Max buffer length exceeded: "+r[o])}i=Math.max(i,a)}var c=e.MAX_BUFFER_LENGTH-i;t.bufferCheckPosition=c+t.position}(n),n},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;I(e=this),""!==e.cdata&&(P(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(P(e,"onscript",e.script),e.script="")}};try{t=n(2203).Stream}catch(e){t=function(){}}t||(t=function(){});var o=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function s(e,n){if(!(this instanceof s))return new s(e,n);t.apply(this),this._parser=new i(e,n),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,o.forEach((function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})}))}s.prototype=Object.create(t.prototype,{constructor:{value:s}}),s.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=n(3193).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,n){var r=this;return r._parser["on"+e]||-1===o.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),t.prototype.on.call(r,e,n)};var a="[CDATA[",c="DOCTYPE",l="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/2000/xmlns/",p={xml:l,xmlns:u},d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function y(e){return'"'===e||"'"===e}function v(e){return">"===e||g(e)}function b(e,t){return e.test(t)}function w(e,t){return!b(e,t)}var _,E,x,S=0;for(var T in e.STATE={BEGIN:S++,BEGIN_WHITESPACE:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r})),e.STATE)e.STATE[e.STATE[T]]=T;function C(e,t,n){e[t]&&e[t](n)}function P(e,t,n){e.textNode&&I(e),C(e,t,n)}function I(e){e.textNode=O(e.opt,e.textNode),e.textNode&&C(e,"ontext",e.textNode),e.textNode=""}function O(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function k(e,t){return I(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,C(e,"onerror",t),e}function D(e){return e.sawRoot&&!e.closedRoot&&A(e,"Unclosed root tag"),e.state!==S.BEGIN&&e.state!==S.BEGIN_WHITESPACE&&e.state!==S.TEXT&&k(e,"Unexpected end"),I(e),e.c="",e.closed=!0,C(e,"onend"),i.call(e,e.strict,e.opt),e}function A(e,t){if("object"!=typeof e||!(e instanceof i))throw new Error("bad call to strictFail");e.strict&&k(e,t)}function R(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,P(e,"onopentagstart",n)}function N(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],i=n[1];return t&&"xmlns"===e&&(r="xmlns",i=""),{prefix:r,local:i}}function L(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=N(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==l)A(e,"xml: prefix must be bound to "+l+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==u)A(e,"xmlns: prefix must be bound to "+u+"\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,P(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function F(e,t){if(e.opt.xmlns){var n=e.tag,r=N(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(A(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var i=e.tags[e.tags.length-1]||e;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach((function(t){P(e,"onopennamespace",{prefix:t,uri:n.ns[t]})}));for(var o=0,s=e.attribList.length;o<s;o++){var a=e.attribList[o],c=a[0],l=a[1],u=N(c,!0),p=u.prefix,d=u.local,h=""===p?"":n.ns[p]||"",f={name:c,value:l,prefix:p,local:d,uri:h};p&&"xmlns"!==p&&!h&&(A(e,"Unbound namespace prefix: "+JSON.stringify(p)),f.uri=p),e.tag.attributes[c]=f,P(e,"onattribute",f)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),P(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=S.TEXT:e.state=S.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function M(e){if(!e.tagName)return A(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=S.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=S.SCRIPT);P(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--&&e.tags[t].name!==r;)A(e,"Unexpected close tag");if(t<0)return A(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=S.TEXT);e.tagName=n;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,P(e,"onclosetag",e.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var c=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==c.ns&&Object.keys(o.ns).forEach((function(t){var n=o.ns[t];P(e,"onclosenamespace",{prefix:t,uri:n})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=S.TEXT}function j(e){var t,n=e.entity,r=n.toLowerCase(),i="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(t=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(t=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==n?(A(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function B(e,t){"<"===t?(e.state=S.OPEN_WAKA,e.startTagPosition=e.position):g(t)||(A(e,"Non-whitespace before first tag."),e.textNode=t,e.state=S.TEXT)}function U(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}S=e.STATE,String.fromCodePoint||(_=String.fromCharCode,E=Math.floor,x=function(){var e,t,n=[],r=-1,i=arguments.length;if(!i)return"";for(var o="";++r<i;){var s=Number(arguments[r]);if(!isFinite(s)||s<0||s>1114111||E(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,n.push(e,t)),(r+1===i||n.length>16384)&&(o+=_.apply(null,n),n.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:x,configurable:!0,writable:!0}):String.fromCodePoint=x)}(t)},4987:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(9847),t),i(n(3662),t),i(n(447),t),i(n(6937),t),i(n(1693),t),i(n(2348),t),i(n(8145),t),i(n(637),t),i(n(3819),t),i(n(7102),t),i(n(8007),t),i(n(9076),t)},8007:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SerialPortMock=void 0;const r=n(5802),i=n(6848);class o extends r.SerialPortStream{static list=i.MockBinding.list;static binding=i.MockBinding;constructor(e,t){super({binding:i.MockBinding,...e},t)}}t.SerialPortMock=o},9076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SerialPort=void 0;const r=n(5802),i=(0,n(176).autoDetect)();class o extends r.SerialPortStream{static list=i.list;static binding=i;constructor(e,t){super({binding:i,...e},t)}}t.SerialPort=o},5031:(e,t)=>{function n(e){for(var t in e)this[t]=e[t]}t.get=function(e){var n=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(r,e||t.get);var o=r.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=n,o},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map((function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var n=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(n){var r=null,i=null,o=null,s=null,a=null,c="native"===n[5];if(n[1]){var l=(o=n[1]).lastIndexOf(".");if("."==o[l-1]&&l--,l>0){r=o.substr(0,l),i=o.substr(l+1);var u=r.indexOf(".Module");u>0&&(o=o.substr(u+1),r=r.substr(0,u))}s=null}i&&(s=r,a=i),"<anonymous>"===i&&(a=null,o=null);var p={fileName:n[2]||null,lineNumber:parseInt(n[3],10)||null,functionName:o,typeName:s,methodName:a,columnNumber:parseInt(n[4],10)||null,native:c};return t._createParsedCallSite(p)}})).filter((function(e){return!!e}))},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach((function(e){n.prototype[e]=null,n.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),["topLevel","eval","native","constructor"].forEach((function(e){n.prototype[e]=!1,n.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),t._createParsedCallSite=function(e){return new n(e)}},8179:(e,t,n)=>{const{EventEmitter:r}=n(301),i=new Error("Stream was destroyed"),o=new Error("Premature close"),s=n(6080),a=n(5335),c="undefined"==typeof queueMicrotask?e=>global.process.nextTick(e):queueMicrotask,l=536870911,u=1^l,p=16384,d=32768,h=131072,f=536805375,m=768^l,g=536838143,y=536739839,v=2<<18,b=4<<18,w=8<<18,_=32<<18,E=64<<18,x=128<<18,S=512<<18,T=1024<<18,C=503316479,P=268435455,I=262160,O=8404992,k=8405006,D=33587200,A=33587215,R=270794767,N=Symbol.asyncIterator||Symbol("asyncIterator");class L{constructor(e,{highWaterMark:t=16384,map:n=null,mapWritable:r,byteLength:i,byteLengthWritable:o}={}){this.stream=e,this.queue=new s,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||i||oe,this.map=r||n,this.afterWrite=$.bind(this),this.afterUpdateNextTick=G.bind(this)}get ended(){return 0!=(this.stream._duplexState&_)}push(e){return 0==(142606350&this.stream._duplexState)&&(null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=w,!0):(this.stream._duplexState|=6291456,!1))}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=534773759),e}end(e){"function"==typeof e?this.stream.once("finish",e):null!=e&&this.push(e),this.stream._duplexState=535822335&(this.stream._duplexState|S)}autoBatch(e,t){const n=[],r=this.stream;for(n.push(e);2359296==(r._duplexState&R);)n.push(r._writableState.shift());if(0!=(15&r._duplexState))return t(null);r._writev(n,t)}update(){const e=this.stream;e._duplexState|=v;do{for(;(e._duplexState&R)===w;){const t=this.shift();e._duplexState|=67371008,e._write(t,this.afterWrite)}0==(1310720&e._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=536346623}updateNonPrimary(){const e=this.stream;if((144965647&e._duplexState)===S)return e._duplexState=262144|e._duplexState,void e._final(U.bind(this));4!=(14&e._duplexState)?1==(e._duplexState&A)&&(e._duplexState=(e._duplexState|I)&u,e._open(z.bind(this))):0==(e._duplexState&D)&&(e._duplexState|=I,e._destroy(q.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&x)&&(this.stream._duplexState&=C,!0)}updateCallback(){(35127311&this.stream._duplexState)===b?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&x)&&(this.stream._duplexState|=x,0==(this.stream._duplexState&v)&&c(this.afterUpdateNextTick))}}class F{constructor(e,{highWaterMark:t=16384,map:n=null,mapReadable:r,byteLength:i,byteLengthReadable:o}={}){this.stream=e,this.queue=new s,this.highWaterMark=0===t?1:t,this.buffered=0,this.readAhead=t>0,this.error=null,this.pipeline=null,this.byteLength=o||i||oe,this.map=r||n,this.pipeTo=null,this.afterRead=V.bind(this),this.afterUpdateNextTick=H.bind(this)}get ended(){return 0!=(this.stream._duplexState&p)}pipe(e,t){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof t&&(t=null),this.stream._duplexState|=512,this.pipeTo=e,this.pipeline=new j(this.stream,e,t),t&&this.stream.on("error",se),ie(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",se),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{const t=this.pipeline.done.bind(this.pipeline,e),n=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",t),e.on("close",n),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",B.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const t=this.stream;return null===e?(this.highWaterMark=0,t._duplexState=536805311&(1024|t._duplexState),!1):null!==this.map&&null===(e=this.map(e))?(t._duplexState&=f,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=(128|t._duplexState)&f,this.buffered<this.highWaterMark)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=536862591),e}unshift(e){const t=[null!==this.map?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let e=0;e<t.length-1;e++){const n=t[e];this.buffered+=this.byteLength(n),this.queue.push(n)}this.push(t[t.length-1])}read(){const e=this.stream;if(128==(16527&e._duplexState)){const t=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=m),0!=(2048&e._duplexState)&&e.emit("data",t),t}return!1===this.readAhead&&(e._duplexState|=h,this.updateNextTick()),null}drain(){const e=this.stream;for(;128==(16527&e._duplexState)&&0!=(768&e._duplexState);){const t=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=m),0!=(2048&e._duplexState)&&e.emit("data",t)}}update(){const e=this.stream;e._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&(214047&e._duplexState)===h;)e._duplexState|=65552,e._read(this.afterRead),this.drain();4224==(12431&e._duplexState)&&(e._duplexState|=8192,e.emit("readable")),0==(80&e._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=536870879}updateNonPrimary(){const e=this.stream;1024==(1167&e._duplexState)&&(e._duplexState=536869887&(e._duplexState|p),e.emit("end"),(e._duplexState&k)===O&&(e._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(14&e._duplexState)?1==(e._duplexState&A)&&(e._duplexState=(e._duplexState|I)&u,e._open(z.bind(this))):0==(e._duplexState&D)&&(e._duplexState|=I,e._destroy(q.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&d)&&(this.stream._duplexState&=g,!0)}updateCallback(){64==(32879&this.stream._duplexState)?this.update():this.updateNextTick()}updateNextTickIfOpen(){0==(32769&this.stream._duplexState)&&(this.stream._duplexState|=d,0==(32&this.stream._duplexState)&&c(this.afterUpdateNextTick))}updateNextTick(){0==(this.stream._duplexState&d)&&(this.stream._duplexState|=d,0==(32&this.stream._duplexState)&&c(this.afterUpdateNextTick))}}class M{constructor(e){this.data=null,this.afterTransform=W.bind(e),this.afterFinal=null}}class j{constructor(e,t,n){this.from=e,this.to=t,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){t&&(this.error=t),e!==this.to||(this.to=null,null===this.from)?e!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0==(e._duplexState&p)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!=(this.from._duplexState&p)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function B(){this.stream._duplexState|=512,this.updateCallback()}function U(e){const t=this.stream;e&&t.destroy(e),0==(14&t._duplexState)&&(t._duplexState|=_,t.emit("finish")),(t._duplexState&k)===O&&(t._duplexState|=4),t._duplexState&=402391039,0==(t._duplexState&v)?this.update():this.updateNextTick()}function q(e){const t=this.stream;e||this.error===i||(e=this.error),e&&t.emit("error",e),t._duplexState|=8,t.emit("close");const n=t._readableState,r=t._writableState;if(null!==n&&null!==n.pipeline&&n.pipeline.done(t,e),null!==r){for(;null!==r.drains&&r.drains.length>0;)r.drains.shift().resolve(!1);null!==r.pipeline&&r.pipeline.done(t,e)}}function $(e){const t=this.stream;e&&t.destroy(e),t._duplexState&=469499903,null!==this.drains&&function(e){for(let t=0;t<e.length;t++)0==--e[t].writes&&(e.shift().resolve(!0),t--)}(this.drains),4194304==(6553615&t._duplexState)&&(t._duplexState&=532676607,(t._duplexState&E)===E&&t.emit("drain")),this.updateCallback()}function V(e){e&&this.stream.destroy(e),this.stream._duplexState&=536870895,!1===this.readAhead&&0==(256&this.stream._duplexState)&&(this.stream._duplexState&=y),this.updateCallback()}function H(){0==(32&this.stream._duplexState)&&(this.stream._duplexState&=g,this.update())}function G(){0==(this.stream._duplexState&v)&&(this.stream._duplexState&=C,this.update())}function z(e){const t=this.stream;e&&t.destroy(e),0==(4&t._duplexState)&&(0==(17423&t._duplexState)&&(t._duplexState|=64),0==(142606351&t._duplexState)&&(t._duplexState|=b),t.emit("open")),t._duplexState&=536608751,null!==t._writableState&&t._writableState.updateCallback(),null!==t._readableState&&t._readableState.updateCallback()}function W(e,t){null!=t&&this.push(t),this._writableState.afterWrite(e)}function K(e){null!==this._readableState&&("data"===e&&(this._duplexState|=133376,this._readableState.updateNextTick()),"readable"===e&&(this._duplexState|=4096,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===e&&(this._duplexState|=E,this._writableState.updateNextTick())}class Y extends r{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",ae.bind(this))),this.on("newListener",K)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(8&this._duplexState)}get destroying(){return 0!=(14&this._duplexState)}destroy(e){0==(14&this._duplexState)&&(e||(e=i),this._duplexState=535822271&(4|this._duplexState),null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=e),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=2,this._predestroy(),this._duplexState&=536870909,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}class J extends Y{constructor(e){super(e),this._duplexState|=8519681,this._readableState=new F(this,e),e&&(!1===this._readableState.readAhead&&(this._duplexState&=y),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){const t=new a(e),n=this._readableState.map||ne;return this._readableState.map=function(e){const r=t.push(e);return""===r&&(0!==e.byteLength||t.remaining>0)?null:n(r)},this}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=131328,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=!1===this._readableState.readAhead?536739583:536870655,this}static _fromAsyncIterator(e,t){let n;const r=new J({...t,read(t){e.next().then(i).then(t.bind(null,null)).catch(t)},predestroy(){n=e.return()},destroy(e){if(!n)return e(null);n.then(e.bind(null,null)).catch(e)}});return r;function i(e){e.done?r.push(null):r.push(e.value)}}static from(e,t){if(ie(n=e)&&n.readable)return e;var n;if(e[N])return this._fromAsyncIterator(e[N](),t);Array.isArray(e)||(e=void 0===e?[]:[e]);let r=0;return new J({...t,read(t){this.push(r===e.length?null:e[r++]),t(null)}})}static isBackpressured(e){return 0!=(17422&e._duplexState)||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return 0==(256&e._duplexState)}[N](){const e=this;let t=null,n=null,r=null;return this.on("error",(e=>{t=e})),this.on("readable",(function(){null!==n&&o(e.read())})),this.on("close",(function(){null!==n&&o(null)})),{[N](){return this},next:()=>new Promise((function(t,i){n=t,r=i;const s=e.read();null!==s?o(s):0!=(8&e._duplexState)&&o(null)})),return:()=>s(null),throw:e=>s(e)};function o(o){null!==r&&(t?r(t):null===o&&0==(e._duplexState&p)?r(i):n({value:o,done:null===o}),r=n=null)}function s(t){return e.destroy(t),new Promise(((n,r)=>{if(8&e._duplexState)return n({value:void 0,done:!0});e.once("close",(function(){t?r(t):n({value:void 0,done:!0})}))}))}}}class Q extends Y{constructor(e){super(e),this._duplexState|=16385,this._writableState=new L(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=T}uncork(){this._duplexState&=P,this._writableState.updateNextTick()}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return 0!=(146800654&e._duplexState)}static drained(e){if(e.destroyed)return Promise.resolve(!1);const t=e._writableState;var n;const r=((n=e)._writev!==Q.prototype._writev&&n._writev!==X.prototype._writev?Math.min(1,t.queue.length):t.queue.length)+(67108864&e._duplexState?1:0);return 0===r?Promise.resolve(!0):(null===t.drains&&(t.drains=[]),new Promise((e=>{t.drains.push({writes:r,resolve:e})})))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class X extends J{constructor(e){super(e),this._duplexState=1|this._duplexState&h,this._writableState=new L(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=T}uncork(){this._duplexState&=P,this._writableState.updateNextTick()}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class Z extends X{constructor(e){super(e),this._transformState=new M(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(null!==this._transformState.data){const t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(ee.bind(this))}}function ee(e,t){const n=this._transformState.afterFinal;if(e)return n(e);null!=t&&this.push(t),this.push(null),n(null)}function te(e,...t){const n=Array.isArray(e)?[...e,...t]:[e,...t],r=n.length&&"function"==typeof n[n.length-1]?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let i=n[0],s=null,a=null;for(let e=1;e<n.length;e++)s=n[e],ie(i)?i.pipe(s,l):(c(i,!0,e>1,l),i.pipe(s)),i=s;if(r){let e=!1;const t=ie(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",(e=>{null===a&&(a=e)})),s.on("finish",(()=>{e=!0,t||r(a)})),t&&s.on("close",(()=>r(a||(e?null:o))))}return s;function c(e,t,n,r){e.on("error",r),e.on("close",(function(){return t&&e._readableState&&!e._readableState.ended||n&&e._writableState&&!e._writableState.ended?r(o):void 0}))}function l(e){if(e&&!a){a=e;for(const t of n)t.destroy(e)}}}function ne(e){return e}function re(e){return!!e._readableState||!!e._writableState}function ie(e){return"number"==typeof e._duplexState&&re(e)}function oe(e){return function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.byteLength}(e)?e.byteLength:1024}function se(){}function ae(){this.destroy(new Error("Stream aborted."))}e.exports={pipeline:te,pipelinePromise:function(...e){return new Promise(((t,n)=>te(...e,(e=>{if(e)return n(e);t()}))))},isStream:re,isStreamx:ie,isEnded:function(e){return!!e._readableState&&e._readableState.ended},isFinished:function(e){return!!e._writableState&&e._writableState.ended},isDisturbed:function(e){return 1!=(1&e._duplexState)||0!=(e._duplexState&D)},getStreamError:function(e,t={}){const n=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return t.all||n!==i?n:null},Stream:Y,Writable:Q,Readable:J,Duplex:X,Transform:Z,PassThrough:class extends Z{}}},101:(e,t,n)=>{var r=n(9896),i=n(6928),o=n(857),s=require,a=process.config&&process.config.variables||{},c=!!process.env.PREBUILDS_ONLY,l=process.versions.modules,u=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":process.versions&&process.versions.nw?"node-webkit":"node",p=process.env.npm_config_arch||o.arch(),d=process.env.npm_config_platform||o.platform(),h=process.env.LIBC||(function(e){return"linux"===e&&r.existsSync("/etc/alpine-release")}(d)?"musl":"glibc"),f=process.env.ARM_VERSION||("arm64"===p?"8":a.arm_version)||"",m=(process.versions.uv||"").split(".")[0];function g(e){return s(g.resolve(e))}function y(e){try{return r.readdirSync(e)}catch(e){return[]}}function v(e,t){var n=y(e).filter(t);return n[0]&&i.join(e,n[0])}function b(e){return/\.node$/.test(e)}function w(e){var t=e.split("-");if(2===t.length){var n=t[0],r=t[1].split("+");if(n&&r.length&&r.every(Boolean))return{name:e,platform:n,architectures:r}}}function _(e,t){return function(n){return null!=n&&n.platform===e&&n.architectures.includes(t)}}function E(e,t){return e.architectures.length-t.architectures.length}function x(e){var t=e.split("."),n={file:e,specificity:0};if("node"===t.pop()){for(var r=0;r<t.length;r++){var i=t[r];if("node"===i||"electron"===i||"node-webkit"===i)n.runtime=i;else if("napi"===i)n.napi=!0;else if("abi"===i.slice(0,3))n.abi=i.slice(3);else if("uv"===i.slice(0,2))n.uv=i.slice(2);else if("armv"===i.slice(0,4))n.armv=i.slice(4);else{if("glibc"!==i&&"musl"!==i)continue;n.libc=i}n.specificity++}return n}}function S(e,t){return function(n){return!(null==n||n.runtime&&n.runtime!==e&&!function(e){return"node"===e.runtime&&e.napi}(n)||n.abi&&n.abi!==t&&!n.napi||n.uv&&n.uv!==m||n.armv&&n.armv!==f||n.libc&&n.libc!==h)}}function T(e){return function(t,n){return t.runtime!==n.runtime?t.runtime===e?-1:1:t.abi!==n.abi?t.abi?-1:1:t.specificity!==n.specificity?t.specificity>n.specificity?-1:1:0}}e.exports=g,g.resolve=g.path=function(e){e=i.resolve(e||".");try{var t=s(i.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}if(!c){var n=v(i.join(e,"build/Release"),b);if(n)return n;var r=v(i.join(e,"build/Debug"),b);if(r)return r}var o=C();if(o)return o;var a=C(i.dirname(process.execPath));if(a)return a;var g=["platform="+d,"arch="+p,"runtime="+u,"abi="+l,"uv="+m,f?"armv="+f:"","libc="+h,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ");throw new Error("No native build was found for "+g+"\n    loaded from: "+e+"\n");function C(e){var t=y(i.join(__dirname,"prebuilds")).map(w).filter(_(d,p)).sort(E)[0];if(t){var n=i.join(__dirname,"prebuilds",t.name),r=y(n).map(x).filter(S(u,l)).sort(T(u))[0];return r?i.join(n,r.file):void 0}}},g.parseTags=x,g.matchTags=S,g.compareTags=T,g.parseTuple=w,g.matchTuple=_,g.compareTuples=E},7687:(e,t,n)=>{"use strict";const r=n(857),i=n(2018),o=n(5884),{env:s}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===a)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if("dumb"===s.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in s))||"codeship"===s.CI_NAME?1:n;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:n}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?a=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=1),"FORCE_COLOR"in s&&(a="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(l(e,e&&e.isTTY))},stdout:c(l(!0,i.isatty(1))),stderr:c(l(!0,i.isatty(2)))}},6868:(e,t,n)=>{const r=n(6706),i=n(815),o=n(9896),s=n(6928),a="win32"===(global.Bare?global.Bare.platform:process.platform);function c(e,t,n,r){if(t===n)return r(null,!0);e.lstat(t,(function(i,o){return i&&"ENOENT"!==i.code&&"EPERM"!==i.code?r(i):i||o.isDirectory()?c(e,s.join(t,".."),n,r):void r(null,!1)}))}function l(){}function u(e){return e}t.o=function(e,t){e||(e="."),t||(t={}),e=s.resolve(e);const n=t.fs||o,p=t.ignore||t.filter||l,d=t.mapStream||u,h=!1!==t.chown&&!a&&0===(!global.Bare&&process.getuid?process.getuid():-1),f=t.extract||r.extract(),m=[],g=new Date,y="number"==typeof t.umask?~t.umask:~(!global.Bare&&process.umask?process.umask():0),v=!1!==t.strict,b=!1!==t.validateSymlinks;let w=t.map||l,_="number"==typeof t.dmode?t.dmode:0,E="number"==typeof t.fmode?t.fmode:0;return t.strip&&(w=function(e,t){return function(n){n.name=n.name.split("/").slice(t).join("/");const r=n.linkname;return r&&("link"===n.type||s.isAbsolute(r))&&(n.linkname=r.split("/").slice(t).join("/")),e(n)}}(w,t.strip)),t.readable&&(_|=parseInt(555,8),E|=parseInt(444,8)),t.writable&&(_|=parseInt(333,8),E|=parseInt(222,8)),f.on("entry",(function(r,l,u){(r=w(r)||r).name=function(e){return a?e.replace(/\\/g,"/").replace(/[:?<>|]/g,"_"):e}(r.name);const f=s.join(e,s.join("/",r.name));if(p(f,r))return l.resume(),u();const y=s.join(f,".")===s.join(e,".")?e:s.dirname(f);function _(e){if(e)return u(e);!function(e,r,i){!1===t.utimes?i():"directory"===r.type?n.utimes(e,g,r.mtime,i):"symlink"===r.type?x(e,i):n.utimes(e,g,r.mtime,(function(t){if(t)return i(t);x(e,i)}))}(f,r,(function(e){return e?u(e):a?u():void S(f,r,u)}))}function E(t){return t===e||t.startsWith(e+s.sep)}function C(){const e=n.createWriteStream(f),t=d(l,r);e.on("error",(function(e){t.destroy(e)})),i(t,e,(function(t){if(t)return u(t);e.on("close",_)}))}c(n,y,s.join(e,"."),(function(i,c){return i?u(i):c?"directory"===r.type?(m.push([f,r.mtime]),T(f,{fs:n,own:h,uid:r.uid,gid:r.gid,mode:r.mode},_)):void T(y,{fs:n,own:h,uid:r.uid,gid:r.gid,mode:493},(function(i){if(i)return u(i);switch(r.type){case"file":return C();case"link":return function(){if(a)return u();n.unlink(f,(function(){const i=s.join(e,s.join("/",r.linkname));o.realpath(i,(function(e,r){if(e||!E(r))return u(new Error(f+" is not a valid hardlink"));n.link(r,f,(function(e){if(e&&"EPERM"===e.code&&t.hardlinkAsFilesFallback)return l=n.createReadStream(r),C();_(e)}))}))}))}();case"symlink":return function(){if(a)return u();n.unlink(f,(function(){if(!E(s.resolve(s.dirname(f),r.linkname))&&b)return u(new Error(f+" is not a valid symlink"));n.symlink(r.linkname,f,_)}))}()}if(v)return u(new Error("unsupported type for "+f+" ("+r.type+")"));l.resume(),u()})):u(new Error(y+" is not a valid path"))}))})),t.finish&&f.on("finish",t.finish),f;function x(e,t){let r;for(;(r=(i=m).length?i[i.length-1]:null)&&e.slice(0,r[0].length)!==r[0];)m.pop();var i;if(!r)return t();n.utimes(r[0],g,r[1],t)}function S(e,t,r){const i="symlink"===t.type,o=i?n.lchmod:n.chmod,s=i?n.lchown:n.chown;if(!o)return r();const a=(t.mode|("directory"===t.type?_:E))&y;function c(t){return t?r(t):o?void o.call(n,e,a,r):r()}s&&h?s.call(n,e,t.uid,t.gid,c):c(null)}function T(e,t,r){n.stat(e,(function(i){return i?"ENOENT"!==i.code?r(i):void n.mkdir(e,{mode:t.mode,recursive:!0},(function(n,i){if(n)return r(n);S(e,t,r)})):r(null)}))}}},1699:(e,t,n)=>{const r={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{e.exports=n(9896).constants||r}catch{e.exports=r}},3807:(e,t,n)=>{const{Writable:r,Readable:i,getStreamError:o}=n(8179),s=n(6080),a=n(7042),c=n(3544),l=a.alloc(0);class u{constructor(){this.buffered=0,this.shifted=0,this.queue=new s,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return 0===this._buffered?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(0===e)return l;let t=this._next(e);if(e===t.byteLength)return t;const n=[t];for(;(e-=t.byteLength)>0;)t=this._next(e),n.push(t);return a.concat(n)}_next(e){const t=this.queue.peek(),n=t.byteLength-this._offset;if(e>=n){const e=this._offset?t.subarray(this._offset,t.byteLength):t;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,e}return this.buffered-=e,this.shifted+=e,t.subarray(this._offset,this._offset+=e)}}class p extends i{constructor(e,t,n){super(),this.header=t,this.offset=n,this._parent=e}_read(e){0===this.header.size&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(o(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=f(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}}class d extends r{constructor(e){super(e),e||(e={}),this._buffer=new u,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=h,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e)return this.destroy(e),void this._continueWrite(e);this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=c.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),0===this._header.size||"directory"===this._header.type?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=c.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=c.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=c.decodePax(e);break;case"pax-header":this._pax=null===this._paxGlobal?c.decodePax(e):Object.assign({},this._paxGlobal,c.decodePax(e))}}_consumeLongHeader(){this._longHeader=!1,this._missing=f(this._header.size);const e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(e){return this._continueWrite(e),!1}return!0}_consumeStream(){const e=this._buffer.shiftFirst(this._missing);if(null===e)return!1;this._missing-=e.byteLength;const t=this._stream.push(e);return 0===this._missing?(this._stream.push(null),t&&this._stream._detach(),t&&!1===this._locked):t}_createStream(){return new p(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;)if(this._missing>0){if(null!==this._stream){if(!1===this._consumeStream())return;continue}if(!0===this._longHeader){if(this._missing>this._buffer.buffered)break;if(!1===this._consumeLongHeader())return!1;continue}const e=this._buffer.shiftFirst(this._missing);null!==e&&(this._missing-=e.byteLength)}else{if(this._buffer.buffered<512)break;if(null!==this._stream||!1===this._consumeHeader())return}this._continueWrite(null)}_continueWrite(e){const t=this._callback;this._callback=h,t(e)}_write(e,t){this._callback=t,this._buffer.push(e),this._update()}_final(e){this._finished=0===this._missing&&0===this._buffer.buffered,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(o(this)),e(null)}[Symbol.asyncIterator](){let e=null,t=null,n=null,r=null,i=null;const o=this;return this.on("entry",(function(e,o,s){i=s,o.on("error",h),t?(t({value:o,done:!1}),t=n=null):r=o})),this.on("error",(t=>{e=t})),this.on("close",(function(){s(e),t&&(e?n(e):t({value:void 0,done:!0}),t=n=null)})),{[Symbol.asyncIterator](){return this},next:()=>new Promise(a),return:()=>c(null),throw:e=>c(e)};function s(e){if(!i)return;const t=i;i=null,t(e)}function a(i,a){return e?a(e):r?(i({value:r,done:!1}),void(r=null)):(t=i,n=a,s(null),void(o._finished&&t&&(t({value:void 0,done:!0}),t=n=null)))}function c(e){return o.destroy(e),s(e),new Promise(((t,n)=>{if(o.destroyed)return t({value:void 0,done:!0});o.once("close",(function(){e?n(e):t({value:void 0,done:!0})}))}))}}}function h(){}function f(e){return(e&=511)&&512-e}e.exports=function(e){return new d(e)}},3544:(e,t,n)=>{const r=n(7042),i="0".charCodeAt(0),o=r.from([117,115,116,97,114,0]),s=r.from([i,i]),a=r.from([117,115,116,97,114,32]),c=r.from([32,0]);function l(e,t,n,r){for(;n<r;n++)if(e[n]===t)return n;return r}function u(e){let t=256;for(let n=0;n<148;n++)t+=e[n];for(let n=156;n<512;n++)t+=e[n];return t}function p(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "}function d(e,t,n){if(128&(e=e.subarray(t,t+n))[t=0])return function(e){let t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}const n=[];let r;for(r=e.length-1;r>0;r--){const i=e[r];t?n.push(i):n.push(255-i)}let i=0;const o=n.length;for(r=0;r<o;r++)i+=n[r]*Math.pow(256,r);return t?i:-1*i}(e);{for(;t<e.length&&32===e[t];)t++;const n=(i=l(e,32,t,e.length),o=e.length,s=e.length,"number"!=typeof i?s:(i=~~i)>=o?o:i>=0||(i+=o)>=0?i:0);for(;t<n&&0===e[t];)t++;return n===t?0:parseInt(r.toString(e.subarray(t,n)),8)}var i,o,s}function h(e,t,n,i){return r.toString(e.subarray(t,l(e,0,t,t+n)),i)}function f(e){const t=r.byteLength(e);let n=Math.floor(Math.log(t)/Math.log(10))+1;return t+n>=Math.pow(10,n)&&n++,t+n+e}t.decodeLongPath=function(e,t){return h(e,0,e.length,t)},t.encodePax=function(e){let t="";e.name&&(t+=f(" path="+e.name+"\n")),e.linkname&&(t+=f(" linkpath="+e.linkname+"\n"));const n=e.pax;if(n)for(const e in n)t+=f(" "+e+"="+n[e]+"\n");return r.from(t)},t.decodePax=function(e){const t={};for(;e.length;){let n=0;for(;n<e.length&&32!==e[n];)n++;const i=parseInt(r.toString(e.subarray(0,n)),10);if(!i)return t;const o=r.toString(e.subarray(n+1,i-1)),s=o.indexOf("=");if(-1===s)return t;t[o.slice(0,s)]=o.slice(s+1),e=e.subarray(i)}return t},t.encode=function(e){const t=r.alloc(512);let n=e.name,a="";if(5===e.typeflag&&"/"!==n[n.length-1]&&(n+="/"),r.byteLength(n)!==n.length)return null;for(;r.byteLength(n)>100;){const e=n.indexOf("/");if(-1===e)return null;a+=a?"/"+n.slice(0,e):n.slice(0,e),n=n.slice(e+1)}return r.byteLength(n)>100||r.byteLength(a)>155||e.linkname&&r.byteLength(e.linkname)>100?null:(r.write(t,n),r.write(t,p(4095&e.mode,6),100),r.write(t,p(e.uid,6),108),r.write(t,p(e.gid,6),116),function(e,t,n){e.toString(8).length>11?function(e,t,n){t[124]=128;for(let n=11;n>0;n--)t[124+n]=255&e,e=Math.floor(e/256)}(e,t):r.write(t,p(e,11),124)}(e.size,t),r.write(t,p(e.mtime.getTime()/1e3|0,11),136),t[156]=i+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&r.write(t,e.linkname,157),r.copy(o,t,257),r.copy(s,t,263),e.uname&&r.write(t,e.uname,265),e.gname&&r.write(t,e.gname,297),r.write(t,p(e.devmajor||0,6),329),r.write(t,p(e.devminor||0,6),337),a&&r.write(t,a,345),r.write(t,p(u(t),6),148),t)},t.decode=function(e,t,n){let s=0===e[156]?0:e[156]-i,l=h(e,0,100,t);const p=d(e,100,8),f=d(e,108,8),m=d(e,116,8),g=d(e,124,12),y=d(e,136,12),v=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(s),b=0===e[157]?null:h(e,157,100,t),w=h(e,265,32),_=h(e,297,32),E=d(e,329,8),x=d(e,337,8),S=u(e);if(256===S)return null;if(S!==d(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(function(e){return r.equals(o,e.subarray(257,263))}(e))e[345]&&(l=h(e,345,155,t)+"/"+l);else if(function(e){return r.equals(a,e.subarray(257,263))&&r.equals(c,e.subarray(263,265))}(e));else if(!n)throw new Error("Invalid tar header: unknown format.");return 0===s&&l&&"/"===l[l.length-1]&&(s=5),{name:l,mode:p,uid:f,gid:m,size:g,mtime:new Date(1e3*y),type:v,linkname:b,uname:w,gname:_,devmajor:E,devminor:x,pax:null}}},6706:(e,t,n)=>{t.extract=n(3807),t.pack=n(4009)},4009:(e,t,n)=>{const{Readable:r,Writable:i,getStreamError:o}=n(8179),s=n(7042),a=n(1699),c=n(3544),l=s.alloc(1024);class u extends i{constructor(e,t,n){super({mapWritable:f,eagerOpen:!0}),this.written=0,this.header=t,this._callback=n,this._linkname=null,this._isLinkname="symlink"===t.type&&!t.linkname,this._isVoid="file"!==t.type&&"contiguous-file"!==t.type,this._finished=!1,this._pack=e,this._openCallback=null,null===this._pack._stream?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(null===this._callback)return;const t=this._callback;this._callback=null,t(e)}_continueOpen(){null===this._pack._stream&&(this._pack._stream=this);const e=this._openCallback;if(this._openCallback=null,null!==e){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,t){return this._isLinkname?(this._linkname=this._linkname?s.concat([this._linkname,e]):e,t(null)):this._isVoid?e.byteLength>0?t(new Error("No body allowed for this entry")):t():(this.written+=e.byteLength,this._pack.push(e)?t():void(this._pack._drain=t))}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?s.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),h(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return o(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}}class p extends r{constructor(e){super(e),this._drain=d,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,t,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");"function"==typeof t&&(n=t,t=null),n||(n=d),e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&a.S_IFMT){case a.S_IFBLK:return"block-device";case a.S_IFCHR:return"character-device";case a.S_IFDIR:return"directory";case a.S_IFIFO:return"fifo";case a.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?493:420),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=s.from(t));const r=new u(this,e,n);return s.isBuffer(t)?(e.size=t.byteLength,r.write(t),r.end(),r):(r._isVoid,r)}finalize(){this._stream||this._pending.length>0?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(l),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){const t=c.encode(e);if(t)return void this.push(t)}this._encodePax(e)}_encodePax(e){const t=c.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(c.encode(n)),this.push(t),h(this,t.byteLength),n.size=e.size,n.type=e.type,this.push(c.encode(n))}_doDrain(){const e=this._drain;this._drain=d,e()}_predestroy(){const e=o(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){const t=this._pending.shift();t.destroy(e),t._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}}function d(){}function h(e,t){(t&=511)&&e.push(l.subarray(0,512-t))}function f(e){return s.isBuffer(e)?e:s.from(e)}e.exports=function(e){return new p(e)}},5335:(e,t,n)=>{const r=n(4611),i=n(6045);e.exports=class{constructor(e="utf8"){switch(this.encoding=function(e){switch(e=e.toLowerCase()){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:throw new Error("Unknown encoding: "+e)}}(e),this.encoding){case"utf8":this.decoder=new i;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new r(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return"string"==typeof e?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let t="";return e&&(t=this.push(e)),t+=this.decoder.flush(),t}}},4611:(e,t,n)=>{const r=n(7042);e.exports=class{constructor(e){this.encoding=e}get remaining(){return 0}decode(e){return r.toString(e,this.encoding)}flush(){return""}}},6045:(e,t,n)=>{const r=n(7042);e.exports=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(e){if(0===this.bytesNeeded){let t=!0;for(let n=Math.max(0,e.byteLength-4),r=e.byteLength;n<r&&t;n++)t=e[n]<=127;if(t)return r.toString(e,"utf8")}let t="";for(let n=0,r=e.byteLength;n<r;n++){const r=e[n];0!==this.bytesNeeded?r<this.lowerBoundary||r>this.upperBoundary?(this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,t+="�"):(this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|63&r,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(t+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)):r<=127?t+=String.fromCharCode(r):(this.bytesSeen=1,r>=194&&r<=223?(this.bytesNeeded=2,this.codePoint=31&r):r>=224&&r<=239?(224===r?this.lowerBoundary=160:237===r&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=15&r):r>=240&&r<=244?(240===r&&(this.lowerBoundary=144),244===r&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=7&r):t+="�")}return t}flush(){const e=this.bytesNeeded>0?"�":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}}},7520:(e,t,n)=>{"use strict";var r=n(5317),i=r.spawn,o=r.exec;function s(e,t,n){var r={};try{Object.keys(e).forEach((function(n){e[n].forEach((function(e){r[e]||(a(e,t),r[e]=1)})),r[n]||(a(n,t),r[n]=1)}))}catch(e){if(n)return n(e);throw e}if(n)return n()}function a(e,t){try{process.kill(parseInt(e,10),t)}catch(e){if("ESRCH"!==e.code)throw e}}function c(e,t,n,r,i){var o=r(e),s="";o.stdout.on("data",(function(e){e=e.toString("ascii"),s+=e})),o.on("close",(function(o){delete n[e],0==o?s.match(/\d+/g).forEach((function(o){o=parseInt(o,10),t[e].push(o),t[o]=[],n[o]=1,c(o,t,n,r,i)})):0==Object.keys(n).length&&i()}))}e.exports=function(e,t,n){if("function"==typeof t&&void 0===n&&(n=t,t=void 0),e=parseInt(e),Number.isNaN(e)){if(n)return n(new Error("pid must be a number"));throw new Error("pid must be a number")}var r={},a={};switch(r[e]=[],a[e]=1,process.platform){case"win32":o("taskkill /pid "+e+" /T /F",n);break;case"darwin":c(e,r,a,(function(e){return i("pgrep",["-P",e])}),(function(){s(r,t,n)}));break;default:c(e,r,a,(function(e){return i("ps",["-o","pid","--no-headers","--ppid",e])}),(function(){s(r,t,n)}))}}},31:(e,t)=>{!function(e){var t,n,r,i=String.fromCharCode;function o(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function s(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function a(e,t){return i(e>>t&63|128)}function c(e){if(0==(4294967168&e))return i(e);var t="";return 0==(4294965248&e)?t=i(e>>6&31|192):0==(4294901760&e)?(s(e),t=i(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=i(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+i(63&e|128)}function l(){if(r>=n)throw Error("Invalid byte index");var e=255&t[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(){var e,i;if(r>n)throw Error("Invalid byte index");if(r==n)return!1;if(e=255&t[r],r++,0==(128&e))return e;if(192==(224&e)){if((i=(31&e)<<6|l())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if((i=(15&e)<<12|l()<<6|l())>=2048)return s(i),i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(i=(7&e)<<18|l()<<12|l()<<6|l())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=o(e),n=t.length,r=-1,i="";++r<n;)i+=c(t[r]);return i},e.decode=function(e){t=o(e),n=t.length,r=0;for(var s,a=[];!1!==(s=u());)a.push(s);return function(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=i(t);return o}(a)}}(t)},5360:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8898),i=n(311);var o;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),e.is=function(t){let n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(o=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze((function(e,t){let n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}}));class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this.cancel()}}},8898:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}},function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class n{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0),i=0,o=n.length;i<o;i++)try{t.push(n[i].apply(r[i],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,i)=>{let o;return this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),o={dispose:()=>{this._callbacks.remove(e,t),o.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(i)&&i.push(o),o}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}r._noop=function(){},t.Emitter=r},311:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))}},8446:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(n=t.Touch||(t.Touch={})),t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,r=n.None){let i=this._map.get(e);if(i)i.value=t,r!==n.None&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case n.None:this.addItemLast(i);break;case n.First:this.addItemFirst(i);break;case n.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._head;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next}forEachReverse(e,t){let n=this._tail;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===n.First||t===n.Last)if(t===n.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===n.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},4590:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(311),o=n(5043);t.RequestType=o.RequestType,t.RequestType0=o.RequestType0,t.RequestType1=o.RequestType1,t.RequestType2=o.RequestType2,t.RequestType3=o.RequestType3,t.RequestType4=o.RequestType4,t.RequestType5=o.RequestType5,t.RequestType6=o.RequestType6,t.RequestType7=o.RequestType7,t.RequestType8=o.RequestType8,t.RequestType9=o.RequestType9,t.ResponseError=o.ResponseError,t.ErrorCodes=o.ErrorCodes,t.NotificationType=o.NotificationType,t.NotificationType0=o.NotificationType0,t.NotificationType1=o.NotificationType1,t.NotificationType2=o.NotificationType2,t.NotificationType3=o.NotificationType3,t.NotificationType4=o.NotificationType4,t.NotificationType5=o.NotificationType5,t.NotificationType6=o.NotificationType6,t.NotificationType7=o.NotificationType7,t.NotificationType8=o.NotificationType8,t.NotificationType9=o.NotificationType9;const s=n(8919);t.MessageReader=s.MessageReader,t.StreamMessageReader=s.StreamMessageReader,t.IPCMessageReader=s.IPCMessageReader,t.SocketMessageReader=s.SocketMessageReader;const a=n(7159);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const c=n(8898);t.Disposable=c.Disposable,t.Event=c.Event,t.Emitter=c.Emitter;const l=n(5360);t.CancellationTokenSource=l.CancellationTokenSource,t.CancellationToken=l.CancellationToken;const u=n(8446);var p,d,h,f,m,g,y;r(n(3696)),r(n(5851)),function(e){e.type=new o.NotificationType("$/cancelRequest")}(p||(p={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(d=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(d=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(h=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTraceNotification")}(f=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTraceNotification")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(g=t.ConnectionErrors||(t.ConnectionErrors={}));class v extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,v.prototype)}}function b(e,t,n,r){let s=0,a=0,b=0;const w="2.0";let _,E,x,S,T=Object.create(null),C=Object.create(null),P=new u.LinkedMap,I=Object.create(null),O=Object.create(null),k=d.Off,D=h.Text,A=y.New,R=new c.Emitter,N=new c.Emitter,L=new c.Emitter,F=new c.Emitter;function M(e){return"req-"+e.toString()}function j(e){}function B(){return A===y.Listening}function U(){return A===y.Closed}function q(){return A===y.Disposed}function $(){A!==y.New&&A!==y.Listening||(A=y.Closed,N.fire(void 0))}function V(){x||0===P.size||(x=setImmediate((()=>{x=void 0,function(){if(0===P.size)return;let e=P.shift();try{o.isRequestMessage(e)?function(e){if(q())return;function n(n,r,i){let s={jsonrpc:w,id:e.id};n instanceof o.ResponseError?s.error=n.toJson():s.result=void 0===n?null:n,G(s,r,i),t.write(s)}function r(n,r,i){let o={jsonrpc:w,id:e.id,error:n.toJson()};G(o,r,i),t.write(o)}!function(e){if(k!==d.Off&&S)if(D===h.Text){let t;k===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),S.log(`Received request '${e.method} - (${e.id})'.`,t)}else z("receive-request",e)}(e);let s,a,c=T[e.method];c&&(s=c.type,a=c.handler);let u=Date.now();if(a||_){let c=new l.CancellationTokenSource,p=String(e.id);O[p]=c;try{let l;l=void 0===e.params||void 0!==s&&0===s.numberOfParams?a?a(c.token):_(e.method,c.token):i.array(e.params)&&(void 0===s||s.numberOfParams>1)?a?a(...e.params,c.token):_(e.method,...e.params,c.token):a?a(e.params,c.token):_(e.method,e.params,c.token);let d=l;l?d.then?d.then((t=>{delete O[p],n(t,e.method,u)}),(t=>{delete O[p],t instanceof o.ResponseError?r(t,e.method,u):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):(delete O[p],n(l,e.method,u)):(delete O[p],function(n,r,i){void 0===n&&(n=null);let o={jsonrpc:w,id:e.id,result:n};G(o,r,i),t.write(o)}(l,e.method,u))}catch(t){delete O[p],t instanceof o.ResponseError?n(t,e.method,u):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):o.isNotificationMessage(e)?function(e){if(q())return;let t,r;if(e.method===p.type.method)r=e=>{let t=e.id,n=O[String(t)];n&&n.cancel()};else{let n=C[e.method];n&&(r=n.handler,t=n.type)}if(r||E)try{!function(e){if(k!==d.Off&&S&&e.method!==m.type.method)if(D===h.Text){let t;k===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),S.log(`Received notification '${e.method}'.`,t)}else z("receive-notification",e)}(e),void 0===e.params||void 0!==t&&0===t.numberOfParams?r?r():E(e.method):i.array(e.params)&&(void 0===t||t.numberOfParams>1)?r?r(...e.params):E(e.method,...e.params):r?r(e.params):E(e.method,e.params)}catch(t){t.message?n.error(`Notification handler '${e.method}' failed with message: ${t.message}`):n.error(`Notification handler '${e.method}' failed unexpectedly.`)}else L.fire(e)}(e):o.isResponseMessage(e)?function(e){if(!q())if(null===e.id)e.error?n.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let t=String(e.id),r=I[t];if(function(e,t){if(k!==d.Off&&S)if(D===h.Text){let n;if(k===d.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){let r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";S.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else S.log(`Received response ${e.id} without active response promise.`,n)}else z("receive-response",e)}(e,r),r){delete I[t];try{if(e.error){let t=e.error;r.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");r.resolve(e.result)}}catch(e){e.message?n.error(`Response handler '${r.method}' failed with message: ${e.message}`):n.error(`Response handler '${r.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void n.error("Received empty message.");n.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(i.string(t.id)||i.number(t.id)){let e=String(t.id),n=I[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{V()}}()})))}e.onClose($),e.onError((function(e){R.fire([e,void 0,void 0])})),t.onClose($),t.onError((function(e){R.fire(e)}));let H=e=>{try{if(o.isNotificationMessage(e)&&e.method===p.type.method){let n=M(e.params.id),i=P.get(n);if(o.isRequestMessage(i)){let o=r&&r.cancelUndispatched?r.cancelUndispatched(i,j):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return P.delete(n),o.id=i.id,G(o,e.method,Date.now()),void t.write(o)}}!function(e,t){var n;o.isRequestMessage(t)?e.set(M(t.id),t):o.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++b).toString():"res-"+n.toString(),t):e.set("not-"+(++a).toString(),t)}(P,e)}finally{V()}};function G(e,t,n){if(k!==d.Off&&S)if(D===h.Text){let r;k===d.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),S.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else z("send-response",e)}function z(e,t){if(!S||k===d.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};S.log(n)}function W(){if(U())throw new v(g.Closed,"Connection is closed.");if(q())throw new v(g.Disposed,"Connection is disposed.")}function K(e){return void 0===e?null:e}function Y(e,t){let n,r=e.numberOfParams;switch(r){case 0:n=null;break;case 1:n=K(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(K(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}let J={sendNotification:(e,...n)=>{let r,o;if(W(),i.string(e))switch(r=e,n.length){case 0:o=null;break;case 1:o=n[0];break;default:o=n}else r=e.method,o=Y(e,n);let s={jsonrpc:w,method:r,params:o};!function(e){if(k!==d.Off&&S)if(D===h.Text){let t;k===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),S.log(`Sending notification '${e.method}'.`,t)}else z("send-notification",e)}(s),t.write(s)},onNotification:(e,t)=>{W(),i.func(e)?E=e:t&&(i.string(e)?C[e]={type:void 0,handler:t}:C[e.method]={type:e,handler:t})},sendRequest:(e,...n)=>{let r,a,c;if(W(),function(){if(!B())throw new Error("Call listen() first.")}(),i.string(e))switch(r=e,n.length){case 0:a=null;break;case 1:l.CancellationToken.is(n[0])?(a=null,c=n[0]):a=K(n[0]);break;default:const e=n.length-1;l.CancellationToken.is(n[e])?(c=n[e],a=2===n.length?K(n[0]):n.slice(0,e).map((e=>K(e)))):a=n.map((e=>K(e)))}else{r=e.method,a=Y(e,n);let t=e.numberOfParams;c=l.CancellationToken.is(n[t])?n[t]:void 0}let u=s++,f=new Promise(((e,n)=>{let i={jsonrpc:w,id:u,method:r,params:a},s={method:r,timerStart:Date.now(),resolve:e,reject:n};!function(e){if(k!==d.Off&&S)if(D===h.Text){let t;k===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),S.log(`Sending request '${e.method} - (${e.id})'.`,t)}else z("send-request",e)}(i);try{t.write(i)}catch(e){s.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(I[String(u)]=s)}));return c&&c.onCancellationRequested((()=>{J.sendNotification(p.type,{id:u})})),f},onRequest:(e,t)=>{W(),i.func(e)?_=e:t&&(i.string(e)?T[e]={type:void 0,handler:t}:T[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let r=!1,o=h.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||h.Text)),k=e,D=o,S=k===d.Off?void 0:t,!r||U()||q()||J.sendNotification(f.type,{value:d.toString(e)})},onError:R.event,onClose:N.event,onUnhandledNotification:L.event,onDispose:F.event,dispose:()=>{if(q())return;A=y.Disposed,F.fire(void 0);let n=new Error("Connection got disposed.");Object.keys(I).forEach((e=>{I[e].reject(n)})),I=Object.create(null),O=Object.create(null),P=new u.LinkedMap,i.func(t.dispose)&&t.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{W(),function(){if(B())throw new v(g.AlreadyListening,"Connection is already listening")}(),A=y.Listening,e.listen(H)},inspect:()=>{console.log("inspect")}};return J.onNotification(m.type,(e=>{k!==d.Off&&S&&S.log(e.message,k===d.Verbose?e.verbose:void 0)})),J}t.ConnectionError=v,(t.ConnectionStrategy||(t.ConnectionStrategy={})).is=function(e){let t=e;return t&&i.func(t.cancelUndispatched)},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(y||(y={})),t.createMessageConnection=function(e,n,r,i){r||(r=t.NullLogger);let o=void 0!==(c=e).listen&&void 0===c.read?e:new s.StreamMessageReader(e);var c;let l=function(e){return void 0!==e.write&&void 0===e.end}(n)?n:new a.StreamMessageWriter(n);return b(o,l,r,i)}},8919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8898),i=n(311);let o=8192,s=Buffer.from("\r","ascii")[0],a=Buffer.from("\n","ascii")[0];class c{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(o)}append(e){var t=e;if("string"==typeof e){var n=e,r=Buffer.byteLength(n,this.encoding);(t=Buffer.allocUnsafe(r)).write(n,0,r,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var i=(Math.ceil((this.index+t.length)/o)+1)*o;0===this.index?(this.buffer=Buffer.allocUnsafe(i),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],i)}this.index+=t.length}tryReadHeaders(){let e,t=0;for(;t+3<this.index&&(this.buffer[t]!==s||this.buffer[t+1]!==a||this.buffer[t+2]!==s||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach((t=>{let n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let r=t.substr(0,n),i=t.substr(n+1).trim();e[r]=i}));let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)};class l{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader recevied error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=l;class u extends l{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new c(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",(e=>{this.onData(e)})),this.readable.on("error",(e=>this.fireError(e))),this.readable.on("close",(()=>this.fireClose()))}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(t);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=u,t.IPCMessageReader=class extends l{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){this.process.on("message",e)}},t.SocketMessageReader=class extends u{constructor(e,t="utf-8"){super(e,t)}}},7159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8898),i=n(311);let o="Content-Length: ",s="\r\n";(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)};class a{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer recevied error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=a,t.StreamMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",(e=>this.fireError(e))),this.writable.on("close",(()=>this.fireClose()))}write(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),r=[o,n.toString(),s,s];try{this.writable.write(r.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},t.IPCMessageWriter=class extends a{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,(t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},t.SocketMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",(e=>this.fireError(e))),this.socket.on("close",(()=>this.fireClose()))}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),n=Buffer.byteLength(t,this.encoding),r=[o,n.toString(),s,s];try{this.sending=!0,this.socket.write(r.join(""),"ascii",(n=>{n&&this.handleError(n,e);try{this.socket.write(t,this.encoding,(t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(n){this.handleError(n,e)}}))}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},5043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(311);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.MessageWriteError=1,e.MessageReadError=2}(i=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class s{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=s,t.RequestType0=class extends s{constructor(e){super(e,0),this._=void 0}},t.RequestType=class extends s{constructor(e){super(e,1),this._=void 0}},t.RequestType1=class extends s{constructor(e){super(e,1),this._=void 0}},t.RequestType2=class extends s{constructor(e){super(e,2),this._=void 0}},t.RequestType3=class extends s{constructor(e){super(e,3),this._=void 0}},t.RequestType4=class extends s{constructor(e){super(e,4),this._=void 0}},t.RequestType5=class extends s{constructor(e){super(e,5),this._=void 0}},t.RequestType6=class extends s{constructor(e){super(e,6),this._=void 0}},t.RequestType7=class extends s{constructor(e){super(e,7),this._=void 0}},t.RequestType8=class extends s{constructor(e){super(e,8),this._=void 0}},t.RequestType9=class extends s{constructor(e){super(e,9),this._=void 0}},t.NotificationType=class extends s{constructor(e){super(e,1),this._=void 0}},t.NotificationType0=class extends s{constructor(e){super(e,0),this._=void 0}},t.NotificationType1=class extends s{constructor(e){super(e,1),this._=void 0}},t.NotificationType2=class extends s{constructor(e){super(e,2),this._=void 0}},t.NotificationType3=class extends s{constructor(e){super(e,3),this._=void 0}},t.NotificationType4=class extends s{constructor(e){super(e,4),this._=void 0}},t.NotificationType5=class extends s{constructor(e){super(e,5),this._=void 0}},t.NotificationType6=class extends s{constructor(e){super(e,6),this._=void 0}},t.NotificationType7=class extends s{constructor(e){super(e,7),this._=void 0}},t.NotificationType8=class extends s{constructor(e){super(e,8),this._=void 0}},t.NotificationType9=class extends s{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function(e){let t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},3696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6928),i=n(857),o=n(6982),s=n(9278),a=n(8919),c=n(7159);t.generateRandomPipeName=function(){const e=o.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:r.join(i.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n,r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{let l=s.createServer((e=>{l.close(),n([new a.SocketMessageReader(e,t),new c.SocketMessageWriter(e,t)])}));l.on("error",o),l.listen(e,(()=>{l.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const n=s.createConnection(e);return[new a.SocketMessageReader(n,t),new c.SocketMessageWriter(n,t)]}},5851:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9278),i=n(8919),o=n(7159);t.createClientSocketTransport=function(e,t="utf-8"){let n,s=new Promise(((e,t)=>{n=e}));return new Promise(((a,c)=>{let l=r.createServer((e=>{l.close(),n([new i.SocketMessageReader(e,t),new o.SocketMessageWriter(e,t)])}));l.on("error",c),l.listen(e,"127.0.0.1",(()=>{l.removeListener("error",c),a({onConnected:()=>s})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const n=r.createConnection(e,"127.0.0.1");return[new i.SocketMessageReader(n,t),new o.SocketMessageWriter(n,t)]}},7116:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4980),i=n(2037),o=n(8924),s=n(9519),a=n(5805),c=n(6669),l=n(6362);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(2037));class u{error(e){console.error(e)}warn(e){console.warn(e)}info(e){console.info(e)}log(e){console.log(e)}}var p,d,h,f,m;!function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(p=t.ErrorAction||(t.ErrorAction={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(d=t.CloseAction||(t.CloseAction={}));class g{constructor(e){this.name=e,this.restarts=[]}error(e,t,n){return n&&n<=3?p.Continue:p.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<5?d.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?(r.window.showErrorMessage(`The ${this.name} server crashed 5 times in the last 3 minutes. The server will not be restarted.`),d.DoNotRestart):(this.restarts.shift(),d.Restart)}}!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(h=t.RevealOutputChannelOn||(t.RevealOutputChannelOn={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(f=t.State||(t.State={})),function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.StartFailed=2]="StartFailed",e[e.Running=3]="Running",e[e.Stopping=4]="Stopping",e[e.Stopped=5]="Stopped"}(m||(m={}));const y=[i.SymbolKind.File,i.SymbolKind.Module,i.SymbolKind.Namespace,i.SymbolKind.Package,i.SymbolKind.Class,i.SymbolKind.Method,i.SymbolKind.Property,i.SymbolKind.Field,i.SymbolKind.Constructor,i.SymbolKind.Enum,i.SymbolKind.Interface,i.SymbolKind.Function,i.SymbolKind.Variable,i.SymbolKind.Constant,i.SymbolKind.String,i.SymbolKind.Number,i.SymbolKind.Boolean,i.SymbolKind.Array,i.SymbolKind.Object,i.SymbolKind.Key,i.SymbolKind.Null,i.SymbolKind.EnumMember,i.SymbolKind.Struct,i.SymbolKind.Event,i.SymbolKind.Operator,i.SymbolKind.TypeParameter],v=[i.CompletionItemKind.Text,i.CompletionItemKind.Method,i.CompletionItemKind.Function,i.CompletionItemKind.Constructor,i.CompletionItemKind.Field,i.CompletionItemKind.Variable,i.CompletionItemKind.Class,i.CompletionItemKind.Interface,i.CompletionItemKind.Module,i.CompletionItemKind.Property,i.CompletionItemKind.Unit,i.CompletionItemKind.Value,i.CompletionItemKind.Enum,i.CompletionItemKind.Keyword,i.CompletionItemKind.Snippet,i.CompletionItemKind.Color,i.CompletionItemKind.File,i.CompletionItemKind.Reference,i.CompletionItemKind.Folder,i.CompletionItemKind.EnumMember,i.CompletionItemKind.Constant,i.CompletionItemKind.Struct,i.CompletionItemKind.Event,i.CompletionItemKind.Operator,i.CompletionItemKind.TypeParameter];function b(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var w;!function(e){e.is=function(e){let t=e;return t&&a.func(t.register)&&a.func(t.unregister)&&a.func(t.dispose)&&void 0!==t.messages}}(w||(w={}));class _{constructor(e,t,n,r,i,o){this._client=e,this._event=t,this._type=n,this._middleware=r,this._createParams=i,this._selectorFilter=o,this._selectors=new Map}static textDocumentFilter(e,t){for(const n of e)if(r.languages.match(n,t))return!0;return!1}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(t.id,t.registerOptions.documentSelector))}callback(e){this._selectorFilter&&!this._selectorFilter(this._selectors.values(),e)||(this._middleware?this._middleware(e,(e=>this._client.sendNotification(this._type,this._createParams(e)))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class E extends _{constructor(e,t){super(e,r.workspace.onDidOpenTextDocument,i.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,(t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t)),_.textDocumentFilter),this._syncedDocuments=t}get messages(){return i.DidOpenTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register(this.messages,{id:l.generateUuid(),registerOptions:{documentSelector:t}})}register(e,t){if(super.register(e,t),!t.registerOptions.documentSelector)return;let n=t.registerOptions.documentSelector;r.workspace.textDocuments.forEach((e=>{let t=e.uri.toString();if(!this._syncedDocuments.has(t)&&r.languages.match(n,e)){let n=this._client.clientOptions.middleware,r=e=>{this._client.sendNotification(this._type,this._createParams(e))};n.didOpen?n.didOpen(e,r):r(e),this._syncedDocuments.set(t,e)}}))}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}}class x extends _{constructor(e,t){super(e,r.workspace.onDidCloseTextDocument,i.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,(t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t)),_.textDocumentFilter),this._syncedDocuments=t}get messages(){return i.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register(this.messages,{id:l.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach((e=>{if(r.languages.match(t,e)&&!this._selectorFilter(n,e)){let t=this._client.clientOptions.middleware,n=e=>{this._client.sendNotification(this._type,this._createParams(e))};this._syncedDocuments.delete(e.uri.toString()),t.didClose?t.didClose(e,n):n(e)}}))}}class S{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get messages(){return i.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==i.TextDocumentSyncKind.None&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(t.id,{documentSelector:t.registerOptions.documentSelector,syncKind:t.registerOptions.syncKind}))}callback(e){if(0!==e.contentChanges.length)for(const t of this._changeData.values())if(r.languages.match(t.documentSelector,e.document)){let n=this._client.clientOptions.middleware;if(t.syncKind===i.TextDocumentSyncKind.Incremental){let t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);n.didChange?n.didChange(e,(()=>this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t))):this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t)}else if(t.syncKind===i.TextDocumentSyncKind.Full){let t=e=>{this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger((()=>{this._client.sendNotification(i.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))}))):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new c.Delayer(200)},this._changeDelayer.delayer.trigger((()=>{this._client.sendNotification(i.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))}),-1))};n.didChange?n.didChange(e,t):t(e)}}}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}}class T extends _{constructor(e){super(e,r.workspace.onWillSaveTextDocument,i.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,(t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t)),((e,t)=>_.textDocumentFilter(e,t.document)))}get messages(){return i.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register(this.messages,{id:l.generateUuid(),registerOptions:{documentSelector:t}})}}class C{constructor(e){this._client=e,this._selectors=new Map}get messages(){return i.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register(this.messages,{id:l.generateUuid(),registerOptions:{documentSelector:t}})}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(t.id,t.registerOptions.documentSelector))}callback(e){if(_.textDocumentFilter(this._selectors.values(),e.document)){let t=this._client.clientOptions.middleware,n=e=>this._client.sendRequest(i.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then((e=>{let t=this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t}));e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class P extends _{constructor(e){super(e,r.workspace.onDidSaveTextDocument,i.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,(t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText)),_.textDocumentFilter)}get messages(){return i.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){b(b(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.save&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{includeText:!!n.save.includeText})})}register(e,t){this._includeText=!!t.registerOptions.includeText,super.register(e,t)}}class I{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}get messages(){return i.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){b(b(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,t){}register(e,t){if(!Array.isArray(t.registerOptions.watchers))return;let n=[];for(let e of t.registerOptions.watchers){if(!a.string(e.globPattern))continue;let t=!0,o=!0,s=!0;void 0!==e.kind&&null!==e.kind&&(t=0!=(e.kind&i.WatchKind.Create),o=0!=(e.kind&i.WatchKind.Change),s=0!=(e.kind&i.WatchKind.Delete));let c=r.workspace.createFileSystemWatcher(e.globPattern,!t,!o,!s);this.hookListeners(c,t,o,s),n.push(c)}this._watchers.set(t.id,n)}registerRaw(e,t){let n=[];for(let e of t)this.hookListeners(e,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,r,o){t&&e.onDidCreate((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Created})),null,o),n&&e.onDidChange((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Changed})),null,o),r&&e.onDidDelete((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Deleted})),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let e of t)e.dispose()}dispose(){this._watchers.forEach((e=>{for(let t of e)t.dispose()})),this._watchers.clear()}}class O{constructor(e,t){this._client=e,this._message=t,this._providers=new Map}get messages(){return this._message}register(e,t){if(e.method!==this.messages.method)throw new Error(`Register called on wrong feature. Requested ${e.method} but reached feature ${this.messages.method}`);if(!t.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(t.registerOptions);n&&this._providers.set(t.id,n)}unregister(e){let t=this._providers.get(e);t&&t.dispose()}dispose(){this._providers.forEach((e=>{e.dispose()})),this._providers.clear()}}t.TextDocumentFeature=O;class k{constructor(e,t){this._client=e,this._message=t,this._providers=new Map}get messages(){return this._message}register(e,t){if(e.method!==this.messages.method)throw new Error(`Register called on wron feature. Requested ${e.method} but reached feature ${this.messages.method}`);let n=this.registerLanguageProvider(t.registerOptions);n&&this._providers.set(t.id,n)}unregister(e){let t=this._providers.get(e);t&&t.dispose()}dispose(){this._providers.forEach((e=>{e.dispose()})),this._providers.clear()}}class D extends O{constructor(e){super(e,i.CompletionRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0},t.completionItemKind={valueSet:v}}initialize(e,t){e.completionProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.completionProvider)})}registerLanguageProvider(e){let t=e.triggerCharacters||[],n=this._client,o=(e,t,r,o)=>n.sendRequest(i.CompletionRequest.type,n.code2ProtocolConverter.asCompletionParams(e,t,r),o).then(n.protocol2CodeConverter.asCompletionResult,(e=>(n.logFailedRequest(i.CompletionRequest.type,e),Promise.resolve([])))),s=(e,t)=>n.sendRequest(i.CompletionResolveRequest.type,n.code2ProtocolConverter.asCompletionItem(e),t).then(n.protocol2CodeConverter.asCompletionItem,(t=>(n.logFailedRequest(i.CompletionResolveRequest.type,t),Promise.resolve(e)))),a=this._client.clientOptions.middleware;return r.languages.registerCompletionItemProvider(e.documentSelector,{provideCompletionItems:(e,t,n,r)=>a.provideCompletionItem?a.provideCompletionItem(e,t,r,n,o):o(e,t,r,n),resolveCompletionItem:e.resolveProvider?(e,t)=>a.resolveCompletionItem?a.resolveCompletionItem(e,t,s):s(e,t):void 0},...t)}}class A extends O{constructor(e){super(e,i.HoverRequest.type)}fillClientCapabilities(e){const t=b(b(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[i.MarkupKind.Markdown,i.MarkupKind.PlainText]}initialize(e,t){e.hoverProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.HoverRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asHover,(e=>(t.logFailedRequest(i.HoverRequest.type,e),Promise.resolve(null)))),o=t.clientOptions.middleware;return r.languages.registerHoverProvider(e.documentSelector,{provideHover:(e,t,r)=>o.provideHover?o.provideHover(e,t,r,n):n(e,t,r)})}}class R extends O{constructor(e){super(e,i.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0}}initialize(e,t){e.signatureHelpProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.signatureHelpProvider)})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.SignatureHelpRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asSignatureHelp,(e=>(t.logFailedRequest(i.SignatureHelpRequest.type,e),Promise.resolve(null)))),o=t.clientOptions.middleware,s=e.triggerCharacters||[];return r.languages.registerSignatureHelpProvider(e.documentSelector,{provideSignatureHelp:(e,t,r)=>o.provideSignatureHelp?o.provideSignatureHelp(e,t,r,n):n(e,t,r)},...s)}}class N extends O{constructor(e){super(e,i.DefinitionRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){e.definitionProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.DefinitionRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDefinitionResult,(e=>(t.logFailedRequest(i.DefinitionRequest.type,e),Promise.resolve(null)))),o=t.clientOptions.middleware;return r.languages.registerDefinitionProvider(e.documentSelector,{provideDefinition:(e,t,r)=>o.provideDefinition?o.provideDefinition(e,t,r,n):n(e,t,r)})}}class L extends O{constructor(e){super(e,i.ReferencesRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){e.referencesProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,o)=>t.sendRequest(i.ReferencesRequest.type,t.code2ProtocolConverter.asReferenceParams(e,n,r),o).then(t.protocol2CodeConverter.asReferences,(e=>(t.logFailedRequest(i.ReferencesRequest.type,e),Promise.resolve([])))),o=t.clientOptions.middleware;return r.languages.registerReferenceProvider(e.documentSelector,{provideReferences:(e,t,r,i)=>o.provideReferences?o.provideReferences(e,t,r,i,n):n(e,t,r,i)})}}class F extends O{constructor(e){super(e,i.DocumentHighlightRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){e.documentHighlightProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.DocumentHighlightRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDocumentHighlights,(e=>(t.logFailedRequest(i.DocumentHighlightRequest.type,e),Promise.resolve([])))),o=t.clientOptions.middleware;return r.languages.registerDocumentHighlightProvider(e.documentSelector,{provideDocumentHighlights:(e,t,r)=>o.provideDocumentHighlights?o.provideDocumentHighlights(e,t,r,n):n(e,t,r)})}}class M extends O{constructor(e){super(e,i.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:y},t.hierarchicalDocumentSymbolSupport=!0}initialize(e,t){e.documentSymbolProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(i.DocumentSymbolRequest.type,t.code2ProtocolConverter.asDocumentSymbolParams(e),n).then((e=>{if(null!==e){if(0===e.length)return[];{let n=e[0];return i.DocumentSymbol.is(n)?t.protocol2CodeConverter.asDocumentSymbols(e):t.protocol2CodeConverter.asSymbolInformations(e)}}}),(e=>(t.logFailedRequest(i.DocumentSymbolRequest.type,e),Promise.resolve([])))),o=t.clientOptions.middleware;return r.languages.registerDocumentSymbolProvider(e.documentSelector,{provideDocumentSymbols:(e,t)=>o.provideDocumentSymbols?o.provideDocumentSymbols(e,t,n):n(e,t)})}}class j extends k{constructor(e){super(e,i.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=b(b(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:y}}initialize(e){e.workspaceSymbolProvider&&this.register(this.messages,{id:l.generateUuid(),registerOptions:void 0})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(i.WorkspaceSymbolRequest.type,{query:e},n).then(t.protocol2CodeConverter.asSymbolInformations,(e=>(t.logFailedRequest(i.WorkspaceSymbolRequest.type,e),Promise.resolve([])))),o=t.clientOptions.middleware;return r.languages.registerWorkspaceSymbolProvider({provideWorkspaceSymbols:(e,t)=>o.provideWorkspaceSymbols?o.provideWorkspaceSymbols(e,t,n):n(e,t)})}}class B extends O{constructor(e){super(e,i.CodeActionRequest.type)}fillClientCapabilities(e){const t=b(b(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.codeActionLiteralSupport={codeActionKind:{valueSet:["",i.CodeActionKind.QuickFix,i.CodeActionKind.Refactor,i.CodeActionKind.RefactorExtract,i.CodeActionKind.RefactorInline,i.CodeActionKind.RefactorRewrite,i.CodeActionKind.Source,i.CodeActionKind.SourceOrganizeImports]}}}initialize(e,t){if(!e.codeActionProvider||!t)return;let n;a.boolean(e.codeActionProvider)||(n=e.codeActionProvider.codeActionKinds),this.register(this.messages,{id:l.generateUuid(),registerOptions:{documentSelector:t,codeActionKinds:n}})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,o)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),range:t.code2ProtocolConverter.asRange(n),context:t.code2ProtocolConverter.asCodeActionContext(r)};return t.sendRequest(i.CodeActionRequest.type,s,o).then((e=>{if(null===e)return;let n=[];for(let r of e)i.Command.is(r)?n.push(t.protocol2CodeConverter.asCommand(r)):n.push(t.protocol2CodeConverter.asCodeAction(r));return n}),(e=>(t.logFailedRequest(i.CodeActionRequest.type,e),Promise.resolve([]))))},o=t.clientOptions.middleware;return r.languages.registerCodeActionsProvider(e.documentSelector,{provideCodeActions:(e,t,r,i)=>o.provideCodeActions?o.provideCodeActions(e,t,r,i,n):n(e,t,r,i)},e.codeActionKinds?{providedCodeActionKinds:t.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0)}}class U extends O{constructor(e){super(e,i.CodeLensRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"codeLens").dynamicRegistration=!0}initialize(e,t){e.codeLensProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.codeLensProvider)})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(i.CodeLensRequest.type,t.code2ProtocolConverter.asCodeLensParams(e),n).then(t.protocol2CodeConverter.asCodeLenses,(e=>(t.logFailedRequest(i.CodeLensRequest.type,e),Promise.resolve([])))),o=(e,n)=>t.sendRequest(i.CodeLensResolveRequest.type,t.code2ProtocolConverter.asCodeLens(e),n).then(t.protocol2CodeConverter.asCodeLens,(n=>(t.logFailedRequest(i.CodeLensResolveRequest.type,n),e))),s=t.clientOptions.middleware;return r.languages.registerCodeLensProvider(e.documentSelector,{provideCodeLenses:(e,t)=>s.provideCodeLenses?s.provideCodeLenses(e,t,n):n(e,t),resolveCodeLens:e.resolveProvider?(e,t)=>s.resolveCodeLens?s.resolveCodeLens(e,t,o):o(e,t):void 0})}}class q extends O{constructor(e){super(e,i.DocumentFormattingRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){e.documentFormattingProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>{let o={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),options:t.code2ProtocolConverter.asFormattingOptions(n)};return t.sendRequest(i.DocumentFormattingRequest.type,o,r).then(t.protocol2CodeConverter.asTextEdits,(e=>(t.logFailedRequest(i.DocumentFormattingRequest.type,e),Promise.resolve([]))))},o=t.clientOptions.middleware;return r.languages.registerDocumentFormattingEditProvider(e.documentSelector,{provideDocumentFormattingEdits:(e,t,r)=>o.provideDocumentFormattingEdits?o.provideDocumentFormattingEdits(e,t,r,n):n(e,t,r)})}}class $ extends O{constructor(e){super(e,i.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){e.documentRangeFormattingProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,o)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),range:t.code2ProtocolConverter.asRange(n),options:t.code2ProtocolConverter.asFormattingOptions(r)};return t.sendRequest(i.DocumentRangeFormattingRequest.type,s,o).then(t.protocol2CodeConverter.asTextEdits,(e=>(t.logFailedRequest(i.DocumentRangeFormattingRequest.type,e),Promise.resolve([]))))},o=t.clientOptions.middleware;return r.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,{provideDocumentRangeFormattingEdits:(e,t,r,i)=>o.provideDocumentRangeFormattingEdits?o.provideDocumentRangeFormattingEdits(e,t,r,i,n):n(e,t,r,i)})}}class V extends O{constructor(e){super(e,i.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){e.documentOnTypeFormattingProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.documentOnTypeFormattingProvider)})}registerLanguageProvider(e){let t=this._client,n=e.moreTriggerCharacter||[],o=(e,n,r,o,s)=>{let a={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n),ch:r,options:t.code2ProtocolConverter.asFormattingOptions(o)};return t.sendRequest(i.DocumentOnTypeFormattingRequest.type,a,s).then(t.protocol2CodeConverter.asTextEdits,(e=>(t.logFailedRequest(i.DocumentOnTypeFormattingRequest.type,e),Promise.resolve([]))))},s=t.clientOptions.middleware;return r.languages.registerOnTypeFormattingEditProvider(e.documentSelector,{provideOnTypeFormattingEdits:(e,t,n,r,i)=>s.provideOnTypeFormattingEdits?s.provideOnTypeFormattingEdits(e,t,n,r,i,o):o(e,t,n,r,i)},e.firstTriggerCharacter,...n)}}class H extends O{constructor(e){super(e,i.RenameRequest.type)}fillClientCapabilities(e){let t=b(b(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0}initialize(e,t){if(!e.renameProvider||!t)return;let n=Object.assign({},{documentSelector:t});a.boolean(e.renameProvider)?n.prepareProvider=!1:n.prepareProvider=e.renameProvider.prepareProvider,this.register(this.messages,{id:l.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,o)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n),newName:r};return t.sendRequest(i.RenameRequest.type,s,o).then(t.protocol2CodeConverter.asWorkspaceEdit,(e=>(t.logFailedRequest(i.RenameRequest.type,e),Promise.reject(new Error(e.message)))))},o=(e,n,r)=>{let o={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n)};return t.sendRequest(i.PrepareRenameRequest.type,o,r).then((e=>i.Range.is(e)?t.protocol2CodeConverter.asRange(e):e&&e.range?{range:t.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:null),(e=>(t.logFailedRequest(i.PrepareRenameRequest.type,e),Promise.reject(new Error(e.message)))))},s=t.clientOptions.middleware;return r.languages.registerRenameProvider(e.documentSelector,{provideRenameEdits:(e,t,r,i)=>s.provideRenameEdits?s.provideRenameEdits(e,t,r,i,n):n(e,t,r,i),prepareRename:e.prepareProvider?(e,t,n)=>s.prepareRename?s.prepareRename(e,t,n,o):o(e,t,n):void 0})}}class G extends O{constructor(e){super(e,i.DocumentLinkRequest.type)}fillClientCapabilities(e){b(b(e,"textDocument"),"documentLink").dynamicRegistration=!0}initialize(e,t){e.documentLinkProvider&&t&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e.documentLinkProvider)})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(i.DocumentLinkRequest.type,t.code2ProtocolConverter.asDocumentLinkParams(e),n).then(t.protocol2CodeConverter.asDocumentLinks,(e=>{t.logFailedRequest(i.DocumentLinkRequest.type,e),Promise.resolve(new Error(e.message))})),o=(e,n)=>t.sendRequest(i.DocumentLinkResolveRequest.type,t.code2ProtocolConverter.asDocumentLink(e),n).then(t.protocol2CodeConverter.asDocumentLink,(e=>{t.logFailedRequest(i.DocumentLinkResolveRequest.type,e),Promise.resolve(new Error(e.message))})),s=t.clientOptions.middleware;return r.languages.registerDocumentLinkProvider(e.documentSelector,{provideDocumentLinks:(e,t)=>s.provideDocumentLinks?s.provideDocumentLinks(e,t,n):n(e,t),resolveDocumentLink:e.resolveProvider?(e,t)=>s.resolveDocumentLink?s.resolveDocumentLink(e,t,o):o(e,t):void 0})}}class z{constructor(e){this._client=e,this._listeners=new Map}get messages(){return i.DidChangeConfigurationNotification.type}fillClientCapabilities(e){b(b(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;void 0!==e&&this.register(this.messages,{id:l.generateUuid(),registerOptions:{section:e}})}register(e,t){let n=r.workspace.onDidChangeConfiguration((e=>{this.onDidChangeConfiguration(t.registerOptions.section,e)}));this._listeners.set(t.id,n),void 0!==t.registerOptions.section&&this.onDidChangeConfiguration(t.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(n=a.string(e)?[e]:e,void 0!==n&&void 0!==t&&!n.some((e=>t.affectsConfiguration(e))))return;let r=e=>{void 0!==e?this._client.sendNotification(i.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)}):this._client.sendNotification(i.DidChangeConfigurationNotification.type,{settings:null})},o=this.getMiddleware();o?o(n,r):r(n)}extractSettingsInformation(e){function t(e,t){let n=e;for(let e=0;e<t.length-1;e++){let r=n[t[e]];r||(r=Object.create(null),n[t[e]]=r),n=r}return n}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(c=a>=0?r.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):r.workspace.getConfiguration(s,n),c){let n=e[o].split(".");t(i,n)[n[n.length-1]]=c}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;return e.workspace&&e.workspace.didChangeConfiguration?e.workspace.didChangeConfiguration:void 0}}class W{constructor(e){this._client=e,this._commands=new Map}get messages(){return i.ExecuteCommandRequest.type}fillClientCapabilities(e){b(b(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register(this.messages,{id:l.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e,t){let n=this._client;if(t.registerOptions.commands){let e=[];for(const o of t.registerOptions.commands)e.push(r.commands.registerCommand(o,((...e)=>{let t={command:o,arguments:e};return n.sendRequest(i.ExecuteCommandRequest.type,t).then(void 0,(e=>{n.logFailedRequest(i.ExecuteCommandRequest.type,e)}))})));this._commands.set(t.id,e)}}unregister(e){let t=this._commands.get(e);t&&t.forEach((e=>e.dispose()))}dispose(){this._commands.forEach((e=>{e.forEach((e=>e.dispose()))})),this._commands.clear()}}(t.MessageTransports||(t.MessageTransports={})).is=function(e){return e&&i.MessageReader.is(e.reader)&&i.MessageWriter.is(e.writer)};class K{constructor(e,t){this._resolve=e,this._reject=t,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}}t.BaseLanguageClient=class{constructor(e,t,n){this._traceFormat=i.TraceFormat.Text,this._features=[],this._method2Message=new Map,this._dynamicFeatures=new Map,this._id=e,this._name=t,n=n||{},this._clientOptions={documentSelector:n.documentSelector||[],synchronize:n.synchronize||{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName||this._name,revealOutputChannelOn:n.revealOutputChannelOn||h.Error,stdioEncoding:n.stdioEncoding||"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,errorHandler:n.errorHandler||new g(this._name),middleware:n.middleware||{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this.state=m.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new c.Delayer(250),this._onReady=new Promise(((e,t)=>{this._onReadyCallbacks=new K(e,t)})),this._onStop=void 0,this._telemetryEmitter=new i.Emitter,this._stateChangeEmitter=new i.Emitter,this._tracer={log:(e,t)=>{a.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=o.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=s.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){return this.state===m.Running?f.Running:this.state===m.Starting?f.Starting:f.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...t)}catch(t){throw this.error(`Sending request ${a.string(e)?e:e.method} failed.`,t),t}}onRequest(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{this._resolvedConnection.onRequest(e,t)}catch(t){throw this.error(`Registering request handler ${a.string(e)?e:e.method} failed.`,t),t}}sendNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,t)}catch(t){throw this.error(`Sending notification ${a.string(e)?e:e.method} failed.`,t),t}}onNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{this._resolvedConnection.onNotification(e,t)}catch(t){throw this.error(`Registering notification handler ${a.string(e)?e:e.method} failed.`,t),t}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=r.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(){return new g(this._name)}set trace(e){this._trace=e,this.onReady().then((()=>{this.resolveConnection().then((e=>{e.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}))}),(()=>{}))}data2String(e){if(e instanceof i.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?a.string(e.stack)?e.stack:e.message:a.string(e)?e:e.toString()}info(e,t){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=h.Info&&this.outputChannel.show(!0)}warn(e,t){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=h.Warn&&this.outputChannel.show(!0)}error(e,t){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=h.Error&&this.outputChannel.show(!0)}logTrace(e,t){this.outputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.outputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.outputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.outputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===m.Initial||this.state===m.Stopping||this.state===m.Stopped}needsStop(){return this.state===m.Starting||this.state===m.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===m.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise(((e,t)=>{this._onReadyCallbacks=new K(e,t)}))),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?r.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):r.languages.createDiagnosticCollection()),this.state=m.Starting,this.resolveConnection().then((e=>(e.onLogMessage((e=>{switch(e.type){case i.MessageType.Error:this.error(e.message);break;case i.MessageType.Warning:this.warn(e.message);break;case i.MessageType.Info:this.info(e.message);break;default:this.outputChannel.appendLine(e.message)}})),e.onShowMessage((e=>{switch(e.type){case i.MessageType.Error:r.window.showErrorMessage(e.message);break;case i.MessageType.Warning:r.window.showWarningMessage(e.message);break;case i.MessageType.Info:default:r.window.showInformationMessage(e.message)}})),e.onRequest(i.ShowMessageRequest.type,(e=>{let t;switch(e.type){case i.MessageType.Error:t=r.window.showErrorMessage;break;case i.MessageType.Warning:t=r.window.showWarningMessage;break;case i.MessageType.Info:default:t=r.window.showInformationMessage}let n=e.actions||[];return t(e.message,...n)})),e.onTelemetry((e=>{this._telemetryEmitter.fire(e)})),e.listen(),this.initialize(e)))).then(void 0,(e=>{this.state=m.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),r.window.showErrorMessage(`Couldn't start client ${this._name}`)})),new r.Disposable((()=>{this.needsStop()&&this.stop()}))}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,n=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),o={processId:process.pid,rootPath:n||null,rootUri:n?this._c2p.asUri(r.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:a.func(t)?t():t,trace:i.Trace.toString(this._trace),workspaceFolders:null};return this.fillInitializeParams(o),e.initialize(o).then((t=>{let n;return this._resolvedConnection=e,this._initializeResult=t,this.state=m.Running,a.number(t.capabilities.textDocumentSync)?n=t.capabilities.textDocumentSync===i.TextDocumentSyncKind.None?{openClose:!1,change:i.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:t.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==t.capabilities.textDocumentSync&&null!==t.capabilities.textDocumentSync&&(n=t.capabilities.textDocumentSync),this._capabilities=Object.assign({},t.capabilities,{resolvedTextDocumentSync:n}),e.onDiagnostics((e=>this.handleDiagnostics(e))),e.onRequest(i.RegistrationRequest.type,(e=>this.handleRegistrationRequest(e))),e.onRequest("client/registerFeature",(e=>this.handleRegistrationRequest(e))),e.onRequest(i.UnregistrationRequest.type,(e=>this.handleUnregistrationRequest(e))),e.onRequest("client/unregisterFeature",(e=>this.handleUnregistrationRequest(e))),e.onRequest(i.ApplyWorkspaceEditRequest.type,(e=>this.handleApplyWorkspaceEdit(e))),e.sendNotification(i.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),t})).then(void 0,(t=>{this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t)):t instanceof i.ResponseError&&t.data&&t.data.retry?r.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then((n=>{n&&"retry"===n.id?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t))})):(t&&t.message&&r.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop(),this._onReadyCallbacks.reject(t))}))}_clientGetRootPath(){let e=r.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===m.Stopping&&this._onStop?this._onStop:(this.state=m.Stopping,this.cleanUp(),this._onStop=this.resolveConnection().then((e=>e.shutdown().then((()=>{e.exit(),e.dispose(),this.state=m.Stopped,this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))))):(this.state=m.Stopped,Promise.resolve())}cleanUp(e=!0,t=!0){this._listeners&&(this._listeners.forEach((e=>e.dispose())),this._listeners=void 0),this._providers&&(this._providers.forEach((e=>e.dispose())),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let e of this._dynamicFeatures.values())e.dispose();e&&this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0),t&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}notifyFileEvent(e){this._fileEvents.push(e),this._fileEventDelayer.trigger((()=>{this.onReady().then((()=>{this.resolveConnection().then((e=>{this.isConnectionActive()&&e.didChangeWatchedFiles({changes:this._fileEvents}),this._fileEvents=[]}))}),(e=>{this.error("Notify file events failed.",e)}))}))}forceDocumentSync(){this._dynamicFeatures.get(i.DidChangeTextDocumentNotification.type.method).forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=this._p2c.asUri(e.uri),n=this._p2c.asDiagnostics(e.diagnostics),r=this.clientOptions.middleware.handleDiagnostics;r?r(t,n,((e,t)=>this.setDiagnostics(e,t))):this.setDiagnostics(t,n)}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}createConnection(){let e=(e,t,n)=>{this.handleConnectionError(e,t,n)},t=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then((n=>function(e,t,n,r){let o=new u,s=i.createProtocolConnection(e,t,o);return s.onError((e=>{n(e[0],e[1],e[2])})),s.onClose(r),{listen:()=>s.listen(),sendRequest:(e,...t)=>s.sendRequest(a.string(e)?e:e.method,...t),onRequest:(e,t)=>s.onRequest(a.string(e)?e:e.method,t),sendNotification:(e,t)=>s.sendNotification(a.string(e)?e:e.method,t),onNotification:(e,t)=>s.onNotification(a.string(e)?e:e.method,t),trace:(e,t,n)=>{const r={sendNotification:!1,traceFormat:i.TraceFormat.Text};void 0===n?s.trace(e,t,r):(a.boolean(n),s.trace(e,t,n))},initialize:e=>s.sendRequest(i.InitializeRequest.type,e),shutdown:()=>s.sendRequest(i.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(i.ExitNotification.type),onLogMessage:e=>s.onNotification(i.LogMessageNotification.type,e),onShowMessage:e=>s.onNotification(i.ShowMessageNotification.type,e),onTelemetry:e=>s.onNotification(i.TelemetryEventNotification.type,e),didChangeConfiguration:e=>s.sendNotification(i.DidChangeConfigurationNotification.type,e),didChangeWatchedFiles:e=>s.sendNotification(i.DidChangeWatchedFilesNotification.type,e),didOpenTextDocument:e=>s.sendNotification(i.DidOpenTextDocumentNotification.type,e),didChangeTextDocument:e=>s.sendNotification(i.DidChangeTextDocumentNotification.type,e),didCloseTextDocument:e=>s.sendNotification(i.DidCloseTextDocumentNotification.type,e),didSaveTextDocument:e=>s.sendNotification(i.DidSaveTextDocumentNotification.type,e),onDiagnostics:e=>s.onNotification(i.PublishDiagnosticsNotification.type,e),dispose:()=>s.dispose()}}(n.reader,n.writer,e,t)))}handleConnectionClosed(){if(this.state===m.Stopping||this.state===m.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch(e){}let e=d.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch(e){}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===d.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state=m.Stopped,this.cleanUp(!1,!0)):e===d.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=m.Initial,this.start())}handleConnectionError(e,t,n){this._clientOptions.errorHandler.error(e,t,n)===p.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){r.workspace.onDidChangeConfiguration((()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=r.workspace.getConfiguration(this._id),o=i.Trace.Off,s=i.TraceFormat.Text;if(n){const e=n.get("trace.server","off");"string"==typeof e?o=i.Trace.fromString(e):(o=i.Trace.fromString(n.get("trace.server.verbosity","off")),s=i.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=o,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat})}hookFileEvents(e){let t,n=this._clientOptions.synchronize.fileEvents;n&&(t=a.array(n)?n:[n],t&&this._dynamicFeatures.get(i.DidChangeWatchedFilesNotification.type.method).registerRaw(l.generateUuid(),t))}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),w.is(e)){let t=e.messages;if(Array.isArray(t))for(let n of t)this._method2Message.set(n.method,n),this._dynamicFeatures.set(n.method,e);else this._method2Message.set(t.method,t),this._dynamicFeatures.set(t.method,e)}}registerBuiltinFeatures(){this.registerFeature(new z(this)),this.registerFeature(new E(this,this._syncedDocuments)),this.registerFeature(new S(this)),this.registerFeature(new T(this)),this.registerFeature(new C(this)),this.registerFeature(new P(this)),this.registerFeature(new x(this,this._syncedDocuments)),this.registerFeature(new I(this,(e=>this.notifyFileEvent(e)))),this.registerFeature(new D(this)),this.registerFeature(new A(this)),this.registerFeature(new R(this)),this.registerFeature(new N(this)),this.registerFeature(new L(this)),this.registerFeature(new F(this)),this.registerFeature(new M(this)),this.registerFeature(new j(this)),this.registerFeature(new B(this)),this.registerFeature(new U(this)),this.registerFeature(new q(this)),this.registerFeature(new $(this)),this.registerFeature(new V(this)),this.registerFeature(new H(this)),this.registerFeature(new G(this)),this.registerFeature(new W(this))}fillInitializeParams(e){for(let t of this._features)a.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};b(e,"workspace").applyEdit=!0;let t=b(b(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[i.ResourceOperationKind.Create,i.ResourceOperationKind.Rename,i.ResourceOperationKind.Delete],t.failureHandling=i.FailureHandlingKind.TextOnlyTransactional,b(b(e,"textDocument"),"publishDiagnostics").relatedInformation=!0;for(let t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let e of this._features)e.initialize(this._capabilities,t)}handleRegistrationRequest(e){return new Promise(((t,n)=>{for(let t of e.registrations){const e=this._dynamicFeatures.get(t.method);if(!e)return void n(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const r=t.registerOptions||{};r.documentSelector=r.documentSelector||this._clientOptions.documentSelector;const i={id:t.id,registerOptions:r};e.register(this._method2Message.get(t.method),i)}t()}))}handleUnregistrationRequest(e){return new Promise(((t,n)=>{for(let t of e.unregisterations){const e=this._dynamicFeatures.get(t.method);if(!e)return void n(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}t()}))}handleApplyWorkspaceEdit(e){let t=e.edit,n=new Map;r.workspace.textDocuments.forEach((e=>n.set(e.uri.toString(),e)));let o=!1;if(t.documentChanges)for(const e of t.documentChanges)if(i.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){let t=n.get(e.textDocument.uri);if(t&&t.version!==e.textDocument.version){o=!0;break}}return o?Promise.resolve({applied:!1}):r.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then((e=>({applied:e})))}logFailedRequest(e,t){t instanceof i.ResponseError&&t.code===i.ErrorCodes.RequestCancelled||this.error(`Request ${e.method} failed.`,t)}}},8924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4980),i=n(2037),o=n(5805),s=n(2642),a=n(3938),c=n(7778);t.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function l(e){return{uri:t(e.uri)}}function u(e){return{uri:t(e.uri),version:e.version}}function p(e){switch(e){case r.TextDocumentSaveReason.Manual:return i.TextDocumentSaveReason.Manual;case r.TextDocumentSaveReason.AfterDelay:return i.TextDocumentSaveReason.AfterDelay;case r.TextDocumentSaveReason.FocusOut:return i.TextDocumentSaveReason.FocusOut}return i.TextDocumentSaveReason.Manual}function d(e){switch(e){case r.CompletionTriggerKind.TriggerCharacter:return i.CompletionTriggerKind.TriggerCharacter;case r.CompletionTriggerKind.TriggerForIncompleteCompletions:return i.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return i.CompletionTriggerKind.Invoked}}function h(e){return{line:e.line,character:e.character}}function f(e){if(void 0!==e)return null===e?null:{line:e.line,character:e.character}}function m(e){return null==e?e:{start:f(e.start),end:f(e.end)}}function g(e){switch(e){case r.DiagnosticSeverity.Error:return i.DiagnosticSeverity.Error;case r.DiagnosticSeverity.Warning:return i.DiagnosticSeverity.Warning;case r.DiagnosticSeverity.Information:return i.DiagnosticSeverity.Information;case r.DiagnosticSeverity.Hint:return i.DiagnosticSeverity.Hint}}function y(e){let t=i.Diagnostic.create(m(e.range),e.message);return o.number(e.severity)&&(t.severity=g(e.severity)),(o.number(e.code)||o.string(e.code))&&(t.code=e.code),e.source&&(t.source=e.source),t}function v(e){return null==e?e:e.map(y)}function b(e){return{range:m(e.range),newText:e.newText}}function w(e){let t=i.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}return{asUri:n,asTextDocumentIdentifier:l,asVersionedTextDocumentIdentifier:u,asOpenTextDocumentParams:function(e){return{textDocument:{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}},asChangeTextDocumentParams:function(e){if(function(e){let t=e;return!!t.uri&&!!t.version}(e))return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(function(e){let t=e;return!!t.document&&!!t.contentChanges}(e)){let n=e.document;return{textDocument:{uri:t(n.uri),version:n.version},contentChanges:e.contentChanges.map((e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}}))}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:l(e)}},asSaveTextDocumentParams:function(e,t=!1){let n={textDocument:u(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:l(e.document),reason:p(e.reason)}},asTextDocumentPositionParams:function(e,t){return{textDocument:l(e),position:h(t)}},asCompletionParams:function(e,t,n){return{textDocument:l(e),position:h(t),context:{triggerKind:d(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asWorkerPosition:h,asRange:m,asPosition:f,asDiagnosticSeverity:g,asDiagnostic:y,asDiagnostics:v,asCompletionItem:function(e){let t={label:e.label},n=e instanceof s.default?e:void 0;var a,c,l;return e.detail&&(t.detail=e.detail),e.documentation&&(n&&"$string"!==n.documentationFormat?t.documentation=function(e,t){switch(e){case"$string":return t;case i.MarkupKind.PlainText:return{kind:e,value:t};case i.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(n.documentationFormat,e.documentation):t.documentation=e.documentation),e.filterText&&(t.filterText=e.filterText),function(e,t){let n,o,s=i.InsertTextFormat.PlainText;t.textEdit?(n=t.textEdit.newText,o=m(t.textEdit.range)):t.insertText instanceof r.SnippetString?(s=i.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText,t.range&&(o=m(t.range)),e.insertTextFormat=s,t.fromEdit&&n&&o?e.textEdit={newText:n,range:o}:e.insertText=n}(t,e),o.number(e.kind)&&(t.kind=(a=e.kind,void 0!==(c=n&&n.originalItemKind)?c:a+1)),e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=null==(l=e.additionalTextEdits)?l:l.map(b)),e.commitCharacters&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=w(e.command)),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect),n&&(void 0!==n.data&&(t.data=n.data),!0!==n.deprecated&&!1!==n.deprecated||(t.deprecated=n.deprecated)),t},asTextEdit:b,asReferenceParams:function(e,t,n){return{textDocument:l(e),position:h(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeActionContext:function(e){return null==e?e:i.CodeActionContext.create(v(e.diagnostics),o.string(e.only)?[e.only]:void 0)},asCommand:w,asCodeLens:function(e){let t=i.CodeLens.create(m(e.range));return e.command&&(t.command=w(e.command)),e instanceof a.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}},asDocumentSymbolParams:function(e){return{textDocument:l(e)}},asCodeLensParams:function(e){return{textDocument:l(e)}},asDocumentLink:function(e){let t=i.DocumentLink.create(m(e.range));e.target&&(t.target=n(e.target));let r=e instanceof c.default?e:void 0;return r&&r.data&&(t.data=r.data),t},asDocumentLinkParams:function(e){return{textDocument:l(e)}}}}},9729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6362),i=n(5805),o=n(4980),s=n(2037),a=n(7116);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class l extends a.TextDocumentFeature{constructor(e){super(e,s.DocumentColorRequest.type)}fillClientCapabilities(e){c(c(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){if(!e.colorProvider)return;const n=e.colorProvider,o=i.string(n.id)&&n.id.length>0?n.id:r.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>{const i={color:e,textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(n.document),range:t.code2ProtocolConverter.asRange(n.range)};return t.sendRequest(s.ColorPresentationRequest.type,i,r).then(this.asColorPresentations.bind(this),(e=>(t.logFailedRequest(s.ColorPresentationRequest.type,e),Promise.resolve(null))))},r=(e,n)=>{const r={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e)};return t.sendRequest(s.DocumentColorRequest.type,r,n).then(this.asColorInformations.bind(this),(e=>(t.logFailedRequest(s.ColorPresentationRequest.type,e),Promise.resolve(null))))},i=t.clientOptions.middleware;return o.languages.registerColorProvider(e.documentSelector,{provideColorPresentations:(e,t,r)=>i.provideColorPresentations?i.provideColorPresentations(e,t,r,n):n(e,t,r),provideDocumentColors:(e,t)=>i.provideDocumentColors?i.provideDocumentColors(e,t,r):r(e,t)})}asColor(e){return new o.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map((e=>new o.ColorInformation(this._client.protocol2CodeConverter.asRange(e.range),this.asColor(e.color)))):[]}asColorPresentations(e){return Array.isArray(e)?e.map((e=>{let t=new o.ColorPresentation(e.label);return t.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(e.additionalTextEdits),t.textEdit=this._client.protocol2CodeConverter.asTextEdit(e.textEdit),t})):[]}}t.ColorProviderFeature=l},2237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4980),i=n(2037);t.ConfigurationFeature=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(i.ConfigurationRequest.type,((t,n)=>{let r=e=>{let t=[];for(let n of e.items){let e=void 0!==n.scopeUri&&null!==n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},i=e.clientOptions.middleware.workspace;return i&&i.configuration?i.configuration(t,n,r):r(t)}))}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(-1===i)n=r.workspace.getConfiguration(void 0,e).get(t);else{let e=r.workspace.getConfiguration(t.substr(0,i));e&&(n=e.get(t.substr(i+1)))}}else{let t=r.workspace.getConfiguration(void 0,e);n={};for(let e of Object.keys(t))t.has(e)&&(n[e]=t.get(e))}return n||null}}},3155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6362),i=n(5805),o=n(4980),s=n(2037),a=n(7116);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class l extends a.TextDocumentFeature{constructor(e){super(e,s.DeclarationRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){if(e.declarationProvider)if(!0===e.declarationProvider){if(!t)return;this.register(this.messages,{id:r.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}else{const n=e.declarationProvider,o=i.string(n.id)&&n.id.length>0?n.id:r.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(s.DeclarationRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDeclarationResult,(e=>(t.logFailedRequest(s.DeclarationRequest.type,e),Promise.resolve(null)))),r=t.clientOptions.middleware;return o.languages.registerDeclarationProvider(e.documentSelector,{provideDeclaration:(e,t,i)=>r.provideDeclaration?r.provideDeclaration(e,t,i,n):n(e,t,i)})}}t.DeclarationFeature=l},3289:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6362),i=n(5805),o=n(4980),s=n(2037),a=n(7116);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class l extends a.TextDocumentFeature{constructor(e){super(e,s.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0}initialize(e,t){if(!e.foldingRangeProvider)return;const n=e.foldingRangeProvider,o=i.string(n.id)&&n.id.length>0?n.id:r.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>{const i={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e)};return t.sendRequest(s.FoldingRangeRequest.type,i,r).then(this.asFoldingRanges.bind(this),(e=>(t.logFailedRequest(s.FoldingRangeRequest.type,e),Promise.resolve(null))))},r=t.clientOptions.middleware;return o.languages.registerFoldingRangeProvider(e.documentSelector,{provideFoldingRanges:(e,t,i)=>r.provideFoldingRanges?r.provideFoldingRanges(e,t,i,n):n(e,0,i)})}asFoldingRangeKind(e){if(e)switch(e){case s.FoldingRangeKind.Comment:return o.FoldingRangeKind.Comment;case s.FoldingRangeKind.Imports:return o.FoldingRangeKind.Imports;case s.FoldingRangeKind.Region:return o.FoldingRangeKind.Region}}asFoldingRanges(e){return Array.isArray(e)?e.map((e=>new o.FoldingRange(e.startLine,e.endLine,this.asFoldingRangeKind(e.kind)))):[]}}t.FoldingRangeFeature=l},8789:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6362),i=n(5805),o=n(4980),s=n(2037),a=n(7116);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class l extends a.TextDocumentFeature{constructor(e){super(e,s.ImplementationRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){if(e.implementationProvider)if(!0===e.implementationProvider){if(!t)return;this.register(this.messages,{id:r.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}else{const n=e.implementationProvider,o=i.string(n.id)&&n.id.length>0?n.id:r.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(s.ImplementationRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDefinitionResult,(e=>(t.logFailedRequest(s.ImplementationRequest.type,e),Promise.resolve(null)))),r=t.clientOptions.middleware;return o.languages.registerImplementationProvider(e.documentSelector,{provideImplementation:(e,t,i)=>r.provideImplementation?r.provideImplementation(e,t,i,n):n(e,t,i)})}}t.ImplementationFeature=l},4382:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5317),i=n(9896),o=n(4251),s=n(7116),a=n(4980),c=n(2037),l=n(9729),u=n(2237),p=n(8789),d=n(8218),h=n(6885),f=n(3289),m=n(3155),g=n(5805),y=n(8688);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(7116));const v="^1.30";var b,w,_,E,x,S,T;!function(e){e.is=function(e){return g.string(e.command)}}(b||(b={})),function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(w=t.TransportKind||(t.TransportKind={})),function(e){e.isSocket=function(e){let t=e;return t&&t.kind===w.socket&&g.number(t.port)}}(_||(_={})),function(e){e.is=function(e){return g.string(e.module)}}(E||(E={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(x||(x={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(S||(S={}));class C extends s.BaseLanguageClient{constructor(e,t,n,r,i){let o,s,a,c,l;g.string(t)?(o=e,s=t,a=n,c=r,l=!!i):(o=e.toLowerCase(),s=e,a=t,c=n,l=r),void 0===l&&(l=!1),super(o,s,c),this._serverOptions=a,this._forceDebug=l;try{this.checkVersion()}catch(e){throw g.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){let e=o.parse(a.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${a.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!o.satisfies(e,v))throw new Error(`The language client requires VS Code version ${v} but received version ${a.version}`)}stop(){return super.stop().then((()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}}))}checkProcessDied(e){e&&setTimeout((()=>{try{process.kill(e.pid,0),y.terminate(e)}catch(e){}}),2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}createMessageTransports(e){let t,n=this._serverOptions;if(g.func(n))return n().then((t=>{if(s.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(x.is(t))return this._isDetached=!!t.detached,{reader:new c.StreamMessageReader(t.reader),writer:new c.StreamMessageWriter(t.writer)};{let n;return S.is(t)?(n=t.process,this._isDetached=t.detached):(n=t,this._isDetached=!1),n.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),{reader:new c.StreamMessageReader(n.stdout),writer:new c.StreamMessageWriter(n.stdin)}}}));let i=n;return t=i.run||i.debug?"object"==typeof v8debug||this._forceDebug||function(){let e=process.execArgv;return!!e&&e.some((e=>/^--debug=?/.test(e)||/^--debug-brk=?/.test(e)||/^--inspect=?/.test(e)||/^--inspect-brk=?/.test(e)))}()?i.debug:i.run:n,this._getServerWorkingDir(t.options).then((i=>{if(E.is(t)&&t.module){let n=t,o=n.transport||w.stdio;if(!n.runtime){let t;return new Promise(((s,a)=>{let l=n.args&&n.args.slice()||[];o===w.ipc?l.push("--node-ipc"):o===w.stdio?l.push("--stdio"):o===w.pipe?(t=c.generateRandomPipeName(),l.push(`--pipe=${t}`)):_.isSocket(o)&&l.push(`--socket=${o.port}`),l.push(`--clientProcessId=${process.pid.toString()}`);let u=n.options||Object.create(null);if(u.execArgv=u.execArgv||[],u.cwd=i,u.silent=!0,o===w.ipc||o===w.stdio){let t=r.fork(n.module,l||[],u);this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),o===w.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),s({reader:new c.IPCMessageReader(this._serverProcess),writer:new c.IPCMessageWriter(this._serverProcess)})):s({reader:new c.StreamMessageReader(t.stdout),writer:new c.StreamMessageWriter(t.stdin)})}else o===w.pipe?c.createClientPipeTransport(t).then((t=>{let i=r.fork(n.module,l||[],u);this._serverProcess=i,i.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),i.stdout.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{s({reader:e[0],writer:e[1]})}))})):_.isSocket(o)&&c.createClientSocketTransport(o.port).then((t=>{let i=r.fork(n.module,l||[],u);this._serverProcess=i,i.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),i.stdout.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{s({reader:e[0],writer:e[1]})}))}))}))}{let t=[],s=n.options||Object.create(null);s.execArgv&&s.execArgv.forEach((e=>t.push(e))),t.push(n.module),n.args&&n.args.forEach((e=>t.push(e)));let a,l=Object.create(null);if(l.cwd=i,l.env=function(e){if(!e)return process.env;let t=Object.create(null);return Object.keys(process.env).forEach((e=>t[e]=process.env[e])),Object.keys(e).forEach((n=>t[n]=e[n])),t}(s.env),o===w.ipc?(l.stdio=[null,null,null,"ipc"],t.push("--node-ipc")):o===w.stdio?t.push("--stdio"):o===w.pipe?(a=c.generateRandomPipeName(),t.push(`--pipe=${a}`)):_.isSocket(o)&&t.push(`--socket=${o.port}`),t.push(`--clientProcessId=${process.pid.toString()}`),o===w.ipc||o===w.stdio){let i=r.spawn(n.runtime,t,l);return i&&i.pid?(this._serverProcess=i,i.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),o===w.ipc?(i.stdout.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),Promise.resolve({reader:new c.IPCMessageReader(i),writer:new c.IPCMessageWriter(i)})):Promise.resolve({reader:new c.StreamMessageReader(i.stdout),writer:new c.StreamMessageWriter(i.stdin)})):Promise.reject(`Launching server using runtime ${n.runtime} failed.`)}if(o==w.pipe)return c.createClientPipeTransport(a).then((i=>{let o=r.spawn(n.runtime,t,l);return o&&o.pid?(this._serverProcess=o,o.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),o.stdout.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),i.onConnected().then((e=>({reader:e[0],writer:e[1]})))):Promise.reject(`Launching server using runtime ${n.runtime} failed.`)}));if(_.isSocket(o))return c.createClientSocketTransport(o.port).then((i=>{let o=r.spawn(n.runtime,t,l);return o&&o.pid?(this._serverProcess=o,o.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),o.stdout.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),i.onConnected().then((e=>({reader:e[0],writer:e[1]})))):Promise.reject(`Launching server using runtime ${n.runtime} failed.`)}))}}else if(b.is(t)&&t.command){let n=t,o=n.args||[],s=Object.assign({},n.options);s.cwd=s.cwd||i;let a=r.spawn(n.command,o,s);return a&&a.pid?(a.stderr.on("data",(t=>this.outputChannel.append(g.string(t)?t:t.toString(e)))),this._serverProcess=a,this._isDetached=!!s.detached,Promise.resolve({reader:new c.StreamMessageReader(a.stdout),writer:new c.StreamMessageWriter(a.stdin)})):Promise.reject(`Launching server using command ${n.command} failed.`)}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(n,null,4)))}))}registerProposedFeatures(){this.registerFeatures(T.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new u.ConfigurationFeature(this)),this.registerFeature(new d.TypeDefinitionFeature(this)),this.registerFeature(new p.ImplementationFeature(this)),this.registerFeature(new l.ColorProviderFeature(this)),this.registerFeature(new h.WorkspaceFoldersFeature(this)),this.registerFeature(new f.FoldingRangeFeature(this)),this.registerFeature(new m.DeclarationFeature(this))}_mainGetRootPath(){let e=a.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise((e=>{i.lstat(t,((n,r)=>{e(!n&&r.isDirectory()?t:void 0)}))})):Promise.resolve(void 0)}}t.LanguageClient=C,t.SettingMonitor=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return a.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new a.Disposable((()=>{this._client.needsStop()&&this._client.stop()}))}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,r=n?a.workspace.getConfiguration(t).get(n,!1):a.workspace.getConfiguration(t);r&&this._client.needsStart()?this._client.start():!r&&this._client.needsStop()&&this._client.stop()}},function(e){e.createAll=function(e){return[]}}(T=t.ProposedFeatures||(t.ProposedFeatures={}))},3938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4980);class i extends r.CodeLens{constructor(e){super(e)}}t.default=i},2642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4980);class i extends r.CompletionItem{constructor(e){super(e)}}t.default=i},9519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4980),i=n(2037),o=n(5805),s=n(2642),a=n(3938),c=n(7778);var l;!function(e){e.is=function(e){let t=e;return t&&o.string(t.language)&&o.string(t.value)}}(l||(l={})),t.createConverter=function(e){const t=e||(e=>r.Uri.parse(e));function n(e){return t(e)}function u(e){return e.map(p)}function p(e){let t=new r.Diagnostic(f(e.range),e.message,m(e.severity));return(o.number(e.code)||o.string(e.code))&&(t.code=e.code),e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(d)),t}function d(e){return new r.DiagnosticRelatedInformation(S(e.location),e.message)}function h(e){if(e)return new r.Position(e.line,e.character)}function f(e){if(e)return new r.Range(h(e.start),h(e.end))}function m(e){if(null==e)return r.DiagnosticSeverity.Error;switch(e){case i.DiagnosticSeverity.Error:return r.DiagnosticSeverity.Error;case i.DiagnosticSeverity.Warning:return r.DiagnosticSeverity.Warning;case i.DiagnosticSeverity.Information:return r.DiagnosticSeverity.Information;case i.DiagnosticSeverity.Hint:return r.DiagnosticSeverity.Hint}return r.DiagnosticSeverity.Error}function g(e){if(o.string(e))return e;switch(e.kind){case i.MarkupKind.Markdown:return new r.MarkdownString(e.value);case i.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function y(e){let t=new s.default(e.label);e.detail&&(t.detail=e.detail),e.documentation&&(t.documentation=g(e.documentation),t.documentationFormat=o.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(t.filterText=e.filterText);let n=function(e){return e.textEdit?e.insertTextFormat===i.InsertTextFormat.Snippet?{text:new r.SnippetString(e.textEdit.newText),range:f(e.textEdit.range),fromEdit:!0}:{text:e.textEdit.newText,range:f(e.textEdit.range),fromEdit:!0}:e.insertText?e.insertTextFormat===i.InsertTextFormat.Snippet?{text:new r.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0}(e);if(n&&(t.insertText=n.text,t.range=n.range,t.fromEdit=n.fromEdit),o.number(e.kind)){let[n,o]=(a=e.kind,i.CompletionItemKind.Text<=a&&a<=i.CompletionItemKind.TypeParameter?[a-1,void 0]:[r.CompletionItemKind.Text,a]);t.kind=n,o&&(t.originalItemKind=o)}var a;return e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=b(e.additionalTextEdits)),o.stringArray(e.commitCharacters)&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=A(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(t.deprecated=e.deprecated),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect),void 0!==e.data&&(t.data=e.data),t}function v(e){if(e)return new r.TextEdit(f(e.range),e.newText)}function b(e){if(e)return e.map(v)}function w(e){return e.map(_)}function _(e){let t=new r.SignatureInformation(e.label);return e.documentation&&(t.documentation=g(e.documentation)),e.parameters&&(t.parameters=E(e.parameters)),t}function E(e){return e.map(x)}function x(e){let t=new r.ParameterInformation(e.label);return e.documentation&&(t.documentation=g(e.documentation)),t}function S(e){if(e)return new r.Location(t(e.uri),f(e.range))}function T(e){if(e)return{targetUri:t(e.targetUri),targetRange:f(e.targetSelectionRange),originSelectionRange:f(e.originSelectionRange),targetSelectionRange:f(e.targetSelectionRange)}}function C(e){if(e)return o.array(e)?0===e.length?[]:i.LocationLink.is(e[0])?e.map((e=>T(e))):e.map((e=>S(e))):i.LocationLink.is(e)?[T(e)]:S(e)}function P(e){let t=new r.DocumentHighlight(f(e.range));return o.number(e.kind)&&(t.kind=I(e.kind)),t}function I(e){switch(e){case i.DocumentHighlightKind.Text:return r.DocumentHighlightKind.Text;case i.DocumentHighlightKind.Read:return r.DocumentHighlightKind.Read;case i.DocumentHighlightKind.Write:return r.DocumentHighlightKind.Write}return r.DocumentHighlightKind.Text}function O(e){return e<=i.SymbolKind.TypeParameter?e-1:r.SymbolKind.Property}function k(e,n){let i=new r.SymbolInformation(e.name,O(e.kind),f(e.location.range),e.location.uri?t(e.location.uri):n);return e.containerName&&(i.containerName=e.containerName),i}function D(e){let t=new r.DocumentSymbol(e.name,e.detail||"",O(e.kind),f(e.range),f(e.selectionRange));if(void 0!==e.children&&e.children.length>0){let n=[];for(let t of e.children)n.push(D(t));t.children=n}return t}function A(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const R=new Map;function N(e){if(null==e)return;let t=R.get(e);if(t)return t;let n=e.split(".");t=r.CodeActionKind.Empty;for(let e of n)t=t.append(e);return t}function L(e){if(!e)return;let t=new a.default(f(e.range));return e.command&&(t.command=A(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}function F(e){if(!e)return;let n=new r.WorkspaceEdit;return e.documentChanges?e.documentChanges.forEach((e=>{i.CreateFile.is(e)?n.createFile(t(e.uri),e.options):i.RenameFile.is(e)?n.renameFile(t(e.oldUri),t(e.newUri),e.options):i.DeleteFile.is(e)?n.deleteFile(t(e.uri),e.options):i.TextDocumentEdit.is(e)?n.set(t(e.textDocument.uri),b(e.edits)):console.error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`)})):e.changes&&Object.keys(e.changes).forEach((r=>{n.set(t(r),b(e.changes[r]))})),n}function M(e){let t=f(e.range),r=e.target?n(e.target):void 0,i=new c.default(t,r);return void 0!==e.data&&null!==e.data&&(i.data=e.data),i}function j(e){return new r.Color(e.red,e.green,e.blue,e.alpha)}function B(e){return new r.ColorInformation(f(e.range),j(e.color))}function U(e){let t=new r.ColorPresentation(e.label);return t.additionalTextEdits=b(e.additionalTextEdits),e.textEdit&&(t.textEdit=v(e.textEdit)),t}function q(e){if(e)switch(e){case i.FoldingRangeKind.Comment:return r.FoldingRangeKind.Comment;case i.FoldingRangeKind.Imports:return r.FoldingRangeKind.Imports;case i.FoldingRangeKind.Region:return r.FoldingRangeKind.Region}}function $(e){return new r.FoldingRange(e.startLine,e.endLine,q(e.kind))}return R.set("",r.CodeActionKind.Empty),R.set(i.CodeActionKind.QuickFix,r.CodeActionKind.QuickFix),R.set(i.CodeActionKind.Refactor,r.CodeActionKind.Refactor),R.set(i.CodeActionKind.RefactorExtract,r.CodeActionKind.RefactorExtract),R.set(i.CodeActionKind.RefactorInline,r.CodeActionKind.RefactorInline),R.set(i.CodeActionKind.RefactorRewrite,r.CodeActionKind.RefactorRewrite),R.set(i.CodeActionKind.Source,r.CodeActionKind.Source),R.set(i.CodeActionKind.SourceOrganizeImports,r.CodeActionKind.SourceOrganizeImports),{asUri:n,asDiagnostics:u,asDiagnostic:p,asRange:f,asPosition:h,asDiagnosticSeverity:m,asHover:function(e){if(e)return new r.Hover(function(e){if(o.string(e))return new r.MarkdownString(e);if(l.is(e))return(new r.MarkdownString).appendCodeblock(e.value,e.language);if(Array.isArray(e)){let t=[];for(let n of e){let e=new r.MarkdownString;l.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}{let t;switch(e.kind){case i.MarkupKind.Markdown:return new r.MarkdownString(e.value);case i.MarkupKind.PlainText:return t=new r.MarkdownString,t.appendText(e.value),t;default:return t=new r.MarkdownString,t.appendText(`Unsupported Markup content received. Kind is: ${e.kind}`),t}}}(e.contents),f(e.range))},asCompletionResult:function(e){if(!e)return;if(Array.isArray(e))return e.map(y);let t=e;return new r.CompletionList(t.items.map(y),t.isIncomplete)},asCompletionItem:y,asTextEdit:v,asTextEdits:b,asSignatureHelp:function(e){if(!e)return;let t=new r.SignatureHelp;return o.number(e.activeSignature)?t.activeSignature=e.activeSignature:t.activeSignature=0,o.number(e.activeParameter)?t.activeParameter=e.activeParameter:t.activeParameter=0,e.signatures&&(t.signatures=w(e.signatures)),t},asSignatureInformations:w,asSignatureInformation:_,asParameterInformations:E,asParameterInformation:x,asDeclarationResult:function(e){if(e)return C(e)},asDefinitionResult:function(e){if(e)return C(e)},asLocation:S,asReferences:function(e){if(e)return e.map((e=>S(e)))},asDocumentHighlights:function(e){if(e)return e.map(P)},asDocumentHighlight:P,asDocumentHighlightKind:I,asSymbolInformations:function(e,t){if(e)return e.map((e=>k(e,t)))},asSymbolInformation:k,asDocumentSymbols:function(e){if(null!=e)return e.map(D)},asDocumentSymbol:D,asCommand:A,asCommands:function(e){if(e)return e.map(A)},asCodeAction:function(e){if(null==e)return;let t=new r.CodeAction(e.title);return void 0!==e.kind&&(t.kind=N(e.kind)),e.diagnostics&&(t.diagnostics=u(e.diagnostics)),e.edit&&(t.edit=F(e.edit)),e.command&&(t.command=A(e.command)),t},asCodeActionKind:N,asCodeActionKinds:function(e){if(null!=e)return e.map((e=>N(e)))},asCodeLens:L,asCodeLenses:function(e){if(e)return e.map((e=>L(e)))},asWorkspaceEdit:F,asDocumentLink:M,asDocumentLinks:function(e){if(e)return e.map(M)},asFoldingRangeKind:q,asFoldingRange:$,asFoldingRanges:function(e){if(Array.isArray(e))return e.map($)},asColor:j,asColorInformation:B,asColorInformations:function(e){if(Array.isArray(e))return e.map(B)},asColorPresentation:U,asColorPresentations:function(e){if(Array.isArray(e))return e.map(U)}}}},7778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4980);class i extends r.DocumentLink{constructor(e,t){super(e,t)}}t.default=i},8218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6362),i=n(5805),o=n(4980),s=n(2037),a=n(7116);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}class l extends a.TextDocumentFeature{constructor(e){super(e,s.TypeDefinitionRequest.type)}fillClientCapabilities(e){c(c(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=c(c(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){if(e.typeDefinitionProvider)if(!0===e.typeDefinitionProvider){if(!t)return;this.register(this.messages,{id:r.generateUuid(),registerOptions:Object.assign({},{documentSelector:t})})}else{const n=e.typeDefinitionProvider,o=i.string(n.id)&&n.id.length>0?n.id:r.generateUuid(),s=n.documentSelector||t;s&&this.register(this.messages,{id:o,registerOptions:Object.assign({},{documentSelector:s})})}}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(s.TypeDefinitionRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDefinitionResult,(e=>(t.logFailedRequest(s.TypeDefinitionRequest.type,e),Promise.resolve(null)))),r=t.clientOptions.middleware;return o.languages.registerTypeDefinitionProvider(e.documentSelector,{provideTypeDefinition:(e,t,i)=>r.provideTypeDefinition?r.provideTypeDefinition(e,t,i,n):n(e,t,i)})}}t.TypeDefinitionFeature=l},6669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e=>{this.onSuccess=e})).then((()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e}))),(t>=0||void 0===this.timeout)&&(this.timeout=setTimeout((()=>{this.timeout=void 0,this.onSuccess(void 0)}),t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}}},5805:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return"function"==typeof e}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=r,t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&r(e.then)}},8688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5317),i=n(6928),o="win32"===process.platform,s="darwin"===process.platform,a="linux"===process.platform;t.terminate=function(e,t){if(o)try{let n={stdio:["pipe","pipe","ignore"]};return t&&(n.cwd=t),r.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],n),!0}catch(e){return!1}else{if(!a&&!s)return e.kill("SIGKILL"),!0;try{var n=i.join(__dirname,"terminateProcess.sh");return!r.spawnSync(n,[e.pid.toString()]).error}catch(e){return!1}}}},6362:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class r extends n{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}}function i(){return new r}r._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],r._timeHighBits=["8","9","a","b"],t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=i;const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(e){return o.test(e)}t.isUUID=s,t.parse=function(e){if(!s(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return i().asHex()}},6885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6362),i=n(4980),o=n(2037);function s(e,t){if(void 0!==e)return e[t]}t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}get messages(){return o.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=i.workspace.workspaceFolders;e.workspaceFolders=void 0===t?null:t.map((e=>this.asProtocol(e)))}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(o.WorkspaceFoldersRequest.type,(e=>{let n=()=>{let e=i.workspace.workspaceFolders;return void 0===e?null:e.map((e=>this.asProtocol(e)))},r=t.clientOptions.middleware.workspace;return r&&r.workspaceFolders?r.workspaceFolders(e,n):n()}));let n,a=s(s(s(e,"workspace"),"workspaceFolders"),"changeNotifications");"string"==typeof a?n=a:!0===a&&(n=r.generateUuid()),n&&this.register(this.messages,{id:n,registerOptions:void 0})}register(e,t){let n=t.id,r=this._client,s=i.workspace.onDidChangeWorkspaceFolders((e=>{let t=e=>{let t={event:{added:e.added.map((e=>this.asProtocol(e))),removed:e.removed.map((e=>this.asProtocol(e)))}};this._client.sendNotification(o.DidChangeWorkspaceFoldersNotification.type,t)},n=r.clientOptions.middleware.workspace;n&&n.didChangeWorkspaceFolders?n.didChangeWorkspaceFolders(e,t):t(e)}));this._listeners.set(n,s)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},4251:(e,t)=>{var n;t=e.exports=X,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=r-6,s=t.re=[],a=t.safeRe=[],c=t.src=[],l=0,u="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",r],[u,o]];function d(e){for(var t=0;t<p.length;t++){var n=p[t][0],r=p[t][1];e=e.split(n+"*").join(n+"{0,"+r+"}").split(n+"+").join(n+"{1,"+r+"}")}return e}var h=l++;c[h]="0|[1-9]\\d*";var f=l++;c[f]="\\d+";var m=l++;c[m]="\\d*[a-zA-Z-]"+u+"*";var g=l++;c[g]="("+c[h]+")\\.("+c[h]+")\\.("+c[h]+")";var y=l++;c[y]="("+c[f]+")\\.("+c[f]+")\\.("+c[f]+")";var v=l++;c[v]="(?:"+c[h]+"|"+c[m]+")";var b=l++;c[b]="(?:"+c[f]+"|"+c[m]+")";var w=l++;c[w]="(?:-("+c[v]+"(?:\\."+c[v]+")*))";var _=l++;c[_]="(?:-?("+c[b]+"(?:\\."+c[b]+")*))";var E=l++;c[E]=u+"+";var x=l++;c[x]="(?:\\+("+c[E]+"(?:\\."+c[E]+")*))";var S=l++,T="v?"+c[g]+c[w]+"?"+c[x]+"?";c[S]="^"+T+"$";var C="[v=\\s]*"+c[y]+c[_]+"?"+c[x]+"?",P=l++;c[P]="^"+C+"$";var I=l++;c[I]="((?:<|>)?=?)";var O=l++;c[O]=c[f]+"|x|X|\\*";var k=l++;c[k]=c[h]+"|x|X|\\*";var D=l++;c[D]="[v=\\s]*("+c[k]+")(?:\\.("+c[k]+")(?:\\.("+c[k]+")(?:"+c[w]+")?"+c[x]+"?)?)?";var A=l++;c[A]="[v=\\s]*("+c[O]+")(?:\\.("+c[O]+")(?:\\.("+c[O]+")(?:"+c[_]+")?"+c[x]+"?)?)?";var R=l++;c[R]="^"+c[I]+"\\s*"+c[D]+"$";var N=l++;c[N]="^"+c[I]+"\\s*"+c[A]+"$";var L=l++;c[L]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var F=l++;c[F]="(?:~>?)";var M=l++;c[M]="(\\s*)"+c[F]+"\\s+",s[M]=new RegExp(c[M],"g"),a[M]=new RegExp(d(c[M]),"g");var j=l++;c[j]="^"+c[F]+c[D]+"$";var B=l++;c[B]="^"+c[F]+c[A]+"$";var U=l++;c[U]="(?:\\^)";var q=l++;c[q]="(\\s*)"+c[U]+"\\s+",s[q]=new RegExp(c[q],"g"),a[q]=new RegExp(d(c[q]),"g");var $=l++;c[$]="^"+c[U]+c[D]+"$";var V=l++;c[V]="^"+c[U]+c[A]+"$";var H=l++;c[H]="^"+c[I]+"\\s*("+C+")$|^$";var G=l++;c[G]="^"+c[I]+"\\s*("+T+")$|^$";var z=l++;c[z]="(\\s*)"+c[I]+"\\s*("+C+"|"+c[D]+")",s[z]=new RegExp(c[z],"g"),a[z]=new RegExp(d(c[z]),"g");var W=l++;c[W]="^\\s*("+c[D]+")\\s+-\\s+("+c[D]+")\\s*$";var K=l++;c[K]="^\\s*("+c[A]+")\\s+-\\s+("+c[A]+")\\s*$";var Y=l++;c[Y]="(<|>)?=?\\s*\\*";for(var J=0;J<35;J++)n(J,c[J]),s[J]||(s[J]=new RegExp(c[J]),a[J]=new RegExp(d(c[J])));function Q(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof X)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?a[P]:a[S]).test(e))return null;try{return new X(e,t)}catch(e){return null}}function X(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof X){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof X))return new X(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?a[P]:a[S]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=Q,t.valid=function(e,t){var n=Q(e,t);return n?n.version:null},t.clean=function(e,t){var n=Q(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=X,X.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},X.prototype.toString=function(){return this.version},X.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof X||(e=new X(e,this.options)),this.compareMain(e)||this.comparePre(e)},X.prototype.compareMain=function(e){return e instanceof X||(e=new X(e,this.options)),ee(this.major,e.major)||ee(this.minor,e.minor)||ee(this.patch,e.patch)},X.prototype.comparePre=function(e){if(e instanceof X||(e=new X(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return ee(r,i)}while(++t)},X.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new X(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(ie(e,t))return null;var n=Q(e),r=Q(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},t.compareIdentifiers=ee;var Z=/^[0-9]+$/;function ee(e,t){var n=Z.test(e),r=Z.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function te(e,t,n){return new X(e,n).compare(new X(t,n))}function ne(e,t,n){return te(e,t,n)>0}function re(e,t,n){return te(e,t,n)<0}function ie(e,t,n){return 0===te(e,t,n)}function oe(e,t,n){return 0!==te(e,t,n)}function se(e,t,n){return te(e,t,n)>=0}function ae(e,t,n){return te(e,t,n)<=0}function ce(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return ie(e,n,r);case"!=":return oe(e,n,r);case">":return ne(e,n,r);case">=":return se(e,n,r);case"<":return re(e,n,r);case"<=":return ae(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function le(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof le){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof le))return new le(e,t);e=e.trim().split(/\s+/).join(" "),n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ue?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return ee(t,e)},t.major=function(e,t){return new X(e,t).major},t.minor=function(e,t){return new X(e,t).minor},t.patch=function(e,t){return new X(e,t).patch},t.compare=te,t.compareLoose=function(e,t){return te(e,t,!0)},t.rcompare=function(e,t,n){return te(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compare(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.rcompare(e,r,n)}))},t.gt=ne,t.lt=re,t.eq=ie,t.neq=oe,t.gte=se,t.lte=ae,t.cmp=ce,t.Comparator=le;var ue={};function pe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof pe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new pe(e.raw,t);if(e instanceof le)return new pe(e.value,t);if(!(this instanceof pe))return new pe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}function de(e){return!e||"x"===e.toLowerCase()||"*"===e}function he(e,t,n,r,i,o,s,a,c,l,u,p,d){return((t=de(n)?"":de(r)?">="+n+".0.0":de(i)?">="+n+"."+r+".0":">="+t)+" "+(a=de(c)?"":de(l)?"<"+(+c+1)+".0.0":de(u)?"<"+c+"."+(+l+1)+".0":p?"<="+c+"."+l+"."+u+"-"+p:"<="+a)).trim()}function fe(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==ue&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function me(e,t,n){try{t=new pe(t,n)}catch(e){return!1}return t.test(e)}function ge(e,t,n,r){var i,o,s,a,c;switch(e=new X(e,r),t=new pe(t,r),n){case">":i=ne,o=ae,s=re,a=">",c=">=";break;case"<":i=re,o=se,s=ne,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(me(e,t,r))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],p=null,d=null;if(u.forEach((function(e){e.semver===ue&&(e=new le(">=0.0.0")),p=p||e,d=d||e,i(e.semver,p.semver,r)?p=e:s(e.semver,d.semver,r)&&(d=e)})),p.operator===a||p.operator===c)return!1;if((!d.operator||d.operator===a)&&o(e,d.semver))return!1;if(d.operator===c&&s(e,d.semver))return!1}return!0}le.prototype.parse=function(e){var t=this.options.loose?a[H]:a[G],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new X(n[2],this.options.loose):this.semver=ue},le.prototype.toString=function(){return this.value},le.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ue||("string"==typeof e&&(e=new X(e,this.options)),ce(e,this.operator,this.semver,this.options))},le.prototype.intersects=function(e,t){if(!(e instanceof le))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new pe(e.value,t),me(this.value,n,t);if(""===e.operator)return n=new pe(this.value,t),me(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ce(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ce(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},t.Range=pe,pe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},pe.prototype.toString=function(){return this.range},pe.prototype.parseRange=function(e){var t=this.options.loose,r=t?a[K]:a[W];e=e.replace(r,he),n("hyphen replace",e),e=e.replace(a[z],"$1$2$3"),n("comparator trim",e,a[z]),e=(e=e.replace(a[M],"$1~")).replace(a[q],"$1^");var i=t?a[H]:a[G],o=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?a[V]:a[$];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),de(r)?a="":de(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":de(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?a[B]:a[j];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),de(r)?a="":de(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":de(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?a[N]:a[R];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=de(i),l=c||de(o),u=l||de(s);return"="===r&&u&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&u?(l&&(o=0),s=0,">"===r?(r=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):l?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(a[Y],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter((function(e){return!!e.match(i)}))),o.map((function(e){return new le(e,this.options)}),this)},pe.prototype.intersects=function(e,t){if(!(e instanceof pe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new pe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},pe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new X(e,this.options));for(var t=0;t<this.set.length;t++)if(fe(this.set[t],e,this.options))return!0;return!1},t.satisfies=me,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new pe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new X(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new pe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new X(r=e,n)))})),r},t.minVersion=function(e,t){e=new pe(e,t);var n=new X("0.0.0");if(e.test(n))return n;if(n=new X("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach((function(e){var t=new X(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!ne(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},t.validRange=function(e,t){try{return new pe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return ge(e,t,"<",n)},t.gtr=function(e,t,n){return ge(e,t,">",n)},t.outside=ge,t.prerelease=function(e,t){var n=Q(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new pe(e,n),t=new pe(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof X)return e;if("string"!=typeof e)return null;var t=e.match(a[L]);return null==t?null:Q(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},2037:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(4590);t.ErrorCodes=i.ErrorCodes,t.ResponseError=i.ResponseError,t.CancellationToken=i.CancellationToken,t.CancellationTokenSource=i.CancellationTokenSource,t.Disposable=i.Disposable,t.Event=i.Event,t.Emitter=i.Emitter,t.Trace=i.Trace,t.TraceFormat=i.TraceFormat,t.SetTraceNotification=i.SetTraceNotification,t.LogTraceNotification=i.LogTraceNotification,t.RequestType=i.RequestType,t.RequestType0=i.RequestType0,t.NotificationType=i.NotificationType,t.NotificationType0=i.NotificationType0,t.MessageReader=i.MessageReader,t.MessageWriter=i.MessageWriter,t.ConnectionStrategy=i.ConnectionStrategy,t.StreamMessageReader=i.StreamMessageReader,t.StreamMessageWriter=i.StreamMessageWriter,t.IPCMessageReader=i.IPCMessageReader,t.IPCMessageWriter=i.IPCMessageWriter,t.createClientPipeTransport=i.createClientPipeTransport,t.createServerPipeTransport=i.createServerPipeTransport,t.generateRandomPipeName=i.generateRandomPipeName,t.createClientSocketTransport=i.createClientSocketTransport,t.createServerSocketTransport=i.createServerSocketTransport,r(n(7806)),r(n(1180)),t.createProtocolConnection=function(e,t,n,r){return i.createMessageConnection(e,t,n,r)}},2508:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4590);(t.DocumentColorRequest||(t.DocumentColorRequest={})).type=new r.RequestType("textDocument/documentColor"),(t.ColorPresentationRequest||(t.ColorPresentationRequest={})).type=new r.RequestType("textDocument/colorPresentation")},3832:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4590);(t.ConfigurationRequest||(t.ConfigurationRequest={})).type=new r.RequestType("workspace/configuration")},9742:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4590);(t.DeclarationRequest||(t.DeclarationRequest={})).type=new r.RequestType("textDocument/declaration")},4310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4590);var i;(i=t.FoldingRangeKind||(t.FoldingRangeKind={})).Comment="comment",i.Imports="imports",i.Region="region",(t.FoldingRangeRequest||(t.FoldingRangeRequest={})).type=new r.RequestType("textDocument/foldingRange")},1610:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4590);(t.ImplementationRequest||(t.ImplementationRequest={})).type=new r.RequestType("textDocument/implementation")},1180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(818),i=n(4590),o=n(1610);t.ImplementationRequest=o.ImplementationRequest;const s=n(9609);t.TypeDefinitionRequest=s.TypeDefinitionRequest;const a=n(9838);t.WorkspaceFoldersRequest=a.WorkspaceFoldersRequest,t.DidChangeWorkspaceFoldersNotification=a.DidChangeWorkspaceFoldersNotification;const c=n(3832);t.ConfigurationRequest=c.ConfigurationRequest;const l=n(2508);t.DocumentColorRequest=l.DocumentColorRequest,t.ColorPresentationRequest=l.ColorPresentationRequest;const u=n(4310);t.FoldingRangeRequest=u.FoldingRangeRequest;const p=n(9742);var d,h,f,m,g,y,v;t.DeclarationRequest=p.DeclarationRequest,(t.DocumentFilter||(t.DocumentFilter={})).is=function(e){let t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)},(t.RegistrationRequest||(t.RegistrationRequest={})).type=new i.RequestType("client/registerCapability"),(t.UnregistrationRequest||(t.UnregistrationRequest={})).type=new i.RequestType("client/unregisterCapability"),(v=t.ResourceOperationKind||(t.ResourceOperationKind={})).Create="create",v.Rename="rename",v.Delete="delete",(y=t.FailureHandlingKind||(t.FailureHandlingKind={})).Abort="abort",y.Transactional="transactional",y.TextOnlyTransactional="textOnlyTransactional",y.Undo="undo",(g=t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})).None=0,g.Full=1,g.Incremental=2,(t.InitializeRequest||(t.InitializeRequest={})).type=new i.RequestType("initialize"),(t.InitializeError||(t.InitializeError={})).unknownProtocolVersion=1,(t.InitializedNotification||(t.InitializedNotification={})).type=new i.NotificationType("initialized"),(t.ShutdownRequest||(t.ShutdownRequest={})).type=new i.RequestType0("shutdown"),(t.ExitNotification||(t.ExitNotification={})).type=new i.NotificationType0("exit"),(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})).type=new i.NotificationType("workspace/didChangeConfiguration"),(m=t.MessageType||(t.MessageType={})).Error=1,m.Warning=2,m.Info=3,m.Log=4,(t.ShowMessageNotification||(t.ShowMessageNotification={})).type=new i.NotificationType("window/showMessage"),(t.ShowMessageRequest||(t.ShowMessageRequest={})).type=new i.RequestType("window/showMessageRequest"),(t.LogMessageNotification||(t.LogMessageNotification={})).type=new i.NotificationType("window/logMessage"),(t.TelemetryEventNotification||(t.TelemetryEventNotification={})).type=new i.NotificationType("telemetry/event"),(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})).type=new i.NotificationType("textDocument/didOpen"),(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})).type=new i.NotificationType("textDocument/didChange"),(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})).type=new i.NotificationType("textDocument/didClose"),(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})).type=new i.NotificationType("textDocument/didSave"),(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})).type=new i.NotificationType("textDocument/willSave"),(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})).type=new i.RequestType("textDocument/willSaveWaitUntil"),(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})).type=new i.NotificationType("workspace/didChangeWatchedFiles"),(f=t.FileChangeType||(t.FileChangeType={})).Created=1,f.Changed=2,f.Deleted=3,(h=t.WatchKind||(t.WatchKind={})).Create=1,h.Change=2,h.Delete=4,(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})).type=new i.NotificationType("textDocument/publishDiagnostics"),(d=t.CompletionTriggerKind||(t.CompletionTriggerKind={})).Invoked=1,d.TriggerCharacter=2,d.TriggerForIncompleteCompletions=3,(t.CompletionRequest||(t.CompletionRequest={})).type=new i.RequestType("textDocument/completion"),(t.CompletionResolveRequest||(t.CompletionResolveRequest={})).type=new i.RequestType("completionItem/resolve"),(t.HoverRequest||(t.HoverRequest={})).type=new i.RequestType("textDocument/hover"),(t.SignatureHelpRequest||(t.SignatureHelpRequest={})).type=new i.RequestType("textDocument/signatureHelp"),(t.DefinitionRequest||(t.DefinitionRequest={})).type=new i.RequestType("textDocument/definition"),(t.ReferencesRequest||(t.ReferencesRequest={})).type=new i.RequestType("textDocument/references"),(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})).type=new i.RequestType("textDocument/documentHighlight"),(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})).type=new i.RequestType("textDocument/documentSymbol"),(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})).type=new i.RequestType("workspace/symbol"),(t.CodeActionRequest||(t.CodeActionRequest={})).type=new i.RequestType("textDocument/codeAction"),(t.CodeLensRequest||(t.CodeLensRequest={})).type=new i.RequestType("textDocument/codeLens"),(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})).type=new i.RequestType("codeLens/resolve"),(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})).type=new i.RequestType("textDocument/formatting"),(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})).type=new i.RequestType("textDocument/rangeFormatting"),(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})).type=new i.RequestType("textDocument/onTypeFormatting"),(t.RenameRequest||(t.RenameRequest={})).type=new i.RequestType("textDocument/rename"),(t.PrepareRenameRequest||(t.PrepareRenameRequest={})).type=new i.RequestType("textDocument/prepareRename"),(t.DocumentLinkRequest||(t.DocumentLinkRequest={})).type=new i.RequestType("textDocument/documentLink"),(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})).type=new i.RequestType("documentLink/resolve"),(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})).type=new i.RequestType("workspace/executeCommand"),(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={})).type=new i.RequestType("workspace/applyEdit")},9609:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4590);(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={})).type=new r.RequestType("textDocument/typeDefinition")},9838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4590);(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})).type=new r.RequestType0("workspace/workspaceFolders"),(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={})).type=new r.NotificationType("workspace/didChangeWorkspaceFolders")},818:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return"function"==typeof e}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=r,t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&r(e.then)}},7806:(e,t,n)=>{"use strict";var r,i,o,s,a,c,l,u,p,d,h,f,m,g,y,v,b,w,_;n.r(t),n.d(t,{CodeAction:()=>V,CodeActionContext:()=>$,CodeActionKind:()=>q,CodeLens:()=>H,Color:()=>a,ColorInformation:()=>c,ColorPresentation:()=>l,Command:()=>m,CompletionItem:()=>O,CompletionItemKind:()=>P,CompletionList:()=>k,CreateFile:()=>v,DeleteFile:()=>w,Diagnostic:()=>f,DiagnosticRelatedInformation:()=>d,DiagnosticSeverity:()=>h,DocumentHighlight:()=>F,DocumentHighlightKind:()=>L,DocumentLink:()=>W,DocumentSymbol:()=>z,EOL:()=>J,FoldingRange:()=>p,FoldingRangeKind:()=>u,FormattingOptions:()=>G,Hover:()=>A,InsertTextFormat:()=>I,Location:()=>o,LocationLink:()=>s,MarkedString:()=>D,MarkupContent:()=>C,MarkupKind:()=>T,ParameterInformation:()=>R,Position:()=>r,Range:()=>i,RenameFile:()=>b,SignatureInformation:()=>N,SymbolInformation:()=>j,SymbolKind:()=>M,TextDocument:()=>K,TextDocumentEdit:()=>y,TextDocumentIdentifier:()=>E,TextDocumentItem:()=>S,TextDocumentSaveReason:()=>Y,TextEdit:()=>g,VersionedTextDocumentIdentifier:()=>x,WorkspaceChange:()=>U,WorkspaceEdit:()=>_}),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return Q.objectLiteral(t)&&Q.number(t.line)&&Q.number(t.character)}}(r||(r={})),function(e){e.create=function(e,t,n,i){if(Q.number(e)&&Q.number(t)&&Q.number(n)&&Q.number(i))return{start:r.create(e,t),end:r.create(n,i)};if(r.is(e)&&r.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+i+"]")},e.is=function(e){var t=e;return Q.objectLiteral(t)&&r.is(t.start)&&r.is(t.end)}}(i||(i={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return Q.defined(t)&&i.is(t.range)&&(Q.string(t.uri)||Q.undefined(t.uri))}}(o||(o={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return Q.defined(t)&&i.is(t.targetRange)&&Q.string(t.targetUri)&&(i.is(t.targetSelectionRange)||Q.undefined(t.targetSelectionRange))&&(i.is(t.originSelectionRange)||Q.undefined(t.originSelectionRange))}}(s||(s={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return Q.number(t.red)&&Q.number(t.green)&&Q.number(t.blue)&&Q.number(t.alpha)}}(a||(a={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return i.is(t.range)&&a.is(t.color)}}(c||(c={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return Q.string(t.label)&&(Q.undefined(t.textEdit)||g.is(t))&&(Q.undefined(t.additionalTextEdits)||Q.typedArray(t.additionalTextEdits,g.is))}}(l||(l={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(u||(u={})),function(e){e.create=function(e,t,n,r,i){var o={startLine:e,endLine:t};return Q.defined(n)&&(o.startCharacter=n),Q.defined(r)&&(o.endCharacter=r),Q.defined(i)&&(o.kind=i),o},e.is=function(e){var t=e;return Q.number(t.startLine)&&Q.number(t.startLine)&&(Q.undefined(t.startCharacter)||Q.number(t.startCharacter))&&(Q.undefined(t.endCharacter)||Q.number(t.endCharacter))&&(Q.undefined(t.kind)||Q.string(t.kind))}}(p||(p={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return Q.defined(t)&&o.is(t.location)&&Q.string(t.message)}}(d||(d={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(h||(h={})),function(e){e.create=function(e,t,n,r,i,o){var s={range:e,message:t};return Q.defined(n)&&(s.severity=n),Q.defined(r)&&(s.code=r),Q.defined(i)&&(s.source=i),Q.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t=e;return Q.defined(t)&&i.is(t.range)&&Q.string(t.message)&&(Q.number(t.severity)||Q.undefined(t.severity))&&(Q.number(t.code)||Q.string(t.code)||Q.undefined(t.code))&&(Q.string(t.source)||Q.undefined(t.source))&&(Q.undefined(t.relatedInformation)||Q.typedArray(t.relatedInformation,d.is))}}(f||(f={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return Q.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return Q.defined(t)&&Q.string(t.title)&&Q.string(t.command)}}(m||(m={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return Q.objectLiteral(t)&&Q.string(t.newText)&&i.is(t.range)}}(g||(g={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return Q.defined(t)&&x.is(t.textDocument)&&Array.isArray(t.edits)}}(y||(y={})),function(e){e.create=function(e,t){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&Q.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Q.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Q.boolean(t.options.ignoreIfExists)))}}(v||(v={})),function(e){e.create=function(e,t,n){var r={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),r},e.is=function(e){var t=e;return t&&"rename"===t.kind&&Q.string(t.oldUri)&&Q.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Q.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Q.boolean(t.options.ignoreIfExists)))}}(b||(b={})),function(e){e.create=function(e,t){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&Q.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Q.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Q.boolean(t.options.ignoreIfNotExists)))}}(w||(w={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return Q.string(e.kind)?v.is(e)||b.is(e)||w.is(e):y.is(e)})))}}(_||(_={}));var E,x,S,T,C,P,I,O,k,D,A,R,N,L,F,M,j,B=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(g.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(g.replace(e,t))},e.prototype.delete=function(e){this.edits.push(g.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),U=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach((function(e){if(y.is(e)){var n=new B(e.edits);t._textEditChanges[e.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new B(e.changes[n]);t._textEditChanges[n]=r})))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(x.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new B(i),this._textEditChanges[t.uri]=r}return r}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new B(i),this._textEditChanges[e]=r}return r},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(v.create(e,t))},e.prototype.renameFile=function(e,t,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(b.create(e,t,n))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(w.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return Q.defined(t)&&Q.string(t.uri)}}(E||(E={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Q.defined(t)&&Q.string(t.uri)&&(null===t.version||Q.number(t.version))}}(x||(x={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return Q.defined(t)&&Q.string(t.uri)&&Q.string(t.languageId)&&Q.number(t.version)&&Q.string(t.text)}}(S||(S={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(T||(T={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(T||(T={})),function(e){e.is=function(e){var t=e;return Q.objectLiteral(e)&&T.is(t.kind)&&Q.string(t.value)}}(C||(C={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(P||(P={})),function(e){e.PlainText=1,e.Snippet=2}(I||(I={})),function(e){e.create=function(e){return{label:e}}}(O||(O={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(k||(k={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return Q.string(t)||Q.objectLiteral(t)&&Q.string(t.language)&&Q.string(t.value)}}(D||(D={})),function(e){e.is=function(e){var t=e;return!!t&&Q.objectLiteral(t)&&(C.is(t.contents)||D.is(t.contents)||Q.typedArray(t.contents,D.is))&&(void 0===e.range||i.is(e.range))}}(A||(A={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(R||(R={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return Q.defined(t)&&(i.documentation=t),Q.defined(n)?i.parameters=n:i.parameters=[],i}}(N||(N={})),function(e){e.Text=1,e.Read=2,e.Write=3}(L||(L={})),function(e){e.create=function(e,t){var n={range:e};return Q.number(t)&&(n.kind=t),n}}(F||(F={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(M||(M={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(j||(j={}));var q,$,V,H,G,z=function(){};!function(e){e.create=function(e,t,n,r,i,o){var s={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&Q.string(t.name)&&Q.number(t.kind)&&i.is(t.range)&&i.is(t.selectionRange)&&(void 0===t.detail||Q.string(t.detail))&&(void 0===t.deprecated||Q.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(z||(z={})),function(e){e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports"}(q||(q={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return Q.defined(t)&&Q.typedArray(t.diagnostics,f.is)&&(void 0===t.only||Q.typedArray(t.only,Q.string))}}($||($={})),function(e){e.create=function(e,t,n){var r={title:e};return m.is(t)?r.command=t:r.edit=t,void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&Q.string(t.title)&&(void 0===t.diagnostics||Q.typedArray(t.diagnostics,f.is))&&(void 0===t.kind||Q.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||m.is(t.command))&&(void 0===t.edit||_.is(t.edit))}}(V||(V={})),function(e){e.create=function(e,t){var n={range:e};return Q.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return Q.defined(t)&&i.is(t.range)&&(Q.undefined(t.command)||m.is(t.command))}}(H||(H={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return Q.defined(t)&&Q.number(t.tabSize)&&Q.boolean(t.insertSpaces)}}(G||(G={}));var W=function(){};!function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return Q.defined(t)&&i.is(t.range)&&(Q.undefined(t.target)||Q.string(t.target))}}(W||(W={}));var K,Y,J=["\n","\r\n","\r"];!function(e){function t(e,n){if(e.length<=1)return e;var r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);for(var s=0,a=0,c=0;s<i.length&&a<o.length;){var l=n(i[s],o[a]);e[c++]=l<=0?i[s++]:o[a++]}for(;s<i.length;)e[c++]=i[s++];for(;a<o.length;)e[c++]=o[a++];return e}e.create=function(e,t,n,r){return new X(e,t,n,r)},e.is=function(e){var t=e;return!!(Q.defined(t)&&Q.string(t.uri)&&(Q.undefined(t.languageId)||Q.string(t.languageId))&&Q.number(t.lineCount)&&Q.func(t.getText)&&Q.func(t.positionAt)&&Q.func(t.offsetAt))},e.applyEdits=function(e,n){for(var r=e.getText(),i=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=r.length,s=i.length-1;s>=0;s--){var a=i[s],c=e.offsetAt(a.range.start),l=e.offsetAt(a.range.end);if(!(l<=o))throw new Error("Overlapping edit");r=r.substring(0,c)+a.newText+r.substring(l,r.length),o=c}return r}}(K||(K={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(Y||(Y={}));var Q,X=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,i=t.length;if(0===i)return r.create(0,e);for(;n<i;){var o=Math.floor((n+i)/2);t[o]>e?i=o:n=o+1}var s=n-1;return r.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Q||(Q={}))},555:(e,t,n)=>{var r=t;r.version=n(6256).rE,r.transports=n(8364);var i=n(2159);r.hash=i.hash,r.clone=i.clone,r.longestElement=i.longestElement,r.exception=n(661),r.config=n(4328),r.addColors=r.config.addColors,r.Container=n(7083).m,r.Logger=n(8010).V,r.Transport=n(5982).o,r.loggers=new r.Container;var o=new r.Logger({transports:[new r.transports.Console]});r.padLevels=!1,i.setLevels(r,null,o.levels),["log","query","stream","add","remove","clear","profile","startTimer","extend","cli","handleExceptions","unhandleExceptions","configure"].forEach((function(e){r[e]=function(){return o[e].apply(o,arguments)}})),r.cli=function(){return r.padLevels=!0,i.setLevels(r,o.levels,r.config.cli.levels),o.setLevels(r.config.cli.levels),r.config.addColors(r.config.cli.colors),o.transports.console&&(o.transports.console.colorize=!0,o.transports.console.timestamp=!1),r},r.setLevels=function(e){i.setLevels(r,o.levels,e),o.setLevels(e)},Object.defineProperty(r,"level",{get:function(){return o.level},set:function(e){o.level=e,Object.keys(o.transports).forEach((function(t){o.transports[t].level=e}))}}),["emitErrs","exitOnError","padLevels","levelLength","stripColors"].forEach((function(e){Object.defineProperty(r,e,{get:function(){return o[e]},set:function(t){o[e]=t}})})),Object.defineProperty(r,"default",{get:function(){return{transports:o.transports,exceptionHandlers:o.exceptionHandlers}}})},2159:(e,t,n)=>{var r=n(9023),i=n(6982),o=n(1331),s=n(9896),a=n(3193).StringDecoder,c=n(2203).Stream,l=n(4328);function u(){}t.setLevels=function(e,n,r,i){return n&&Object.keys(n).forEach((function(t){delete e[t]})),e.levels=r||l.npm.levels,e.padLevels&&(e.levelLength=t.longestElement(Object.keys(e.levels))),Object.keys(e.levels).forEach((function(t){"log"!==t?e[t]=function(n){var r=[t].concat(Array.prototype.slice.call(arguments));e.log.apply(e,r)}:console.warn('Log level named "log" will clash with the method "log". Consider using a different name.')})),e},t.longestElement=function(e){return Math.max.apply(null,e.map((function(e){return e.length})))},t.clone=function(e){if(e instanceof Error){var n={message:e.message};return Object.getOwnPropertyNames(e).forEach((function(t){n[t]=e[t]})),o.decycle(n)}return e instanceof Object?e instanceof Date?new Date(e.getTime()):function(e){var n=Array.isArray(e)?[]:{};for(var r in e)e.hasOwnProperty(r)&&(Array.isArray(e[r])||e[r]instanceof Buffer?n[r]=e[r].slice(0):"function"!=typeof e[r]?n[r]=e[r]instanceof Object?t.clone(e[r]):e[r]:"function"==typeof e[r]&&(n[r]=e[r]));return n}(o.decycle(e)):e},t.log=function(e){var n,i="function"==typeof e.timestamp?e.timestamp:t.timestamp,o=e.timestamp?i():null,s=void 0===e.showLevel||e.showLevel,a=null!==e.meta&&void 0!==e.meta?t.clone(e.meta):e.meta||null;if(e.raw)return"object"!=typeof a&&null!=a&&(a={meta:a}),(n=t.clone(a)||{}).level=e.level,n.message=e.message.stripColors?e.message.stripColors:e.message,JSON.stringify(n);if(e.json||!0===e.logstash){if("object"!=typeof a&&null!=a&&(a={meta:a}),(n=t.clone(a)||{}).level=e.level,n.message=n.message||"",e.label&&(n.label=e.label),e.message&&(n.message=e.message),o&&(n.timestamp=o),!0===e.logstash){var c={};void 0!==n.message&&(c["@message"]=n.message,delete n.message),void 0!==n.timestamp&&(c["@timestamp"]=n.timestamp,delete n.timestamp),c["@fields"]=t.clone(n),n=c}return"function"==typeof e.stringify?e.stringify(n):JSON.stringify(n,(function(e,t){return t instanceof Buffer?t.toString("base64"):t}))}if("function"==typeof e.formatter)return e.meta=a||e.meta,e.meta instanceof Error&&(e.meta=t.clone(e.meta)),String(e.formatter(t.clone(e)));if(n=o?o+" - ":"",s&&(n+="all"===e.colorize||"level"===e.colorize||!0===e.colorize?l.colorize(e.level):e.level),n+=e.align?"\t":"",n+=o||s?": ":"",n+=e.label?"["+e.label+"] ":"",n+="all"===e.colorize||"message"===e.colorize?l.colorize(e.level,e.message):e.message,null!=a)if("object"!=typeof a)n+=" "+a;else if(Object.keys(a).length>0)if("function"==typeof e.prettyPrint)n+=" "+e.prettyPrint(a);else if(e.prettyPrint)n+=" \n"+r.inspect(a,!1,e.depth||null,e.colorize);else if(e.humanReadableUnhandledException&&Object.keys(a).length>=5&&a.hasOwnProperty("date")&&a.hasOwnProperty("process")&&a.hasOwnProperty("os")&&a.hasOwnProperty("trace")&&a.hasOwnProperty("stack")){var u=a.stack;delete a.stack,delete a.trace,n+=" "+t.serialize(a),u&&(n+="\n"+u.join("\n"))}else n+=" "+t.serialize(a);return n},t.capitalize=function(e){return e&&e[0].toUpperCase()+e.slice(1)},t.hash=function(e){return i.createHash("sha1").update(e).digest("hex")},t.pad=function(e){return e<10?"0"+e.toString(10):e.toString(10)},t.timestamp=function(){return(new Date).toISOString()},t.serialize=function(e,n){if("symbol"==typeof n&&(n=n.toString()),"symbol"==typeof e&&(e=e.toString()),null===e?e="null":void 0===e?e="undefined":!1===e&&(e="false"),"object"!=typeof e)return n?n+"="+e:e;if(e instanceof Buffer)return n?n+"="+e.toString("base64"):e.toString("base64");for(var r="",i=Object.keys(e),o=i.length,s=0;s<o;s++){if(Array.isArray(e[i[s]])){r+=i[s]+"=[";for(var a=0,c=e[i[s]].length;a<c;a++)r+=t.serialize(e[i[s]][a]),a<c-1&&(r+=", ");r+="]"}else e[i[s]]instanceof Date?r+=i[s]+"="+e[i[s]]:r+=t.serialize(e[i[s]],i[s]);s<o-1&&(r+=", ")}return r},t.tailFile=function(e,t){var n=Buffer.alloc(65536),r=new a("utf8"),i=new c,o="",l=0,p=0;return-1===e.start&&delete e.start,i.readable=!0,i.destroy=function(){i.destroyed=!0,i.emit("end"),i.emit("close")},s.open(e.file,"a+","0644",(function(a,c){if(a)return t?t(a):i.emit("error",a),void i.destroy();!function a(){if(!i.destroyed)return s.read(c,n,0,n.length,l,(function(s,c){if(s)return t?t(s):i.emit("error",s),void i.destroy();if(!c)return o&&((null==e.start||p>e.start)&&(t?t(null,o):i.emit("line",o)),p++,o=""),setTimeout(a,1e3);var u=r.write(n.slice(0,c));t||i.emit("data",u);for(var d=(u=(o+u).split(/\n+/)).length-1,h=0;h<d;h++)(null==e.start||p>e.start)&&(t?t(null,u[h]):i.emit("line",u[h])),p++;return o=u[d],l+=c,a()}));s.close(c,u)}()})),t?i.destroy:i},t.stringArrayToSet=function(e,t){return void 0===t&&(t="Cannot make set from Array with non-string elements"),e.reduce((function(e,n){if(!("string"==typeof n||n instanceof String))throw new Error(t);return e[n]=!0,e}),Object.create(null))}},4328:(e,t,n)=>{var r=n(948);r.enabled=!0;var i=t,o=t.allColors={};i.addColors=function(e){!function(e){Array.prototype.slice.call(arguments,1).forEach((function(t){for(var n=Object.keys(t),r=0;r<n.length;r++)e[n[r]]=t[n[r]]}))}(o,e)},i.colorize=function(e,t){void 0===t&&(t=e);var n=t;if(o[e]instanceof Array)for(var i=0,s=o[e].length;i<s;++i)n=r[o[e][i]](n);else if(o[e].match(/\s/)){var a=o[e].split(/\s+/);for(i=0;i<a.length;++i)n=r[a[i]](n);o[e]=a}else n=r[o[e]](n);return n},i.cli=n(168),i.npm=n(4841),i.syslog=n(3773),i.addColors(i.cli.colors),i.addColors(i.npm.colors),i.addColors(i.syslog.colors)},168:(e,t)=>{var n=t;n.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},n.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},4841:(e,t)=>{var n=t;n.levels={error:0,warn:1,info:2,verbose:3,debug:4,silly:5},n.colors={error:"red",warn:"yellow",info:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},3773:(e,t)=>{var n=t;n.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},n.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},7083:(e,t,n)=>{var r=n(2159),i=n(555),o=n(9023)._extend,s=t.m=function(e){this.loggers={},this.options=e||{},this.default={transports:[new i.transports.Console({level:"silly",colorize:!1})]}};s.prototype.get=s.prototype.add=function(e,t){var n,s=this;return this.loggers[e]||(n=(t=o({},t||this.options||this.default)).transports||this.options.transports,t.transports=n?n.slice():[],0!==t.transports.length||t&&t.console||t.transports.push(this.default.transports[0]),Object.keys(t).forEach((function(n){if("transports"!==n&&"filters"!==n&&"rewriters"!==n){var o=r.capitalize(n);if(!i.transports[o])throw new Error("Cannot add unknown transport: "+o);var s=t[n];s.id=e,t.transports.push(new i.transports[o](s))}})),t.id=e,this.loggers[e]=new i.Logger(t),this.loggers[e].on("close",(function(){s._delete(e)}))),this.loggers[e]},s.prototype.has=function(e){return!!this.loggers[e]},s.prototype.close=function(e){var t=this;function n(e){t.loggers[e]&&(t.loggers[e].close(),t._delete(e))}return e?n(e):Object.keys(this.loggers).forEach((function(e){n(e)}))},s.prototype._delete=function(e){delete this.loggers[e]}},661:(e,t,n)=>{var r=n(857),i=n(5031),o=t;o.getAllInfo=function(e){return{date:(new Date).toString(),process:o.getProcessInfo(),os:o.getOsInfo(),trace:o.getTrace(e),stack:e.stack&&e.stack.split("\n")}},o.getProcessInfo=function(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}},o.getOsInfo=function(){return{loadavg:r.loadavg(),uptime:r.uptime()}},o.getTrace=function(e){return(e?i.parse(e):i.get()).map((function(e){return{column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()}}))}},8010:(e,t,n)=>{var r=n(4434),i=n(9023),o=n(5119),s=n(4328),a=n(2159),c=n(661),l=n(2203).Stream,u=/%[sdj%]/g,p=t.V=function(e){r.EventEmitter.call(this),this.configure(e)};function d(e){this.logger=e,this.start=Date.now()}i.inherits(p,r.EventEmitter),p.prototype.configure=function(e){var t=this;Array.isArray(this._names)&&this._names.length&&this.clear(),e=e||{},this.transports={},this._names=[],e.transports&&e.transports.forEach((function(e){t.add(e,null,!0)})),this.padLevels=e.padLevels||!1,this.setLevels(e.levels),e.colors&&s.addColors(e.colors),this.id=e.id||null,this.level=e.level||"info",this.emitErrs=e.emitErrs||!1,this.stripColors=e.stripColors||!1,this.exitOnError=void 0===e.exitOnError||e.exitOnError,this.exceptionHandlers={},this.profilers={},["rewriters","filters"].forEach((function(n){t[n]=Array.isArray(e[n])?e[n]:[]})),e.exceptionHandlers&&this.handleExceptions(e.exceptionHandlers)},p.prototype.log=function(e){for(var t=Array.prototype.slice.call(arguments,1),n=this;null===t[t.length-1];)t.pop();var r="function"==typeof t[t.length-1]?t.pop():null;function s(e){r?r(e):n.emitErrs&&n.emit("error",e)}if(0===this._names.length)return s(new Error("Cannot log with no transports."));if(void 0===n.levels[e])return s(new Error("Unknown log level: "+e));var a=this._names.filter((function(t){var r=n.transports[t];return r.level&&n.levels[r.level]>=n.levels[e]||!r.level&&n.levels[n.level]>=n.levels[e]}));if(a.length){var c,l={},p=t&&t[0]&&t[0].match&&null!==t[0].match(u)?t[0].match(u):[],d=p.filter((function(e){return"%%"===e}));if(t.length-1-(p.length-d.length)>0||1===t.length){l=t[t.length-1]||t;var h=Object.prototype.toString.call(l);l="[object Object]"===h||"[object Error]"===h||"[object Array]"===h?t.pop():{}}return c=i.format.apply(null,t),this.padLevels&&(c=new Array(this.levelLength-e.length+1).join(" ")+c),this.rewriters.forEach((function(t){l=t(e,c,l,n)})),this.filters.forEach((function(t){var r=t(e,c,l,n);"string"==typeof r?c=r:(c=r.msg,l=r.meta)})),this.stripColors&&(c=(""+c).replace(/\u001b\[(\d+(;\d+)*)?m/g,"")),o.forEach(a,(function(t,r){var i=n.transports[t];i.log(e,c,l,(function(t){if(t)return t.transport=i,f(t),r();n.emit("logging",i,e,c,l),r()}))}),f),this}function f(t){if(r){if(t)return r(t);r(null,e,c,l)}r=null,t||n.emit("logged",e,c,l)}r&&r()},p.prototype.query=function(e,t){"function"==typeof e&&(t=e,e={});var n,r=this,i=(e=e||{},{}),s=a.clone(e.query)||{};function c(t,n){e.query&&(e.query=t.formatQuery(s)),t.query(e,(function(r,i){if(r)return n(r);n(null,t.formatResults(i,e.format))}))}if(e.transport)return e.transport=e.transport.toLowerCase(),c(this.transports[e.transport],t);n=this._names.map((function(e){return r.transports[e]})).filter((function(e){return!!e.query})),o.forEach(n,(function(e,t){c(e,(function(n,r){t&&((r=n||r)&&(i[e.name]=r),t()),t=null}))}),(function(){t(null,i)}))},p.prototype.stream=function(e){var t,n=this,r=(e=e||{},new l),i=[];if(e.transport){var o=this.transports[e.transport];if(delete e.transport,o&&o.stream)return o.stream(e)}return r._streams=i,r.destroy=function(){for(var e=i.length;e--;)i[e].destroy()},t=this._names.map((function(e){return n.transports[e]})).filter((function(e){return!!e.stream})),t.forEach((function(t){var n=t.stream(e);n&&(i.push(n),n.on("log",(function(e){e.transport=e.transport||[],e.transport.push(t.name),r.emit("log",e)})),n.on("error",(function(e){e.transport=e.transport||[],e.transport.push(t.name),r.emit("error",e)})))})),r},p.prototype.close=function(){var e=this;this._names.forEach((function(t){var n=e.transports[t];n&&n.close&&n.close()})),this.emit("close")},p.prototype.handleExceptions=function(){var e=Array.prototype.slice.call(arguments),t=[],n=this;e.forEach((function(e){Array.isArray(e)?t=t.concat(e):t.push(e)})),this.exceptionHandlers=this.exceptionHandlers||{},t.forEach((function(e){n.exceptionHandlers[e.name]=e})),this._hnames=Object.keys(n.exceptionHandlers),this.catchExceptions||(this.catchExceptions=this._uncaughtException.bind(this),process.on("uncaughtException",this.catchExceptions))},p.prototype.unhandleExceptions=function(){var e=this;this.catchExceptions&&(Object.keys(this.exceptionHandlers).forEach((function(t){var n=e.exceptionHandlers[t];n.close&&n.close()})),this.exceptionHandlers={},Object.keys(this.transports).forEach((function(t){var n=e.transports[t];n.handleExceptions&&(n.handleExceptions=!1)})),process.removeListener("uncaughtException",this.catchExceptions),this.catchExceptions=!1)},p.prototype.add=function(e,t,n){var r=n?e:new e(t);if(!r.name&&!r.log)throw new Error("Unknown transport with no log() method");if(this.transports[r.name])throw new Error("Transport already attached: "+r.name+", assign a different name");return this.transports[r.name]=r,this._names=Object.keys(this.transports),r._onError=this._onError.bind(this,r),n||r.on("error",r._onError),r.handleExceptions&&!this.catchExceptions&&this.handleExceptions(),this},p.prototype.clear=function(){Object.keys(this.transports).forEach((function(e){this.remove({name:e})}),this)},p.prototype.remove=function(e){var t="string"!=typeof e?e.name||e.prototype.name:e;if(!this.transports[t])throw new Error("Transport "+t+" not attached to this instance");var n=this.transports[t];return delete this.transports[t],this._names=Object.keys(this.transports),n.close&&n.close(),n._onError&&n.removeListener("error",n._onError),this},p.prototype.startTimer=function(){return new d(this)},p.prototype.profile=function(e){var t,n,r,i,o,s=Date.now();return this.profilers[e]?(t=this.profilers[e],delete this.profilers[e],o="function"==typeof(n=Array.prototype.slice.call(arguments))[n.length-1]?n.pop():null,i="object"==typeof n[n.length-1]?n.pop():{},r=2===n.length?n[1]:e,i.durationMs=s-t,this.info(r,i,o)):(this.profilers[e]=s,this)},p.prototype.setLevels=function(e){return a.setLevels(this,this.levels,e)},p.prototype.cli=function(){return this.padLevels=!0,this.setLevels(s.cli.levels),s.addColors(s.cli.colors),this.transports.console&&(this.transports.console.colorize=this.transports.console.colorize||!0,this.transports.console.timestamp=this.transports.console.timestamp||!1),this},p.prototype._uncaughtException=function(e){var t,n,r=!1,i=c.getAllInfo(e),s=this._getExceptionHandlers();function a(){n&&!r&&(clearTimeout(t),r=!0,process.exit(1))}if(n="function"==typeof this.exitOnError?this.exitOnError(e):this.exitOnError,!s||0===s.length)return a();o.forEach(s,(function(t,n){t.logException("uncaughtException: "+(e.message||e),i,n,e)}),a),n&&(t=setTimeout(a,3e3))},p.prototype._getExceptionHandlers=function(){var e=this;return this._hnames.map((function(t){return e.exceptionHandlers[t]})).concat(this._names.map((function(t){return e.transports[t].handleExceptions&&e.transports[t]}))).filter(Boolean)},p.prototype._onError=function(e,t){this.emitErrs&&this.emit("error",t,e)},d.prototype.done=function(e){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,r="object"==typeof t[t.length-1]?t.pop():{};return r.duration=Date.now()-this.start+"ms",this.logger.info(e,r,n)}},8364:(e,t,n)=>{Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:function(){return n(7522).C}}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:function(){return n(4873).Z}}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:function(){return n(5071).l}}),Object.defineProperty(t,"Memory",{configurable:!0,enumerable:!0,get:function(){return n(3112).c}})},7522:(e,t,n)=>{n(4434);var r=n(857),i=n(9023),o=n(2159),s=n(5982).o,a=t.C=function(e){s.call(this,e),e=e||{},this.json=e.json||!1,this.colorize=e.colorize||!1,this.prettyPrint=e.prettyPrint||!1,this.timestamp=void 0!==e.timestamp&&e.timestamp,this.showLevel=void 0===e.showLevel||e.showLevel,this.label=e.label||null,this.logstash=e.logstash||!1,this.depth=e.depth||null,this.align=e.align||!1,this.stderrLevels=function(e,t){var n="Cannot have non-string elements in stderrLevels Array";if(t){if(e)throw new Error("Cannot set debugStdout and stderrLevels together");return o.stringArrayToSet(["error"],n)}if(!e)return o.stringArrayToSet(["error","debug"],n);if(!Array.isArray(e))throw new Error("Cannot set stderrLevels to type other than Array");return o.stringArrayToSet(e,n)}(e.stderrLevels,e.debugStdout),this.eol=e.eol||r.EOL,this.json&&(this.stringify=e.stringify||function(e){return JSON.stringify(e,null,2)})};i.inherits(a,s),a.prototype.name="console",a.prototype.log=function(e,t,n,r){if(this.silent)return r(null,!0);var i;i=o.log({colorize:this.colorize,json:this.json,level:e,message:t,meta:n,stringify:this.stringify,timestamp:this.timestamp,showLevel:this.showLevel,prettyPrint:this.prettyPrint,raw:this.raw,label:this.label,logstash:this.logstash,depth:this.depth,formatter:this.formatter,align:this.align,humanReadableUnhandledException:this.humanReadableUnhandledException}),this.stderrLevels[e]?process.stderr.write(i+this.eol):process.stdout.write(i+this.eol),this.emit("logged"),r(null,!0)}},4873:(e,t,n)=>{n(4434);var r=n(9896),i=n(6928),o=n(9023),s=n(5119),a=n(3106),c=n(2159),l=n(5982).o,u=n(4181).isWritable,p=n(2203).Stream,d=n(857),h=t.Z=function(e){var t=this;function n(t){Array.prototype.slice.call(arguments,1).forEach((function(n){if(e[n])throw new Error("Cannot set "+n+" and "+t+"together")}))}if(l.call(this,e),e.filename||e.dirname)n("filename or dirname","stream"),this._basename=this.filename=e.filename?i.basename(e.filename):"winston.log",this.dirname=e.dirname||i.dirname(e.filename),this.options=e.options||{flags:"a"},this.options.highWaterMark=this.options.highWaterMark||24;else{if(!e.stream)throw new Error("Cannot log to file without filename or stream.");n("stream","filename","maxsize"),this._stream=e.stream,this._isStreams2=u(this._stream),this._stream.on("error",(function(e){t.emit("error",e)})),this._stream.setMaxListeners(1/0)}this.json=!1!==e.json,this.logstash=e.logstash||!1,this.colorize=e.colorize||!1,this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.prettyPrint=e.prettyPrint||!1,this.label=e.label||null,this.timestamp=null==e.timestamp||e.timestamp,this.eol=e.eol||d.EOL,this.tailable=e.tailable||!1,this.depth=e.depth||null,this.showLevel=void 0===e.showLevel||e.showLevel,this.maxRetries=e.maxRetries||2,this.json&&(this.stringify=e.stringify),this._size=0,this._created=0,this._buffer=[],this._draining=!1,this._opening=!1,this._failures=0,this._archive=null};o.inherits(h,l),h.prototype.name="file",h.prototype.log=function(e,t,n,r){if(this.silent)return r(null,!0);if(this._failures>=this.maxRetries)return r(new Error("Transport is in a failed state."));var i=this;"string"!=typeof t&&(t=""+t);var o=c.log({level:e,message:t,meta:n,json:this.json,logstash:this.logstash,colorize:this.colorize,prettyPrint:this.prettyPrint,timestamp:this.timestamp,showLevel:this.showLevel,stringify:this.stringify,label:this.label,depth:this.depth,formatter:this.formatter,humanReadableUnhandledException:this.humanReadableUnhandledException});"string"==typeof o&&(o+=this.eol),this.filename?this.open((function(e){if(e)return i._buffer.push([o,r]);i._write(o,r),i._size+=o.length,i._lazyDrain()})):(this._write(o,r),this._size+=o.length,this._lazyDrain())},h.prototype._write=function(e,t){if(this._isStreams2)return this._stream.write(e),t&&process.nextTick((function(){t(null,!0)}));var n=this._stream.write(e);return t?!1===n?this._stream.once("drain",(function(){t(null,!0)})):void process.nextTick((function(){t(null,!0)})):void 0},h.prototype.query=function(e,t){"function"==typeof e&&(t=e,e={});var n=i.join(this.dirname,this.filename),o=(e=this.normalizeQuery(e),""),s=[],a=0,c=r.createReadStream(n,{encoding:"utf8"});function l(t,n){try{var r=JSON.parse(t);(function(t){if(t&&"object"==typeof t){var n=new Date(t.timestamp);if(!(e.from&&n<e.from||e.until&&n>e.until||e.level&&e.level!==t.level))return!0}})(r)&&function(t){if(e.rows&&s.length>=e.rows&&"desc"!=e.order)c.readable&&c.destroy();else{if(e.fields){var n={};e.fields.forEach((function(e){n[e]=t[e]})),t=n}"desc"===e.order&&s.length>=e.rows&&s.shift(),s.push(t)}}(r)}catch(e){n||c.emit("error",e)}}c.on("error",(function(e){if(c.readable&&c.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,s)})),c.on("data",(function(t){for(var n=(t=(o+t).split(/\n+/)).length-1,r=0;r<n;r++)(!e.start||a>=e.start)&&l(t[r]),a++;o=t[n]})),c.on("close",(function(){o&&l(o,!0),"desc"===e.order&&(s=s.reverse()),t&&t(null,s)}))},h.prototype.stream=function(e){var t=i.join(this.dirname,this.filename),n=(e=e||{},new p),r={file:t,start:e.start};return n.destroy=c.tailFile(r,(function(e,t){if(e)return n.emit("error",e);try{n.emit("data",t),t=JSON.parse(t),n.emit("log",t)}catch(e){n.emit("error",e)}})),n},h.prototype.open=function(e){return this.opening?e(!0):!this._stream||this.maxsize&&this._size>=this.maxsize?(e(!0),this._createStream()):(this._archive=this.zippedArchive?this._stream.path:null,void e())},h.prototype.close=function(){var e=this;this._stream&&(this._stream.end(),this._stream.destroySoon(),this._stream.once("finish",(function(){e.emit("flush"),e.emit("closed")})))},h.prototype.flush=function(){var e=this;if(!this._buffer.length)return e.emit("flush");this._buffer.forEach((function(t){var n=t[0],r=t[1];process.nextTick((function(){e._write(n,r),e._size+=n.length}))})),e._buffer.length=0,e._stream.once("drain",(function(){e.emit("flush"),e.emit("logged")}))},h.prototype._createStream=function(){var e=this;this.opening=!0,function t(n){var o=i.join(e.dirname,n);function s(t){e._stream&&(e._stream.end(),e._stream.destroySoon()),e._size=t,e.filename=n,e._stream=r.createWriteStream(o,e.options),e._isStreams2=u(e._stream),e._stream.on("error",(function(t){e._failures<e.maxRetries?(e._createStream(),e._failures++):e.emit("error",t)})),e._stream.setMaxListeners(1/0),e.once("flush",(function(){e.flush(),e.opening=!1,e.emit("open",o)})),e.flush(),function(){if(e._archive){var t=a.createGzip(),n=r.createReadStream(String(e._archive)),i=r.createWriteStream(e._archive+".gz");n.pipe(t).pipe(i),r.unlink(String(e._archive),(function(){})),e._archive=""}}()}r.stat(o,(function(n,r){return n?"ENOENT"!==n.code?e.emit("error",n):s(0):!r||e.maxsize&&r.size>=e.maxsize?e._incFile((function(){t(e._getFile())})):void s(r.size)}))}(this._getFile())},h.prototype._incFile=function(e){var t=i.extname(this._basename),n=i.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,n,e):(this._created+=1,this._checkMaxFilesIncrementing(t,n,e))},h.prototype._getFile=function(){var e=i.extname(this._basename),t=i.basename(this._basename,e);return!this.tailable&&this._created?t+(this.rotationFormat?this.rotationFormat():this._created)+e:t+e},h.prototype._checkMaxFilesIncrementing=function(e,t,n){var o,s,a=this;if(a.zippedArchive&&(a._archive=i.join(a.dirname,t+(1===a._created?"":a._created-1)+e)),!a.maxFiles||a._created<a.maxFiles)return n();o=a._created-a.maxFiles,s=i.join(a.dirname,t+(0!==o?o:"")+e+(a.zippedArchive?".gz":"")),r.unlink(s,n)},h.prototype._checkMaxFilesTailable=function(e,t,n){var o=[],a=this;if(this.maxFiles){for(var c=this.maxFiles-1;c>0;c--)o.push(function(n){return function(o){var s=i.join(a.dirname,t+(n-1)+e+(a.zippedArchive?".gz":""));r.exists(s,(function(c){if(!c)return o(null);r.rename(s,i.join(a.dirname,t+n+e+(a.zippedArchive?".gz":"")),o)}))}}(c));a.zippedArchive&&(a._archive=i.join(a.dirname,t+1+e)),s.series(o,(function(o){r.rename(i.join(a.dirname,t+e),i.join(a.dirname,t+1+e),n)}))}},h.prototype._lazyDrain=function(){var e=this;!this._draining&&this._stream&&(this._draining=!0,this._stream.once("drain",(function(){e._draining=!1,e.emit("logged")})))}},5071:(e,t,n)=>{var r=n(9023),i=n(555),o=n(8611),s=n(5692),a=n(2203).Stream,c=n(5982).o,l=t.l=function(e){c.call(this,e),e=e||{},this.name="http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80)};r.inherits(l,i.Transport),l.prototype.name="http",l.prototype._request=function(e,t){var n,r=(e=e||{}).auth||this.auth,i=e.path||this.path||"";delete e.auth,delete e.path,(n=(this.ssl?s:o).request({host:this.host,port:this.port,path:"/"+i.replace(/^\//,""),method:"POST",headers:this.headers,agent:this.agent,auth:r?r.username+":"+r.password:""})).on("error",t),n.on("response",(function(e){var n="";e.on("data",(function(e){n+=e})),e.on("end",(function(){t(null,e,n)})),e.resume()})),n.end(new Buffer.from(JSON.stringify(e),"utf8"))},l.prototype.log=function(e,t,n,r){var i=this;"function"==typeof n&&(r=n,n={});var o={method:"collect",params:{level:e,message:t,meta:n}};n&&(n.path&&(o.path=n.path,delete n.path),n.auth&&(o.auth=n.auth,delete n.auth)),this._request(o,(function(e,t){if(t&&200!==t.statusCode&&(e=new Error("HTTP Status Code: "+t.statusCode)),e)return r(e);i.emit("logged"),r&&r(null,!0)}))},l.prototype.query=function(e,t){"function"==typeof e&&(t=e,e={}),(e={method:"query",params:e=this.normalizeQuery(e)}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),this._request(e,(function(e,n,r){if(n&&200!==n.statusCode&&(e=new Error("HTTP Status Code: "+n.statusCode)),e)return t(e);if("string"==typeof r)try{r=JSON.parse(r)}catch(e){return t(e)}t(null,r)}))},l.prototype.stream=function(e){e=e||{};var t,n,r=new a;return r.destroy=function(){t.destroy()},(e={method:"stream",params:e}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),t=this._request(e),n="",t.on("data",(function(e){for(var t=(e=(n+e).split(/\n+/)).length-1,i=0;i<t;i++)try{r.emit("log",JSON.parse(e[i]))}catch(e){r.emit("error",e)}n=e[t]})),t.on("error",(function(e){r.emit("error",e)})),r}},3112:(e,t,n)=>{n(4434);var r=n(9023),i=n(2159),o=n(5982).o,s=t.c=function(e){o.call(this,e),e=e||{},this.errorOutput=[],this.writeOutput=[],this.json=e.json||!1,this.colorize=e.colorize||!1,this.prettyPrint=e.prettyPrint||!1,this.timestamp=void 0!==e.timestamp&&e.timestamp,this.showLevel=void 0===e.showLevel||e.showLevel,this.label=e.label||null,this.depth=e.depth||null,this.json&&(this.stringify=e.stringify||function(e){return JSON.stringify(e,null,2)})};r.inherits(s,o),s.prototype.name="memory",s.prototype.log=function(e,t,n,r){if(this.silent)return r(null,!0);var o;o=i.log({colorize:this.colorize,json:this.json,level:e,message:t,meta:n,stringify:this.stringify,timestamp:this.timestamp,prettyPrint:this.prettyPrint,raw:this.raw,label:this.label,depth:this.depth,formatter:this.formatter,humanReadableUnhandledException:this.humanReadableUnhandledException}),"error"===e||"debug"===e?this.errorOutput.push(o):this.writeOutput.push(o),this.emit("logged"),r(null,!0)},s.prototype.clearLogs=function(){this.errorOutput=[],this.writeOutput=[]}},5982:(e,t,n)=>{var r=n(4434),i=n(9023),o=t.o=function(e){r.EventEmitter.call(this),e=e||{},this.silent=e.silent||!1,this.raw=e.raw||!1,this.name=e.name||this.name,this.formatter=e.formatter,this.level=e.level,this.handleExceptions=e.handleExceptions||!1,this.exceptionsLevel=e.exceptionsLevel||"error",this.humanReadableUnhandledException=e.humanReadableUnhandledException||!1};i.inherits(o,r.EventEmitter),o.prototype.formatQuery=function(e){return e},o.prototype.normalizeQuery=function(e){return(e=e||{}).rows=e.rows||e.limit||10,e.start=e.start||0,e.until=e.until||new Date,"object"!=typeof e.until&&(e.until=new Date(e.until)),e.from=e.from||e.until-864e5,"object"!=typeof e.from&&(e.from=new Date(e.from)),e.order=e.order||"desc",e.fields=e.fields,e},o.prototype.formatResults=function(e,t){return e},o.prototype.logException=function(e,t,n){var r,i=this;if(this.silent)return n();function o(){r||(r=!0,i.removeListener("logged",o),i.removeListener("error",o),n())}this.once("logged",o),this.once("error",o),this.log(i.exceptionsLevel,e,t,(function(){}))}},6587:e=>{e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}},7699:(e,t,n)=>{"use strict";const r=n(1060);r.createWebSocketStream=n(3719),r.Server=n(1722),r.Receiver=n(6286),r.Sender=n(914),e.exports=r},3338:(e,t,n)=>{"use strict";const{EMPTY_BUFFER:r}=n(2614);function i(e,t){if(0===e.length)return r;if(1===e.length)return e[0];const n=Buffer.allocUnsafe(t);let i=0;for(let t=0;t<e.length;t++){const r=e[t];n.set(r,i),i+=r.length}return i<t?n.slice(0,i):n}function o(e,t,n,r,i){for(let o=0;o<i;o++)n[r+o]=e[o]^t[3&o]}function s(e,t){const n=e.length;for(let r=0;r<n;r++)e[r]^=t[3&r]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=n(6608),r=t.BufferUtil||t;e.exports={concat:i,mask(e,t,n,i,s){s<48?o(e,t,n,i,s):r.mask(e,t,n,i,s)},toArrayBuffer:a,toBuffer:c,unmask(e,t){e.length<32?s(e,t):r.unmask(e,t)}}}catch(t){e.exports={concat:i,mask:o,toArrayBuffer:a,toBuffer:c,unmask:s}}},2614:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},597:e=>{"use strict";class t{constructor(e,t){this.target=t,this.type=e}}class n extends t{constructor(e,t){super("message",t),this.data=e}}class r extends t{constructor(e,t,n){super("close",n),this.wasClean=n._closeFrameReceived&&n._closeFrameSent,this.reason=t,this.code=e}}class i extends t{constructor(e){super("open",e)}}class o extends t{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const s={addEventListener(e,t,s){if("function"!=typeof t)return;function a(e){t.call(this,new n(e,this))}function c(e,n){t.call(this,new r(e,n,this))}function l(e){t.call(this,new o(e,this))}function u(){t.call(this,new i(this))}const p=s&&s.once?"once":"on";"message"===e?(a._listener=t,this[p](e,a)):"close"===e?(c._listener=t,this[p](e,c)):"error"===e?(l._listener=t,this[p](e,l)):"open"===e?(u._listener=t,this[p](e,u)):this[p](e,t)},removeEventListener(e,t){const n=this.listeners(e);for(let r=0;r<n.length;r++)n[r]!==t&&n[r]._listener!==t||this.removeListener(e,n[r])}};e.exports=s},5926:e=>{"use strict";const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function n(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}e.exports={format:function(e){return Object.keys(e).map((t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map((e=>[t].concat(Object.keys(e).map((t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const r=Object.create(null);if(void 0===e||""===e)return r;let i,o,s=Object.create(null),a=!1,c=!1,l=!1,u=-1,p=-1,d=0;for(;d<e.length;d++){const h=e.charCodeAt(d);if(void 0===i)if(-1===p&&1===t[h])-1===u&&(u=d);else if(32===h||9===h)-1===p&&-1!==u&&(p=d);else{if(59!==h&&44!==h)throw new SyntaxError(`Unexpected character at index ${d}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${d}`);-1===p&&(p=d);const t=e.slice(u,p);44===h?(n(r,t,s),s=Object.create(null)):i=t,u=p=-1}}else if(void 0===o)if(-1===p&&1===t[h])-1===u&&(u=d);else if(32===h||9===h)-1===p&&-1!==u&&(p=d);else if(59===h||44===h){if(-1===u)throw new SyntaxError(`Unexpected character at index ${d}`);-1===p&&(p=d),n(s,e.slice(u,p),!0),44===h&&(n(r,i,s),s=Object.create(null),i=void 0),u=p=-1}else{if(61!==h||-1===u||-1!==p)throw new SyntaxError(`Unexpected character at index ${d}`);o=e.slice(u,d),u=p=-1}else if(c){if(1!==t[h])throw new SyntaxError(`Unexpected character at index ${d}`);-1===u?u=d:a||(a=!0),c=!1}else if(l)if(1===t[h])-1===u&&(u=d);else if(34===h&&-1!==u)l=!1,p=d;else{if(92!==h)throw new SyntaxError(`Unexpected character at index ${d}`);c=!0}else if(34===h&&61===e.charCodeAt(d-1))l=!0;else if(-1===p&&1===t[h])-1===u&&(u=d);else if(-1===u||32!==h&&9!==h){if(59!==h&&44!==h)throw new SyntaxError(`Unexpected character at index ${d}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${d}`);-1===p&&(p=d);let t=e.slice(u,p);a&&(t=t.replace(/\\/g,""),a=!1),n(s,o,t),44===h&&(n(r,i,s),s=Object.create(null),i=void 0),o=void 0,u=p=-1}}else-1===p&&(p=d)}if(-1===u||l)throw new SyntaxError("Unexpected end of input");-1===p&&(p=d);const h=e.slice(u,p);return void 0===i?n(r,h,s):(void 0===o?n(s,h,!0):n(s,o,a?h.replace(/\\/g,""):h),n(r,i,s)),r}}},4759:e=>{"use strict";const t=Symbol("kDone"),n=Symbol("kRun");e.exports=class{constructor(e){this[t]=()=>{this.pending--,this[n]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[n]()}[n](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},2971:(e,t,n)=>{"use strict";const r=n(3106),i=n(3338),o=n(4759),{kStatusCode:s,NOOP:a}=n(2614),c=Buffer.from([0,0,255,255]),l=Symbol("permessage-deflate"),u=Symbol("total-length"),p=Symbol("callback"),d=Symbol("buffers"),h=Symbol("error");let f;function m(e){this[d].push(e),this[u]+=e.length}function g(e){this[u]+=e.length,this[l]._maxPayload<1||this[u]<=this[l]._maxPayload?this[d].push(e):(this[h]=new RangeError("Max payload size exceeded"),this[h].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[h][s]=1009,this.removeListener("data",g),this.reset())}function y(e){this[l]._inflate=null,e[s]=1007,this[p](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!f){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;f=new o(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[p];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,n=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n}))})),e}decompress(e,t,n){f.add((r=>{this._decompress(e,t,((e,t)=>{r(),n(e,t)}))}))}compress(e,t,n){f.add((r=>{this._compress(e,t,((e,t)=>{r(),n(e,t)}))}))}_decompress(e,t,n){const o=this._isServer?"client":"server";if(!this._inflate){const e=`${o}_max_window_bits`,t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=r.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[l]=this,this._inflate[u]=0,this._inflate[d]=[],this._inflate.on("error",y),this._inflate.on("data",g)}this._inflate[p]=n,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush((()=>{const e=this._inflate[h];if(e)return this._inflate.close(),this._inflate=null,void n(e);const r=i.concat(this._inflate[d],this._inflate[u]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[u]=0,this._inflate[d]=[],t&&this.params[`${o}_no_context_takeover`]&&this._inflate.reset()),n(null,r)}))}_compress(e,t,n){const o=this._isServer?"server":"client";if(!this._deflate){const e=`${o}_max_window_bits`,t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=r.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[u]=0,this._deflate[d]=[],this._deflate.on("error",a),this._deflate.on("data",m)}this._deflate[p]=n,this._deflate.write(e),this._deflate.flush(r.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=i.concat(this._deflate[d],this._deflate[u]);t&&(e=e.slice(0,e.length-4)),this._deflate[p]=null,this._deflate[u]=0,this._deflate[d]=[],t&&this.params[`${o}_no_context_takeover`]&&this._deflate.reset(),n(null,e)}))}}},6286:(e,t,n)=>{"use strict";const{Writable:r}=n(2203),i=n(2971),{BINARY_TYPES:o,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=n(2614),{concat:l,toArrayBuffer:u,unmask:p}=n(3338),{isValidStatusCode:d,isValidUTF8:h}=n(3499);function f(e,t,n,r,i){const o=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,f),o.code=i,o[a]=r,o}e.exports=class extends r{constructor(e,t,n,r){super(),this._binaryType=e||o[0],this[c]=void 0,this._extensions=t||{},this._isServer=!!n,this._maxPayload=0|r,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,n){if(8===this._opcode&&0==this._state)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0],r=t.length-e;e>=n.length?t.set(this._buffers.shift(),r):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),r),this._buffers[0]=n.slice(e)),e-=n.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,f(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const t=64==(64&e[0]);if(t&&!this._extensions[i.extensionName])return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,f(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,f(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,f(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,f(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,f(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,f(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,f(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,f(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&p(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,((e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(f(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(n)}const r=this.dataMessage();if(r)return t(r);this.startLoop(t)}))}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?l(t,e):"arraybuffer"===this._binaryType?u(l(t,e)):t,this.emit("message",n)}else{const n=l(t,e);if(!h(n))return this._loop=!1,f(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",n.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return f(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{const t=e.readUInt16BE(0);if(!d(t))return f(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const n=e.slice(2);if(!h(n))return f(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,n.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},914:(e,t,n)=>{"use strict";n(9278),n(4756);const{randomFillSync:r}=n(6982),i=n(2971),{EMPTY_BUFFER:o}=n(2614),{isValidStatusCode:s}=n(3499),{mask:a,toBuffer:c}=n(3338),l=Buffer.alloc(4);class u{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const n=t.mask&&t.readOnly;let i=t.mask?6:2,o=e.length;e.length>=65536?(i+=8,o=127):e.length>125&&(i+=2,o=126);const s=Buffer.allocUnsafe(n?e.length+i:i);return s[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(s[0]|=64),s[1]=o,126===o?s.writeUInt16BE(e.length,2):127===o&&(s.writeUInt32BE(0,2),s.writeUInt32BE(e.length,6)),t.mask?(r(l,0,4),s[1]|=128,s[i-4]=l[0],s[i-3]=l[1],s[i-2]=l[2],s[i-1]=l[3],n?(a(e,l,s,i,e.length),[s]):(a(e,l,e,0,e.length),[s,e])):[s,e]}close(e,t,n,r){let i;if(void 0===e)i=o;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");if(void 0===t||""===t)i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0);else{const n=Buffer.byteLength(t);if(n>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+n),i.writeUInt16BE(e,0),i.write(t,2)}}this._deflating?this.enqueue([this.doClose,i,n,r]):this.doClose(i,n,r)}doClose(e,t,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),n)}ping(e,t,n){const r=c(e);if(r.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,r,t,c.readOnly,n]):this.doPing(r,t,c.readOnly,n)}doPing(e,t,n,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:n}),r)}pong(e,t,n){const r=c(e);if(r.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,r,t,c.readOnly,n]):this.doPong(r,t,c.readOnly,n)}doPong(e,t,n,r){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:n}),r)}send(e,t,n){const r=c(e),o=this._extensions[i.extensionName];let s=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&o&&(a=r.length>=o._threshold),this._compress=a):(a=!1,s=0),t.fin&&(this._firstFragment=!0),o){const e={fin:t.fin,rsv1:a,opcode:s,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,r,this._compress,e,n]):this.dispatch(r,this._compress,e,n)}else this.sendFrame(u.frame(r,{fin:t.fin,rsv1:!1,opcode:s,mask:t.mask,readOnly:c.readOnly}),n)}dispatch(e,t,n,r){if(!t)return void this.sendFrame(u.frame(e,n),r);const o=this._extensions[i.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,o.compress(e,n.fin,((t,i)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof r&&r(e);for(let t=0;t<this._queue.length;t++){const n=this._queue[t][4];"function"==typeof n&&n(e)}}else this._bufferedBytes-=e.length,this._deflating=!1,n.readOnly=!1,this.sendFrame(u.frame(i,n),r),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},3719:(e,t,n)=>{"use strict";const{Duplex:r}=n(2203);function i(e){e.emit("close")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let n=!0,a=!0;function c(){n&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",c)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",c));const l=new r({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){l.push(t)||(n=!1,e._socket.pause())})),e.once("error",(function(e){l.destroyed||(a=!1,l.destroy(e))})),e.once("close",(function(){l.destroyed||l.push(null)})),l._destroy=function(t,n){if(e.readyState===e.CLOSED)return n(t),void process.nextTick(i,l);let r=!1;e.once("error",(function(e){r=!0,n(e)})),e.once("close",(function(){r||n(t),process.nextTick(i,l)})),a&&e.terminate()},l._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),l._readableState.endEmitted&&l.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){l._final(t)}))},l._read=function(){e.readyState!==e.OPEN&&e.readyState!==e.CLOSING||n||(n=!0,e._receiver._writableState.needDrain||e._socket.resume())},l._write=function(t,n,r){e.readyState!==e.CONNECTING?e.send(t,r):e.once("open",(function(){l._write(t,n,r)}))},l.on("end",o),l.on("error",s),l}},3499:(e,t,n)=>{"use strict";function r(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999}function i(e){const t=e.length;let n=0;for(;n<t;)if(0==(128&e[n]))n++;else if(192==(224&e[n])){if(n+1===t||128!=(192&e[n+1])||192==(254&e[n]))return!1;n+=2}else if(224==(240&e[n])){if(n+2>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||224===e[n]&&128==(224&e[n+1])||237===e[n]&&160==(224&e[n+1]))return!1;n+=3}else{if(240!=(248&e[n]))return!1;if(n+3>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||128!=(192&e[n+3])||240===e[n]&&128==(240&e[n+1])||244===e[n]&&e[n+1]>143||e[n]>244)return!1;n+=4}return!0}try{let t=n(1695);"object"==typeof t&&(t=t.Validation.isValidUTF8),e.exports={isValidStatusCode:r,isValidUTF8:e=>e.length<150?i(e):t(e)}}catch(t){e.exports={isValidStatusCode:r,isValidUTF8:i}}},1722:(e,t,n)=>{"use strict";const r=n(4434),i=n(8611),{createHash:o}=(n(5692),n(9278),n(4756),n(6982)),s=n(2971),a=n(1060),{format:c,parse:l}=n(5926),{GUID:u,kWebSocket:p}=n(2614),d=/^[+/0-9A-Za-z]{22}==$/;function h(e){e._state=2,e.emit("close")}function f(){this.destroy()}function m(e,t,n,r){e.writable&&(n=n||i.STATUS_CODES[t],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},e.write(`HTTP/1.1 ${t} ${i.STATUS_CODES[t]}\r\n`+Object.keys(r).map((e=>`${e}: ${r[e]}`)).join("\r\n")+"\r\n\r\n"+n)),e.removeListener("error",f),e.destroy()}function g(e){return e.trim()}e.exports=class extends r{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=i.createServer(((e,t)=>{const n=i.STATUS_CODES[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,n,r)=>{this.handleUpgrade(t,n,r,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),2===this._state)return void process.nextTick(h,this);if(1===this._state)return;if(this._state=1,this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close(h.bind(void 0,this)):process.nextTick(h,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,r){t.on("error",f);const i=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),o=e.headers.upgrade,a=+e.headers["sec-websocket-version"],c={};if("GET"!==e.method||void 0===o||"websocket"!==o.toLowerCase()||!i||!d.test(i)||8!==a&&13!==a||!this.shouldHandle(e))return m(t,400);if(this.options.perMessageDeflate){const n=new s(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=l(e.headers["sec-websocket-extensions"]);t[s.extensionName]&&(n.accept(t[s.extensionName]),c[s.extensionName]=n)}catch(e){return m(t,400)}}if(this.options.verifyClient){const o={origin:e.headers[8===a?"sec-websocket-origin":"origin"],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(o,((o,s,a,l)=>{if(!o)return m(t,s||401,a,l);this.completeUpgrade(i,c,e,t,n,r)}));if(!this.options.verifyClient(o))return m(t,401)}this.completeUpgrade(i,c,e,t,n,r)}completeUpgrade(e,t,n,r,i,l){if(!r.readable||!r.writable)return r.destroy();if(r[p])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return m(r,503);const d=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${o("sha1").update(e+u).digest("base64")}`],h=new a(null);let y=n.headers["sec-websocket-protocol"];if(y&&(y=y.split(",").map(g),y=this.options.handleProtocols?this.options.handleProtocols(y,n):y[0],y&&(d.push(`Sec-WebSocket-Protocol: ${y}`),h._protocol=y)),t[s.extensionName]){const e=t[s.extensionName].params,n=c({[s.extensionName]:[e]});d.push(`Sec-WebSocket-Extensions: ${n}`),h._extensions=t}this.emit("headers",d,n),r.write(d.concat("\r\n").join("\r\n")),r.removeListener("error",f),h.setSocket(r,i,this.options.maxPayload),this.clients&&(this.clients.add(h),h.on("close",(()=>this.clients.delete(h)))),l(h,n)}}},1060:(e,t,n)=>{"use strict";const r=n(4434),i=n(5692),o=n(8611),s=n(9278),a=n(4756),{randomBytes:c,createHash:l}=n(6982),{Readable:u}=n(2203),{URL:p}=n(7016),d=n(2971),h=n(6286),f=n(914),{BINARY_TYPES:m,EMPTY_BUFFER:g,GUID:y,kStatusCode:v,kWebSocket:b,NOOP:w}=n(2614),{addEventListener:_,removeEventListener:E}=n(597),{format:x,parse:S}=n(5926),{toBuffer:T}=n(3338),C=["CONNECTING","OPEN","CLOSING","CLOSED"],P=[8,13];class I extends r{constructor(e,t,n){super(),this._binaryType=m[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=I.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(n=t,t=void 0),O(this,e,t,n)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){m.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get onclose(){}set onclose(e){}get onerror(){}set onerror(e){}get onopen(){}set onopen(e){}get onmessage(){}set onmessage(e){}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,n){const r=new h(this.binaryType,this._extensions,this._isServer,n);this._sender=new f(e,this._extensions),this._receiver=r,this._socket=e,r[b]=this,e[b]=this,r.on("conclude",L),r.on("drain",F),r.on("error",M),r.on("message",B),r.on("ping",U),r.on("pong",q),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",V),e.on("data",H),e.on("end",G),e.on("error",z),this._readyState=I.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=I.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[d.extensionName]&&this._extensions[d.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=I.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==I.CLOSED){if(this.readyState===I.CONNECTING){const e="WebSocket was closed before the connection was established";return R(this,this._req,e)}this.readyState!==I.CLOSING?(this._readyState=I.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end()}}ping(e,t,n){if(this.readyState===I.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===I.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||g,t,n)):N(this,e,n)}pong(e,t,n){if(this.readyState===I.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===I.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||g,t,n)):N(this,e,n)}send(e,t,n){if(this.readyState===I.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(n=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==I.OPEN)return void N(this,e,n);const r={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[d.extensionName]||(r.compress=!1),this._sender.send(e||g,r,n)}terminate(){if(this.readyState!==I.CLOSED){if(this.readyState===I.CONNECTING){const e="WebSocket was closed before the connection was established";return R(this,this._req,e)}this._socket&&(this._readyState=I.CLOSING,this._socket.destroy())}}}function O(e,t,n,r){const s={protocolVersion:P[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!P.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${P.join(", ")})`);let a;t instanceof p?(a=t,e._url=t.href):(a=new p(t),e._url=t);const u="ws+unix:"===a.protocol;if(!(a.host||u&&a.pathname)){const t=new Error(`Invalid URL: ${e.url}`);if(0===e._redirects)throw t;return void k(e,t)}const h="wss:"===a.protocol||"https:"===a.protocol,f=h?443:80,m=c(16).toString("base64"),g=h?i.get:o.get;let v;if(s.createConnection=h?A:D,s.defaultPort=s.defaultPort||f,s.port=a.port||f,s.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,s.headers={"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":m,Connection:"Upgrade",Upgrade:"websocket",...s.headers},s.path=a.pathname+a.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(v=new d(!0!==s.perMessageDeflate?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=x({[d.extensionName]:v.offer()})),n&&(s.headers["Sec-WebSocket-Protocol"]=n),s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(a.username||a.password)&&(s.auth=`${a.username}:${a.password}`),u){const e=s.path.split(":");s.socketPath=e[0],s.path=e[1]}if(s.followRedirects){if(0===e._redirects){e._originalUnixSocket=u,e._originalSecure=h,e._originalHostOrSocketPath=u?s.socketPath:a.host;const t=r&&r.headers;if(r={...r,headers:{}},t)for(const[e,n]of Object.entries(t))r.headers[e.toLowerCase()]=n}else{const t=u?!!e._originalUnixSocket&&s.socketPath===e._originalHostOrSocketPath:!e._originalUnixSocket&&a.host===e._originalHostOrSocketPath;(!t||e._originalSecure&&!h)&&(delete s.headers.authorization,delete s.headers.cookie,t||delete s.headers.host,s.auth=void 0)}s.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64"))}let b=e._req=g(s);s.timeout&&b.on("timeout",(()=>{R(e,b,"Opening handshake has timed out")})),b.on("error",(t=>{null===b||b.aborted||(b=e._req=null,k(e,t))})),b.on("response",(i=>{const o=i.headers.location,a=i.statusCode;if(o&&s.followRedirects&&a>=300&&a<400){if(++e._redirects>s.maxRedirects)return void R(e,b,"Maximum redirects exceeded");let i;b.abort();try{i=new p(o,t)}catch(t){return void k(e,t)}O(e,i,n,r)}else e.emit("unexpected-response",b,i)||R(e,b,`Unexpected server response: ${i.statusCode}`)})),b.on("upgrade",((t,r,i)=>{if(e.emit("upgrade",t),e.readyState!==I.CONNECTING)return;b=e._req=null;const o=t.headers.upgrade;if(void 0===o||"websocket"!==o.toLowerCase())return void R(e,r,"Invalid Upgrade header");const a=l("sha1").update(m+y).digest("base64");if(t.headers["sec-websocket-accept"]!==a)return void R(e,r,"Invalid Sec-WebSocket-Accept header");const c=t.headers["sec-websocket-protocol"],u=(n||"").split(/, */);let p;if(!n&&c?p="Server sent a subprotocol but none was requested":n&&!c?p="Server sent no subprotocol":c&&!u.includes(c)&&(p="Server sent an invalid subprotocol"),p)return void R(e,r,p);c&&(e._protocol=c);const h=t.headers["sec-websocket-extensions"];if(void 0!==h){if(!v)return void R(e,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let t;try{t=S(h)}catch(t){return void R(e,r,"Invalid Sec-WebSocket-Extensions header")}const n=Object.keys(t);if(n.length){if(1!==n.length||n[0]!==d.extensionName)return void R(e,r,"Server indicated an extension that was not requested");try{v.accept(t[d.extensionName])}catch(t){return void R(e,r,"Invalid Sec-WebSocket-Extensions header")}e._extensions[d.extensionName]=v}}e.setSocket(r,i,s.maxPayload)}))}function k(e,t){e._readyState=I.CLOSING,e.emit("error",t),e.emitClose()}function D(e){return e.path=e.socketPath,s.connect(e)}function A(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),a.connect(e)}function R(e,t,n){e._readyState=I.CLOSING;const r=new Error(n);Error.captureStackTrace(r,R),t.setHeader?(t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),t.once("abort",e.emitClose.bind(e)),e.emit("error",r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function N(e,t,n){if(t){const n=T(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}n&&n(new Error(`WebSocket is not open: readyState ${e.readyState} (${C[e.readyState]})`))}function L(e,t){const n=this[b];n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,void 0!==n._socket[b]&&(n._socket.removeListener("data",H),process.nextTick($,n._socket),1005===e?n.close():n.close(e,t))}function F(){this[b]._socket.resume()}function M(e){const t=this[b];void 0!==t._socket[b]&&(t._socket.removeListener("data",H),process.nextTick($,t._socket),t.close(e[v])),t.emit("error",e)}function j(){this[b].emitClose()}function B(e){this[b].emit("message",e)}function U(e){const t=this[b];t.pong(e,!t._isServer,w),t.emit("ping",e)}function q(e){this[b].emit("pong",e)}function $(e){e.resume()}function V(){const e=this[b];let t;this.removeListener("close",V),this.removeListener("data",H),this.removeListener("end",G),e._readyState=I.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[b]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",j),e._receiver.on("finish",j))}function H(e){this[b]._receiver.write(e)||this.pause()}function G(){const e=this[b];e._readyState=I.CLOSING,e._receiver.end(),this.end()}function z(){const e=this[b];this.removeListener("error",z),this.on("error",w),e&&(e._readyState=I.CLOSING,this.destroy())}Object.defineProperty(I,"CONNECTING",{enumerable:!0,value:C.indexOf("CONNECTING")}),Object.defineProperty(I.prototype,"CONNECTING",{enumerable:!0,value:C.indexOf("CONNECTING")}),Object.defineProperty(I,"OPEN",{enumerable:!0,value:C.indexOf("OPEN")}),Object.defineProperty(I.prototype,"OPEN",{enumerable:!0,value:C.indexOf("OPEN")}),Object.defineProperty(I,"CLOSING",{enumerable:!0,value:C.indexOf("CLOSING")}),Object.defineProperty(I.prototype,"CLOSING",{enumerable:!0,value:C.indexOf("CLOSING")}),Object.defineProperty(I,"CLOSED",{enumerable:!0,value:C.indexOf("CLOSED")}),Object.defineProperty(I.prototype,"CLOSED",{enumerable:!0,value:C.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach((e=>{Object.defineProperty(I.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(I.prototype,`on${e}`,{enumerable:!0,get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const n=this.listeners(e);for(let t=0;t<n.length;t++)n[t]._listener&&this.removeListener(e,n[t]);this.addEventListener(e,t)}})})),I.prototype.addEventListener=_,I.prototype.removeEventListener=E,e.exports=I},3177:function(e,t){(function(){"use strict";t.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(this)},6712:function(e,t,n){(function(){"use strict";var e,r,i,o,s,a={}.hasOwnProperty;e=n(9665),r=n(6465).defaults,o=function(e){return"string"==typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},s=function(e){return"<![CDATA["+i(e)+"]]>"},i=function(e){return e.replace("]]>","]]]]><![CDATA[>")},t.Builder=function(){function t(e){var t,n,i;for(t in this.options={},n=r[.2])a.call(n,t)&&(i=n[t],this.options[t]=i);for(t in e)a.call(e,t)&&(i=e[t],this.options[t]=i)}return t.prototype.buildObject=function(t){var n,i,c,l,u,p;return n=this.options.attrkey,i=this.options.charkey,1===Object.keys(t).length&&this.options.rootName===r[.2].rootName?t=t[u=Object.keys(t)[0]]:u=this.options.rootName,p=this,c=function(e,t){var r,l,u,d,h,f;if("object"!=typeof t)p.options.cdata&&o(t)?e.raw(s(t)):e.txt(t);else if(Array.isArray(t)){for(d in t)if(a.call(t,d))for(h in l=t[d])u=l[h],e=c(e.ele(h),u).up()}else for(h in t)if(a.call(t,h))if(l=t[h],h===n){if("object"==typeof l)for(r in l)f=l[r],e=e.att(r,f)}else if(h===i)e=p.options.cdata&&o(l)?e.raw(s(l)):e.txt(l);else if(Array.isArray(l))for(d in l)a.call(l,d)&&(e="string"==typeof(u=l[d])?p.options.cdata&&o(u)?e.ele(h).raw(s(u)).up():e.ele(h,u).up():c(e.ele(h),u).up());else"object"==typeof l?e=c(e.ele(h),l).up():"string"==typeof l&&p.options.cdata&&o(l)?e=e.ele(h).raw(s(l)).up():(null==l&&(l=""),e=e.ele(h,l.toString()).up());return e},l=e.create(u,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),c(l,t).end(this.options.renderOpts)},t}()}).call(this)},6465:function(e,t){(function(){t.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},1912:function(e,t,n){(function(){"use strict";var e,r,i,o,s,a,c,l,u=function(e,t){return function(){return e.apply(t,arguments)}},p={}.hasOwnProperty;c=n(4043),i=n(4434),e=n(3177),a=n(2114),l=n(3557).setImmediate,r=n(6465).defaults,o=function(e){return"object"==typeof e&&null!=e&&0===Object.keys(e).length},s=function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)t=(0,e[r])(t,n);return t},t.Parser=function(n){function i(e){var n,i,o;if(this.parseStringPromise=u(this.parseStringPromise,this),this.parseString=u(this.parseString,this),this.reset=u(this.reset,this),this.assignOrPush=u(this.assignOrPush,this),this.processAsync=u(this.processAsync,this),!(this instanceof t.Parser))return new t.Parser(e);for(n in this.options={},i=r[.2])p.call(i,n)&&(o=i[n],this.options[n]=o);for(n in e)p.call(e,n)&&(o=e[n],this.options[n]=o);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(i,n),i.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),l(this.processAsync))}catch(e){if(t=e,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},i.prototype.assignOrPush=function(e,t,n){return t in e?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(n)):this.options.explicitArray?e[t]=[n]:e[t]=n},i.prototype.reset=function(){var e,t,n,r,i;return this.removeAllListeners(),this.saxParser=c.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(i=this,function(e){if(i.saxParser.resume(),!i.saxParser.errThrown)return i.saxParser.errThrown=!0,i.emit("error",e)}),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(n){return function(i){var o,a,c,l,u;if((c=Object.create(null))[t]="",!n.options.ignoreAttrs)for(o in u=i.attributes)p.call(u,o)&&(e in c||n.options.mergeAttrs||(c[e]=Object.create(null)),a=n.options.attrValueProcessors?s(n.options.attrValueProcessors,i.attributes[o],o):i.attributes[o],l=n.options.attrNameProcessors?s(n.options.attrNameProcessors,o):o,n.options.mergeAttrs?n.assignOrPush(c,l,a):c[e][l]=a);return c["#name"]=n.options.tagNameProcessors?s(n.options.tagNameProcessors,i.name):i.name,n.options.xmlns&&(c[n.options.xmlnskey]={uri:i.uri,local:i.local}),r.push(c)}}(this),this.saxParser.onclosetag=function(e){return function(){var n,i,a,c,l,u,d,h,f,m;if(u=r.pop(),l=u["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete u["#name"],!0===u.cdata&&(n=u.cdata,delete u.cdata),f=r[r.length-1],u[t].match(/^\s*$/)&&!n?(i=u[t],delete u[t]):(e.options.trim&&(u[t]=u[t].trim()),e.options.normalize&&(u[t]=u[t].replace(/\s{2,}/g," ").trim()),u[t]=e.options.valueProcessors?s(e.options.valueProcessors,u[t],l):u[t],1===Object.keys(u).length&&t in u&&!e.EXPLICIT_CHARKEY&&(u=u[t])),o(u)&&(u="function"==typeof e.options.emptyTag?e.options.emptyTag():""!==e.options.emptyTag?e.options.emptyTag:i),null!=e.options.validator&&(m="/"+function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)c=r[e],n.push(c["#name"]);return n}().concat(l).join("/"),function(){var t;try{return u=e.options.validator(m,f&&f[l],u)}catch(n){return t=n,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"==typeof u)if(e.options.preserveChildrenOrder){if(f){for(a in f[e.options.childkey]=f[e.options.childkey]||[],d=Object.create(null),u)p.call(u,a)&&(d[a]=u[a]);f[e.options.childkey].push(d),delete u["#name"],1===Object.keys(u).length&&t in u&&!e.EXPLICIT_CHARKEY&&(u=u[t])}}else c=Object.create(null),e.options.attrkey in u&&(c[e.options.attrkey]=u[e.options.attrkey],delete u[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in u&&(c[e.options.charkey]=u[e.options.charkey],delete u[e.options.charkey]),Object.getOwnPropertyNames(u).length>0&&(c[e.options.childkey]=u),u=c;return r.length>0?e.assignOrPush(f,l,u):(e.options.explicitRoot&&(h=u,(u=Object.create(null))[l]=h),e.resultObject=u,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),n=function(e){return function(n){var i,o;if(o=r[r.length-1])return o[t]+=n,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(o[e.options.childkey]=o[e.options.childkey]||[],(i={"#name":"__text__"})[t]=n,e.options.normalize&&(i[t]=i[t].replace(/\s{2,}/g," ").trim()),o[e.options.childkey].push(i)),o}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(e){var t;if(t=n(e))return t.cdata=!0}},i.prototype.parseString=function(t,n){var r;null!=n&&"function"==typeof n&&(this.on("end",(function(e){return this.reset(),n(null,e)})),this.on("error",(function(e){return this.reset(),n(e)})));try{return""===(t=t.toString()).trim()?(this.emit("end",null),!0):(t=e.stripBOM(t),this.options.async?(this.remaining=t,l(this.processAsync),this.saxParser):this.saxParser.write(t).close())}catch(e){if(r=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},i.prototype.parseStringPromise=function(e){return new Promise((t=this,function(n,r){return t.parseString(e,(function(e,t){return e?r(e):n(t)}))}));var t},i}(i),t.parseString=function(e,n,r){var i,o;return null!=r?("function"==typeof r&&(i=r),"object"==typeof n&&(o=n)):("function"==typeof n&&(i=n),o={}),new t.Parser(o).parseString(e,i)},t.parseStringPromise=function(e,n){var r;return"object"==typeof n&&(r=n),new t.Parser(r).parseStringPromise(e)}}).call(this)},2114:function(e,t){(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),t.normalize=function(e){return e.toLowerCase()},t.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},t.stripPrefix=function(t){return t.replace(e,"")},t.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},t.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(this)},8805:function(e,t,n){(function(){"use strict";var e,r,i,o,s={}.hasOwnProperty;r=n(6465),e=n(6712),i=n(1912),o=n(2114),t.defaults=r.defaults,t.processors=o,t.ValidationError=function(e){function t(e){this.message=e}return function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,Error),t}(),t.Builder=e.Builder,t.Parser=i.Parser,t.parseString=i.parseString,t.parseStringPromise=i.parseStringPromise}).call(this)},4923:function(e){(function(){e.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},1737:function(e){(function(){e.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},9241:function(e){(function(){var t,n,r,i,o,s,a,c=[].slice,l={}.hasOwnProperty;t=function(){var e,t,n,r,i,s;if(s=arguments[0],i=2<=arguments.length?c.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(e=0,n=i.length;e<n;e++)if(null!=(r=i[e]))for(t in r)l.call(r,t)&&(s[t]=r[t]);return s},o=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},s=function(e){var t;return!!e&&("function"==(t=typeof e)||"object"===t)},r=function(e){return o(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},i=function(e){var t;if(r(e))return!e.length;for(t in e)if(l.call(e,t))return!1;return!0},a=function(e){var t,n;return s(e)&&(n=Object.getPrototypeOf(e))&&(t=n.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},n=function(e){return o(e.valueOf)?e.valueOf():e},e.exports.assign=t,e.exports.isFunction=o,e.exports.isObject=s,e.exports.isArray=r,e.exports.isEmpty=i,e.exports.isPlainObject=a,e.exports.getValue=n}).call(this)},8753:function(e){(function(){e.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},4238:function(e,t,n){(function(){var t;t=n(1737),n(468),e.exports=function(){function e(e,n,r){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==n)throw new Error("Missing attribute name. "+this.debugInfo(n));this.name=this.stringify.name(n),this.value=this.stringify.attValue(r),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))},e.prototype.debugInfo=function(e){return null==(e=e||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},e.prototype.isEqualNode=function(e){return e.namespaceURI===this.namespaceURI&&e.prefix===this.prefix&&e.localName===this.localName&&e.value===this.value},e}()}).call(this)},2691:function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;t=n(1737),r=n(7457),e.exports=function(e){function n(e,r){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(r)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},7457:function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(468),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.value=""}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(t.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.substringData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.insertData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.deleteData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.data===this.data},t}(t)}).call(this)},2679:function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;t=n(1737),r=n(7457),e.exports=function(e){function n(e,r){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(r)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},3074:function(e,t,n){(function(){var t,r;t=n(5660),r=n(2527),e.exports=function(){function e(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(e.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),e.prototype.getParameter=function(e){return this.params.hasOwnProperty(e)?this.params[e]:null},e.prototype.canSetParameter=function(e,t){return!0},e.prototype.setParameter=function(e,t){return null!=t?this.params[e]=t:delete this.params[e]},e}()}).call(this)},5660:function(e){(function(){e.exports=function(){function e(){}return e.prototype.handleError=function(e){throw new Error(e)},e}()}).call(this)},7260:function(e){(function(){e.exports=function(){function e(){}return e.prototype.hasFeature=function(e,t){return!0},e.prototype.createDocumentType=function(e,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(e,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(this)},2527:function(e){(function(){e.exports=function(){function e(e){this.arr=e||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(e){return this.arr[e]||null},e.prototype.contains=function(e){return-1!==this.arr.indexOf(e)},e}()}).call(this)},4111:function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;r=n(468),t=n(1737),e.exports=function(e){function n(e,r,i,o,s,a){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==i)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!o)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!s)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(a&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(i),this.attributeType=this.stringify.dtdAttType(o),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=s}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},7696:function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;r=n(468),t=n(1737),e.exports=function(e){function n(e,r,i){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());i||(i="(#PCDATA)"),Array.isArray(i)&&(i="("+i.join(",")+")"),this.name=this.stringify.name(r),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(i)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},5529:function(e,t,n){(function(){var t,r,i,o={}.hasOwnProperty;i=n(9241).isObject,r=n(468),t=n(1737),e.exports=function(e){function n(e,r,o,s){if(n.__super__.constructor.call(this,e),null==o)throw new Error("Missing DTD entity name. "+this.debugInfo(o));if(null==s)throw new Error("Missing DTD entity value. "+this.debugInfo(o));if(this.pe=!!r,this.name=this.stringify.name(o),this.type=t.EntityDeclaration,i(s)){if(!s.pubID&&!s.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(o));if(s.pubID&&!s.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(o));if(this.internal=!1,null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(o))}else this.value=this.stringify.dtdEntityValue(s),this.internal=!0}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return null}}),n.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},8012:function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;r=n(468),t=n(1737),e.exports=function(e){function n(e,r,i){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD notation name. "+this.debugInfo(r));if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r));this.name=this.stringify.name(r),this.type=t.NotationDeclaration,null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID))}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),n.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},4130:function(e,t,n){(function(){var t,r,i,o={}.hasOwnProperty;i=n(9241).isObject,r=n(468),t=n(1737),e.exports=function(e){function n(e,r,o,s){var a;n.__super__.constructor.call(this,e),i(r)&&(r=(a=r).version,o=a.encoding,s=a.standalone),r||(r="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(r),null!=o&&(this.encoding=this.stringify.xmlEncoding(o)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},6376:function(e,t,n){(function(){var t,r,i,o,s,a,c,l,u={}.hasOwnProperty;l=n(9241).isObject,c=n(468),t=n(1737),r=n(4111),o=n(5529),i=n(7696),s=n(8012),a=n(4797),e.exports=function(e){function n(e,r,i){var o,s,a,c,u,p;if(n.__super__.constructor.call(this,e),this.type=t.DocType,e.children)for(s=0,a=(c=e.children).length;s<a;s++)if((o=c[s]).type===t.Element){this.name=o.name;break}this.documentObject=e,l(r)&&(r=(u=r).pubID,i=u.sysID),null==i&&(i=(p=[r,i])[0],r=p[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=i&&(this.sysID=this.stringify.dtdSysID(i))}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"entities",{get:function(){var e,n,r,i,o;for(i={},n=0,r=(o=this.children).length;n<r;n++)(e=o[n]).type!==t.EntityDeclaration||e.pe||(i[e.name]=e);return new a(i)}}),Object.defineProperty(n.prototype,"notations",{get:function(){var e,n,r,i,o;for(i={},n=0,r=(o=this.children).length;n<r;n++)(e=o[n]).type===t.NotationDeclaration&&(i[e.name]=e);return new a(i)}}),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),n.prototype.element=function(e,t){var n;return n=new i(this,e,t),this.children.push(n),this},n.prototype.attList=function(e,t,n,i,o){var s;return s=new r(this,e,t,n,i,o),this.children.push(s),this},n.prototype.entity=function(e,t){var n;return n=new o(this,!1,e,t),this.children.push(n),this},n.prototype.pEntity=function(e,t){var n;return n=new o(this,!0,e,t),this.children.push(n),this},n.prototype.notation=function(e,t){var n;return n=new s(this,e,t),this.children.push(n),this},n.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))},n.prototype.ele=function(e,t){return this.element(e,t)},n.prototype.att=function(e,t,n,r,i){return this.attList(e,t,n,r,i)},n.prototype.ent=function(e,t){return this.entity(e,t)},n.prototype.pent=function(e,t){return this.pEntity(e,t)},n.prototype.not=function(e,t){return this.notation(e,t)},n.prototype.up=function(){return this.root()||this.documentObject},n.prototype.isEqualNode=function(e){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.name===this.name&&e.publicId===this.publicId&&e.systemId===this.systemId},n}(c)}).call(this)},1933:function(e,t,n){(function(){var t,r,i,o,s,a,c,l={}.hasOwnProperty;c=n(9241).isPlainObject,i=n(7260),r=n(3074),o=n(468),t=n(1737),a=n(3976),s=n(382),e.exports=function(e){function n(e){n.__super__.constructor.call(this,null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new r,e||(e={}),e.writer||(e.writer=new s),this.options=e,this.stringify=new a(e)}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"implementation",{value:new i}),Object.defineProperty(n.prototype,"doctype",{get:function(){var e,n,r,i;for(n=0,r=(i=this.children).length;n<r;n++)if((e=i[n]).type===t.DocType)return e;return null}}),Object.defineProperty(n.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(n.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(n.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(n.prototype,"origin",{get:function(){return null}}),Object.defineProperty(n.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(n.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(n.prototype,"contentType",{get:function(){return null}}),n.prototype.end=function(e){var t;return t={},e?c(e)&&(t=e,e=this.options.writer):e=this.options.writer,e.document(this,e.filterOptions(t))},n.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))},n.prototype.createElement=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTextNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createComment=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createCDATASection=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createProcessingInstruction=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttribute=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEntityReference=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.importNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createElementNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementById=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.adoptNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.renameNode=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEvent=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createNodeIterator=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTreeWalker=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(o)}).call(this)},400:function(e,t,n){(function(){var t,r,i,o,s,a,c,l,u,p,d,h,f,m,g,y,v,b,w,_,E,x,S,T={}.hasOwnProperty;S=n(9241),E=S.isObject,_=S.isFunction,x=S.isPlainObject,w=S.getValue,t=n(1737),h=n(1933),f=n(1525),o=n(2691),s=n(2679),g=n(1268),b=n(2535),m=n(5915),p=n(4130),d=n(6376),a=n(4111),l=n(5529),c=n(7696),u=n(8012),i=n(4238),v=n(3976),y=n(382),r=n(8753),e.exports=function(){function e(e,n,r){var i;this.name="?xml",this.type=t.Document,e||(e={}),i={},e.writer?x(e.writer)&&(i=e.writer,e.writer=new y):e.writer=new y,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(i),this.stringify=new v(e),this.onDataCallback=n||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.createChildNode=function(e){var n,r,i,o,s,a,c,l;switch(e.type){case t.CData:this.cdata(e.value);break;case t.Comment:this.comment(e.value);break;case t.Element:for(r in i={},c=e.attribs)T.call(c,r)&&(n=c[r],i[r]=n.value);this.node(e.name,i);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(e.value);break;case t.Text:this.text(e.value);break;case t.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(s=0,a=(l=e.children).length;s<a;s++)o=l[s],this.createChildNode(o),o.type===t.Element&&this.up();return this},e.prototype.dummy=function(){return this},e.prototype.node=function(e,t,n){var r;if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=w(e),null==t&&(t={}),t=w(t),E(t)||(n=(r=[t,n])[0],t=r[1]),this.currentNode=new f(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},e.prototype.element=function(e,n,r){var i,o,s,a,c,l;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(e)||E(e)||_(e))for(a=this.options.noValidation,this.options.noValidation=!0,(l=new h(this.options).element("TEMP_ROOT")).element(e),this.options.noValidation=a,o=0,s=(c=l.children).length;o<s;o++)i=c[o],this.createChildNode(i),i.type===t.Element&&this.up();else this.node(e,n,r);return this},e.prototype.attribute=function(e,t){var n,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(null!=e&&(e=w(e)),E(e))for(n in e)T.call(e,n)&&(r=e[n],this.attribute(n,r));else _(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.currentNode.attribs[e]=new i(this,e,""):null!=t&&(this.currentNode.attribs[e]=new i(this,e,t));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new b(this,e),this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new o(this,e),this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new s(this,e),this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new g(this,e),this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.instruction=function(e,t){var n,r,i,o,s;if(this.openCurrent(),null!=e&&(e=w(e)),null!=t&&(t=w(t)),Array.isArray(e))for(n=0,o=e.length;n<o;n++)r=e[n],this.instruction(r);else if(E(e))for(r in e)T.call(e,r)&&(i=e[r],this.instruction(r,i));else _(t)&&(t=t.apply()),s=new m(this,e,t),this.onData(this.writer.processingInstruction(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},e.prototype.declaration=function(e,t,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return r=new p(this,e,t,n),this.onData(this.writer.declaration(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.doctype=function(e,t,n){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new d(this,t,n),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var n;return this.openCurrent(),n=new c(this,e,t),this.onData(this.writer.dtdElement(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.attList=function(e,t,n,r,i){var o;return this.openCurrent(),o=new a(this,e,t,n,r,i),this.onData(this.writer.dtdAttList(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.entity=function(e,t){var n;return this.openCurrent(),n=new l(this,!1,e,t),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.pEntity=function(e,t){var n;return this.openCurrent(),n=new l(this,!0,e,t),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.notation=function(e,t){var n;return this.openCurrent(),n=new u(this,e,t),this.onData(this.writer.dtdNotation(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},e.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},e.prototype.openNode=function(e){var n,i,o,s;if(!e.isOpen){if(this.root||0!==this.currentLevel||e.type!==t.Element||(this.root=e),i="",e.type===t.Element){for(o in this.writerOptions.state=r.OpenTag,i=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name,s=e.attribs)T.call(s,o)&&(n=s[o],i+=this.writer.attribute(n,this.writerOptions,this.currentLevel));i+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=r.InsideTag}else this.writerOptions.state=r.OpenTag,i=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),e.children?(i+=" [",this.writerOptions.state=r.InsideTag):(this.writerOptions.state=r.CloseTag,i+=">"),i+=this.writer.endline(e,this.writerOptions,this.currentLevel);return this.onData(i,this.currentLevel),e.isOpen=!0}},e.prototype.closeNode=function(e){var n;if(!e.isClosed)return"",this.writerOptions.state=r.CloseTag,n=e.type===t.Element?this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel):this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=r.None,this.onData(n,this.currentLevel),e.isClosed=!0},e.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.dtd=function(e,t,n){return this.doctype(e,t,n)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(this)},1218:function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;r=n(468),t=n(1737),e.exports=function(e){function n(e){n.__super__.constructor.call(this,e),this.type=t.Dummy}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return""},n}(r)}).call(this)},1525:function(e,t,n){(function(){var t,r,i,o,s,a,c,l,u={}.hasOwnProperty;l=n(9241),c=l.isObject,a=l.isFunction,s=l.getValue,o=n(468),t=n(1737),r=n(4238),i=n(4797),e.exports=function(e){function n(e,r,i){var o,s,a,c;if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(r),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,null!=i&&this.attribute(i),e.type===t.Document&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this,e.children))for(s=0,a=(c=e.children).length;s<a;s++)if((o=c[s]).type===t.DocType){o.name=this.name;break}}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new i(this.attribs)),this.attributeMap}}),n.prototype.clone=function(){var e,t,n,r;for(t in(n=Object.create(this)).isRoot&&(n.documentObject=null),n.attribs={},r=this.attribs)u.call(r,t)&&(e=r[t],n.attribs[t]=e.clone());return n.children=[],this.children.forEach((function(e){var t;return(t=e.clone()).parent=n,n.children.push(t)})),n},n.prototype.attribute=function(e,t){var n,i;if(null!=e&&(e=s(e)),c(e))for(n in e)u.call(e,n)&&(i=e[n],this.attribute(n,i));else a(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.attribs[e]=new r(this,e,""):null!=t&&(this.attribs[e]=new r(this,e,t));return this},n.prototype.removeAttribute=function(e){var t,n,r;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=s(e),Array.isArray(e))for(n=0,r=e.length;n<r;n++)t=e[n],delete this.attribs[t];else delete this.attribs[e];return this},n.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))},n.prototype.att=function(e,t){return this.attribute(e,t)},n.prototype.a=function(e,t){return this.attribute(e,t)},n.prototype.getAttribute=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e].value:null},n.prototype.setAttribute=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNode=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e]:null},n.prototype.setAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNodeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNodeNS=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)},n.prototype.hasAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttribute=function(e,t){return this.attribs.hasOwnProperty(e)?this.attribs[e].isId:t},n.prototype.setIdAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttributeNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.isEqualNode=function(e){var t,r,i;if(!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(e))return!1;if(e.namespaceURI!==this.namespaceURI)return!1;if(e.prefix!==this.prefix)return!1;if(e.localName!==this.localName)return!1;if(e.attribs.length!==this.attribs.length)return!1;for(t=r=0,i=this.attribs.length-1;0<=i?r<=i:r>=i;t=0<=i?++r:--r)if(!this.attribs[t].isEqualNode(e.attribs[t]))return!1;return!0},n}(o)}).call(this)},4797:function(e){(function(){e.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(e){return this.nodes[e]},e.prototype.setNamedItem=function(e){var t;return t=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,t||null},e.prototype.removeNamedItem=function(e){var t;return t=this.nodes[e],delete this.nodes[e],t||null},e.prototype.item=function(e){return this.nodes[Object.keys(this.nodes)[e]]||null},e.prototype.getNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(this)},468:function(e,t,n){(function(){var t,r,i,o,s,a,c,l,u,p,d,h,f,m,g,y,v,b={}.hasOwnProperty;v=n(9241),y=v.isObject,g=v.isFunction,m=v.isEmpty,f=v.getValue,l=null,i=null,o=null,s=null,a=null,d=null,h=null,p=null,c=null,r=null,u=null,t=null,e.exports=function(){function e(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,l||(l=n(1525),i=n(2691),o=n(2679),s=n(4130),a=n(6376),d=n(1268),h=n(2535),p=n(5915),c=n(1218),r=n(1737),u=n(6684),n(4797),t=n(4923))}return Object.defineProperty(e.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new u(this.children)),this.childNodeList}}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(e.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(e.prototype,"textContent",{get:function(){var e,t,n,i,o;if(this.nodeType===r.Element||this.nodeType===r.DocumentFragment){for(o="",t=0,n=(i=this.children).length;t<n;t++)(e=i[t]).textContent&&(o+=e.textContent);return o}return null},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),e.prototype.setParent=function(e){var t,n,r,i,o;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),o=[],n=0,r=(i=this.children).length;n<r;n++)t=i[n],o.push(t.setParent(this));return o},e.prototype.element=function(e,t,n){var r,i,o,s,a,c,l,u,p,d,h;if(c=null,null===t&&null==n&&(t=(p=[{},null])[0],n=p[1]),null==t&&(t={}),t=f(t),y(t)||(n=(d=[t,n])[0],t=d[1]),null!=e&&(e=f(e)),Array.isArray(e))for(o=0,l=e.length;o<l;o++)i=e[o],c=this.element(i);else if(g(e))c=this.element(e.apply());else if(y(e)){for(a in e)if(b.call(e,a))if(h=e[a],g(h)&&(h=h.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))c=this.attribute(a.substr(this.stringify.convertAttKey.length),h);else if(!this.options.separateArrayItems&&Array.isArray(h)&&m(h))c=this.dummy();else if(y(h)&&m(h))c=this.element(a);else if(this.options.keepNullNodes||null!=h)if(!this.options.separateArrayItems&&Array.isArray(h))for(s=0,u=h.length;s<u;s++)i=h[s],(r={})[a]=i,c=this.element(r);else y(h)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?c=this.element(h):(c=this.element(a)).element(h):c=this.element(a,h);else c=this.dummy()}else c=this.options.keepNullNodes||null!==n?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),n):this.node(e,t,n):this.dummy();if(null==c)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return c},e.prototype.insertBefore=function(e,t,n){var r,i,o,s,a;if(null!=e?e.type:void 0)return s=t,(o=e).setParent(this),s?(i=children.indexOf(s),a=children.splice(i),children.push(o),Array.prototype.push.apply(children,a)):children.push(o),o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return i=this.parent.children.indexOf(this),a=this.parent.children.splice(i),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,a),r},e.prototype.insertAfter=function(e,t,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,o),r},e.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},e.prototype.node=function(e,t,n){var r,i;return null!=e&&(e=f(e)),t||(t={}),t=f(t),y(t)||(n=(i=[t,n])[0],t=i[1]),r=new l(this,e,t),null!=n&&r.text(n),this.children.push(r),r},e.prototype.text=function(e){var t;return y(e)&&this.element(e),t=new h(this,e),this.children.push(t),this},e.prototype.cdata=function(e){var t;return t=new i(this,e),this.children.push(t),this},e.prototype.comment=function(e){var t;return t=new o(this,e),this.children.push(t),this},e.prototype.commentBefore=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.commentAfter=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.raw=function(e){var t;return t=new d(this,e),this.children.push(t),this},e.prototype.dummy=function(){return new c(this)},e.prototype.instruction=function(e,t){var n,r,i,o,s;if(null!=e&&(e=f(e)),null!=t&&(t=f(t)),Array.isArray(e))for(o=0,s=e.length;o<s;o++)n=e[o],this.instruction(n);else if(y(e))for(n in e)b.call(e,n)&&(r=e[n],this.instruction(n,r));else g(t)&&(t=t.apply()),i=new p(this,e,t),this.children.push(i);return this},e.prototype.instructionBefore=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.instructionAfter=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.declaration=function(e,t,n){var i,o;return i=this.document(),o=new s(i,e,t,n),0===i.children.length?i.children.unshift(o):i.children[0].type===r.Declaration?i.children[0]=o:i.children.unshift(o),i.root()||i},e.prototype.dtd=function(e,t){var n,i,o,s,c,l,u,p,d;for(n=this.document(),i=new a(n,e,t),o=s=0,l=(p=n.children).length;s<l;o=++s)if(p[o].type===r.DocType)return n.children[o]=i,i;for(o=c=0,u=(d=n.children).length;c<u;o=++c)if(d[o].isRoot)return n.children.splice(o,0,i),i;return n.children.push(i),i},e.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},e.prototype.root=function(){var e;for(e=this;e;){if(e.type===r.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}},e.prototype.document=function(){var e;for(e=this;e;){if(e.type===r.Document)return e;e=e.parent}},e.prototype.end=function(e){return this.document().end(e)},e.prototype.prev=function(){var e;if((e=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},e.prototype.next=function(){var e;if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},e.prototype.importDocument=function(e){var t;return(t=e.root().clone()).parent=this,t.isRoot=!1,this.children.push(t),this},e.prototype.debugInfo=function(e){var t,n;return null!=(e=e||this.name)||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},e.prototype.ele=function(e,t,n){return this.element(e,t,n)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.doc=function(){return this.document()},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.u=function(){return this.up()},e.prototype.importXMLBuilder=function(e){return this.importDocument(e)},e.prototype.replaceChild=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.hasChildNodes=function(){return 0!==this.children.length},e.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isSupported=function(e,t){return!0},e.prototype.hasAttributes=function(){return 0!==this.attribs.length},e.prototype.compareDocumentPosition=function(e){var n,r;return(n=this)===e?0:this.document()!==e.document()?(r=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?r|=t.Preceding:r|=t.Following,r):n.isAncestor(e)?t.Contains|t.Preceding:n.isDescendant(e)?t.Contains|t.Following:n.isPreceding(e)?t.Preceding:t.Following},e.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isEqualNode=function(e){var t,n,r;if(e.nodeType!==this.nodeType)return!1;if(e.children.length!==this.children.length)return!1;for(t=n=0,r=this.children.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n)if(!this.children[t].isEqualNode(e.children[t]))return!1;return!0},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.setUserData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.contains=function(e){return!!e&&(e===this||this.isDescendant(e))},e.prototype.isDescendant=function(e){var t,n,r,i;for(n=0,r=(i=this.children).length;n<r;n++){if(e===(t=i[n]))return!0;if(t.isDescendant(e))return!0}return!1},e.prototype.isAncestor=function(e){return e.isDescendant(this)},e.prototype.isPreceding=function(e){var t,n;return t=this.treePosition(e),n=this.treePosition(this),-1!==t&&-1!==n&&t<n},e.prototype.isFollowing=function(e){var t,n;return t=this.treePosition(e),n=this.treePosition(this),-1!==t&&-1!==n&&t>n},e.prototype.treePosition=function(e){var t,n;return n=0,t=!1,this.foreachTreeNode(this.document(),(function(r){if(n++,!t&&r===e)return t=!0})),t?n:-1},e.prototype.foreachTreeNode=function(e,t){var n,r,i,o,s;for(e||(e=this.document()),r=0,i=(o=e.children).length;r<i;r++){if(s=t(n=o[r]))return s;if(s=this.foreachTreeNode(n,t))return s}},e}()}).call(this)},6684:function(e){(function(){e.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(e){return this.nodes[e]||null},e}()}).call(this)},5915:function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;t=n(1737),r=n(7457),e.exports=function(e){function n(e,r,i){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,i&&(this.value=this.stringify.insValue(i))}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))},n.prototype.isEqualNode=function(e){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.target===this.target},n}(r)}).call(this)},1268:function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;t=n(1737),r=n(468),e.exports=function(e){function n(e,r){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(r)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},6775:function(e,t,n){(function(){var t,r,i,o={}.hasOwnProperty;t=n(1737),i=n(3905),r=n(8753),e.exports=function(e){function n(e,t){this.stream=e,n.__super__.constructor.call(this,t)}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.endline=function(e,t,i){return e.isLastRootNode&&t.state===r.CloseTag?"":n.__super__.endline.call(this,e,t,i)},n.prototype.document=function(e,t){var n,r,i,o,s,a,c,l,u;for(r=i=0,s=(c=e.children).length;i<s;r=++i)(n=c[r]).isLastRootNode=r===e.children.length-1;for(t=this.filterOptions(t),u=[],o=0,a=(l=e.children).length;o<a;o++)n=l[o],u.push(this.writeChildNode(n,t,0));return u},n.prototype.attribute=function(e,t,r){return this.stream.write(n.__super__.attribute.call(this,e,t,r))},n.prototype.cdata=function(e,t,r){return this.stream.write(n.__super__.cdata.call(this,e,t,r))},n.prototype.comment=function(e,t,r){return this.stream.write(n.__super__.comment.call(this,e,t,r))},n.prototype.declaration=function(e,t,r){return this.stream.write(n.__super__.declaration.call(this,e,t,r))},n.prototype.docType=function(e,t,n){var i,o,s,a;if(n||(n=0),this.openNode(e,t,n),t.state=r.OpenTag,this.stream.write(this.indent(e,t,n)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e,t,n)),t.state=r.InsideTag,o=0,s=(a=e.children).length;o<s;o++)i=a[o],this.writeChildNode(i,t,n+1);t.state=r.CloseTag,this.stream.write("]")}return t.state=r.CloseTag,this.stream.write(t.spaceBeforeSlash+">"),this.stream.write(this.endline(e,t,n)),t.state=r.None,this.closeNode(e,t,n)},n.prototype.element=function(e,n,i){var s,a,c,l,u,p,d,h,f;for(d in i||(i=0),this.openNode(e,n,i),n.state=r.OpenTag,this.stream.write(this.indent(e,n,i)+"<"+e.name),h=e.attribs)o.call(h,d)&&(s=h[d],this.attribute(s,n,i));if(l=0===(c=e.children.length)?null:e.children[0],0===c||e.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value})))n.allowEmpty?(this.stream.write(">"),n.state=r.CloseTag,this.stream.write("</"+e.name+">")):(n.state=r.CloseTag,this.stream.write(n.spaceBeforeSlash+"/>"));else if(!n.pretty||1!==c||l.type!==t.Text&&l.type!==t.Raw||null==l.value){for(this.stream.write(">"+this.endline(e,n,i)),n.state=r.InsideTag,u=0,p=(f=e.children).length;u<p;u++)a=f[u],this.writeChildNode(a,n,i+1);n.state=r.CloseTag,this.stream.write(this.indent(e,n,i)+"</"+e.name+">")}else this.stream.write(">"),n.state=r.InsideTag,n.suppressPrettyCount++,this.writeChildNode(l,n,i+1),n.suppressPrettyCount--,n.state=r.CloseTag,this.stream.write("</"+e.name+">");return this.stream.write(this.endline(e,n,i)),n.state=r.None,this.closeNode(e,n,i)},n.prototype.processingInstruction=function(e,t,r){return this.stream.write(n.__super__.processingInstruction.call(this,e,t,r))},n.prototype.raw=function(e,t,r){return this.stream.write(n.__super__.raw.call(this,e,t,r))},n.prototype.text=function(e,t,r){return this.stream.write(n.__super__.text.call(this,e,t,r))},n.prototype.dtdAttList=function(e,t,r){return this.stream.write(n.__super__.dtdAttList.call(this,e,t,r))},n.prototype.dtdElement=function(e,t,r){return this.stream.write(n.__super__.dtdElement.call(this,e,t,r))},n.prototype.dtdEntity=function(e,t,r){return this.stream.write(n.__super__.dtdEntity.call(this,e,t,r))},n.prototype.dtdNotation=function(e,t,r){return this.stream.write(n.__super__.dtdNotation.call(this,e,t,r))},n}(i)}).call(this)},382:function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(3905),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.document=function(e,t){var n,r,i,o,s;for(t=this.filterOptions(t),o="",r=0,i=(s=e.children).length;r<i;r++)n=s[r],o+=this.writeChildNode(n,t,0);return t.pretty&&o.slice(-t.newline.length)===t.newline&&(o=o.slice(0,-t.newline.length)),o},t}(t)}).call(this)},3976:function(e){(function(){var t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;e.exports=function(){function e(e){var r,i,o;for(r in this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this),e||(e={}),this.options=e,this.options.version||(this.options.version="1.0"),i=e.stringify||{})n.call(i,r)&&(o=i[r],this[r]=o)}return e.prototype.name=function(e){return this.options.noValidation?e:this.assertLegalName(""+e||"")},e.prototype.text=function(e){return this.options.noValidation?e:this.assertLegalChar(this.textEscape(""+e||""))},e.prototype.cdata=function(e){return this.options.noValidation?e:(e=(e=""+e||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e))},e.prototype.comment=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},e.prototype.raw=function(e){return this.options.noValidation?e:""+e||""},e.prototype.attValue=function(e){return this.options.noValidation?e:this.assertLegalChar(this.attEscape(e=""+e||""))},e.prototype.insTarget=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.insValue=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return this.assertLegalChar(e)},e.prototype.xmlVersion=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},e.prototype.xmlEncoding=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return this.assertLegalChar(e)},e.prototype.xmlStandalone=function(e){return this.options.noValidation?e:e?"yes":"no"},e.prototype.dtdPubID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdSysID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdElementValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdAttType=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdAttDefault=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdEntityValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdNData=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.assertLegalChar=function(e){var t,n;if(this.options.noValidation)return e;if(t="","1.0"===this.options.version){if(t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=e.match(t))throw new Error("Invalid character in string: "+e+" at index "+n.index)}else if("1.1"===this.options.version&&(t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=e.match(t)))throw new Error("Invalid character in string: "+e+" at index "+n.index);return e},e.prototype.assertLegalName=function(e){var t;if(this.options.noValidation)return e;if(this.assertLegalChar(e),t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!e.match(t))throw new Error("Invalid character in name");return e},e.prototype.textEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},e.prototype.attEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},e}()}).call(this)},2535:function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;t=n(1737),r=n(7457),e.exports=function(e){function n(e,r){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(r)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"wholeText",{get:function(){var e,t,n;for(n="",t=this.previousSibling;t;)n=t.data+n,t=t.previousSibling;for(n+=this.data,e=this.nextSibling;e;)n+=e.data,e=e.nextSibling;return n}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))},n.prototype.splitText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.replaceWholeText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(r)}).call(this)},3905:function(e,t,n){(function(){var t,r,i,o={}.hasOwnProperty;i=n(9241).assign,t=n(1737),n(4130),n(6376),n(2691),n(2679),n(1525),n(1268),n(2535),n(5915),n(1218),n(4111),n(7696),n(5529),n(8012),r=n(8753),e.exports=function(){function e(e){var t,n,r;for(t in e||(e={}),this.options=e,n=e.writer||{})o.call(n,t)&&(r=n[t],this["_"+t]=this[t],this[t]=r)}return e.prototype.filterOptions=function(e){var t,n,o,s,a,c,l,u;return e||(e={}),e=i({},this.options,e),(t={writer:this}).pretty=e.pretty||!1,t.allowEmpty=e.allowEmpty||!1,t.indent=null!=(n=e.indent)?n:"  ",t.newline=null!=(o=e.newline)?o:"\n",t.offset=null!=(s=e.offset)?s:0,t.dontPrettyTextNodes=null!=(a=null!=(c=e.dontPrettyTextNodes)?c:e.dontprettytextnodes)?a:0,t.spaceBeforeSlash=null!=(l=null!=(u=e.spaceBeforeSlash)?u:e.spacebeforeslash)?l:"",!0===t.spaceBeforeSlash&&(t.spaceBeforeSlash=" "),t.suppressPrettyCount=0,t.user={},t.state=r.None,t},e.prototype.indent=function(e,t,n){var r;return!t.pretty||t.suppressPrettyCount?"":t.pretty&&(r=(n||0)+t.offset+1)>0?new Array(r).join(t.indent):""},e.prototype.endline=function(e,t,n){return!t.pretty||t.suppressPrettyCount?"":t.newline},e.prototype.attribute=function(e,t,n){var r;return this.openAttribute(e,t,n),r=" "+e.name+'="'+e.value+'"',this.closeAttribute(e,t,n),r},e.prototype.cdata=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<![CDATA[",t.state=r.InsideTag,i+=e.value,t.state=r.CloseTag,i+="]]>"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.comment=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"\x3c!-- ",t.state=r.InsideTag,i+=e.value,t.state=r.CloseTag,i+=" --\x3e"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.declaration=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<?xml",t.state=r.InsideTag,i+=' version="'+e.version+'"',null!=e.encoding&&(i+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(i+=' standalone="'+e.standalone+'"'),t.state=r.CloseTag,i+=t.spaceBeforeSlash+"?>",i+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.docType=function(e,t,n){var i,o,s,a,c;if(n||(n=0),this.openNode(e,t,n),t.state=r.OpenTag,a=this.indent(e,t,n),a+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(a+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(a+=" [",a+=this.endline(e,t,n),t.state=r.InsideTag,o=0,s=(c=e.children).length;o<s;o++)i=c[o],a+=this.writeChildNode(i,t,n+1);t.state=r.CloseTag,a+="]"}return t.state=r.CloseTag,a+=t.spaceBeforeSlash+">",a+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),a},e.prototype.element=function(e,n,i){var s,a,c,l,u,p,d,h,f,m,g,y,v,b;for(f in i||(i=0),m=!1,g="",this.openNode(e,n,i),n.state=r.OpenTag,g+=this.indent(e,n,i)+"<"+e.name,y=e.attribs)o.call(y,f)&&(s=y[f],g+=this.attribute(s,n,i));if(l=0===(c=e.children.length)?null:e.children[0],0===c||e.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value})))n.allowEmpty?(g+=">",n.state=r.CloseTag,g+="</"+e.name+">"+this.endline(e,n,i)):(n.state=r.CloseTag,g+=n.spaceBeforeSlash+"/>"+this.endline(e,n,i));else if(!n.pretty||1!==c||l.type!==t.Text&&l.type!==t.Raw||null==l.value){if(n.dontPrettyTextNodes)for(u=0,d=(v=e.children).length;u<d;u++)if(((a=v[u]).type===t.Text||a.type===t.Raw)&&null!=a.value){n.suppressPrettyCount++,m=!0;break}for(g+=">"+this.endline(e,n,i),n.state=r.InsideTag,p=0,h=(b=e.children).length;p<h;p++)a=b[p],g+=this.writeChildNode(a,n,i+1);n.state=r.CloseTag,g+=this.indent(e,n,i)+"</"+e.name+">",m&&n.suppressPrettyCount--,g+=this.endline(e,n,i),n.state=r.None}else g+=">",n.state=r.InsideTag,n.suppressPrettyCount++,m=!0,g+=this.writeChildNode(l,n,i+1),n.suppressPrettyCount--,m=!1,n.state=r.CloseTag,g+="</"+e.name+">"+this.endline(e,n,i);return this.closeNode(e,n,i),g},e.prototype.writeChildNode=function(e,n,r){switch(e.type){case t.CData:return this.cdata(e,n,r);case t.Comment:return this.comment(e,n,r);case t.Element:return this.element(e,n,r);case t.Raw:return this.raw(e,n,r);case t.Text:return this.text(e,n,r);case t.ProcessingInstruction:return this.processingInstruction(e,n,r);case t.Dummy:return"";case t.Declaration:return this.declaration(e,n,r);case t.DocType:return this.docType(e,n,r);case t.AttributeDeclaration:return this.dtdAttList(e,n,r);case t.ElementDeclaration:return this.dtdElement(e,n,r);case t.EntityDeclaration:return this.dtdEntity(e,n,r);case t.NotationDeclaration:return this.dtdNotation(e,n,r);default:throw new Error("Unknown XML node type: "+e.constructor.name)}},e.prototype.processingInstruction=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<?",t.state=r.InsideTag,i+=e.target,e.value&&(i+=" "+e.value),t.state=r.CloseTag,i+=t.spaceBeforeSlash+"?>",i+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.raw=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n),t.state=r.InsideTag,i+=e.value,t.state=r.CloseTag,i+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.text=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n),t.state=r.InsideTag,i+=e.value,t.state=r.CloseTag,i+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.dtdAttList=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<!ATTLIST",t.state=r.InsideTag,i+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(i+=" "+e.defaultValueType),e.defaultValue&&(i+=' "'+e.defaultValue+'"'),t.state=r.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.dtdElement=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<!ELEMENT",t.state=r.InsideTag,i+=" "+e.name+" "+e.value,t.state=r.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.dtdEntity=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<!ENTITY",t.state=r.InsideTag,e.pe&&(i+=" %"),i+=" "+e.name,e.value?i+=' "'+e.value+'"':(e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),e.nData&&(i+=" NDATA "+e.nData)),t.state=r.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.dtdNotation=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<!NOTATION",t.state=r.InsideTag,i+=" "+e.name,e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?i+=' PUBLIC "'+e.pubID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),t.state=r.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.openNode=function(e,t,n){},e.prototype.closeNode=function(e,t,n){},e.prototype.openAttribute=function(e,t,n){},e.prototype.closeAttribute=function(e,t,n){},e}()}).call(this)},9665:function(e,t,n){(function(){var t,r,i,o,s,a,c,l,u,p;p=n(9241),l=p.assign,u=p.isFunction,i=n(7260),o=n(1933),s=n(400),c=n(382),a=n(6775),t=n(1737),r=n(8753),e.exports.create=function(e,t,n,r){var i,s;if(null==e)throw new Error("Root element needs a name.");return r=l({},t,n,r),s=(i=new o(r)).element(e),r.headless||(i.declaration(r),null==r.pubID&&null==r.sysID||i.dtd(r)),s},e.exports.begin=function(e,t,n){var r;return u(e)&&(t=(r=[e,t])[0],n=r[1],e={}),t?new s(e,t,n):new o(e)},e.exports.stringWriter=function(e){return new c(e)},e.exports.streamWriter=function(e,t){return new a(e,t)},e.exports.implementation=new i,e.exports.nodeType=t,e.exports.writerState=r}).call(this)},4824:(e,t,n)=>{var r=n(9896),i=n(3106),o=n(3070),s=n(4025),a=n(9023),c=n(4434).EventEmitter,l=n(2203).Transform,u=n(2203).PassThrough,p=n(2203).Writable;function d(e,t,n){"function"==typeof t&&(n=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!1),null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),null==n&&(n=T),r.fstat(e,(function(r,i){if(r)return n(r);!function(e,t,n,r){"function"==typeof n&&(r=n,n=null),null==n&&(n={}),null==n.autoClose&&(n.autoClose=!0),null==n.lazyEntries&&(n.lazyEntries=!1),null==n.decodeStrings&&(n.decodeStrings=!0);var i=!!n.decodeStrings;if(null==n.validateEntrySizes&&(n.validateEntrySizes=!0),null==n.strictFileNames&&(n.strictFileNames=!1),null==r&&(r=T),"number"!=typeof t)throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");e.ref();var o=Math.min(65557,t),s=_(o),a=t-s.length;y(e,s,0,o,a,(function(c){if(c)return r(c);for(var l=o-22;l>=0;l-=1)if(101010256===s.readUInt32LE(l)){var u=s.slice(l),p=u.readUInt16LE(4);if(0!==p)return r(new Error("multi-disk zip files are not supported: found disk number: "+p));var d=u.readUInt16LE(10),f=u.readUInt32LE(16),m=u.readUInt16LE(20),g=u.length-22;if(m!==g)return r(new Error("invalid comment length. expected: "+g+". found: "+m));var v=i?x(u,22,u.length,!1):u.slice(22);if(65535!==d&&4294967295!==f)return r(null,new h(e,f,t,d,v,n.autoClose,n.lazyEntries,i,n.validateEntrySizes,n.strictFileNames));var b=_(20),w=a+l-b.length;return void y(e,b,0,b.length,w,(function(o){if(o)return r(o);if(117853008!==b.readUInt32LE(0))return r(new Error("invalid zip64 end of central directory locator signature"));var s=S(b,8),a=_(56);y(e,a,0,a.length,s,(function(o){return o?r(o):101075792!==a.readUInt32LE(0)?r(new Error("invalid zip64 end of central directory record signature")):(d=S(a,32),f=S(a,48),r(null,new h(e,f,t,d,v,n.autoClose,n.lazyEntries,i,n.validateEntrySizes,n.strictFileNames)))}))}))}r(new Error("end of central directory record signature not found"))}))}(o.createFromFd(e,{autoClose:!0}),i.size,t,n)}))}function h(e,t,n,r,i,o,s,a,l,u){var p=this;c.call(p),p.reader=e,p.reader.on("error",(function(e){m(p,e)})),p.reader.once("close",(function(){p.emit("close")})),p.readEntryCursor=t,p.fileSize=n,p.entryCount=r,p.comment=i,p.entriesRead=0,p.autoClose=!!o,p.lazyEntries=!!s,p.decodeStrings=!!a,p.validateEntrySizes=!!l,p.strictFileNames=!!u,p.isOpen=!0,p.emittedError=!1,p.lazyEntries||p._readEntry()}function f(e,t){e.autoClose&&e.close(),m(e,t)}function m(e,t){e.emittedError||(e.emittedError=!0,e.emit("error",t))}function g(){}function y(e,t,n,r,i,o){if(0===r)return setImmediate((function(){o(null,_(0))}));e.read(t,n,r,i,(function(e,t){return e?o(e):t<r?o(new Error("unexpected EOF")):void o()}))}function v(e){l.call(this),this.actualByteCount=0,this.expectedByteCount=e}function b(){c.call(this),this.refCount=0}function w(e){u.call(this),this.context=e,this.context.ref(),this.unreffedYet=!1}t.ho=function(e,t,n){"function"==typeof t&&(n=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!0),null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),null==n&&(n=T),r.open(e,"r",(function(e,i){if(e)return n(e);d(i,t,(function(e,t){e&&r.close(i,T),n(e,t)}))}))},a.inherits(h,c),h.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())},h.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()},h.prototype._readEntry=function(){var e=this;if(e.entryCount!==e.entriesRead){if(!e.emittedError){var t=_(46);y(e.reader,t,0,t.length,e.readEntryCursor,(function(n){if(n)return f(e,n);if(!e.emittedError){var r=new g,i=t.readUInt32LE(0);if(33639248!==i)return f(e,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(r.versionMadeBy=t.readUInt16LE(4),r.versionNeededToExtract=t.readUInt16LE(6),r.generalPurposeBitFlag=t.readUInt16LE(8),r.compressionMethod=t.readUInt16LE(10),r.lastModFileTime=t.readUInt16LE(12),r.lastModFileDate=t.readUInt16LE(14),r.crc32=t.readUInt32LE(16),r.compressedSize=t.readUInt32LE(20),r.uncompressedSize=t.readUInt32LE(24),r.fileNameLength=t.readUInt16LE(28),r.extraFieldLength=t.readUInt16LE(30),r.fileCommentLength=t.readUInt16LE(32),r.internalFileAttributes=t.readUInt16LE(36),r.externalFileAttributes=t.readUInt32LE(38),r.relativeOffsetOfLocalHeader=t.readUInt32LE(42),64&r.generalPurposeBitFlag)return f(e,new Error("strong encryption is not supported"));e.readEntryCursor+=46,t=_(r.fileNameLength+r.extraFieldLength+r.fileCommentLength),y(e.reader,t,0,t.length,e.readEntryCursor,(function(n){if(n)return f(e,n);if(!e.emittedError){var i=0!=(2048&r.generalPurposeBitFlag);r.fileName=e.decodeStrings?x(t,0,r.fileNameLength,i):t.slice(0,r.fileNameLength);var o=r.fileNameLength+r.extraFieldLength,a=t.slice(r.fileNameLength,o);r.extraFields=[];for(var c=0;c<a.length-3;){var l=a.readUInt16LE(c+0),u=a.readUInt16LE(c+2),p=c+4,d=p+u;if(d>a.length)return f(e,new Error("extra field length exceeds extra field buffer size"));var h=_(u);a.copy(h,0,p,d),r.extraFields.push({id:l,data:h}),c=d}if(r.fileComment=e.decodeStrings?x(t,o,o+r.fileCommentLength,i):t.slice(o,o+r.fileCommentLength),r.comment=r.fileComment,e.readEntryCursor+=t.length,e.entriesRead+=1,4294967295===r.uncompressedSize||4294967295===r.compressedSize||4294967295===r.relativeOffsetOfLocalHeader){var m=null;for(c=0;c<r.extraFields.length;c++)if(1===(y=r.extraFields[c]).id){m=y.data;break}if(null==m)return f(e,new Error("expected zip64 extended information extra field"));var g=0;if(4294967295===r.uncompressedSize){if(g+8>m.length)return f(e,new Error("zip64 extended information extra field does not include uncompressed size"));r.uncompressedSize=S(m,g),g+=8}if(4294967295===r.compressedSize){if(g+8>m.length)return f(e,new Error("zip64 extended information extra field does not include compressed size"));r.compressedSize=S(m,g),g+=8}if(4294967295===r.relativeOffsetOfLocalHeader){if(g+8>m.length)return f(e,new Error("zip64 extended information extra field does not include relative header offset"));r.relativeOffsetOfLocalHeader=S(m,g),g+=8}}if(e.decodeStrings)for(c=0;c<r.extraFields.length;c++){var y;if(28789===(y=r.extraFields[c]).id){if(y.data.length<6)continue;if(1!==y.data.readUInt8(0))continue;var v=y.data.readUInt32LE(1);if(s.unsigned(t.slice(0,r.fileNameLength))!==v)continue;r.fileName=x(y.data,5,y.data.length,!0);break}}if(e.validateEntrySizes&&0===r.compressionMethod){var b=r.uncompressedSize;if(r.isEncrypted()&&(b+=12),r.compressedSize!==b){var w="compressed/uncompressed size mismatch for stored file: "+r.compressedSize+" != "+r.uncompressedSize;return f(e,new Error(w))}}if(e.decodeStrings){e.strictFileNames||(r.fileName=r.fileName.replace(/\\/g,"/"));var E=(T=r.fileName,e.validateFileNameOptions,-1!==T.indexOf("\\")?"invalid characters in fileName: "+T:/^[a-zA-Z]:/.test(T)||/^\//.test(T)?"absolute path: "+T:-1!==T.split("/").indexOf("..")?"invalid relative path: "+T:null);if(null!=E)return f(e,new Error(E))}e.emit("entry",r),e.lazyEntries||e._readEntry()}var T}))}}))}}else setImmediate((function(){e.autoClose&&e.close(),e.emittedError||e.emit("end")}))},h.prototype.openReadStream=function(e,t,n){var r=this,o=0,s=e.compressedSize;if(null==n)n=t,t={};else{if(null!=t.decrypt){if(!e.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(!1!==t.decrypt)throw new Error("invalid options.decrypt value: "+t.decrypt);if(e.isCompressed()&&!1!==t.decompress)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(null!=t.decompress){if(!e.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!1!==t.decompress&&!0!==t.decompress)throw new Error("invalid options.decompress value: "+t.decompress)}if(null!=t.start||null!=t.end){if(e.isCompressed()&&!1!==t.decompress)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(e.isEncrypted()&&!1!==t.decrypt)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(null!=t.start){if((o=t.start)<0)throw new Error("options.start < 0");if(o>e.compressedSize)throw new Error("options.start > entry.compressedSize")}if(null!=t.end){if((s=t.end)<0)throw new Error("options.end < 0");if(s>e.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<o)throw new Error("options.end < options.start")}}if(!r.isOpen)return n(new Error("closed"));if(e.isEncrypted()&&!1!==t.decrypt)return n(new Error("entry is encrypted, and options.decrypt !== false"));r.reader.ref();var a=_(30);y(r.reader,a,0,a.length,e.relativeOffsetOfLocalHeader,(function(c){try{if(c)return n(c);var l=a.readUInt32LE(0);if(67324752!==l)return n(new Error("invalid local file header signature: 0x"+l.toString(16)));var u,p=a.readUInt16LE(26),d=a.readUInt16LE(28),h=e.relativeOffsetOfLocalHeader+a.length+p+d;if(0===e.compressionMethod)u=!1;else{if(8!==e.compressionMethod)return n(new Error("unsupported compression method: "+e.compressionMethod));u=null==t.decompress||t.decompress}var f=h,m=f+e.compressedSize;if(0!==e.compressedSize&&m>r.fileSize)return n(new Error("file data overflows file bounds: "+f+" + "+e.compressedSize+" > "+r.fileSize));var g=r.reader.createReadStream({start:f+o,end:f+s}),y=g;if(u){var b=!1,w=i.createInflateRaw();g.on("error",(function(e){setImmediate((function(){b||w.emit("error",e)}))})),g.pipe(w),r.validateEntrySizes?(y=new v(e.uncompressedSize),w.on("error",(function(e){setImmediate((function(){b||y.emit("error",e)}))})),w.pipe(y)):y=w,y.destroy=function(){b=!0,w!==y&&w.unpipe(y),g.unpipe(w),g.destroy()}}n(null,y)}finally{r.reader.unref()}}))},g.prototype.getLastModDate=function(){return e=this.lastModFileDate,t=this.lastModFileTime,new Date(1980+(e>>9&127),(e>>5&15)-1,31&e,t>>11&31,t>>5&63,2*(31&t),0);var e,t},g.prototype.isEncrypted=function(){return 0!=(1&this.generalPurposeBitFlag)},g.prototype.isCompressed=function(){return 8===this.compressionMethod},a.inherits(v,l),v.prototype._transform=function(e,t,n){if(this.actualByteCount+=e.length,this.actualByteCount>this.expectedByteCount){var r="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return n(new Error(r))}n(null,e)},v.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()},a.inherits(b,c),b.prototype.ref=function(){this.refCount+=1},b.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.close((function(t){if(t)return e.emit("error",t);e.emit("close")}))}},b.prototype.createReadStream=function(e){var t=e.start,n=e.end;if(t===n){var r=new u;return setImmediate((function(){r.end()})),r}var i=this._readStreamForRange(t,n),o=!1,s=new w(this);i.on("error",(function(e){setImmediate((function(){o||s.emit("error",e)}))})),s.destroy=function(){i.unpipe(s),s.unref(),i.destroy()};var a=new v(n-t);return s.on("error",(function(e){setImmediate((function(){o||a.emit("error",e)}))})),a.destroy=function(){o=!0,s.unpipe(a),s.destroy()},i.pipe(s).pipe(a)},b.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")},b.prototype.read=function(e,t,n,r,i){var o=this.createReadStream({start:r,end:r+n}),s=new p,a=0;s._write=function(n,r,i){n.copy(e,t+a,0,n.length),a+=n.length,i()},s.on("finish",i),o.on("error",(function(e){i(e)})),o.pipe(s)},b.prototype.close=function(e){setImmediate(e)},a.inherits(w,u),w.prototype._flush=function(e){this.unref(),e()},w.prototype.unref=function(e){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var _,E="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ";function x(e,t,n,r){if(r)return e.toString("utf8",t,n);for(var i="",o=t;o<n;o++)i+=E[e[o]];return i}function S(e,t){var n=e.readUInt32LE(t);return 4294967296*e.readUInt32LE(t+4)+n}function T(e){if(e)throw e}_="function"==typeof Buffer.allocUnsafe?function(e){return Buffer.allocUnsafe(e)}:function(e){return new Buffer(e)}},5827:e=>{"use strict";e.exports=require("applicationinsights-native-metrics")},6608:e=>{"use strict";e.exports=require("bufferutil")},1695:e=>{"use strict";e.exports=require("utf-8-validate")},4980:e=>{"use strict";e.exports=require("vscode")},2613:e=>{"use strict";e.exports=require("assert")},290:e=>{"use strict";e.exports=require("async_hooks")},181:e=>{"use strict";e.exports=require("buffer")},5317:e=>{"use strict";e.exports=require("child_process")},4236:e=>{"use strict";e.exports=require("console")},9140:e=>{"use strict";e.exports=require("constants")},6982:e=>{"use strict";e.exports=require("crypto")},2250:e=>{"use strict";e.exports=require("dns")},4434:e=>{"use strict";e.exports=require("events")},9896:e=>{"use strict";e.exports=require("fs")},8611:e=>{"use strict";e.exports=require("http")},5692:e=>{"use strict";e.exports=require("https")},3339:e=>{"use strict";e.exports=require("module")},9278:e=>{"use strict";e.exports=require("net")},857:e=>{"use strict";e.exports=require("os")},6928:e=>{"use strict";e.exports=require("path")},2987:e=>{"use strict";e.exports=require("perf_hooks")},2203:e=>{"use strict";e.exports=require("stream")},3193:e=>{"use strict";e.exports=require("string_decoder")},3557:e=>{"use strict";e.exports=require("timers")},4756:e=>{"use strict";e.exports=require("tls")},2018:e=>{"use strict";e.exports=require("tty")},7016:e=>{"use strict";e.exports=require("url")},9023:e=>{"use strict";e.exports=require("util")},3106:e=>{"use strict";e.exports=require("zlib")},5463:e=>{e.exports={nanoid:(e=21)=>{let t="",n=0|e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(n=t)=>{let r="",i=0|n;for(;i--;)r+=e[Math.random()*e.length|0];return r}}},392:e=>{"use strict";e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},4837:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},3753:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},7235:e=>{"use strict";e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},1813:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},6256:e=>{"use strict";e.exports={rE:"2.4.7"}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{activate:()=>th,deactivate:()=>ah});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{hasBrowserEnv:()=>Ct,hasStandardBrowserEnv:()=>It,hasStandardBrowserWebWorkerEnv:()=>Ot,navigator:()=>Pt,origin:()=>kt});var t,n=__webpack_require__(6928),r=__webpack_require__.n(n),i=__webpack_require__(4980),o=__webpack_require__(1605),s=__webpack_require__(555);!function(e){let t,n,r,i,o,s,a,c,l,u;e.CTRL_RBRACKET="",e.extensionID="espressif.esp-idf-extension",e.HTTP_USER_AGENT="vscode.extensions.espressif.esp-idf.extension/1.0.0 axios-client",function(e){e.SELECTED_CONFIG="SELECTED_PROJECT_CONFIG",e.PROJECT_CONFIGURATION_FILENAME="esp_idf_project_configuration.json"}(t=e.ProjectConfiguration||(e.ProjectConfiguration={})),function(e){e.App="app",e.Bootloader="bootloader",e.PartitionTable="partition-table"}(n=e.BuildType||(e.BuildType={})),function(e){e.JTAG="JTAG",e.UART="UART",e.DFU="DFU"}(r=e.FlashType||(e.FlashType={})),function(e){e[e.Espressif=0]="Espressif",e[e.Github=1]="Github"}(i=e.IdfMirror||(e.IdfMirror={})),function(e){e.IDF_SETUPS="IDF_SETUPS",e.SELECTED_WORKSPACE_FOLDER="SELECTED_WORKSPACE_FOLDER"}(o=e.GlobalConfiguration||(e.GlobalConfiguration={})),e.platformDepConfigurations=["idf.buildPath","idf.espIdfPath","idf.espAdfPath","idf.espMdfPath","idf.espRainmakerPath","idf.espHomeKitSdkPath","idf.gitPath","idf.pythonBinPath","idf.port","idf.toolsPath"],function(e){let t;!function(e){e.RedirectURL="https://rainmaker-login-ui.s3.amazonaws.com/welcome.html",e.ResponseType="CODE",e.ClientID="60i6kac5f9rjuetqnq5mnmaqv6",e.Scope="aws.cognito.signin.user.admin email openid phone profile",e.AuthURL="https://auth.rainmaker.espressif.com/oauth2/token",e.GrantType="authorization_code"}(t=e.OAuth||(e.OAuth={}))}(s=e.Rainmaker||(e.Rainmaker={})),function(e){e.FileName="CHANGELOG.md",e.DB_VERSION_KEY="esp.extension.version"}(a=e.ChangelogViewer||(e.ChangelogViewer={})),function(e){e.SHOWN_KEY="espIdf.prerelease.notification.shown",e.EIM_SETUP_CAMPAIGN="eim-setup-2025"}(c=e.PreReleaseNotification||(e.PreReleaseNotification={})),function(t){let n,r,i,o;t.IDF_GITHUB_ASSETS="https://dl.espressif.com/github_assets",t.IDF_VERSIONS="https://dl.espressif.com/dl/esp-idf/idf_versions.txt",function(e){e.VERSION="2.39.2",e.IDF_EMBED_GIT_URL=`https://dl.espressif.com/dl/idf-git/idf-git-${e.VERSION}-win64.zip`,e.GITHUB_EMBED_GIT_URL=`https://github.com/git-for-windows/git/releases/download/v${e.VERSION}.windows.1/MinGit-${e.VERSION}-64-bit.zip`,e.IDF_EMBED_GIT_SIZE=29211171,e.GITHUB_EMBED_GIT_SIZE=29211171}(n=t.IDF_EMBED_GIT||(t.IDF_EMBED_GIT={})),function(e){e.VERSION="3.8.7",e.IDF_EMBED_PYTHON_URL=`https://dl.espressif.com/dl/idf-python/idf-python-${e.VERSION}-embed-win64.zip`,e.GITHUB_EMBED_PYTHON_URL=`https://github.com/espressif/idf-python/releases/download/v${e.VERSION}/idf-python-${e.VERSION}-embed-win64.zip`,e.IDF_EMBED_PYTHON_SIZE=20086226,e.GITHUB_EMBED_PYTHON_SIZE=21471135}(r=t.OLD_IDF_EMBED_PYTHON||(t.OLD_IDF_EMBED_PYTHON={})),function(e){e.VERSION="3.11.2",e.IDF_EMBED_PYTHON_URL=`https://dl.espressif.com/dl/idf-python/idf-python-${e.VERSION}-embed-win64.zip`,e.GITHUB_EMBED_PYTHON_URL=`https://github.com/espressif/idf-python/releases/download/v${e.VERSION}/idf-python-${e.VERSION}-embed-win64.zip`,e.IDF_EMBED_PYTHON_SIZE=14106455,e.GITHUB_EMBED_PYTHON_SIZE=14106455}(i=t.IDF_EMBED_PYTHON||(t.IDF_EMBED_PYTHON={})),t.GithubRepository="https://github.com/espressif/vscode-esp-idf-extension",t.OpenOcdTroubleshootingFaq="https://github.com/espressif/openocd-esp32/wiki/Troubleshooting-FAQ",t.ARDUINO_ESP32_URL="https://github.com/espressif/arduino-esp32.git",function(t){t.BASE_URL="https://docs.espressif.com/projects/esp-idf",t.INDEX_CACHE_LIMIT=86400,t.IDF_VERSIONS="https://dl.espressif.com/dl/esp-idf/idf_versions.js",t.README=e.URL.GithubRepository+"/blob/master/README.md",t.FLASH_ENCRYPTION="/security/flash-encryption.html"}(o=t.Docs||(t.Docs={}))}(l=e.URL||(e.URL={})),function(e){let t,n;!function(e){e.ViewType="partition-table-editor",e.Title="Partition Table"}(t=e.PartitionTableEditor||(e.PartitionTableEditor={})),function(e){e.ViewType="component-manager-ui",e.Title="ESP Component Registry"}(n=e.ComponentManagerUI||(e.ComponentManagerUI={}))}(u=e.Webview||(e.Webview={}))}(t||(t={}));var a=__webpack_require__(5317),c=__webpack_require__(6982),l=__webpack_require__(9896);let u={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const p=/[&<>"']/,d=new RegExp(p.source,"g"),h=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,f=new RegExp(h.source,"g"),m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g=e=>m[e];function y(e,t){if(t){if(p.test(e))return e.replace(d,g)}else if(h.test(e))return e.replace(f,g);return e}const v=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function b(e){return e.replace(v,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const w=/(^|[^\[])\^/g;function _(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(w,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}const E=/[^\w:]/g,x=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function S(e,t,n){if(e){let e;try{e=decodeURIComponent(b(n)).replace(E,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!x.test(n)&&(n=function(e,t){T[" "+e]||(C.test(e)?T[" "+e]=e+"/":T[" "+e]=D(e,"/",!0));const n=-1===(e=T[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(P,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(I,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const T={},C=/^[^:]+:\/*[^/]*$/,P=/^([^:]+:)[\s\S]*$/,I=/^([^:]+:\/*[^/]*)[\s\S]*$/,O={exec:function(){}};function k(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function D(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.slice(0,r-i)}function A(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function R(e,t,n,r){const i=t.href,o=t.title?y(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:o,text:y(s)}}class N{constructor(e){this.options=e||u}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:D(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=D(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,i,o,s,a,c,l,u,p,d,h,f=t[1].trim();const m=f.length>1,g={type:"list",raw:"",ordered:m,start:m?+f.slice(0,-1):"",loose:!1,items:[]};f=m?`\\d{1,9}\\${f.slice(-1)}`:`\\${f}`,this.options.pedantic&&(f=m?f:"[*+-]");const y=new RegExp(`^( {0,3}${f})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(h=!1,t=y.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),l=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),u=e.split("\n",1)[0],this.options.pedantic?(o=2,d=l.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,d=l.slice(o),o+=t[1].length),a=!1,!l&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),h=!0),!h){const t=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),r=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),s=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(p=e.split("\n",1)[0],u=p,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!i.test(u))&&!s.test(u)&&!t.test(u)&&!r.test(e);){if(u.search(/[^ ]/)>=o||!u.trim())d+="\n"+u.slice(o);else{if(a)break;if(l.search(/[^ ]/)>=4)break;if(i.test(l))break;if(s.test(l))break;if(r.test(l))break;d+="\n"+u}a||u.trim()||(a=!0),n+=p+"\n",e=e.substring(p.length+1),l=u.slice(o)}}g.loose||(c?g.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(d),r&&(i="[ ] "!==r[0],d=d.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:d}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=d.trimRight(),g.raw=g.raw.trimRight();const v=g.items.length;for(s=0;s<v;s++)if(this.lexer.state.top=!1,g.items[s].tokens=this.lexer.blockTokens(g.items[s].text,[]),!g.loose){const e=g.items[s].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));g.loose=t}if(g.loose)for(s=0;s<v;s++)g.items[s].loose=!0;return g}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):y(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:k(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r,i,o,s=e.align.length;for(n=0;n<s;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(s=e.rows.length,n=0;n<s;n++)e.rows[n]=k(e.rows[n],e.header.length).map((e=>({text:e})));for(s=e.header.length,r=0;r<s;r++)e.header[r].tokens=this.lexer.inline(e.header[r].text);for(s=e.rows.length,r=0;r<s;r++)for(o=e.rows[r],i=0;i<o.length;i++)o[i].tokens=this.lexer.inline(o[i].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:y(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):y(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=D(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),R(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return R(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){const n=r[0].length-1;let i,o,s=n,a=0;const c="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=c.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=i.length,r[3]||r[4]){s+=o;continue}if((r[5]||r[6])&&n%3&&!((n+o)%3)){a+=o;continue}if(s-=o,s>0)continue;o=Math.min(o,o+s+a);const t=e.slice(0,n+r.index+(r[0].length-i.length)+o);if(Math.min(n,o)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const c=t.slice(2,-2);return{type:"strong",raw:t,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=y(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=y(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=y(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=y(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=y(n[0]),r="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):y(n[0]):n[0]:y(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const L={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:O,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};L.def=_(L.def).replace("label",L._label).replace("title",L._title).getRegex(),L.bullet=/(?:[*+-]|\d{1,9}[.)])/,L.listItemStart=_(/^( *)(bull) */).replace("bull",L.bullet).getRegex(),L.list=_(L.list).replace(/bull/g,L.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+L.def.source+")").getRegex(),L._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",L._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,L.html=_(L.html,"i").replace("comment",L._comment).replace("tag",L._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),L.paragraph=_(L._paragraph).replace("hr",L.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L._tag).getRegex(),L.blockquote=_(L.blockquote).replace("paragraph",L.paragraph).getRegex(),L.normal={...L},L.gfm={...L.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},L.gfm.table=_(L.gfm.table).replace("hr",L.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L._tag).getRegex(),L.gfm.paragraph=_(L._paragraph).replace("hr",L.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",L.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",L._tag).getRegex(),L.pedantic={...L.normal,html:_("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",L._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:O,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:_(L.normal._paragraph).replace("hr",L.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",L.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const F={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:O,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:O,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function M(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function j(e){let t,n,r="";const i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}F._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",F.punctuation=_(F.punctuation).replace(/punctuation/g,F._punctuation).getRegex(),F.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,F.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,F._comment=_(L._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),F.emStrong.lDelim=_(F.emStrong.lDelim).replace(/punct/g,F._punctuation).getRegex(),F.emStrong.rDelimAst=_(F.emStrong.rDelimAst,"g").replace(/punct/g,F._punctuation).getRegex(),F.emStrong.rDelimUnd=_(F.emStrong.rDelimUnd,"g").replace(/punct/g,F._punctuation).getRegex(),F._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,F._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,F._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,F.autolink=_(F.autolink).replace("scheme",F._scheme).replace("email",F._email).getRegex(),F._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,F.tag=_(F.tag).replace("comment",F._comment).replace("attribute",F._attribute).getRegex(),F._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,F._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,F._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,F.link=_(F.link).replace("label",F._label).replace("href",F._href).replace("title",F._title).getRegex(),F.reflink=_(F.reflink).replace("label",F._label).replace("ref",L._label).getRegex(),F.nolink=_(F.nolink).replace("ref",L._label).getRegex(),F.reflinkSearch=_(F.reflinkSearch,"g").replace("reflink",F.reflink).replace("nolink",F.nolink).getRegex(),F.normal={...F},F.pedantic={...F.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:_(/^!?\[(label)\]\((.*?)\)/).replace("label",F._label).getRegex(),reflink:_(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",F._label).getRegex()},F.gfm={...F.normal,escape:_(F.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},F.gfm.url=_(F.gfm.url,"i").replace("email",F.gfm._extended_email).getRegex(),F.breaks={...F.gfm,br:_(F.br).replace("{2,}","*").getRegex(),text:_(F.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class B{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||u,this.options.tokenizer=this.options.tokenizer||new N,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:L.normal,inline:F.normal};this.options.pedantic?(t.block=L.pedantic,t.inline=F.pedantic):this.options.gfm&&(t.block=L.gfm,this.options.breaks?t.inline=F.breaks:t.inline=F.gfm),this.tokenizer.rules=t}static get rules(){return{block:L,inline:F}}static lex(e,t){return new B(t).lex(e)}static lexInline(e,t){return new B(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,i,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(i=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((function(e){r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i)))r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,i,o,s,a,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,o.index)+"["+A("a",o[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,o.index)+"["+A("a",o[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,o.index+o[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(s||(a=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,j))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,j))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((function(e){r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i,M))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),s=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class U{constructor(e){this.options=e||u}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+y(r)+'">'+(n?e:y(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:y(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,r){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+r.slug(n)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=S(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=S(this.options.sanitize,this.options.baseUrl,e)))return n;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class q{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class ${constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class V{constructor(e){this.options=e||u,this.options.renderer=this.options.renderer||new U,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new q,this.slugger=new $}static parse(e,t){return new V(t).parse(e)}static parseInline(e,t){return new V(t).parseInline(e)}parse(e,t=!0){let n,r,i,o,s,a,c,l,u,p,d,h,f,m,g,y,v,w,_,E="";const x=e.length;for(n=0;n<x;n++)if(p=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[p.type]&&(_=this.options.extensions.renderers[p.type].call({parser:this},p),!1!==_||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(p.type)))E+=_||"";else switch(p.type){case"space":continue;case"hr":E+=this.renderer.hr();continue;case"heading":E+=this.renderer.heading(this.parseInline(p.tokens),p.depth,b(this.parseInline(p.tokens,this.textRenderer)),this.slugger);continue;case"code":E+=this.renderer.code(p.text,p.lang,p.escaped);continue;case"table":for(l="",c="",o=p.header.length,r=0;r<o;r++)c+=this.renderer.tablecell(this.parseInline(p.header[r].tokens),{header:!0,align:p.align[r]});for(l+=this.renderer.tablerow(c),u="",o=p.rows.length,r=0;r<o;r++){for(a=p.rows[r],c="",s=a.length,i=0;i<s;i++)c+=this.renderer.tablecell(this.parseInline(a[i].tokens),{header:!1,align:p.align[i]});u+=this.renderer.tablerow(c)}E+=this.renderer.table(l,u);continue;case"blockquote":u=this.parse(p.tokens),E+=this.renderer.blockquote(u);continue;case"list":for(d=p.ordered,h=p.start,f=p.loose,o=p.items.length,u="",r=0;r<o;r++)g=p.items[r],y=g.checked,v=g.task,m="",g.task&&(w=this.renderer.checkbox(y),f?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=w+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=w+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:w}):m+=w),m+=this.parse(g.tokens,f),u+=this.renderer.listitem(m,v,y);E+=this.renderer.list(u,d,h);continue;case"html":E+=this.renderer.html(p.text);continue;case"paragraph":E+=this.renderer.paragraph(this.parseInline(p.tokens));continue;case"text":for(u=p.tokens?this.parseInline(p.tokens):p.text;n+1<x&&"text"===e[n+1].type;)p=e[++n],u+="\n"+(p.tokens?this.parseInline(p.tokens):p.text);E+=t?this.renderer.paragraph(u):u;continue;default:{const e='Token with "'+p.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return E}parseInline(e,t){t=t||this.renderer;let n,r,i,o="";const s=e.length;for(n=0;n<s;n++)if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(i=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==i||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))o+=i||"";else switch(r.type){case"escape":case"text":o+=t.text(r.text);break;case"html":o+=t.html(r.text);break;case"link":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":o+=t.image(r.href,r.title,r.text);break;case"strong":o+=t.strong(this.parseInline(r.tokens,t));break;case"em":o+=t.em(this.parseInline(r.tokens,t));break;case"codespan":o+=t.codespan(r.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(r.tokens,t));break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return o}}class H{constructor(e){this.options=e||u}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function G(e,t){return(n,r,i)=>{"function"==typeof r&&(i=r,r=null);const o={...r},s=function(e,t,n){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+y(r.message+"",!0)+"</pre>";return t?Promise.resolve(e):n?void n(null,e):e}if(t)return Promise.reject(r);if(!n)throw r;n(r)}}((r={...z.defaults,...o}).silent,r.async,i);if(null==n)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(r),r.hooks&&(r.hooks.options=r),i){const o=r.highlight;let a;try{r.hooks&&(n=r.hooks.preprocess(n)),a=e(n,r)}catch(e){return s(e)}const c=function(e){let n;if(!e)try{r.walkTokens&&z.walkTokens(a,r.walkTokens),n=t(a,r),r.hooks&&(n=r.hooks.postprocess(n))}catch(t){e=t}return r.highlight=o,e?s(e):i(null,n)};if(!o||o.length<3)return c();if(delete r.highlight,!a.length)return c();let l=0;return z.walkTokens(a,(function(e){"code"===e.type&&(l++,setTimeout((()=>{o(e.text,e.lang,(function(t,n){if(t)return c(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),l--,0===l&&c()}))}),0))})),void(0===l&&c())}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then((t=>e(t,r))).then((e=>r.walkTokens?Promise.all(z.walkTokens(e,r.walkTokens)).then((()=>e)):e)).then((e=>t(e,r))).then((e=>r.hooks?r.hooks.postprocess(e):e)).catch(s);try{r.hooks&&(n=r.hooks.preprocess(n));const i=e(n,r);r.walkTokens&&z.walkTokens(i,r.walkTokens);let o=t(i,r);return r.hooks&&(o=r.hooks.postprocess(o)),o}catch(e){return s(e)}}}function z(e,t,n){return G(B.lex,V.parse)(e,t,n)}z.options=z.setOptions=function(e){var t;return z.defaults={...z.defaults,...e},t=z.defaults,u=t,z},z.getDefaults=function(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},z.defaults=u,z.use=function(...e){const t=z.defaults.extensions||{renderers:{},childTokens:{}};e.forEach((e=>{const n={...e};if(n.async=z.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=z.defaults.renderer||new U;for(const n in e.renderer){const r=t[n];t[n]=(...i)=>{let o=e.renderer[n].apply(t,i);return!1===o&&(o=r.apply(t,i)),o}}n.renderer=t}if(e.tokenizer){const t=z.defaults.tokenizer||new N;for(const n in e.tokenizer){const r=t[n];t[n]=(...i)=>{let o=e.tokenizer[n].apply(t,i);return!1===o&&(o=r.apply(t,i)),o}}n.tokenizer=t}if(e.hooks){const t=z.defaults.hooks||new H;for(const n in e.hooks){const r=t[n];H.passThroughHooks.has(n)?t[n]=i=>{if(z.defaults.async)return Promise.resolve(e.hooks[n].call(t,i)).then((e=>r.call(t,e)));const o=e.hooks[n].call(t,i);return r.call(t,o)}:t[n]=(...i)=>{let o=e.hooks[n].apply(t,i);return!1===o&&(o=r.apply(t,i)),o}}n.hooks=t}if(e.walkTokens){const t=z.defaults.walkTokens;n.walkTokens=function(n){let r=[];return r.push(e.walkTokens.call(this,n)),t&&(r=r.concat(t.call(this,n))),r}}z.setOptions(n)}))},z.walkTokens=function(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(z,r)),r.type){case"table":for(const e of r.header)n=n.concat(z.walkTokens(e.tokens,t));for(const e of r.rows)for(const r of e)n=n.concat(z.walkTokens(r.tokens,t));break;case"list":n=n.concat(z.walkTokens(r.items,t));break;default:z.defaults.extensions&&z.defaults.extensions.childTokens&&z.defaults.extensions.childTokens[r.type]?z.defaults.extensions.childTokens[r.type].forEach((function(e){n=n.concat(z.walkTokens(r[e],t))})):r.tokens&&(n=n.concat(z.walkTokens(r.tokens,t)))}return n},z.parseInline=G(B.lexInline,V.parseInline),z.Parser=V,z.parser=V.parse,z.Renderer=U,z.TextRenderer=q,z.Lexer=B,z.lexer=B.lex,z.Tokenizer=N,z.Slugger=$,z.Hooks=H,z.parse=z,z.options,z.setOptions,z.use,z.walkTokens,z.parseInline,V.parse,B.lex;var W=__webpack_require__(857);class K extends i.TreeItem{constructor(e,t,n,r){super(e,t),this.label=e,this.collapsibleState=t,this.uri=n,this.command=r}}class Y{constructor(e){this.OnDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this.OnDidChangeTreeData.event,this.workspaceFolder=e;const t=Is("idf.buildPath",e);this.projectDescriptionJsonPath=(0,n.join)(t,"project_description.json")}refresh(e){this.workspaceFolder=e;const t=Is("idf.buildPath",e);this.projectDescriptionJsonPath=(0,n.join)(t,"project_description.json"),this.OnDidChangeTreeData.fire(null)}getTreeItem(e){return e}getChildren(e){return new Promise((t=>{t(e?function(e){const t=[],r=l.readdirSync(e),o=i.l10n.t("ESP-IDF: Open IDF Component File");for(const s of r){const r=l.statSync(n.join(e,s)),a=r.isDirectory()?1:0,c=r.isDirectory()?void 0:{arguments:[i.Uri.file(n.join(e,s))],command:"espIdf.openIdfDocument",title:o},u=new K(s,a,i.Uri.file(n.join(e,s)),c);t.push(u)}return t}(e.uri.fsPath):this.getComponentsInProject())}))}getComponentsInProject(){if(Xo(this.projectDescriptionJsonPath)){const e=[],t=[],n=JSON.parse(Zo(this.projectDescriptionJsonPath)),r=Is("idf.espIdfPath",this.workspaceFolder);if(Object.prototype.hasOwnProperty.call(n,"build_component_paths"))for(let o=0;o<n.build_component_paths.length;o++){if(""===n.build_component_paths[o])continue;const s=new K(n.build_components[o],i.TreeItemCollapsibleState.Collapsed,i.Uri.file(n.build_component_paths[o]).with({scheme:"vscode-resource"}));s.uri.fsPath.startsWith(r)?e.push(s):t.push(s)}const o=t.sort(((e,t)=>e.label>t.label?1:-1)),s=e.sort(((e,t)=>e.label>t.label?1:-1));return o.concat(s)}return js.errorNotify(i.l10n.t("File project_description.json cannot be found."),new Error("File-Not-Found"),"IDFTreeDataProvider getComponentsInProject",void 0,!1),null}}async function J(e,t,n){await i.window.showInformationMessage(e,t)===t&&await Promise.resolve(n())}class Q{static init(){return void 0===Q.instance&&(Q.instance=i.window.createOutputChannel("ESP-IDF")),Q.instance}static appendLine(e,t){Q.checkInitialized(),t&&this.lastTag!==t&&(this.lastTag&&Q.instance.appendLine(`[/${this.lastTag}]`),Q.instance.appendLine(`[${t}]`),this.lastTag=t),Q.instance.appendLine(e)}static append(e,t){Q.checkInitialized(),t&&Q.instance.appendLine(`[${t}]`),Q.instance.append(e)}static appendLineAndShow(e,t){Q.appendLine(e,t||void 0),Q.show()}static end(){Q.checkInitialized(),Q.instance.dispose()}static show(){Q.checkInitialized(),Q.instance.show()}static hide(){Q.checkInitialized(),Q.instance.hide()}static checkInitialized(){if(!Q.instance)throw new Error("need to initialize the output channel first use:: OutputChannel.init()")}}const X=[{name:"ESP-WROVER-KIT 3.3V",description:"ESP-WROVER-KIT with 3.3V ESP32-WROVER-B module",target:"esp32",configFiles:["board/esp32-wrover-kit-3.3v.cfg"]},{name:"ESP-WROVER-KIT 1.8V",description:"ESP-WROVER-KIT with 1.8V ESP32-WROVER-B module",target:"esp32",configFiles:["board/esp32-wrover-kit-1.8v.cfg"]},{name:"ESP32-ETHERNET-KIT",description:"ESP32-ETHERNET-KIT with ESP32-WROVER-E module",target:"esp32",configFiles:["board/esp32-ethernet-kit-3.3v.cfg"]},{name:"ESP32 chip (via ESP-PROG)",description:"ESP32 debugging via ESP-PROG board",target:"esp32",configFiles:["interface/ftdi/esp_ftdi.cfg","target/esp32.cfg"]},{name:"ESP32 chip (via ESP-PROG-2)",description:"ESP32 debugging via ESP-PROG-2 board",target:"esp32",configFiles:["board/esp32-bridge.cfg"]},{name:"ESP32-SOLO-1 module (via ESP-PROG)",description:"ESP32-SOLO-1 debugging via ESP-PROG board",target:"esp32",configFiles:["interface/ftdi/esp_ftdi.cfg","target/esp32-solo-1.cfg"]},{name:"ESP32-S2-KALUGA-1",description:"ESP32-S2-KALUGA-1 kit",target:"esp32s2",configFiles:["board/esp32s2-kaluga-1.cfg"]},{name:"ESP32-S2 chip (via ESP-PROG)",description:"ESP32-S2 debugging via ESP-PROG board",target:"esp32s2",configFiles:["interface/ftdi/esp_ftdi.cfg","target/esp32s2.cfg"]},{name:"ESP32-S2 chip (via ESP-PROG-2)",description:"ESP32-S2 debugging via ESP-PROG-2 board",target:"esp32s2",configFiles:["board/esp32s2-bridge.cfg"]},{name:"ESP32-S3 chip (via builtin USB-JTAG)",description:"ESP32-S3 debugging via builtin USB-JTAG",target:"esp32s3",configFiles:["board/esp32s3-builtin.cfg"]},{name:"ESP32-S3 chip (via ESP-PROG)",description:"ESP32-S3 debugging via ESP-PROG board",target:"esp32s3",configFiles:["interface/ftdi/esp_ftdi.cfg","target/esp32s3.cfg"]},{name:"ESP32-S3 chip (via ESP-PROG-2)",description:"ESP32-S3 debugging via ESP-PROG-2 board",target:"esp32s3",configFiles:["board/esp32s3-bridge.cfg"]},{name:"ESP32-C2 chip (via ESP-PROG)",description:"ESP32-C2 debugging via ESP-PROG board",target:"esp32c2",configFiles:["board/esp32c2-ftdi.cfg"]},{name:"ESP32-C2 chip (via ESP-PROG-2)",description:"ESP32-C2 debugging via ESP-PROG-2 board",target:"esp32c2",configFiles:["board/esp32c2-bridge.cfg"]},{name:"ESP32-C3 chip (via builtin USB-JTAG)",description:"ESP32-C3 debugging via builtin USB-JTAG",target:"esp32c3",configFiles:["board/esp32c3-builtin.cfg"]},{name:"ESP32-C3 chip (via ESP-PROG)",description:"ESP32-C3 debugging via ESP-PROG board",target:"esp32c3",configFiles:["board/esp32c3-ftdi.cfg"]},{name:"ESP32-C3 chip (via ESP-PROG-2)",description:"ESP32-C3 debugging via ESP-PROG-2 board",target:"esp32c3",configFiles:["board/esp32c3-bridge.cfg"]},{name:"ESP32-C5 chip (via builtin USB-JTAG)",description:"ESP32-C5 debugging via builtin USB-JTAG",target:"esp32c5",configFiles:["board/esp32c5-builtin.cfg"]},{name:"ESP32-C5 chip (via ESP-PROG)",description:"ESP32-C5 debugging via ESP-PROG board",target:"esp32c5",configFiles:["board/esp32c5-ftdi.cfg"]},{name:"ESP32-C5 chip (via ESP-PROG-2)",description:"ESP32-C5 debugging via ESP-PROG-2 board",target:"esp32c5",configFiles:["board/esp32c5-bridge.cfg"]},{name:"ESP32-C6 chip (via builtin USB-JTAG)",description:"ESP32-C6 debugging via builtin USB-JTAG",target:"esp32c6",configFiles:["board/esp32c6-builtin.cfg"]},{name:"ESP32-C6 chip (via ESP-PROG)",description:"ESP32-C6 debugging via ESP-PROG board",target:"esp32c6",configFiles:["board/esp32c6-ftdi.cfg"]},{name:"ESP32-C6 chip (via ESP-PROG-2)",description:"ESP32-C6 debugging via ESP-PROG-2 board",target:"esp32c6",configFiles:["board/esp32c6-bridge.cfg"]},{name:"ESP32-C6 chip with LP core (via builtin USB-JTAG)",description:"ESP32-C6 with LP core debugging via builtin USB-JTAG",target:"esp32c6",configFiles:["board/esp32c6-lpcore-builtin.cfg"]},{name:"ESP32-C6 chip with LP core (via ESP-PROG)",description:"ESP32-C6 with LP core debugging via ESP-PROG board",target:"esp32c6",configFiles:["board/esp32c6-lpcore-ftdi.cfg"]},{name:"ESP32-C6 chip with LP core (via ESP-PROG-2)",description:"ESP32-C6 with LP core debugging via ESP-PROG-2 board",target:"esp32c6",configFiles:["board/esp32c6-lpcore-bridge.cfg"]},{name:"ESP32-C61 chip (via builtin USB-JTAG)",description:"ESP32-C61 debugging via builtin USB-JTAG",target:"esp32c61",configFiles:["board/esp32c61-builtin.cfg"]},{name:"ESP32-C61 chip (via ESP-PROG)",description:"ESP32-C61 debugging via ESP-PROG board",target:"esp32c61",configFiles:["board/esp32c61-ftdi.cfg"]},{name:"ESP32-C61 chip (via ESP-PROG-2)",description:"ESP32-C61 debugging via ESP-PROG-2 board",target:"esp32c61",configFiles:["board/esp32c61-bridge.cfg"]},{name:"ESP32-H2 chip (via builtin USB-JTAG)",description:"ESP32-H2 debugging via builtin USB-JTAG",target:"esp32h2",configFiles:["board/esp32h2-builtin.cfg"]},{name:"ESP32-H2 chip (via ESP-PROG)",description:"ESP32-H2 debugging via ESP-PROG board",target:"esp32h2",configFiles:["board/esp32h2-ftdi.cfg"]},{name:"ESP32-H2 chip (via ESP-PROG-2)",description:"ESP32-H2 debugging via ESP-PROG-2 board",target:"esp32h2",configFiles:["board/esp32h2-bridge.cfg"]},{name:"ESP32-H4 chip (via builtin USB-JTAG)",description:"ESP32-H4 debugging via builtin USB-JTAG",target:"esp32h4",configFiles:["board/esp32h4-builtin.cfg"]},{name:"ESP32-H4 chip (via ESP-PROG)",description:"ESP32-H4 debugging via ESP-PROG board",target:"esp32h4",configFiles:["board/esp32h4-ftdi.cfg"]},{name:"ESP32-H4 chip (via ESP-PROG-2)",description:"ESP32-H4 debugging via ESP-PROG-2 board",target:"esp32h4",configFiles:["board/esp32h4-bridge.cfg"]},{name:"ESP32-P4 chip (via builtin USB-JTAG)",description:"ESP32-P4 debugging via builtin USB-JTAG",target:"esp32p4",configFiles:["board/esp32p4-builtin.cfg"]},{name:"ESP32-P4 chip (via ESP-PROG)",description:"ESP32-P4 debugging via ESP-PROG board",target:"esp32p4",configFiles:["board/esp32p4-ftdi.cfg"]},{name:"ESP32-P4 chip (via ESP-PROG-2)",description:"ESP32-P4 debugging via ESP-PROG-2 board",target:"esp32p4",configFiles:["board/esp32p4-bridge.cfg"]}];class Z extends Error{constructor(e,t,n=null,r=" "){super(e),this.message=e,this.methodName=t,this.innerError=n,this.errorCode=r}}class ee{static GetPlatformInformation(){const e=W.platform(),t=W.arch();let n;switch(e){case"win32":n="x64"===t?"x86_x64":"ia32"===t?"x86":"Unknown";break;case"linux":case"darwin":n="x64"===t?"x64":"ia32"===t?"x86":"arm64"===t?"arm64":"arm"===t?"armhf":t;break;default:n="Unknown"}return new ee(e,n)}get platformToUse(){switch(this.platform){case"darwin":return"arm64"===this.architecture?"macos-arm64":"macos";case"win32":return"x86"===this.architecture?"win32":"win64";case"linux":switch(this.architecture){case"arm64":case"armv8l":case"aarch64":return"linux-arm64";case"armel":case"armv7l":return"linux-armel";case"armhf":return"linux-armhf";case"x86":return"linux-i686";default:return"linux-amd64"}}}get fallbackPlatform(){switch(this.platform){case"darwin":return"macos";case"win32":return"x86"===this.architecture?"win32":"win64";default:return"linux-amd64"}}constructor(e,t){this.platform=e,this.architecture=t}}class te{static async createIdfToolsManager(e){const t=ee.GetPlatformInformation(),r=await async function(e){const t=await us(e);let r=n.join(e,"tools","tools.json");return await(0,o.pathExists)(r).then((e=>{if(!e){const e=t.localeCompare("4.0")<0?"fallback-tools.json":"tools.json";r=n.join(No.extensionPath,e)}})),r}(e),i=await(0,o.readJSON)(r);return new te(i,t,Q.init(),e)}constructor(e,t,n,r){this.toolsJson=e,this.platformInfo=t,this.toolsManagerChannel=n,this.espIdfPath=r}getPackageList(e){return new Promise(((t,n)=>{if(!this.allPackages)if(this.toolsJson.tools){this.allPackages=this.toolsJson.tools;for(const e of this.allPackages)if(e.export_paths&&e.export_paths.length>0&&""!==e.export_paths[0][0]&&(e.binaries=e.export_paths[0]),e.platform_overrides){const t=e.platform_overrides.filter((e=>-1!==e.platforms.indexOf(this.platformInfo.platformToUse)||-1!==e.platforms.indexOf(this.platformInfo.fallbackPlatform)));if(t.length>0)for(const n in t[0])e.hasOwnProperty(n)&&(e[n]=t[0][n],"export_paths"===n&&(e.binaries=t[0].export_paths[0]))}}else n(new Z("Tools metadata does not exists.","getPackageList"));t(this.allPackages.filter((t=>"always"===t.install||e&&"on_request"===t.install&&e.indexOf(t.name)>-1)))}))}async verifyPackages(e,t,n=!0){const r=await this.getPackageList(t),i={},o=r.map((e=>e.name)),s=r.map((t=>this.checkBinariesVersion(t,e,n))),a=await Promise.all(s);return o.forEach(((e,t)=>i[e]=a[t])),i}obtainUrlInfoForPlatform(e){const t=e.versions.filter((e=>("recommended"===e.status||"supported"===e.status||"deprecated"===e.status)&&(Object.getOwnPropertyNames(e).indexOf(this.platformInfo.platformToUse)>-1||Object.getOwnPropertyNames(e).indexOf(this.platformInfo.fallbackPlatform)>-1||Object.getOwnPropertyNames(e).indexOf("any")>-1)));if(!t||0===t.length)throw new Error(`${e.name} doesn't have a compatible version for ${this.platformInfo.platformToUse}`);return Object.getOwnPropertyNames(t[0]).indexOf("any")>-1?t[0].any:Object.getOwnPropertyNames(t[0]).indexOf(this.platformInfo.platformToUse)>-1?t[0][this.platformInfo.platformToUse]:t[0][this.platformInfo.fallbackPlatform]}applyGithubAssetsMapping(e){return e.replace(/https:\/\/github.com/g,t.URL.IDF_GITHUB_ASSETS)}getVersionToUse(e){const t=e.versions.filter((e=>("recommended"===e.status||"supported"===e.status||"deprecated"===e.status)&&(Object.getOwnPropertyNames(e).indexOf(this.platformInfo.platformToUse)>-1||Object.getOwnPropertyNames(e).indexOf(this.platformInfo.fallbackPlatform)>-1||Object.getOwnPropertyNames(e).indexOf("any")>-1)));if(!t||0===t.length)throw new Error(`${e.name} doesn't have a compatible version for ${this.platformInfo.platformToUse}`);return t.length>0?t[0].name:void 0}async checkBinariesVersion(e,t,r=!0){const i=Object.keys(process.env).find((e=>"PATH"==e.toUpperCase()));let o=process.env[i];process.env[i]&&-1===process.env[i].indexOf(t)&&(o=`${t}${n.delimiter}${process.env[i]}`);const s=Object.assign({},process.env);if(s[i]&&!s[i].includes(o)&&(s[i]=o),e.version_cmd&&0===e.version_cmd.length||!e.version_cmd[0])return"No command version";const a=e.version_cmd[0],c=e.version_cmd.slice(1);try{if(!await ys(a,s))return"No match";const t=(await ts(a,c,process.cwd(),r?this.toolsManagerChannel:void 0,{env:s,maxBuffer:512e3,cwd:process.cwd()})).toString().match(e.version_regex);if(t&&t.length>0){if(e.version_regex_replace){let n=e.version_regex_replace;for(let e=0;e<t.length;e++)n=n.replace("\\"+e,t[e]);return n}return t[1]}return"No match"}catch(t){const n=`Error checking ${e.name} version`;return r&&(this.toolsManagerChannel.appendLine(n),this.toolsManagerChannel.appendLine(t)),js.error(n,t,"IdfToolsManager checkBinariesVersion",void 0,!1),n}}async exportPathsInString(e,t){return(await this.exportPathsInArray(e,t)).join(n.delimiter)}async exportPathsInArray(e,t){const r=await this.getPackageList(t),i=[];for(const t of r){const r=this.getVersionToUse(t);let o=t.binaries?n.join(e,t.name,r,...t.binaries):n.join(e,t.name,r);i.push(o)}return i}async getListOfReqEnvVars(e){const t={},n=await this.getPackageList(e);for(const e of n)Object.keys(e.export_vars).forEach((n=>{-1===Object.keys(t).indexOf(n)&&(t[n]=e.export_vars[n])}));return t}async exportVars(e,t){const n={},r=await this.getPackageList(t);for(const t of r){const r=this.exportVarsForPkg(t,e);Object.keys(r).forEach(((e,t,i)=>{-1===Object.keys(n).indexOf(e)&&(n[e]=r[e])}))}return n}exportVarsForPkg(e,t){const r={};return Object.keys(e.export_vars).forEach(((i,o,s)=>{const a=this.getVersionToUse(e),c=n.join(t,e.name,a);r[i]=e.export_vars[i].replace("${TOOL_PATH}",c)})),r}async getRequiredToolsInfo(e,t,r,i=!0){let o={};return t&&(o=await this.verifyPackages(t,r,i)),(await this.getPackageList(r)).map((t=>{const r=t.versions.filter((e=>Object.getOwnPropertyNames(e).indexOf(this.platformInfo.platformToUse)>-1||Object.getOwnPropertyNames(e).indexOf(this.platformInfo.fallbackPlatform)>-1)).map((e=>e.name));let i=r.indexOf(o[t.name])>-1||o[t.name]&&"No command version"===o[t.name];const s=this.getVersionToUse(t);let a="",c=t.export_vars;return e&&(a=t.binaries?n.join(e,t.name,s,...t.binaries):n.join(e,t.name,s),c=this.exportVarsForPkg(t,e)),{actual:o[t.name]||"",description:t.description,doesToolExist:i,env:c,expected:r.join(","),hashResult:i,hasFailed:!1,id:t.name,name:t.name,path:a,progress:"0.00%",progressDetail:""}}))}}async function ne(e){const t=Is("idf.espIdfPath",e),r=Is("idf.toolsPath",e),i=Is("idf.customExtraVars",e),o=await te.createIdfToolsManager(t),s=await o.exportVars((0,n.join)(r,"tools"));let a;try{a=s.hasOwnProperty("OPENOCD_SCRIPTS")?s.OPENOCD_SCRIPTS:i.hasOwnProperty("OPENOCD_SCRIPTS")?i.OPENOCD_SCRIPTS:process.env.OPENOCD_SCRIPTS?process.env.OPENOCD_SCRIPTS:void 0}catch(e){js.error(e.message,e,"boardConfiguration getOpenOcdScripts"),a=process.env.OPENOCD_SCRIPTS?process.env.OPENOCD_SCRIPTS:void 0}return a}async function re(e="",t=""){if(!e){const e=X.filter((e=>e.target===t));return t?e:X}const r=(0,n.join)(e,"esp-config.json");try{const e=(await(0,o.readJSON)(r)).boards.map((e=>({name:e.name,description:e.description,target:e.target,configFiles:e.config_files}))),n={name:"ESP32-S3 chip (via builtin USB-JTAG)",description:"ESP32-S3 debugging via builtin USB-JTAG",target:"esp32s3",configFiles:["board/esp32s3-builtin.cfg"]};-1===e.findIndex((e=>e.name===n.name))&&e.push(n);const i={name:"Custom board",description:"No board selected",target:"esp32",configFiles:["interface/ftdi/esp32_devkitj_v1.cfg","target/esp32.cfg"]};e.push(i);const s=e.filter((e=>e.target===t));return t?s:e}catch(e){js.error(e.message,e,"boardConfiguration getBoards");const n=X.filter((e=>e.target===t));return t?n:X}}async function ie(e,t){try{const n=await ne(e);if(!t&&!(t=await so(e)))return void i.commands.executeCommand("espIdf.setTarget");if("linux"===t)return;const r=Is("idf.openOcdConfigs",e),o=await re(n,t),s=i.l10n.t("No OpenOCD boards found for target {target}. Please check your OPENOCD_SCRIPTS environment variable.",{target:t});if(!o||0===o.length)return void js.errorNotify(s,new Error(s),"boardConfiguration selectOpenOcdConfigFiles");const a=o.map((e=>({description:`${e.description} (${e.configFiles})`,label:e.name,target:e,picked:r.join(",").includes(e.configFiles.join(","))}))),c=i.l10n.t("Enter OpenOCD Configuration File Paths list"),l=i.window.createQuickPick();return l.items=a,l.placeholder=c,l.onDidHide((()=>{l.dispose()})),l.activeItems=l.items.filter((e=>e.picked)),new Promise((t=>{l.onDidHide((()=>{l.dispose(),t()})),l.onDidAccept((async()=>{const n=l.selectedItems[0];if(n){if(n&&n.target){if(-1!==n.label.indexOf("Custom board")){const e=await i.window.showInputBox({placeHolder:"Enter comma-separated configuration files",value:n.target.configFiles.join(",")});e&&(n.target.configFiles=e.split(","))}await Os("idf.openOcdConfigs",n.target.configFiles,i.ConfigurationTarget.WorkspaceFolder,e),js.infoNotify(i.l10n.t("OpenOCD Board configuration files set to {boards}.",{boards:n.target.configFiles.join(",")})),l.dispose(),t()}}else js.infoNotify("ESP-IDF board not selected. Remember to set the configuration files for OpenOCD with idf.openOcdConfigs");l.hide()})),l.show()}))}catch(e){const t=e.message||"Failed to select openOCD configuration files";return void js.errorNotify(t,e,"boardConfiguration selectOpenOcdConfigFiles")}}var oe=__webpack_require__(4434),se=__webpack_require__(9278);class ae extends oe.EventEmitter{constructor(e){super(),this.host=e.host,this.port=e.port,this.sock=new se.Socket}async isOpenOCDServerRunning(){return new Promise(((e,t)=>{setTimeout((()=>{const t=new se.Socket;t.connect(this.port,this.host,(()=>{t.destroy(),e(!0)})),t.on("error",(n=>{t.destroy(),e(!1)}))}),1e3)}))}async verifyOpenOCDReady(){return new Promise((e=>{const t=setTimeout((()=>{this.removeAllListeners("response"),e(!1)}),5e3);this.once("response",(n=>{clearTimeout(t),this.removeAllListeners("response"),e(!0)})),this.sendCommand("echo ready")}))}sendCommandWithCapture(e){setTimeout((()=>this.sendCommand(`capture "${e}"`)),2e3)}sendCommand(e){if(this.isRunning&&!this.sock.destroyed)return void this.sendCommandToSocket(e);let t=Buffer.alloc(0);this.sock=new se.Socket,this.sock.connect(this.port,this.host,(()=>{this.emit("connect"),this.isRunning=!0,this.sendCommandToSocket(e)})),this.sock.on("data",(e=>{t=Buffer.concat([t,e]),e.includes(ae.DELIMITER)&&(this.emit("response",t),t=Buffer.alloc(0))})),this.sock.on("error",(e=>{this.emit("error",e)}))}stop(){this.isRunning&&!this.sock.destroyed&&(this.isRunning=!1,this.sock.destroy(),this.sock.removeAllListeners())}sendCommandToSocket(e){this.sock.writable&&this.sock.write(`${e}${ae.DELIMITER}`)}}function ce(e){return`esp-idf-${(0,c.createHash)("md5").update(e.replace(/\\/g,"/")).digest("hex")}`}async function le(e){const t=(0,n.join)(e,"esp_idf.json"),r=await(0,o.pathExists)(t);let i;try{if(!r)throw new Error(`${t} doesn't exists.`);i=await(0,o.readJson)(t)}catch(t){i=function(e){return{$schema:"http://json-schema.org/schema#",$id:"http://dl.espressif.com/dl/schemas/esp_idf",_comment:"Configuration file for ESP-IDF IDEs.",_warning:"Use / or \\ when specifying path. Single backslash is not allowed by JSON format.",gitPath:"",idfToolsPath:e,idfSelectedId:"",idfInstalled:{}}}(e)}return i}ae.DELIMITER="";var ue=__webpack_require__(2958),pe=__webpack_require__.n(ue);function de(e,t){return function(){return e.apply(t,arguments)}}const{toString:he}=Object.prototype,{getPrototypeOf:fe}=Object,{iterator:me,toStringTag:ge}=Symbol,ye=(ve=Object.create(null),e=>{const t=he.call(e);return ve[t]||(ve[t]=t.slice(8,-1).toLowerCase())});var ve;const be=e=>(e=e.toLowerCase(),t=>ye(t)===e),we=e=>t=>typeof t===e,{isArray:_e}=Array,Ee=we("undefined");function xe(e){return null!==e&&!Ee(e)&&null!==e.constructor&&!Ee(e.constructor)&&Ce(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Se=be("ArrayBuffer"),Te=we("string"),Ce=we("function"),Pe=we("number"),Ie=e=>null!==e&&"object"==typeof e,Oe=e=>{if("object"!==ye(e))return!1;const t=fe(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||ge in e||me in e)},ke=be("Date"),De=be("File"),Ae=be("Blob"),Re=be("FileList"),Ne=be("URLSearchParams"),[Le,Fe,Me,je]=["ReadableStream","Request","Response","Headers"].map(be);function Be(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),_e(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(xe(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function Ue(e,t){if(xe(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const qe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,$e=e=>!Ee(e)&&e!==qe,Ve=(He="undefined"!=typeof Uint8Array&&fe(Uint8Array),e=>He&&e instanceof He);var He;const Ge=be("HTMLFormElement"),ze=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),We=be("RegExp"),Ke=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Be(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},Ye=be("AsyncFunction"),Je=(Qe="function"==typeof setImmediate,Xe=Ce(qe.postMessage),Qe?setImmediate:Xe?(Ze=`axios@${Math.random()}`,et=[],qe.addEventListener("message",(({source:e,data:t})=>{e===qe&&t===Ze&&et.length&&et.shift()()}),!1),e=>{et.push(e),qe.postMessage(Ze,"*")}):e=>setTimeout(e));var Qe,Xe,Ze,et;const tt="undefined"!=typeof queueMicrotask?queueMicrotask.bind(qe):"undefined"!=typeof process&&process.nextTick||Je,nt={isArray:_e,isArrayBuffer:Se,isBuffer:xe,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Ce(e.append)&&("formdata"===(t=ye(e))||"object"===t&&Ce(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Se(e.buffer),t},isString:Te,isNumber:Pe,isBoolean:e=>!0===e||!1===e,isObject:Ie,isPlainObject:Oe,isEmptyObject:e=>{if(!Ie(e)||xe(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:Le,isRequest:Fe,isResponse:Me,isHeaders:je,isUndefined:Ee,isDate:ke,isFile:De,isBlob:Ae,isRegExp:We,isFunction:Ce,isStream:e=>Ie(e)&&Ce(e.pipe),isURLSearchParams:Ne,isTypedArray:Ve,isFileList:Re,forEach:Be,merge:function e(){const{caseless:t,skipUndefined:n}=$e(this)&&this||{},r={},i=(i,o)=>{const s=t&&Ue(r,o)||o;Oe(r[s])&&Oe(i)?r[s]=e(r[s],i):Oe(i)?r[s]=e({},i):_e(i)?r[s]=i.slice():n&&Ee(i)||(r[s]=i)};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&Be(arguments[e],i);return r},extend:(e,t,n,{allOwnKeys:r}={})=>(Be(t,((t,r)=>{n&&Ce(t)?e[r]=de(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&fe(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ye,kindOfTest:be,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(_e(e))return e;let t=e.length;if(!Pe(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[me]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ge,hasOwnProperty:ze,hasOwnProp:ze,reduceDescriptors:Ke,freezeMethods:e=>{Ke(e,((t,n)=>{if(Ce(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ce(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return _e(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Ue,global:qe,isContextDefined:$e,isSpecCompliantForm:function(e){return!!(e&&Ce(e.append)&&"FormData"===e[ge]&&e[me])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Ie(e)){if(t.indexOf(e)>=0)return;if(xe(e))return e;if(!("toJSON"in e)){t[r]=e;const i=_e(e)?[]:{};return Be(e,((e,t)=>{const o=n(e,r+1);!Ee(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Ye,isThenable:e=>e&&(Ie(e)||Ce(e))&&Ce(e.then)&&Ce(e.catch),setImmediate:Je,asap:tt,isIterable:e=>null!=e&&Ce(e[me])};function rt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}nt.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:nt.toJSONObject(this.config),code:this.code,status:this.status}}});const it=rt.prototype,ot={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ot[e]={value:e}})),Object.defineProperties(rt,ot),Object.defineProperty(it,"isAxiosError",{value:!0}),rt.from=(e,t,n,r,i,o)=>{const s=Object.create(it);nt.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e));const a=e&&e.message?e.message:"Error",c=null==t&&e?e.code:t;return rt.call(s,a,c,n,r,i),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",o&&Object.assign(s,o),s};const st=rt,at=__webpack_require__(737);function ct(e){return nt.isPlainObject(e)||nt.isArray(e)}function lt(e){return nt.endsWith(e,"[]")?e.slice(0,-2):e}function ut(e,t,n){return e?e.concat(t).map((function(e,t){return e=lt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const pt=nt.toFlatObject(nt,{},null,(function(e){return/^is[A-Z]/.test(e)})),dt=function(e,t,n){if(!nt.isObject(e))throw new TypeError("target must be an object");t=t||new(at||FormData);const r=(n=nt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!nt.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&nt.isSpecCompliantForm(t);if(!nt.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(nt.isDate(e))return e.toISOString();if(nt.isBoolean(e))return e.toString();if(!a&&nt.isBlob(e))throw new st("Blob is not supported. Use a Buffer instead.");return nt.isArrayBuffer(e)||nt.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){let a=e;if(e&&!i&&"object"==typeof e)if(nt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(nt.isArray(e)&&function(e){return nt.isArray(e)&&!e.some(ct)}(e)||(nt.isFileList(e)||nt.endsWith(n,"[]"))&&(a=nt.toArray(e)))return n=lt(n),a.forEach((function(e,r){!nt.isUndefined(e)&&null!==e&&t.append(!0===s?ut([n],r,o):null===s?n:n+"[]",c(e))})),!1;return!!ct(e)||(t.append(ut(i,n,o),c(e)),!1)}const u=[],p=Object.assign(pt,{defaultVisitor:l,convertValue:c,isVisitable:ct});if(!nt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!nt.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),nt.forEach(n,(function(n,o){!0===(!(nt.isUndefined(n)||null===n)&&i.call(t,n,nt.isString(o)?o.trim():o,r,p))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function ht(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ft(e,t){this._pairs=[],e&&dt(e,this,t)}const mt=ft.prototype;mt.append=function(e,t){this._pairs.push([e,t])},mt.toString=function(e){const t=e?function(t){return e.call(this,t,ht)}:ht;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const gt=ft;function yt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vt(e,t,n){if(!t)return e;const r=n&&n.encode||yt;nt.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):nt.isURLSearchParams(t)?t.toString():new gt(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const bt=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){nt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},wt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_t=__webpack_require__(7016).URLSearchParams,Et="abcdefghijklmnopqrstuvwxyz",xt="0123456789",St={DIGIT:xt,ALPHA:Et,ALPHA_DIGIT:Et+Et.toUpperCase()+xt},Tt={isNode:!0,classes:{URLSearchParams:_t,FormData:at,Blob:"undefined"!=typeof Blob&&Blob||null},ALPHABET:St,generateString:(e=16,t=St.ALPHA_DIGIT)=>{let n="";const{length:r}=t,i=new Uint32Array(e);c.randomFillSync(i);for(let o=0;o<e;o++)n+=t[i[o]%r];return n},protocols:["http","https","file","data"]},Ct="undefined"!=typeof window&&"undefined"!=typeof document,Pt=void 0,It=Ct&&(!Pt||["ReactNative","NativeScript","NS"].indexOf(Pt.product)<0),Ot="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,kt=Ct&&window.location.href||"http://localhost",Dt={...e,...Tt},At=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;return o=!o&&nt.isArray(r)?r.length:o,a?(nt.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s):(r[o]&&nt.isObject(r[o])||(r[o]=[]),t(e,n,r[o],i)&&nt.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s)}if(nt.isFormData(e)&&nt.isFunction(e.entries)){const n={};return nt.forEachEntry(e,((e,r)=>{t(function(e){return nt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null},Rt={transitional:wt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=nt.isObject(e);if(i&&nt.isHTMLForm(e)&&(e=new FormData(e)),nt.isFormData(e))return r?JSON.stringify(At(e)):e;if(nt.isArrayBuffer(e)||nt.isBuffer(e)||nt.isStream(e)||nt.isFile(e)||nt.isBlob(e)||nt.isReadableStream(e))return e;if(nt.isArrayBufferView(e))return e.buffer;if(nt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return dt(e,new Dt.classes.URLSearchParams,{visitor:function(e,t,n,r){return Dt.isNode&&nt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((o=nt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return dt(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(nt.isString(e))try{return(0,JSON.parse)(e),nt.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Rt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(nt.isResponse(e)||nt.isReadableStream(e))return e;if(e&&nt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(e){if(n){if("SyntaxError"===e.name)throw st.from(e,st.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dt.classes.FormData,Blob:Dt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};nt.forEach(["delete","get","head","post","put","patch"],(e=>{Rt.headers[e]={}}));const Nt=Rt,Lt=nt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ft=Symbol("internals");function Mt(e){return e&&String(e).trim().toLowerCase()}function jt(e){return!1===e||null==e?e:nt.isArray(e)?e.map(jt):String(e)}function Bt(e,t,n,r,i){return nt.isFunction(r)?r.call(this,t,n):(i&&(t=n),nt.isString(t)?nt.isString(r)?-1!==t.indexOf(r):nt.isRegExp(r)?r.test(t):void 0:void 0)}class Ut{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Mt(t);if(!i)throw new Error("header name must be a non-empty string");const o=nt.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=jt(e))}const o=(e,t)=>nt.forEach(e,((e,n)=>i(e,n,t)));if(nt.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(nt.isString(e)&&(e=e.trim())&&!(e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))(e))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Lt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(nt.isObject(e)&&nt.isIterable(e)){let n,r,i={};for(const t of e){if(!nt.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?nt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=Mt(e)){const n=nt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(nt.isFunction(t))return t.call(this,e,n);if(nt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Mt(e)){const n=nt.findKey(this,e);return!(!n||void 0===this[n]||t&&!Bt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Mt(e)){const i=nt.findKey(n,e);!i||t&&!Bt(0,n[i],i,t)||(delete n[i],r=!0)}}return nt.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Bt(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return nt.forEach(this,((r,i)=>{const o=nt.findKey(n,i);if(o)return t[o]=jt(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=jt(r),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return nt.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&nt.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Ft]=this[Ft]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Mt(e);t[r]||(function(e,t){const n=nt.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return nt.isArray(e)?e.forEach(r):r(e),this}}Ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),nt.reduceDescriptors(Ut.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),nt.freezeMethods(Ut);const qt=Ut;function $t(e,t){const n=this||Nt,r=t||n,i=qt.from(r.headers);let o=r.data;return nt.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Vt(e){return!(!e||!e.__CANCEL__)}function Ht(e,t,n){st.call(this,null==e?"canceled":e,st.ERR_CANCELED,t,n),this.name="CanceledError"}nt.inherits(Ht,st,{__CANCEL__:!0});const Gt=Ht;function zt(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new st("Request failed with status code "+n.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}function Wt(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Kt=__webpack_require__(6504),Yt=__webpack_require__(8611),Jt=__webpack_require__(5692),Qt=__webpack_require__(9023),Xt=__webpack_require__(3164),Zt=__webpack_require__(3106);const en="1.12.0";function tn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}const nn=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;var rn=__webpack_require__(2203);const on=Symbol("internals");class sn extends rn.Transform{constructor(e){super({readableHighWaterMark:(e=nt.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,((e,t)=>!nt.isUndefined(t[e])))).chunkSize});const t=this[on]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",(e=>{"progress"===e&&(t.isCaptured||(t.isCaptured=!0))}))}_read(e){const t=this[on];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,n){const r=this[on],i=r.maxRate,o=this.readableHighWaterMark,s=r.timeWindow,a=i/(1e3/s),c=!1!==r.minChunkSize?Math.max(r.minChunkSize,.01*a):0,l=(e,t)=>{const n=Buffer.byteLength(e);r.bytesSeen+=n,r.bytes+=n,r.isCaptured&&this.emit("progress",r.bytesSeen),this.push(e)?process.nextTick(t):r.onReadCallback=()=>{r.onReadCallback=null,process.nextTick(t)}},u=(e,t)=>{const n=Buffer.byteLength(e);let u,p=null,d=o,h=0;if(i){const e=Date.now();(!r.ts||(h=e-r.ts)>=s)&&(r.ts=e,u=a-r.bytes,r.bytes=u<0?-u:0,h=0),u=a-r.bytes}if(i){if(u<=0)return setTimeout((()=>{t(null,e)}),s-h);u<d&&(d=u)}d&&n>d&&n-d>c&&(p=e.subarray(d),e=e.subarray(0,d)),l(e,p?()=>{process.nextTick(t,null,p)}:t)};u(e,(function e(t,r){if(t)return n(t);r?u(r,e):n(null)}))}}const an=sn,{asyncIterator:cn}=Symbol,ln=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[cn]?yield*e[cn]():yield e},un=Dt.ALPHABET.ALPHA_DIGIT+"-_",pn="function"==typeof TextEncoder?new TextEncoder:new Qt.TextEncoder,dn="\r\n",hn=pn.encode(dn);class fn{constructor(e,t){const{escapeName:n}=this.constructor,r=nt.isString(t);let i=`Content-Disposition: form-data; name="${n(e)}"${!r&&t.name?`; filename="${n(t.name)}"`:""}${dn}`;r?t=pn.encode(String(t).replace(/\r?\n|\r\n?/g,dn)):i+=`Content-Type: ${t.type||"application/octet-stream"}${dn}`,this.headers=pn.encode(i+dn),this.contentLength=r?t.byteLength:t.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=e,this.value=t}async*encode(){yield this.headers;const{value:e}=this;nt.isTypedArray(e)?yield e:yield*ln(e),yield hn}static escapeName(e){return String(e).replace(/[\r\n"]/g,(e=>({"\r":"%0D","\n":"%0A",'"':"%22"}[e])))}}class mn extends rn.Transform{__transform(e,t,n){this.push(e),n()}_transform(e,t,n){if(0!==e.length&&(this._transform=this.__transform,120!==e[0])){const e=Buffer.alloc(2);e[0]=120,e[1]=156,this.push(e,t)}this.__transform(e,t,n)}}const gn=mn,yn=(e,t)=>nt.isAsyncFn(e)?function(...n){const r=n.pop();e.apply(this,n).then((e=>{try{t?r(null,...t(e)):r(null,e)}catch(e){r(e)}}),r)}:e,vn=(e,t,n=3)=>{let r=0;const i=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),l=r[s];i||(i=c),n[o]=a,r[o]=c;let u=s,p=0;for(;u!==o;)p+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),c-i<t)return;const d=l&&c-l;return d?Math.round(1e3*p/d):void 0}}(50,250);return function(e,t){let n,r,i=0,o=1e3/t;const s=(t,o=Date.now())=>{i=o,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),a=t-i;a>=o?s(e,t):(n=e,r||(r=setTimeout((()=>{r=null,s(n)}),o-a)))},()=>n&&s(n)]}((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-r,c=i(a);r=o,e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},bn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},wn=e=>(...t)=>nt.asap((()=>e(...t))),_n={flush:Zt.constants.Z_SYNC_FLUSH,finishFlush:Zt.constants.Z_SYNC_FLUSH},En={flush:Zt.constants.BROTLI_OPERATION_FLUSH,finishFlush:Zt.constants.BROTLI_OPERATION_FLUSH},xn=nt.isFunction(Zt.createBrotliDecompress),{http:Sn,https:Tn}=Xt,Cn=/https:?/,Pn=Dt.protocols.map((e=>e+":")),In=(e,[t,n])=>(e.on("end",n).on("error",n),t);function On(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}function kn(e,t,n){let r=t;if(!r&&!1!==r){const e=Kt.getProxyForUrl(n);e&&(r=new URL(e))}if(r){if(r.username&&(r.auth=(r.username||"")+":"+(r.password||"")),r.auth){(r.auth.username||r.auth.password)&&(r.auth=(r.auth.username||"")+":"+(r.auth.password||""));const t=Buffer.from(r.auth,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+t}e.headers.host=e.hostname+(e.port?":"+e.port:"");const t=r.hostname||r.host;e.hostname=t,e.host=t,e.port=r.port,e.path=n,r.protocol&&(e.protocol=r.protocol.includes(":")?r.protocol:`${r.protocol}:`)}e.beforeRedirects.proxy=function(e){kn(e,t,e.href)}}const Dn="undefined"!=typeof process&&"process"===nt.kindOf(process),An=(e,t)=>(({address:e,family:t})=>{if(!nt.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(e.indexOf(".")<0?6:4)}})(nt.isObject(e)?e:{address:e,family:t}),Rn=Dn&&function(e){return t=async function(t,n,r){let{data:i,lookup:o,family:s}=e;const{responseType:a,responseEncoding:c}=e,l=e.method.toUpperCase();let u,p,d=!1;if(o){const e=yn(o,(e=>nt.isArray(e)?e:[e]));o=(t,n,r)=>{e(t,n,((e,t,i)=>{if(e)return r(e);const o=nt.isArray(t)?t.map((e=>An(e))):[An(t,i)];n.all?r(e,o):r(e,o[0].address,o[0].family)}))}}const h=new oe.EventEmitter,f=()=>{e.cancelToken&&e.cancelToken.unsubscribe(m),e.signal&&e.signal.removeEventListener("abort",m),h.removeAllListeners()};function m(t){h.emit("abort",!t||t.type?new Gt(null,e,p):t)}r(((e,t)=>{u=!0,t&&(d=!0,f())})),h.once("abort",n),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(m),e.signal&&(e.signal.aborted?m():e.signal.addEventListener("abort",m)));const g=Wt(e.baseURL,e.url,e.allowAbsoluteUrls),y=new URL(g,Dt.hasBrowserEnv?Dt.origin:void 0),v=y.protocol||Pn[0];if("data:"===v){if(e.maxContentLength>-1){const t=function(e){if(!e||"string"!=typeof e)return 0;if(!e.startsWith("data:"))return 0;const t=e.indexOf(",");if(t<0)return 0;const n=e.slice(5,t),r=e.slice(t+1);if(/;base64/i.test(n)){let e=r.length;const t=r.length;for(let n=0;n<t;n++)if(37===r.charCodeAt(n)&&n+2<t){const t=r.charCodeAt(n+1),i=r.charCodeAt(n+2);(t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102)&&(i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102)&&(e-=2,n+=2)}let n=0,i=t-1;const o=e=>e>=2&&37===r.charCodeAt(e-2)&&51===r.charCodeAt(e-1)&&(68===r.charCodeAt(e)||100===r.charCodeAt(e));i>=0&&(61===r.charCodeAt(i)?(n++,i--):o(i)&&(n++,i-=3)),1===n&&i>=0&&(61===r.charCodeAt(i)||o(i))&&n++;const s=3*Math.floor(e/4)-(n||0);return s>0?s:0}return Buffer.byteLength(r,"utf8")}(String(e.url||g||""));if(t>e.maxContentLength)return n(new st("maxContentLength size of "+e.maxContentLength+" exceeded",st.ERR_BAD_RESPONSE,e))}let r;if("GET"!==l)return zt(t,n,{status:405,statusText:"method not allowed",headers:{},config:e});try{r=function(e,t,n){const r=n&&n.Blob||Dt.classes.Blob,i=tn(e);if(void 0===t&&r&&(t=!0),"data"===i){e=i.length?e.slice(i.length+1):e;const n=nn.exec(e);if(!n)throw new st("Invalid URL",st.ERR_INVALID_URL);const o=n[1],s=n[2],a=n[3],c=Buffer.from(decodeURIComponent(a),s?"base64":"utf8");if(t){if(!r)throw new st("Blob is not supported",st.ERR_NOT_SUPPORT);return new r([c],{type:o})}return c}throw new st("Unsupported protocol "+i,st.ERR_NOT_SUPPORT)}(e.url,"blob"===a,{Blob:e.env&&e.env.Blob})}catch(t){throw st.from(t,st.ERR_BAD_REQUEST,e)}return"text"===a?(r=r.toString(c),c&&"utf8"!==c||(r=nt.stripBOM(r))):"stream"===a&&(r=rn.Readable.from(r)),zt(t,n,{data:r,status:200,statusText:"OK",headers:new qt,config:e})}if(-1===Pn.indexOf(v))return n(new st("Unsupported protocol "+v,st.ERR_BAD_REQUEST,e));const b=qt.from(e.headers).normalize();b.set("User-Agent","axios/"+en,!1);const{onUploadProgress:w,onDownloadProgress:_}=e,E=e.maxRate;let x,S;if(nt.isSpecCompliantForm(i)){const e=b.getContentType(/boundary=([-_\w\d]{10,70})/i);i=((e,t,n)=>{const{tag:r="form-data-boundary",size:i=25,boundary:o=r+"-"+Dt.generateString(i,un)}=n||{};if(!nt.isFormData(e))throw TypeError("FormData instance required");if(o.length<1||o.length>70)throw Error("boundary must be 10-70 characters long");const s=pn.encode("--"+o+dn),a=pn.encode("--"+o+"--"+dn);let c=a.byteLength;const l=Array.from(e.entries()).map((([e,t])=>{const n=new fn(e,t);return c+=n.size,n}));c+=s.byteLength*l.length,c=nt.toFiniteNumber(c);const u={"Content-Type":`multipart/form-data; boundary=${o}`};return Number.isFinite(c)&&(u["Content-Length"]=c),t&&t(u),rn.Readable.from(async function*(){for(const e of l)yield s,yield*e.encode();yield a}())})(i,(e=>{b.set(e)}),{tag:`axios-${en}-boundary`,boundary:e&&e[1]||void 0})}else if(nt.isFormData(i)&&nt.isFunction(i.getHeaders)){if(b.set(i.getHeaders()),!b.hasContentLength())try{const e=await Qt.promisify(i.getLength).call(i);Number.isFinite(e)&&e>=0&&b.setContentLength(e)}catch(e){}}else if(nt.isBlob(i)||nt.isFile(i))i.size&&b.setContentType(i.type||"application/octet-stream"),b.setContentLength(i.size||0),i=rn.Readable.from(ln(i));else if(i&&!nt.isStream(i)){if(Buffer.isBuffer(i));else if(nt.isArrayBuffer(i))i=Buffer.from(new Uint8Array(i));else{if(!nt.isString(i))return n(new st("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",st.ERR_BAD_REQUEST,e));i=Buffer.from(i,"utf-8")}if(b.setContentLength(i.length,!1),e.maxBodyLength>-1&&i.length>e.maxBodyLength)return n(new st("Request body larger than maxBodyLength limit",st.ERR_BAD_REQUEST,e))}const T=nt.toFiniteNumber(b.getContentLength());let C,P;nt.isArray(E)?(x=E[0],S=E[1]):x=S=E,i&&(w||x)&&(nt.isStream(i)||(i=rn.Readable.from(i,{objectMode:!1})),i=rn.pipeline([i,new an({maxRate:nt.toFiniteNumber(x)})],nt.noop),w&&i.on("progress",In(i,bn(T,vn(wn(w),!1,3))))),e.auth&&(C=(e.auth.username||"")+":"+(e.auth.password||"")),!C&&y.username&&(C=y.username+":"+y.password),C&&b.delete("authorization");try{P=vt(y.pathname+y.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(t){const r=new Error(t.message);return r.config=e,r.url=e.url,r.exists=!0,n(r)}b.set("Accept-Encoding","gzip, compress, deflate"+(xn?", br":""),!1);const I={path:P,method:l,headers:b.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:C,protocol:v,family:s,beforeRedirect:On,beforeRedirects:{}};let O;!nt.isUndefined(o)&&(I.lookup=o),e.socketPath?I.socketPath=e.socketPath:(I.hostname=y.hostname.startsWith("[")?y.hostname.slice(1,-1):y.hostname,I.port=y.port,kn(I,e.proxy,v+"//"+y.hostname+(y.port?":"+y.port:"")+I.path));const k=Cn.test(I.protocol);if(I.agent=k?e.httpsAgent:e.httpAgent,e.transport?O=e.transport:0===e.maxRedirects?O=k?Jt:Yt:(e.maxRedirects&&(I.maxRedirects=e.maxRedirects),e.beforeRedirect&&(I.beforeRedirects.config=e.beforeRedirect),O=k?Tn:Sn),e.maxBodyLength>-1?I.maxBodyLength=e.maxBodyLength:I.maxBodyLength=1/0,e.insecureHTTPParser&&(I.insecureHTTPParser=e.insecureHTTPParser),p=O.request(I,(function(r){if(p.destroyed)return;const i=[r],o=+r.headers["content-length"];if(_||S){const e=new an({maxRate:nt.toFiniteNumber(S)});_&&e.on("progress",In(e,bn(o,vn(wn(_),!0,3)))),i.push(e)}let s=r;const u=r.req||p;if(!1!==e.decompress&&r.headers["content-encoding"])switch("HEAD"!==l&&204!==r.statusCode||delete r.headers["content-encoding"],(r.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":i.push(Zt.createUnzip(_n)),delete r.headers["content-encoding"];break;case"deflate":i.push(new gn),i.push(Zt.createUnzip(_n)),delete r.headers["content-encoding"];break;case"br":xn&&(i.push(Zt.createBrotliDecompress(En)),delete r.headers["content-encoding"])}s=i.length>1?rn.pipeline(i,nt.noop):i[0];const m=rn.finished(s,(()=>{m(),f()})),g={status:r.statusCode,statusText:r.statusMessage,headers:new qt(r.headers),config:e,request:u};if("stream"===a)g.data=s,zt(t,n,g);else{const r=[];let i=0;s.on("data",(function(t){r.push(t),i+=t.length,e.maxContentLength>-1&&i>e.maxContentLength&&(d=!0,s.destroy(),n(new st("maxContentLength size of "+e.maxContentLength+" exceeded",st.ERR_BAD_RESPONSE,e,u)))})),s.on("aborted",(function(){if(d)return;const t=new st("stream has been aborted",st.ERR_BAD_RESPONSE,e,u);s.destroy(t),n(t)})),s.on("error",(function(t){p.destroyed||n(st.from(t,null,e,u))})),s.on("end",(function(){try{let e=1===r.length?r[0]:Buffer.concat(r);"arraybuffer"!==a&&(e=e.toString(c),c&&"utf8"!==c||(e=nt.stripBOM(e))),g.data=e}catch(t){return n(st.from(t,null,e,g.request,g))}zt(t,n,g)}))}h.once("abort",(e=>{s.destroyed||(s.emit("error",e),s.destroy())}))})),h.once("abort",(e=>{n(e),p.destroy(e)})),p.on("error",(function(t){n(st.from(t,null,e,p))})),p.on("socket",(function(e){e.setKeepAlive(!0,6e4)})),e.timeout){const t=parseInt(e.timeout,10);if(Number.isNaN(t))return void n(new st("error trying to parse `config.timeout` to int",st.ERR_BAD_OPTION_VALUE,e,p));p.setTimeout(t,(function(){if(u)return;let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||wt;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new st(t,r.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,e,p)),m()}))}if(nt.isStream(i)){let t=!1,n=!1;i.on("end",(()=>{t=!0})),i.once("error",(e=>{n=!0,p.destroy(e)})),i.on("close",(()=>{t||n||m(new Gt("Request stream has been aborted",e,p))})),i.pipe(p)}else p.end(i)},new Promise(((e,n)=>{let r,i;const o=(e,t)=>{i||(i=!0,r&&r(e,t))},s=e=>{o(e,!0),n(e)};t((t=>{o(t),e(t)}),s,(e=>r=e)).catch(s)}));var t},Nn=Dt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Dt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Dt.origin),Dt.navigator&&/(msie|trident)/i.test(Dt.navigator.userAgent)):()=>!0,Ln=Dt.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];nt.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),nt.isString(r)&&s.push("path="+r),nt.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}},Fn=e=>e instanceof qt?{...e}:e;function Mn(e,t){t=t||{};const n={};function r(e,t,n,r){return nt.isPlainObject(e)&&nt.isPlainObject(t)?nt.merge.call({caseless:r},e,t):nt.isPlainObject(t)?nt.merge({},t):nt.isArray(t)?t.slice():t}function i(e,t,n,i){return nt.isUndefined(t)?nt.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!nt.isUndefined(t))return r(void 0,t)}function s(e,t){return nt.isUndefined(t)?nt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>i(Fn(e),Fn(t),0,!0)};return nt.forEach(Object.keys({...e,...t}),(function(r){const o=c[r]||i,s=o(e[r],t[r],r);nt.isUndefined(s)&&o!==a||(n[r]=s)})),n}const jn=e=>{const t=Mn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;if(t.headers=s=qt.from(s),t.url=vt(Wt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),nt.isFormData(n))if(Dt.hasStandardBrowserEnv||Dt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(nt.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach((([e,n])=>{t.includes(e.toLowerCase())&&s.set(e,n)}))}if(Dt.hasStandardBrowserEnv&&(r&&nt.isFunction(r)&&(r=r(t)),r||!1!==r&&Nn(t.url))){const e=i&&o&&Ln.read(o);e&&s.set(i,e)}return t},Bn="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=jn(e);let i=r.data;const o=qt.from(r.headers).normalize();let s,a,c,l,u,{responseType:p,onUploadProgress:d,onDownloadProgress:h}=r;function f(){l&&l(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=qt.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());zt((function(e){t(e),f()}),(function(e){n(e),f()}),{data:p&&"text"!==p&&"json"!==p?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new st("Request aborted",st.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",i=new st(r,st.ERR_NETWORK,e,m);i.event=t||null,n(i),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||wt;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new st(t,i.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&nt.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),nt.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),p&&"json"!==p&&(m.responseType=r.responseType),h&&([c,u]=vn(h,!0),m.addEventListener("progress",c)),d&&m.upload&&([a,l]=vn(d),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",l)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new Gt(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const y=tn(r.url);y&&-1===Dt.protocols.indexOf(y)?n(new st("Unsupported protocol "+y+":",st.ERR_BAD_REQUEST,e)):m.send(i||null)}))},Un=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof st?t:new Gt(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new st(`timeout ${t} of ms exceeded`,st.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=()=>nt.asap(s),a}},qn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},$n=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*qn(n,t)}(e,t);let o,s=0,a=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let o=r.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw a(e),e}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},{isFunction:Vn}=nt,Hn=(({fetch:e,Request:t,Response:n})=>({fetch:e,Request:t,Response:n}))(nt.global),{ReadableStream:Gn,TextEncoder:zn}=nt.global,Wn=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Kn=e=>{const{fetch:t,Request:n,Response:r}=Object.assign({},Hn,e),i=Vn(t),o=Vn(n),s=Vn(r);if(!i)return!1;const a=i&&Vn(Gn),c=i&&("function"==typeof zn?(l=new zn,e=>l.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var l;const u=o&&a&&Wn((()=>{let e=!1;const t=new n(Dt.origin,{body:new Gn,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),p=s&&a&&Wn((()=>nt.isReadableStream(new r("").body))),d={stream:p&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!d[e]&&(d[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new st(`Response type '${e}' is not supported`,st.ERR_NOT_SUPPORT,n)})}));return async e=>{let{url:i,method:s,data:a,signal:l,cancelToken:h,timeout:f,onDownloadProgress:m,onUploadProgress:g,responseType:y,headers:v,withCredentials:b="same-origin",fetchOptions:w}=jn(e);y=y?(y+"").toLowerCase():"text";let _=Un([l,h&&h.toAbortSignal()],f),E=null;const x=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let S;try{if(g&&u&&"get"!==s&&"head"!==s&&0!==(S=await(async(e,t)=>{const r=nt.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(nt.isBlob(e))return e.size;if(nt.isSpecCompliantForm(e)){const t=new n(Dt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return nt.isArrayBufferView(e)||nt.isArrayBuffer(e)?e.byteLength:(nt.isURLSearchParams(e)&&(e+=""),nt.isString(e)?(await c(e)).byteLength:void 0)})(t):r})(v,a))){let e,t=new n(i,{method:"POST",body:a,duplex:"half"});if(nt.isFormData(a)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=bn(S,vn(wn(g)));a=$n(t.body,65536,e,n)}}nt.isString(b)||(b=b?"include":"omit");const l=o&&"credentials"in n.prototype,h={...w,signal:_,method:s.toUpperCase(),headers:v.normalize().toJSON(),body:a,duplex:"half",credentials:l?b:void 0};E=o&&new n(i,h);let f=await(o?t(E,w):t(i,h));const T=p&&("stream"===y||"response"===y);if(p&&(m||T&&x)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=f[t]}));const t=nt.toFiniteNumber(f.headers.get("content-length")),[n,i]=m&&bn(t,vn(wn(m),!0))||[];f=new r($n(f.body,65536,n,(()=>{i&&i(),x&&x()})),e)}y=y||"text";let C=await d[nt.findKey(d,y)||"text"](f,e);return!T&&x&&x(),await new Promise(((t,n)=>{zt(t,n,{data:C,headers:qt.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:E})}))}catch(t){if(x&&x(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new st("Network Error",st.ERR_NETWORK,e,E),{cause:t.cause||t});throw st.from(t,t&&t.code,e,E)}}},Yn=new Map,Jn=e=>{let t=nt.merge.call({skipUndefined:!0},Hn,e?e.env:null);const{fetch:n,Request:r,Response:i}=t,o=[r,i,n];let s,a,c=o.length,l=Yn;for(;c--;)s=o[c],a=l.get(s),void 0===a&&l.set(s,a=c?new Map:Kn(t)),l=a;return a},Qn=(Jn(),{http:Rn,xhr:Bn,fetch:{get:Jn}});nt.forEach(Qn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Xn=e=>`- ${e}`,Zn=e=>nt.isFunction(e)||null===e||!1===e,er=(e,t)=>{e=nt.isArray(e)?e:[e];const{length:n}=e;let r,i;const o={};for(let s=0;s<n;s++){let n;if(r=e[s],i=r,!Zn(r)&&(i=Qn[(n=String(r)).toLowerCase()],void 0===i))throw new st(`Unknown adapter '${n}'`);if(i&&(nt.isFunction(i)||(i=i.get(t))))break;o[n||"#"+s]=i}if(!i){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let t=n?e.length>1?"since :\n"+e.map(Xn).join("\n"):" "+Xn(e[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i};function tr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gt(null,e)}function nr(e){return tr(e),e.headers=qt.from(e.headers),e.data=$t.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),er(e.adapter||Nt.adapter,e)(e).then((function(t){return tr(e),t.data=$t.call(e,e.transformResponse,t),t.headers=qt.from(t.headers),t}),(function(t){return Vt(t)||(tr(e),t&&t.response&&(t.response.data=$t.call(e,e.transformResponse,t.response),t.response.headers=qt.from(t.response.headers))),Promise.reject(t)}))}const rr={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{rr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ir={};rr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+en+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new st(r(i," has been removed"+(t?" in "+t:"")),st.ERR_DEPRECATED);return t&&!ir[i]&&(ir[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},rr.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const or={assertOptions:function(e,t,n){if("object"!=typeof e)throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new st("option "+o+" must be "+n,st.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new st("Unknown option "+o,st.ERR_BAD_OPTION)}},validators:rr},sr=or.validators;class ar{constructor(e){this.defaults=e||{},this.interceptors={request:new bt,response:new bt}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Mn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&or.assertOptions(n,{silentJSONParsing:sr.transitional(sr.boolean),forcedJSONParsing:sr.transitional(sr.boolean),clarifyTimeoutError:sr.transitional(sr.boolean)},!1),null!=r&&(nt.isFunction(r)?t.paramsSerializer={serialize:r}:or.assertOptions(r,{encode:sr.function,serialize:sr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),or.assertOptions(t,{baseUrl:sr.spelling("baseURL"),withXsrfToken:sr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&nt.merge(i.common,i[t.method]);i&&nt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=qt.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,p=0;if(!a){const e=[nr.bind(this),void 0];for(e.unshift(...s),e.push(...c),u=e.length,l=Promise.resolve(t);p<u;)l=l.then(e[p++],e[p++]);return l}u=s.length;let d=t;for(p=0;p<u;){const e=s[p++],t=s[p++];try{d=e(d)}catch(e){t.call(this,e);break}}try{l=nr.call(this,d)}catch(e){return Promise.reject(e)}for(p=0,u=c.length;p<u;)l=l.then(c[p++],c[p++]);return l}getUri(e){return vt(Wt((e=Mn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}nt.forEach(["delete","get","head","options"],(function(e){ar.prototype[e]=function(t,n){return this.request(Mn(n||{},{method:e,url:t,data:(n||{}).data}))}})),nt.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Mn(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ar.prototype[e]=t(),ar.prototype[e+"Form"]=t(!0)}));const cr=ar;class lr{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Gt(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new lr((function(t){e=t})),cancel:e}}}const ur=lr,pr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pr).forEach((([e,t])=>{pr[t]=e}));const dr=pr,hr=function e(t){const n=new cr(t),r=de(cr.prototype.request,n);return nt.extend(r,cr.prototype,n,{allOwnKeys:!0}),nt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Mn(t,n))},r}(Nt);hr.Axios=cr,hr.CanceledError=Gt,hr.CancelToken=ur,hr.isCancel=Vt,hr.VERSION=en,hr.toFormData=dt,hr.AxiosError=st,hr.Cancel=hr.CanceledError,hr.all=function(e){return Promise.all(e)},hr.spread=function(e){return function(t){return e.apply(null,t)}},hr.isAxiosError=function(e){return nt.isObject(e)&&!0===e.isAxiosError},hr.mergeConfig=Mn,hr.AxiosHeaders=qt,hr.formToJSON=e=>At(nt.isHTMLForm(e)?new FormData(e):e),hr.getAdapter=er,hr.HttpStatusCode=dr,hr.default=hr;const fr=hr;class mr extends Z{constructor(e,t,n,r=null,i=""){super(t,n,r,i),this.socket=e,this.message=t,this.methodName=n,this.innerError=r,this.errorCode=i}}class gr{constructor(e,t=.5){this.installPath=e,this.refreshUIRate=t,this.MAX_RETRIES=5,this.TIMEOUT=3e4}getToolPackagesPath(e){return n.resolve(this.installPath,...e)}downloadPackages(e,t,n,r,i,o){return e.getPackageList(o).then((o=>{let s=1;return ds(o,(a=>{let c;r&&(c=r.find((e=>e.name===a.name)));const l=this.downloadPackage(e,n,a,`${s}/${o.length}`,t,c,i);return s+=1,l}))}))}async downloadPackage(e,n,r,i,o,s,a){o.report({message:`Downloading ${i}: ${r.name}`}),this.appendChannel(`Downloading ${r.description}`);const c=e.obtainUrlInfoForPlatform(r);n==t.IdfMirror.Espressif&&(c.url=e.applyGithubAssetsMapping(c.url)),this.appendChannel(`Using mirror ${n==t.IdfMirror.Espressif?"Espressif":"Github"} with URL ${c.url}`),await this.downloadPackageWithRetries(r,c,s,a)}async downloadPackageWithRetries(e,t,r,i){const s=hs(t.url),a=this.getToolPackagesPath(["dist"]),c=this.getToolPackagesPath(["dist",s]);if(await(0,o.pathExists)(c)){const i=await fs(c,t.sha256,t.size);if(i)return r.FileMatchChecksum=i,this.appendChannel(`Found ${e.name} in ${this.installPath+n.sep}dist`),r.Progress="100.00%",void(r.ProgressDetail=`(${(t.size/1024).toFixed(2)} / ${(t.size/1024).toFixed(2)}) KB`);this.appendChannel(`Checksum mismatch for ${e.name}, will resume download`)}await this.downloadWithResume(t.url,a,r,i,t.size),r.FileMatchChecksum=await fs(c,t.sha256,t.size)}async downloadWithResume(e,t,r,i,s){const a=hs(e),c=n.resolve(t,a);await(0,o.ensureDir)(t,{mode:509});let u,p=0;for(;p<this.MAX_RETRIES;)try{let t,n=0;if(await(0,o.pathExists)(c)){if(n=(await l.promises.stat(c)).size,s&&n>=s)return this.appendChannel(`File ${a} already exists and appears to be complete (${n} bytes >= ${s} expected)`),r&&(r.Progress="100.00%",r.ProgressDetail=`(${(s/1024).toFixed(2)} / ${(s/1024).toFixed(2)}) KB`),{status:200,data:null};n>0&&this.appendChannel(`Resuming download of ${a} from byte ${n}`)}return await this.checkRangeSupport(e)&&n>0?t=await this.downloadWithRange(e,c,n,r,i,s):(n>0&&(this.appendChannel("Server doesn't support range requests, starting fresh download"),await ue(c,{force:!0})),t=await this.downloadFull(e,c,r,i,s)),this.appendChannel(`Successfully downloaded ${a}`),t}catch(t){if(u=t,p++,t.response&&416===t.response.status&&(this.appendChannel(`Received 416 Range Not Satisfiable for ${a}. File may already be complete.`),await(0,o.pathExists)(c))){const e=await l.promises.stat(c);if(e.size>0){if(this.appendChannel(`File ${a} exists with size ${e.size} bytes. Treating as complete.`),r){const t=s||e.size;r.Progress="100.00%",r.ProgressDetail=`(${(t/1024).toFixed(2)} / ${(t/1024).toFixed(2)}) KB`}return{status:200,data:null}}}if(i&&i.isCancellationRequested)throw new Z("Download cancelled by user","downloadWithResume");if(p>=this.MAX_RETRIES)throw this.appendChannel(`Failed to download ${e} after ${this.MAX_RETRIES} attempts`),t;const n=Math.min(1e3*Math.pow(2,p-1),1e4);this.appendChannel(`Download failed (attempt ${p}/${this.MAX_RETRIES}). Retrying in ${n}ms...`),this.appendChannel(`Error: ${t.message||t}`),await new Promise((e=>setTimeout(e,n)))}throw u}async checkRangeSupport(e){try{const n={method:"HEAD",timeout:this.TIMEOUT,headers:{"User-Agent":t.HTTP_USER_AGENT}},r=await fr.head(e,n),i=r.headers["accept-ranges"],o=r.headers["content-range"];return"bytes"===i||!!o}catch(e){return this.appendChannel(`Could not check range support: ${e.message}`),!1}}async downloadWithRange(e,r,i,o,s,a){const c=n.basename(r),u=l.createWriteStream(r,{flags:"a",mode:509}),p={method:"GET",timeout:this.TIMEOUT,responseType:"stream",headers:{"User-Agent":t.HTTP_USER_AGENT,Range:`bytes=${i}-`},cancelToken:s?this.createCancelToken(s):void 0};this.appendChannel(`Downloading ${c} with range request from byte ${i}`);try{const t=await fr.get(e,p);if(206!==t.status&&200!==t.status)throw new mr(null,"HTTP Range Request Error","downloadWithRange",`Unexpected status code: ${t.status}`,t.status.toString());const n=t.headers["content-range"];let r=a||0;if(n){const e=n.match(/bytes \d+-\d+\/(\d+)/);e&&(r=parseInt(e[1],10))}let s=i,l=0;return t.data.on("data",(e=>{if(s+=e.length,o&&r>0){const e=s/r*100,t=`(${(s/1024).toFixed(2)} / ${(r/1024).toFixed(2)}) KB`;(e-l>=this.refreshUIRate||s===r)&&(o.Progress=`${e.toFixed(2)}%`,o.ProgressDetail=t,l=e)}})),t.data.pipe(u),new Promise(((e,n)=>{u.on("finish",(()=>{this.appendChannel(`Range download completed: ${c}`),e(t)})),u.on("error",(e=>{n(new Z(`File write error: ${e.message}`,"downloadWithRange",e))})),t.data.on("error",(e=>{n(new Z(`Download stream error: ${e.message}`,"downloadWithRange",e))}))}))}catch(e){throw u&&u.end(),e}}async downloadFull(e,r,i,o,s){const a=n.basename(r),c=l.createWriteStream(r,{mode:509}),u={method:"GET",timeout:this.TIMEOUT,responseType:"stream",headers:{"User-Agent":t.HTTP_USER_AGENT},cancelToken:o?this.createCancelToken(o):void 0};this.appendChannel(`Downloading ${a} (full download)`);const p=await fr.get(e,u);if(200!==p.status)throw new mr(null,"HTTP Download Error","downloadFull",`Unexpected status code: ${p.status}`,p.status.toString());const d=parseInt(p.headers["content-length"]||"0",10),h=s||d;let f=0,m=0;return p.data.on("data",(e=>{if(f+=e.length,i&&h>0){const e=f/h*100,t=`(${(f/1024).toFixed(2)} / ${(h/1024).toFixed(2)}) KB`;(e-m>=this.refreshUIRate||f===h)&&(i.Progress=`${e.toFixed(2)}%`,i.ProgressDetail=t,m=e)}})),p.data.pipe(c),new Promise(((e,t)=>{c.on("finish",(()=>{this.appendChannel(`Full download completed: ${a} into ${r}`),e(p)})),c.on("error",(e=>{t(new Z(`File write error: ${e.message}`,"downloadFull",e))})),p.data.on("error",(e=>{t(new Z(`Download stream error: ${e.message}`,"downloadFull",e))}))}))}createCancelToken(e){const t=fr.CancelToken.source();return e.onCancellationRequested((()=>{t.cancel("Download cancelled by user")})),t.token}appendChannel(e){Q.appendLine(e),js.info(e)}}const yr=864e5,vr="esp_idf_versions_cache.json",br={timeout:3e4,headers:{"User-Agent":t.HTTP_USER_AGENT},validateStatus:e=>200===e,maxRedirects:5};function wr(e){return r().join(e,vr)}async function _r(e){const n=new gr(e),i=await async function(e,n){const i=await async function(e){try{const t=wr(e);if(await(0,o.pathExists)(t)){const e=await(0,o.readFile)(t,"utf8"),n=JSON.parse(e);if(function(e){return Date.now()-e.timestamp<yr}(n))return Q.appendLine(`Using cached version list from ${n.source} (cached ${Math.round((Date.now()-n.timestamp)/6e4)} minutes ago)`),n}}catch(e){Q.appendLine(`Cache load error: ${e.message}`)}return null}(n);if(i)return xr(i.content.trim().split("\n"));await async function(){try{return await fr.get("https://httpbin.org/get",{timeout:5e3}),!0}catch(e){return Q.appendLine(`Network connectivity check failed: ${e.message}`),!1}}()||Q.appendLine("Network connectivity check failed, using fallback methods");try{Q.appendLine(`Attempting to download ESP-IDF versions from ${t.URL.IDF_VERSIONS} using enhanced DownloadManager...`);const i=(0,W.tmpdir)(),s=r().join(i,"idf_versions.txt");await e.downloadWithResume(t.URL.IDF_VERSIONS,i,void 0,void 0,void 0);const a=(await(0,o.readFile)(s)).toString(),c=a.trim().split("\n");await async function(e,t,n){try{const r={content:t,timestamp:Date.now(),source:n},i=wr(e);await(0,o.writeFile)(i,JSON.stringify(r,null,2)),Q.appendLine(`Cached version list from ${n}`)}catch(e){Q.appendLine(`Cache save error: ${e.message}`)}}(n,a,t.URL.IDF_VERSIONS);try{await ue(s,{force:!0})}catch(e){}return Q.appendLine(`Successfully downloaded ESP-IDF versions from ${t.URL.IDF_VERSIONS} using enhanced DownloadManager`),xr(c)}catch(e){const n=`Failed to download ESP-IDF versions from ${t.URL.IDF_VERSIONS}: ${e.message}`;Q.appendLine(n),js.errorNotify(n,e,"espIdfVersionList downloadEspIdfVersionList")}try{Q.appendLine("Primary URL failed, trying GitHub releases API as fallback...");const e=await Er("releases");if(e.length>0)return Q.appendLine(`Successfully retrieved ${e.length} versions from GitHub releases API`),e}catch(e){const t=`GitHub releases API fallback failed: ${e.message}`;Q.appendLine(t),js.error(t,e,"espIdfVersionList downloadEspIdfVersionList github fallback")}try{const e=r().join(n,"idf_versions.txt"),t=(await(0,o.readFile)(e)).toString().trim().split(W.EOL);return Q.appendLine("Using local fallback version list file"),xr(t)}catch(e){const t=`Error opening esp-idf fallback version list file. ${e.message}`;return Q.appendLine(t),js.errorNotify(t,e,"espIdfVersionList downloadEspIdfVersionList fallback"),Q.appendLine("All download methods failed, returning minimal version list"),xr(["v5.5-rc1","v5.4.2","v5.3.3","v5.2.5","v5.1.6","release/v5.5","release/v5.4","release/v5.3","release/v5.2","release/v5.1","master"])}}(n,e);return[{name:"Find ESP-IDF in your system",filename:"manual"},...i]}async function Er(e="releases"){const t="releases"===e?[{url:"https://api.github.com/repos/espressif/esp-idf/releases?per_page=100",name:"GitHub Releases API"}]:[{url:"https://api.github.com/repos/espressif/esp-idf/tags?per_page=100",name:"GitHub Tags API"}];for(const n of t)try{Q.appendLine(`Attempting to get ESP-IDF ${e} from ${n.name}...`);const t=await fr.get(n.url,br);let r=[];return r="releases"===e?t.data.map((e=>e.tag_name)):t.data.map((e=>e.name)),Q.appendLine(`Successfully retrieved ${r.length} ${e} from ${n.name}`),xr(r)}catch(t){const r=`Error getting ESP-IDF ${e} from ${n.name}: ${t.message}`;Q.appendLine(r),js.error(r,t,"espIdfVersionList getEspIdfTags");continue}return Q.appendLine(`All ${e} sources failed, returning empty ${e} list`),[]}function xr(e){const n="https://github.com/espressif/esp-idf/releases/download/IDFZIPFileVersion/esp-idf-IDFZIPFileVersion.zip",r=`${t.URL.IDF_GITHUB_ASSETS}/espressif/esp-idf/releases/download/IDFZIPFileVersion/esp-idf-IDFZIPFileVersion.zip`,i=/\b(IDFZIPFileVersion)\b/g,o=/v.+-rc/g,s=/v.+-beta/g;return e.map((e=>e.startsWith("release/")?{filename:`${e}`,name:e+" (release branch)",url:`https://github.com/espressif/esp-idf/archive/refs/heads/${e}.zip`,mirror:"",version:e}:e.startsWith("v")?{filename:`esp-idf-${e}.zip`,name:e+" (release version)",url:n.replace(i,e),mirror:r.replace(i,e),version:e}:o.test(e)?{filename:`esp-idf-${e}.zip`,name:e+" (pre-release version)",url:n.replace(i,e),mirror:r.replace(i,e),version:e}:"master"===e?{filename:"master",name:e+" (development branch)",url:`https://github.com/espressif/esp-idf/archive/refs/heads/${e}.zip`,mirror:"https://github.com/espressif/esp-idf/archive/master.zip",version:e}:s.test(e)?{filename:`esp-idf-${e}.zip`,name:e+" (beta version)",url:n.replace(i,e),mirror:r.replace(i,e),version:e}:void 0))}var Sr,Tr,Cr;async function Pr(e,t,r,i){const o=[(0,n.join)(e,"tools","idf_tools.py"),"export","--format","key-value"],s=Object.assign({},process.env);s.IDF_TOOLS_PATH=t,s.IDF_PATH=e;let a={};try{const e=(await ts(r,o,t,Q.init(),{cwd:t,env:s},i)).trim().split(W.EOL);for(const t of e){let e=t.indexOf("=");if(-1===e)continue;let n=t.slice(0,e),r=t.slice(e+1);a[n]=r}return a}catch(e){const t=e&&e.message?e.message:"Error at idf_tools.py export --format key-value";return js.errorNotify(t,e,"getEnvVarsFromIdfTools"),a}}async function Ir(e,t,r,i,s,a){const c={env:Object.assign({},process.env),cwd:t,cancelToken:a},l=await Rr(e,t,i),u=" doesn't exist. Make sure the path is correct.",p=(0,n.join)(r,"requirements.txt");if(!Bo(p,o.constants.R_OK))throw js.warnNotify(p+u),Q.appendLine(p+u),new Error;const d=`Installing ESP-Matter python packages in ${l} ...\n`;js.info(d),s&&(s.Log=d),Q.appendLine(d+"\n");const h=["-m","pip","install","--upgrade","--no-warn-script-location","-r",p,"--extra-index-url","https://dl.espressif.com/pypi"];return await Or(l,h,s,c),l}async function Or(e,t,n,r){const i=await jo(e,t,r);js.info(i+"\n"),n&&(n.Log=i+"\n")}async function kr(e){let t=Is("idf.pythonInstallPath",e),n=Is("idf.espIdfPath",e),r=Is("idf.toolsPath",e);const i=await(0,o.pathExists)(n),s=await(0,o.pathExists)(r),a=await(0,o.pathExists)(t);if(i&&s&&a)return await Rr(n,r,t)}async function Dr(e){let t=Is("idf.pythonInstallPath",e);return await(0,o.pathExists)(t)||(t=await async function(e){let t=Is("idf.pythonBinPath",e);const n=Is("idf.espIdfPath",e),r=Is("idf.toolsPath",e);return await Ar(t,n,r)}(e),t&&await Os("idf.pythonInstallPath",t,e?i.ConfigurationTarget.WorkspaceFolder:i.ConfigurationTarget.Global,e)),t}async function Ar(e,r,i){if(await(0,o.pathExists)(e)){const t=["-c","import sys; print('{}'.format(sys.base_prefix))"],r=(await ts(e,t,__dirname)).replace(/(\n|\r|\r\n)/gm,""),i="win32"===process.platform?["python.exe"]:["bin","python3"];return(0,n.join)(r,...i)}if("win32"!==process.platform){const e=await Lr(__dirname);return e.length?e[0]:"python3"}{const e=await us(r)>="5.0"?t.URL.IDF_EMBED_PYTHON.VERSION:t.URL.OLD_IDF_EMBED_PYTHON.VERSION,s=(0,n.join)(i,"tools","idf-python",e,"python.exe");return await(0,o.pathExists)(s)?s:""}}async function Rr(e,t,r){const i=(await ts(r,["-c","import sys; print('{}.{}'.format(sys.version_info.major, sys.version_info.minor))"],e)).replace(/(\n|\r|\r\n)/gm,""),s=(await us(e)).match(/([0-9]+\.[0-9]+).*/),a=`idf${s&&s.length>0?s[1]:"x.x"}_py${i}_env`,c=(0,n.join)(t,"python_env",a),l="win32"===process.platform?["Scripts","python.exe"]:["bin","python"],u=(0,n.join)(c,...l);return await(0,o.pathExists)(u)?u:""}async function Nr(e,t){try{const n=await ts(e,["--version"],t);if(n){const e=n.match(/Python\s\d+(.\d+)?(.\d+)?/g);if(e&&e.length>0)return!0}}catch(e){if(e&&e.message){const t=e.message.match(/Python\s\d+.\d+.\d+/g);if(t&&t.length>0)return!0}const t=e&&e.message?e:new Error("Python is not found in current environment");js.errorNotify(t.message,t,"pythonManager checkPythonExists")}return!1}async function Lr(e){try{let e=[],t=[];try{e=await gs("python",process.env)}catch(e){js.warn("Error finding python versions",e)}try{t=await gs("python3",process.env)}catch(e){js.warn("Error finding python3 versions",e)}const n=[...e,...t],r=new Set(n.filter((e=>e.length>0)));return Array.from(r)}catch(e){return js.errorNotify("Error looking for python in system",e,"pythonManager getUnixPythonList"),["Not found"]}}!function(e){e[e.Espressif=0]="Espressif",e[e.Github=1]="Github"}(Sr||(Sr={})),function(e){e[e.failed=0]="failed",e[e.installed=1]="installed",e[e.pending=2]="pending",e[e.started=3]="started"}(Tr||(Tr={})),function(e){e[e.advanced=0]="advanced",e[e.express=1]="express",e[e.existing=2]="existing"}(Cr||(Cr={}));var Fr=__webpack_require__(6868),Mr=__webpack_require__(4824);class jr{constructor(e){this.installPath=e}getToolPackagesPath(e){return n.resolve(this.installPath,...e)}async installPackages(e,t,r,i,s){return e.getPackageList(s).then((s=>{let a=1;return ds(s,(async c=>{const l=e.getVersionToUse(c),u=this.getToolPackagesPath(["tools",c.name,l]),p=c.binaries?n.join(u,...c.binaries):u;if(await(0,o.pathExists)(p)&&await e.checkBinariesVersion(c,p)===e.getVersionToUse(c))return this.appendChannel(`Using existing ${c.description} in ${u}`),void t.report({message:`Installed ${a}/${s.length}: ${c.description}...`});t.report({message:`Installing ${a}/${s.length}: ${c.description}...`}),this.appendChannel(`Installing package ${c.description}`);const d=e.obtainUrlInfoForPlatform(c).url.split(/\#|\?/)[0].split(".");let h;return h="zip"===d[d.length-1]?this.installZipPackage(e,c,u,i).then((async()=>{c.strip_container_dirs&&await this.promisedStripContainerDirs(u,c.strip_container_dirs)})):"tar"===d[d.length-2]&&"gz"===d[d.length-1]?this.installTarPackage(e,c,u,i).then((async()=>{c.strip_container_dirs&&await this.promisedStripContainerDirs(u,c.strip_container_dirs)})):"tar"===d[d.length-2]&&"xz"===d[d.length-1]?this.installToolFromIdf(e,r,c,i).then((async()=>{c.strip_container_dirs&&await this.promisedStripContainerDirs(u,c.strip_container_dirs)})):new Promise((e=>{e()})),a+=1,h}))}))}async installZipFile(e,t,r){return new Promise((async(i,s)=>{if(!await(0,o.pathExists)(e))return s(`File ${e} doesn't exist.`);Mr.ho(e,{lazyEntries:!0},((e,a)=>e?s(new Z("Zip file error","InstallZipFile",e)):r&&r.isCancellationRequested?s(new Z("Install cancelled by user","InstallZipFile")):(a.on("end",(()=>i())),a.on("error",(e=>s(new Z("Zip File error","InstallZipFile",e)))),a.readEntry(),void a.on("entry",(async e=>{const r=n.resolve(t,e.fileName);if(await rs(r))try{await ue(r,{force:!0})}catch(e){return this.appendChannel(`Error deleting previous ${r}: ${e.message}`),s(new Z("Install folder cant be deleted","InstallZipFile",e,e.errorCode))}if(e.fileName.endsWith("/"))try{await(0,o.ensureDir)(r,{mode:509}),a.readEntry()}catch(e){return s(new Z("Error creating directory","InstallZipFile",e))}else await(0,o.pathExists)(r)?(".txt"!==n.extname(r)&&this.appendChannel(`Warning File ${r}\n                                        already exists and was not updated.`),a.readEntry()):a.openReadStream(e,(async(e,t)=>{if(e)return s(new Z("Error reading zip stream","InstallZipFile",e));t.on("error",(e=>s(new Z("Error in readstream","InstallZipFile",e))));try{await(0,o.ensureDir)(n.dirname(r),{mode:509})}catch(e){return s(new Z("Error creating directory","InstallZipFile",e))}const i=r+".tmp";if(await(0,o.pathExists)(i))try{await(0,o.remove)(i)}catch(e){return s(new Z(`Error unlinking tmp file ${i}`,"InstallZipFile",e))}const c=l.createWriteStream(i,{mode:493});c.on("error",(e=>s(new Z("Error in writeStream","InstallZipFile",e)))),c.on("close",(async()=>{try{await _s(i,r)}catch(e){return s(new Z(`Error renaming file ${i}`,"InstallZipFile",e))}a.readEntry()})),t.pipe(c)}))})))))}))}async installZipPackage(e,t,n,r){this.appendChannel(`Installing zip package ${t.description}`);const i=e.obtainUrlInfoForPlatform(t),s=hs(i.url),a=this.getToolPackagesPath(["dist",s]);if(!await(0,o.pathExists)(a))throw this.appendChannel(`${t.description} downloaded file is not available.`),new Z("Error finding downloaded file","InstallZipPackage");if(!await fs(a,i.sha256,i.size))throw this.appendChannel(`Package ${t.description} downloaded file is invalid.`),new Z("Downloaded file invalid","InstallZipPackage");return await this.installZipFile(a,n,r)}installTarPackage(e,t,r,i){return new Promise((async(s,a)=>{const c=e.obtainUrlInfoForPlatform(t),u=hs(c.url),p=this.getToolPackagesPath(["dist",u]);if(i&&i.isCancellationRequested)return a(new Error("Process cancelled by user"));if(!await(0,o.pathExists)(p))return this.appendChannel(`Package ${t.description} downloaded file not available.`),a(new Z("Downloaded file unavailable","InstallTarPackage"));if(!await fs(p,c.sha256,c.size))return this.appendChannel(`Package ${t.description} downloaded file is invalid.`),a(new Z("Downloaded file invalid","InstallTarPackage"));if(await rs(r))try{await ue(r,{force:!0})}catch(e){return this.appendChannel(`Error deleting ${t.name} old install: ${e.message}`),a(new Z("Install folder cant be deleted","installTarPackage",e,e.errorCode))}const d=t.binaries?n.join(r,...t.binaries,t.version_cmd[0]):n.join(r,t.version_cmd[0]);if(await(0,o.pathExists)(d))return this.appendChannel(`Existing ${t.description} found in ${this.installPath}`),s();this.appendChannel(`Installing tar.gz package ${t.description}`);const h=Fr.o(r,{readable:!0,writable:!0});h.on("error",(e=>{a(new Z("Extracting gunzipped tar error","InstallTarPackage",e,e.code))})),h.on("finish",(()=>s()));try{l.createReadStream(p).pipe(Zt.createGunzip()).pipe(h)}catch(e){return a(e)}}))}installToolFromIdf(e,t,r,i){return async function(e,t,r,i,o){const s=(0,n.join)(e,"tools","idf_tools.py"),a=Object.assign({},process.env);return a.IDF_TOOLS_PATH=r,a.IDF_PATH=e,new Promise((async(e,n)=>{if(o&&o.isCancellationRequested)return n(new Error("Process cancelled by user"));try{const n=[s,"install",i],c=await ts(t,n,r,Q.init(),{cwd:r,env:a},o);return Q.appendLine(c),e()}catch(e){return n(e)}}))}(e.espIdfPath,t,this.installPath,r.name,i)}appendChannel(e){Q.init().appendLine(e),js.info(e)}async promisedStripContainerDirs(e,t){const r=e+".tmp";await rs(r)&&await ue(r,{force:!0}),await _s(e,r),await(0,o.ensureDir)(e);let i=r;for(let e=0;e<t;e++){const r=await ns(i);if(r.length>1)throw new Error(`At level ${e} expected 1 entry, got ${r.length}`);if(i=n.join(i,r[0]),!await rs(i))throw new Error(`At level ${t[e]}, ${r[0]} is not a directory.`)}const s=await ns(i);for(let t of s){const r=n.join(i,t),o=n.join(e,t);await _s(r,o)}await ue(r,{force:!0})}}class Br{constructor(e,t,n,r,i){this.progress="0.00%",this.progressDetail="(0/0) KB",this.name=e,this.isFileChecksumMatch=!1,this.hasFailed=!1,this.registerProgressListener(t),this.registerChecksumListener(n),this.registerProgressDetailListener(r),this.registerProgressHasFailedListener(i)}set Progress(e){this.progress=e,this.progressListener(this.name,e)}get Progress(){return this.progress}registerProgressListener(e){this.progressListener=e}set FileMatchChecksum(e){this.isFileChecksumMatch=e,this.checksumListener(this.name,e)}get FileMatchChecksum(){return this.isFileChecksumMatch}registerChecksumListener(e){this.checksumListener=e}get ProgressDetail(){return this.progressDetail}set ProgressDetail(e){this.progressDetail=e,this.progressDetailListener(this.name,e)}registerProgressDetailListener(e){this.progressDetailListener=e}get HasFailed(){return this.hasFailed}set HasFailed(e){this.hasFailed=e,this.hasFailedListener(e)}registerProgressHasFailedListener(e){this.hasFailedListener=e}}function Ur(e,t){si.postMessage({command:"updateIdfDownloadStatusPercentage",id:e,percentage:t})}function qr(e,t){si.postMessage({command:"updateIdfDownloadStatusDetail",detail:t,id:e})}function $r(e,t){si.postMessage({command:"updatePkgDownloadPercentage",id:e,percentage:t})}function Vr(e,t){si.postMessage({command:"updatePkgChecksumResult",id:e,hashResult:t})}function Hr(e,t){si.postMessage({command:"updatePkgDownloadDetail",id:e,progressDetail:t})}function Gr(e,t){si.postMessage({command:"updatePkgDownloadFailed",id:e,hasFailed:t})}function zr(e,t){si.postMessage({command:"updateIdfGitDownloadPercentage",id:e,percentage:t})}function Wr(e,t){si.postMessage({command:"updateIdfGitDownloadDetail",detail:t,id:e})}function Kr(e,t){si.postMessage({command:"updateIdfPythonDownloadPercentage",id:e,percentage:t})}function Yr(e,t){si.postMessage({command:"updateIdfPythonDownloadDetail",detail:t,id:e})}var Jr,Qr,Xr,Zr=__webpack_require__(7520),ei=__webpack_require__.n(Zr);class ti{constructor(e,t,n,r="git",i){this.name=t,this.branchToUse=n,this.gitBinPath=r,this.GITHUB_REPO=e,this.GITEE_REPO=i}cancel(){this.cloneProcess&&!this.cloneProcess.killed&&(ei()(this.cloneProcess.pid,"SIGKILL"),this.cloneProcess=void 0,Q.appendLine(`\n❌ [${this.name} Cloning] : Stopped!\n`),js.info(`\n❌ [${this.name} Cloning] : Stopped!\n`))}downloadByCloning(e,n,r,i=!0,o=t.IdfMirror.Github){const s=["clone"];return i&&s.push("--recursive"),s.push("--progress","-b",this.branchToUse,o===t.IdfMirror.Espressif?this.GITEE_REPO:this.GITHUB_REPO),Q.appendLine(`Cloning mirror ${o==t.IdfMirror.Espressif?"Espressif":"Github"} with URL ${o===t.IdfMirror.Espressif?this.GITEE_REPO:this.GITHUB_REPO}`),this.spawnWithProgress(this.gitBinPath,s,e,n,r)}async getRepository(e,r,o){const s=await Is("idf.toolsPath",r),a=await i.window.showQuickPick([{label:`Use current ESP-IDF Tools directory (${s})`,target:"current"},{label:"Choose a container directory...",target:"another"},{label:"Use existing repository",target:"existing"}],{placeHolder:`Select a directory to save ${this.name}`});if(!a)return;let c,l=await i.window.showQuickPick([{label:"Use Github",target:t.IdfMirror.Github},{label:"Use Gitee",target:t.IdfMirror.Espressif}],{placeHolder:"Select a source mirror to use"});if(!l)return;if("another"===a.target||"existing"===a.target){const e=await i.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1});if(!e||e.length<1)return;c=e[0].fsPath}else{if(!await rs(s))return void js.infoNotify(`${s} doesn't exist.`);c=s}if("existing"===a.target){const t=Is("idf.saveScope");return await Os(e,c,t),void js.infoNotify(`${this.name} has been installed`)}const u=(0,n.basename)(this.GITHUB_REPO).replace(".git",""),p=(0,n.join)(c,u);if(await rs(p))return void js.infoNotify(`${p} already exist.`);const d=Is("idf.notificationMode"),h=d===Ss.All||d===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:h,title:this.name},(async(n,r)=>{try{const i=await ps(c,this.gitBinPath);if(!i||"Not found"===i)throw new Error("Git is not found in idf.gitPath or PATH");r.onCancellationRequested((e=>{this.cancel()})),void 0===o&&(o=l.target!==t.IdfMirror.Espressif),await this.downloadByCloning(c,void 0,n,o,l.target),l.target===t.IdfMirror.Espressif&&await this.updateSubmodules(p,void 0,n);const s=Is("idf.saveScope");await Os(e,p,s),js.infoNotify(`${this.name} has been installed`)}catch(e){Q.appendLine(e.message),js.errorNotify(e.message,e,"AbstractCloning getRepository")}}))}downloadSubmodules(e,t,n){return this.spawnWithProgress(this.gitBinPath,["submodule","update","--init","--depth","1","--progress"],e,t,n)}async updateSubmodules(e,t,n){const r=["esp-idf","espressifsystems","esp-rainmaker","espressifsystems","esp-insights","espressifsystems","esp-qcloud","espressifsystems","esp-sr","esp-components","esp-adf-libs","esp-components","esp32-camera","esp-components","esp-rainmaker-common","esp-components","esp-dl","esp-components"];await ts(this.gitBinPath,["submodule","init"],e,Q.init());const i=(await ts(this.gitBinPath,["config","-f",".gitmodules","--list"],e,Q.init())).split("\n");function o(e){const t=e.match(/^submodule\.([^.]*?)\.url.*$/),n=t?t[1]:"",r=e.match(/.*\/(.*)\.git/);let i=r?r[1]:"";return n&&i?{subPath:n,url:i}:null}for(const t of i){const n=o(t);if(n){let{subPath:t,url:i}=n,o="";for(let e=0;e<r.length;e+=2){const t=r[e],n=r[e+1];if(i.includes(t)){o=`https://gitee.com/${n}/${t}`;break}if(i.includes("unity")){o="https://gitee.com/esp-submodules/Unity";break}if(i.includes("cexception")){o="https://gitee.com/esp-submodules/CException";break}i=i.replace(/.*\//,"").replace(/.*\./,""),o=`https://gitee.com/esp-submodules/${i}`}await ts(this.gitBinPath,["config",`submodule.${t}.url`,o],e,Q.init())}}await this.spawnWithProgress(this.gitBinPath,["submodule","update","--progress"],e,t,n),await this.spawnWithProgress(this.gitBinPath,["submodule","foreach","git","submodule","update"],e,t,n)}spawnWithProgress(e,t,n,r,i){return new Promise(((o,s)=>{this.cloneProcess=(0,a.spawn)(e,t,{cwd:n});const c=e=>{Q.appendLine(e.toString()),js.info(e.toString()),/\b(Error)\b/g.test(e.toString())&&s(e.toString());const t=e.toString().trim(),n=/(?:Counting|Compressing|Receiving|Resolving) objects:\s+(\d+%) \(\d+\/\d+\)/g;let o;for(;null!==(o=n.exec(t));)i&&i.report({message:o[0]}),r&&(r.Progress=`${o[1]}`,r.ProgressDetail=o[0]);r&&-1!==e.toString().indexOf("Cloning into")&&(r.Progress="0%",r.ProgressDetail=e.toString())};this.cloneProcess.stdout.on("data",c),this.cloneProcess.stderr.on("data",c),this.cloneProcess.on("exit",((e,t)=>{if(!t&&0!==e){const t=`Submodules clone has exit with ${e}`;return Q.appendLine(t),js.errorNotify("Submodules cloning error",new Error(t),"AbstractCloning spawnWithProgress"),s(new Error(t))}return o()}))}))}async getSubmodules(e){const t=/[^/]*$/.exec(e)[0];Q.appendLine(`Downloading ${t} submodules`);const n=Is("idf.notificationMode"),r=n===Ss.All||n===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:r,title:`Checking out ${t} submodules`},(async(n,r)=>{try{r.onCancellationRequested((e=>{this.cancel()})),await this.downloadSubmodules(e,void 0,n),js.infoNotify(`${t} submodules checked out successfully`)}catch(e){Q.appendLine(e.message),js.errorNotify(e.message,e,"AbstractCloning getSubmodules")}}))}}class ni extends ti{constructor(e,t="git"){super("https://github.com/espressif/esp-idf.git","ESP-IDF",e,t,"https://gitee.com/EspressifSystems/esp-idf.git")}}async function ri(e){if("linux"!==process.platform)return;const t=await ms(e);if(!t.OPENOCD_SCRIPTS)throw new Error("OPENOCD_SCRIPTS environment variables is not defined");const r=(0,n.resolve)((0,n.dirname)(t.OPENOCD_SCRIPTS),"contrib","60-openocd.rules");if(!await(0,o.pathExists)(r))throw new Error(`${r} doesn't exists.`);si.postMessage({command:"setOpenOcdRulesPath",openOCDRulesPath:r})}async function ii(e,t,r,s,a,c,l,u,p,d,h){si.postMessage({command:"updatePyVEnvStatus",status:Tr.started});const f=await async function(e,t,r,i,s,a,c,l){a.report({message:"Checking Python and pip exists..."});const u="python"===r||await(0,o.pathExists)(r),p=await Nr(r,t);if(!u||!p){const e="Python have not been found in your environment.";return ci(e),Q.appendLine(e),void js.info(e)}if(!await async function(e,t){try{return"True"===(await ts(e,["-c","import sys; print(sys.prefix == sys.base_prefix)"],t)).trim()}catch(e){return js.errorNotify("Error checking Python is virtualenv",e,"pythonManager checkIfNotVirtualEnv"),!1}}(r,t)){const e="Selected python is from a virtual environment. Choose system python";return ci(e),Q.appendLine(e),void js.info(e)}const d=new ai(ci);a.report({message:"Installing python virtualenv and ESP-IDF python requirements..."});const h=await async function(e,t,r,i,o,s,a,c){const l=(0,n.join)(e,"tools","idf_tools.py"),u=Object.assign({},process.env);if(u.IDF_TOOLS_PATH=t,u.IDF_PATH=e,c&&(u.PIP_INDEX_URL=c),"win32"===process.platform){let e;o&&"git"!==o&&(e=(0,n.dirname)(o));const t=Object.keys(process.env).find((e=>"PATH"==e.toUpperCase()));e&&(u[t]=e+n.delimiter+u[t]),u.PYTHONNOUSERSITE="1",u[t]=(0,n.dirname)(i)+n.sep+"Lib"+n.delimiter+u[t],s.environmentVariableCollection.prepend(t,(0,n.join)((0,n.dirname)(i),"Lib"),{applyAtShellIntegration:!0,applyAtProcessCreation:!0})}return await Or(i,[l,"install-python-env"],r,{env:u,cwd:t,cancelToken:a}),await Rr(e,t,i)}(e,t,d,r,i,s,c,l);if(h&&d.Log.indexOf("Exception")<0){const e="Python requirements has been installed";return Q.appendLine(e),js.info(e),h}const f="Python requirements has not been installed";return Q.appendLine(f),void js.info(f)}(e,t,r,s,c,l,u,h);await di(e,t,s,r,a,p,d),await async function(e,t,r,i){const s={version:await us(e),python:t,path:e},a=ce(e),c=await le(r);c.idfInstalled[a]=s,c.idfSelectedId=a,c.gitPath||("git"===i&&(i=await ys(i,process.env)),c.gitPath=i);const l=(0,n.join)(r,"esp_idf.json");await(0,o.writeJson)(l,c,{spaces:2})}(e,f,t,s),si.postMessage({command:"updatePyVEnvStatus",status:Tr.installed}),si.postMessage({command:"setIsInstalled",isInstalled:!0}),si.postMessage({command:"setIsIdfInstalling",installing:!1}),await ri(i.Uri.file(e))}async function oi(e,t,r,i,o,s,a,c,l,u,p,d,h){const f=await te.createIdfToolsManager(e),m=await f.getRequiredToolsInfo(t,void 0,d);si.postMessage({command:"setRequiredToolsInfo",toolsInfo:m}),await async function(e,t,r,i,o,s,a){if(e.split(n.delimiter).length>1)return void js.infoNotify("Introduce a single path");const c=new gr(e),l=new jr(e),u=(await t.getPackageList(a)).map((e=>new Br(e.name,$r,Vr,Hr,Gr)));Q.appendLine(""),js.info(""),await c.downloadPackages(t,i,r,u,s,a),Q.appendLine(""),js.info(""),await l.installPackages(t,i,o,s,a),Q.appendLine(""),js.info("")}(t,f,o,u,r,p,d),si.postMessage({command:"updateEspIdfToolsStatus",status:Tr.installed}),await ii(e,t,r,i,s,c,u,p,a,l,h)}class si{static createOrShow(e,t){const n=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:i.ViewColumn.One;si.currentPanel?si.currentPanel.panel.reveal(n):si.currentPanel=new si(e,n,t)}static isCreatedAndHidden(){return si.currentPanel&&!1===si.currentPanel.panel.visible}static postMessage(e){si.currentPanel&&si.currentPanel.panel.webview.postMessage(e)}constructor(e,t,n){this.context=e,this.disposables=[];const s=i.l10n.t("ESP-IDF Setup");this.panel=i.window.createWebviewPanel(si.viewType,s,t,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[i.Uri.file(r().join(this.context.extensionPath,"dist","views"))]}),this.panel.iconPath=i.Uri.file(r().join(e.extensionPath,"media","espressif_icon.png"));const a=this.panel.webview.asWebviewUri(i.Uri.file(r().join(e.extensionPath,"dist","views","setup-bundle.js")));this.panel.webview.html=this.createSetupHtml(a);const c="win32"===process.platform?process.env.USERPROFILE:process.env.HOME,u=r().join(c,"esp");this.panel.webview.onDidReceiveMessage((async t=>{switch(t.command){case"checkEspIdfTools":t.espIdf&&t.pyPath&&t.toolsPath&&await this.checkRequiredTools(t.espIdf,JSON.parse(t.toolsPath),n.onReqPkgs);break;case"installEspIdf":t.espIdfContainer&&t.selectedEspIdfVersion&&t.toolsPath&&t.saveScope&&void 0!==typeof t.selectedPyPath&&void 0!==typeof t.manualEspIdfPath&&void 0!==typeof t.mirror&&void 0!==typeof t.setupMode&&(t.selectedEspIdfVersion&&"manual"!==t.selectedEspIdfVersion.filename&&t.espIdfContainer===u&&await(0,o.ensureDir)(u),await this.autoInstall(t.toolsPath,JSON.parse(t.selectedEspIdfVersion),t.selectedPyPath,t.manualEspIdfPath,t.espIdfContainer,t.mirror,t.saveScope,t.setupMode,e,n.espIdfStatusBar,n.workspaceFolder,n.onReqPkgs,t.pypiIndex));break;case"installEspIdfTools":t.espIdf&&t.pyPath&&t.toolsPath&&t.saveScope&&void 0!==typeof t.mirror&&await this.installEspIdfTools(t.espIdf,t.pyPath,t.toolsPath,n.gitPath,t.mirror,t.saveScope,n.workspaceFolder,e,n.espIdfStatusBar,n.onReqPkgs,t.pypiIndex);break;case"openEspIdfFolder":const s=await this.openFolder();this.panel.webview.postMessage({command:"updateEspIdfFolder",selectedFolder:s});break;case"openEspIdfContainerFolder":const a=await this.openFolder();this.panel.webview.postMessage({command:"updateEspIdfContainerFolder",selectedContainerFolder:a});break;case"openEspIdfToolsFolder":const c=await this.openFolder();this.panel.webview.postMessage({command:"updateEspIdfToolsFolder",selectedToolsFolder:c});break;case"openPythonPath":const p=await this.openFile();this.panel.webview.postMessage({command:"updatePythonPath",selectedPyPath:p});break;case"requestInitialValues":const d=r().sep;this.panel.webview.postMessage({command:"initialLoad",downloadMirror:n.downloadMirror,espIdfContainer:u,espIdf:n.espIdfPath,extensionVersion:n.extensionVersion,espToolsPath:n.espToolsPath,gitVersion:n.gitVersion,hasPrerequisites:n.hasPrerequisites,idfVersions:n.espIdfVersionsList,idfTags:n.espIdfTagsList,idfSetups:n.existingIdfSetups,pathSep:d,platform:process.platform,pyVersionList:n.pythonVersions,saveScope:n.saveScope});break;case"saveCustomSettings":t.espIdfPath&&t.toolsPath&&t.pyBinPath&&t.tools&&t.saveScope&&void 0!==typeof t.mirror&&(this.panel.webview.postMessage({command:"updateEspIdfToolsStatus",status:Tr.installed}),await this.installPyReqs(t.espIdfPath,t.toolsPath,t.pyBinPath,n.gitPath,t.saveScope,e,n.workspaceFolder,n.espIdfStatusBar,t.mirror,t.pypiIndex));break;case"useIdfSetup":void 0!==typeof t.selectedIdfSetup&&t.saveScope&&(this.panel.webview.postMessage({command:"updateIdfGitStatus",status:Tr.installed}),this.panel.webview.postMessage({command:"updateIdfPythonStatus",status:Tr.installed}),this.panel.webview.postMessage({command:"updateEspIdfStatus",status:Tr.installed}),si.postMessage({command:"setEspIdfErrorStatus",errorMsg:`ESP-IDF is installed in ${n.existingIdfSetups[t.selectedIdfSetup].idfPath}`}),this.panel.webview.postMessage({command:"updateEspIdfToolsStatus",status:Tr.installed}),this.panel.webview.postMessage({command:"updatePyVEnvStatus",status:Tr.started}),this.panel.webview.postMessage({command:"goToCustomPage",installing:!0,page:"/status"}),await hi(n.existingIdfSetups[t.selectedIdfSetup],t.saveScope,n.workspaceFolder,n.espIdfStatusBar),this.panel.webview.postMessage({command:"setIsInstalled",isInstalled:!0}),await this.getOpenOcdRulesPath());break;case"cleanIdfSetups":await gi();break;case"newProject":await i.commands.executeCommand("espIdf.newProject.start");break;case"importProject":await i.commands.executeCommand("espIdf.importProject");break;case"exploreComponents":await i.commands.executeCommand("esp.component-manager.ui.show");break;case"canAccessFile":if(!t.path)break;const h=r().join(t.path,"tools","idf.py"),f=await Bo(h,l.constants.R_OK|l.constants.X_OK);if(!f){this.panel.webview.postMessage({command:"canAccessFileResponse",path:h,exists:f});break}let m;m=t.currentVersion&&"string"==typeof t.currentVersion?t.currentVersion:await us(t.path);const g=ws(m,"5.0")<0,y=/\s/.test(t.path);this.panel.webview.postMessage({command:"canAccessFileResponse",path:h,exists:f,noWhiteSpaceSupport:g,hasWhitespace:y})}})),this.panel.onDidDispose((()=>this.dispose()),null,this.disposables)}setupErrHandler(e){const t=e&&e.message?e.message:"Error during ESP-IDF setup";-1!==t.indexOf("ERROR_EXISTING_ESP_IDF")||-1!==t.indexOf("IDF_PATH_WITH_SPACES")||-1!==t.indexOf("IDF_TOOLS_PATH_WITH_SPACES")||-1!==t.indexOf("ERROR_SAME_IDF_PATH_AND__IDF_TOOLS_PATH")?si.postMessage({command:"setEspIdfErrorStatus",errorMsg:e.message}):-1!==t.indexOf("ERROR_INVALID_PYTHON")||-1!==t.indexOf("ERROR_INVALID_PIP")||-1!==t.indexOf("ERROR_INVALID_VENV")||-1!==t.indexOf("PYTHON_BIN_PATH_WITH_SPACES")?si.postMessage({command:"setPyExecErrorStatus",errorMsg:e.message}):si.postMessage({command:"setEspIdfErrorStatus",errorMsg:""}),Q.appendLine(t),js.errorNotify(t,e,"SetupPanel error handler"),Q.show(),si.postMessage({command:"goToCustomPage",installing:!1,page:"/autoinstall"})}async autoInstall(e,r,s,a,c,l,u,p,d,h,f,m,g){const y=Is("idf.notificationMode"),v=y===Ss.All||y===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;return await i.window.withProgress({location:v,title:"ESP-IDF Setup:",cancellable:!0},(async(y,v)=>{try{si.postMessage({command:"goToCustomPage",installing:!0,page:"/status"});let b=s,w="git";if("win32"===process.platform){let t="";if("manual"===r.filename)t=await us(a);else if("master"===r.filename)t="5.1";else{const e=r.name.split(" ")[0].match(/v(.+)/);t=e&&e.length?e[1]:"5.0"}const n=await this.installEmbedPyGit(e,t,l,y,v);w=n.idfGitPath,b=n.idfPythonPath}const _="manual"===r.filename?a:c;if(this.checkSpacesInPaths(e),_===e)throw new Error("IDF_PATH and IDF_TOOLS_PATH can't be the same. Please use another location. (ERROR_SAME_IDF_PATH_AND__IDF_TOOLS_PATH)");await async function(e,r,s,a,c,l,u,p,d,h,f,m,g,y,v,b){const w="python"===r||await(0,o.pathExists)(r),_=await Nr(r,__dirname);if(!w||!_){const e=`${r} is not valid. (ERROR_INVALID_PYTHON)`;throw js.infoNotify(e),new Error(e)}let E;if(E="manual"===e.filename?s:await async function(e,r,s,a,c,l){const u=(0,n.join)(r,e.filename),p=u.replace(".zip",""),d=(0,n.join)(r,e.version.replace("release/",""),"esp-idf");if(await(0,o.ensureDir)(r),await rs(d)){const e=`${d} already exists. Delete it or use another location. (ERROR_EXISTING_ESP_IDF)`;throw Q.appendLine(e),js.infoNotify(e),new Error(e)}const h=new gr(r),f=new jr(r),m=new Br(e.name,Ur,null,qr,null);if(m.Progress="0.00%","master"===e.version||e.version.startsWith("release")||e.version.endsWith("-dev")){const r=`Downloading ESP-IDF ${e.version} using git clone...\n`;Q.appendLine(r),js.info(r),c&&c.report({message:r});const i=new ni(e.version,a);let u;l&&(u=l.onCancellationRequested((()=>{i.cancel()}))),await(0,o.ensureDir)((0,n.dirname)(d)),await i.downloadByCloning((0,n.dirname)(d),m,c,s!==t.IdfMirror.Espressif,s),s===t.IdfMirror.Espressif&&await i.updateSubmodules(d,m,c),u.dispose()}else{const n=`Downloading ESP-IDF ${e.name}...`;Q.appendLine(n),js.info(n),c&&c.report({message:n});const v=s===t.IdfMirror.Github?e.url:e.mirror;if(Q.appendLine(`Using mirror ${s==t.IdfMirror.Espressif?"Espressif":"Github"} with URL ${v}`),await h.downloadWithResume(v,r,m,l),!await(0,o.pathExists)(u))throw new Error(`${u} was not downloaded.`);const b=`Downloaded ${e.name}. Extracting...\n`;Q.appendLine(b),js.info(b),y=u,si.postMessage({command:"setEspIdfErrorStatus",errorMsg:`ESP-IDF is downloaded in ${y}`}),await f.installZipFile(u,r,l);const w=`Extracted ${u} in ${r}.\n`;Q.appendLine(w),js.info(w),await _s(p,d),g=d,si.postMessage({command:"setEspIdfErrorStatus",errorMsg:`ESP-IDF is extracted in ${g}`}),a&&(await async function(e,t){try{if(!await(0,o.pathExists)(t))return;const n=i.Uri.file(e),r=await ms(n),s=await ts(t,["config","--local","core.fileMode","false"],e,Q.init(),{env:r,cwd:e}),a=await ts(t,["submodule","foreach","--recursive","git","config","--local","core.fileMode","false"],e,Q.init(),{env:r,cwd:e});Q.init().appendLine(s+W.EOL+a+W.EOL),js.info(s+W.EOL+a+W.EOL)}catch(e){const t=e.message?e.message:"Error fixing FileMode in repository";js.errorNotify(t,e,"utils fixFileModeGitRepository")}}(d,a),await async function(e,t){try{if(!await(0,o.pathExists)(t))return;const n=i.Uri.file(e),r=await ms(n),s=await ts(t,["reset","--hard","--recurse-submodule"],e,Q.init(),{env:r,cwd:e});Q.init().appendLine(s+W.EOL),js.info(s+W.EOL)}catch(e){const t=e.message?e.message:"Error resetting repository";js.errorNotify(t,e,"utils cleanDirtyGitRepository")}}(d,a))}var g,y;return d}(e,a,l,m,g,y),"x.x"===await us(E))throw new Error("Invalid ESP-IDF");if(si.postMessage({command:"updateEspIdfFolder",selectedFolder:E}),si.postMessage({command:"updateEspIdfStatus",status:Tr.installed}),si.postMessage({command:"setEspIdfErrorStatus",errorMsg:`ESP-IDF is installed in ${E}`}),si.postMessage({command:"updateEspIdfToolsStatus",status:Tr.started}),p===Cr.advanced){si.postMessage({command:"updatePythonPath",selectedPyPath:r});const e=await te.createIdfToolsManager(s),t=await e.getRequiredToolsInfo((0,n.join)(c,"tools"),void 0,v);return si.postMessage({command:"setRequiredToolsInfo",toolsInfo:t}),void si.postMessage({command:"goToCustomPage",installing:!1,page:"/custom"})}await oi(E,c,r,m,l,u,f,d,h,g,y,v,b)}(r,b,a,c,e,l,u,p,d,h,f,w,y,v,m,g)}catch(e){this.setupErrHandler(e)}}))}async checkRequiredTools(e,t,n){const i=await te.createIdfToolsManager(e),o=t.reduce(((e,t,n)=>e+r().delimiter+t.path),"").slice(1),s=await i.verifyPackages(o,n),a=t.map((e=>{const t=e.expected.indexOf(s[e.name])>-1||s[e.name]&&"No command version"===s[e.name];return e.doesToolExist=t,t?(e.progress="100.00%",e.hashResult=!0):(e.progress="0.00%",e.hashResult=!1),e}));this.panel.webview.postMessage({command:"setRequiredToolsInfo",toolsInfo:a})}async installEspIdfTools(e,t,n,r,o,s,a,c,l,u,p){const d=Is("idf.notificationMode"),h=d===Ss.All||d===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;return await i.window.withProgress({location:h,title:"ESP-IDF Tools Setup:",cancellable:!0},(async(i,d)=>{try{si.postMessage({command:"goToCustomPage",installing:!0,page:"/status"});let h=t,f=r||"/usr/bin/git";if("win32"===process.platform){const t=await us(e),r=await this.installEmbedPyGit(n,t,o,i,d);f=r.idfGitPath,h=r.idfPythonPath}this.checkSpacesInPaths(n),await oi(e,n,h,f,o,s,a,c,l,i,d,u,p)}catch(e){this.setupErrHandler(e)}}))}async installPyReqs(e,t,n,r,o,s,a,c,l,u){const p=Is("idf.notificationMode"),d=p===Ss.All||p===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;return await i.window.withProgress({location:d,title:"ESP-IDF Python Requirements:",cancellable:!0},(async(i,l)=>{try{si.postMessage({command:"goToCustomPage",installing:!0,page:"/status"}),await ii(e,t,n,r,o,s,i,l,a,c,u)}catch(e){this.setupErrHandler(e)}}))}async installEmbedPyGit(e,r,s,a,c){const l=await async function(e,r,i,s){const a=new gr(e),c=new jr(e);let l=r===t.IdfMirror.Github?t.URL.IDF_EMBED_GIT.GITHUB_EMBED_GIT_URL:t.URL.IDF_EMBED_GIT.IDF_EMBED_GIT_URL;const u=r===t.IdfMirror.Github?t.URL.IDF_EMBED_GIT.GITHUB_EMBED_GIT_SIZE:t.URL.IDF_EMBED_GIT.IDF_EMBED_GIT_SIZE,p=(0,n.join)(e,"dist",(0,n.basename)(l)),d=(0,n.join)(e,"tools","idf-git",t.URL.IDF_EMBED_GIT.VERSION),h=(0,n.join)(d,"cmd","git.exe"),f=new Br((0,n.basename)(l),zr,null,Wr,null);if(await(0,o.pathExists)(d)){const e=(0,n.join)(d,"cmd"),t=await ps(e,h);if(!t||"Not found"===t){const e=`Using existing ${d}`;return Q.appendLine(e),js.info(e),h}}const m=`Downloading ${p}...`;if(i.report({message:m}),Q.appendLine(m),js.info(m),await a.downloadWithResume(l,(0,n.join)(e,"dist"),f,s,u),!await(0,o.pathExists)(p))throw new Error(`${p} was not downloaded.`);const g=`Installing ${d} ...`;i.report({message:g}),Q.appendLine(g),js.info(g),await c.installZipFile(p,d,s);const y=`Extracted ${d} ...`;return i.report({message:y}),Q.appendLine(y),js.info(y),h}(e,s,a,c);si.postMessage({command:"updateIdfGitStatus",status:Tr.installed});const u=await async function(e,r,i,s,a){const c=new gr(e),l=new jr(e);let u,p;r>="5.0"?(u=i===t.IdfMirror.Github?t.URL.IDF_EMBED_PYTHON.GITHUB_EMBED_PYTHON_URL:t.URL.IDF_EMBED_PYTHON.IDF_EMBED_PYTHON_URL,p=i===t.IdfMirror.Github?t.URL.IDF_EMBED_PYTHON.GITHUB_EMBED_PYTHON_SIZE:t.URL.IDF_EMBED_PYTHON.IDF_EMBED_PYTHON_SIZE):(u=i===t.IdfMirror.Github?t.URL.OLD_IDF_EMBED_PYTHON.GITHUB_EMBED_PYTHON_URL:t.URL.OLD_IDF_EMBED_PYTHON.IDF_EMBED_PYTHON_URL,p=i===t.IdfMirror.Github?t.URL.OLD_IDF_EMBED_PYTHON.GITHUB_EMBED_PYTHON_SIZE:t.URL.OLD_IDF_EMBED_PYTHON.IDF_EMBED_PYTHON_SIZE);const d=(0,n.join)(e,"dist",(0,n.basename)(u)),h=new Br((0,n.basename)(u),Kr,null,Yr,null),f=r>="5.0"?t.URL.IDF_EMBED_PYTHON.VERSION:t.URL.OLD_IDF_EMBED_PYTHON.VERSION,m=(0,n.join)(e,"tools","idf-python",f);if(await(0,o.pathExists)(m)&&await Nr((0,n.join)(m,"python.exe"),m)){const e=`Using existing ${m}`;return Q.appendLine(e),js.info(e),(0,n.join)(m,"python.exe")}if(s.report({message:`Downloading ${d}...`}),await c.downloadWithResume(u,(0,n.join)(e,"dist"),h,a,p),!await(0,o.pathExists)(d))throw new Error(`${d} was not downloaded.`);s.report({message:`Installing ${m}...`}),await l.installZipFile(d,m,a);const g=`Extracted ${m} ...`;return s.report({message:g}),Q.appendLine(g),r>="5.0"?await jo((0,n.join)(m,"python.exe"),["-m","ensurepip","--upgrade"],{cwd:m}):await jo((0,n.join)(m,"python.exe"),["-m","pip","install","virtualenv"],{cwd:m}),(0,n.join)(m,"python.exe")}(e,r,s,a,c);return si.postMessage({command:"updateIdfPythonStatus",status:Tr.installed}),await Os("idf.pythonInstallPath",u,i.ConfigurationTarget.Global),await Os("idf.gitPath",l,i.ConfigurationTarget.Global),{idfPythonPath:u,idfGitPath:l}}async getOpenOcdRulesPath(){try{await ri(i.Uri.file(this.context.extensionPath))}catch(e){this.setupErrHandler(e)}}checkSpacesInPaths(e){let t="";if(os(e)&&(t=`${e} has spaces. Use another location. (IDF_TOOLS_PATH_WITH_SPACES)`),t)throw Q.appendLine(t),js.infoNotify(t),new Error(t)}async openFolder(){const e=await i.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1});if(e&&e.length>0)return e[0].fsPath;i.window.showInformationMessage("No folder selected")}async openFile(){const e=await i.window.showOpenDialog({canSelectFolders:!1,canSelectFiles:!0,canSelectMany:!1});if(e&&e.length>0)return e[0].fsPath;i.window.showInformationMessage("No folder selected")}createSetupHtml(e){return`<!DOCTYPE html>\n      <html lang="en">\n        <head>\n          <meta charset="UTF-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>ESP-IDF Setup</title>\n        </head>\n        <body>\n          <div id="app"></div>\n        </body>\n        <script src="${e}"><\/script>\n      </html>`}dispose(){si.currentPanel=void 0,this.panel.dispose()}}si.viewType="setupPanel";class ai{constructor(e){this.log="",this.logListener=e}set Log(e){this.log+=e,this.logListener(this.log)}get Log(){return this.log}}function ci(e){si.postMessage({command:"updatePyReqsLog",pyReqsLog:e})}async function li(e,t,r){if(!await(0,o.pathExists)(e))return!1;let i;return i=(0,n.join)(t,"tools","requirements","requirements.core.txt"),!(!await(0,o.pathExists)(i)&&(i=(0,n.join)(t,"requirements.txt"),!await(0,o.pathExists)(i)))&&!((await vs(e,t,r,i)).indexOf("are not satisfied")>-1)}function ui(){return{[Qr.pickWorkspace]:{checkboxState:t.GlobalConfiguration.store.get(Qr.pickWorkspace,i.TreeItemCheckboxState.Checked),iconId:"file-submodule",tooltip:i.l10n.t("Select Current Project workspace folder")},[Qr.SelectCurrentIdfVersion]:{checkboxState:t.GlobalConfiguration.store.get(Qr.SelectCurrentIdfVersion,i.TreeItemCheckboxState.Checked),iconId:"octoface",tooltip:i.l10n.t("Select current ESP-IDF version")},[Qr.SelectFlashType]:{checkboxState:t.GlobalConfiguration.store.get(Qr.SelectFlashType,i.TreeItemCheckboxState.Checked),iconId:"star-empty",tooltip:i.l10n.t("Select Flash Method")},[Qr.SelectSerialPort]:{checkboxState:t.GlobalConfiguration.store.get(Qr.SelectSerialPort,i.TreeItemCheckboxState.Checked),iconId:"plug",tooltip:i.l10n.t("Select Port to Use (COM, tty, usbserial)")},[Qr.SelectMonitorSerialPort]:{checkboxState:t.GlobalConfiguration.store.get(Qr.SelectMonitorSerialPort,i.TreeItemCheckboxState.Unchecked),iconId:"plug",tooltip:i.l10n.t("Select Monitor Port to Use (COM, tty, usbserial)")},[Qr.SelectProjectConfiguration]:{checkboxState:t.GlobalConfiguration.store.get(Qr.SelectProjectConfiguration,i.TreeItemCheckboxState.Checked),iconId:"versions",tooltip:i.l10n.t("Select Project Configuration")},[Qr.SetEspressifTarget]:{checkboxState:t.GlobalConfiguration.store.get(Qr.SetEspressifTarget,i.TreeItemCheckboxState.Checked),iconId:"chip",tooltip:i.l10n.t("Set Espressif Device Target (IDF_TARGET)")},[Qr.SDKConfig]:{checkboxState:t.GlobalConfiguration.store.get(Qr.SDKConfig,i.TreeItemCheckboxState.Checked),iconId:"gear",tooltip:i.l10n.t("SDK Configuration Editor (menuconfig)")},[Qr.FullClean]:{checkboxState:t.GlobalConfiguration.store.get(Qr.FullClean,i.TreeItemCheckboxState.Checked),iconId:"trash",tooltip:i.l10n.t("Full Clean")},[Qr.Build]:{checkboxState:t.GlobalConfiguration.store.get(Qr.Build,i.TreeItemCheckboxState.Checked),iconId:"symbol-property",tooltip:i.l10n.t("Build Project")},[Qr.Flash]:{checkboxState:t.GlobalConfiguration.store.get(Qr.Flash,i.TreeItemCheckboxState.Checked),iconId:"zap",tooltip:i.l10n.t("Flash Device")},[Qr.Monitor]:{checkboxState:t.GlobalConfiguration.store.get(Qr.Monitor,i.TreeItemCheckboxState.Checked),iconId:"device-desktop",tooltip:i.l10n.t("Monitor Device")},[Qr.BuildFlashMonitor]:{checkboxState:t.GlobalConfiguration.store.get(Qr.BuildFlashMonitor,i.TreeItemCheckboxState.Checked),iconId:"flame",tooltip:i.l10n.t("Build, Flash and Monitor")},[Qr.OpenOCD]:{checkboxState:t.GlobalConfiguration.store.get(Qr.OpenOCD,i.TreeItemCheckboxState.Checked),iconId:"server-environment",tooltip:i.l10n.t("OpenOCD Server")},[Qr.OpenOcdAdapterStatusBar]:{checkboxState:t.GlobalConfiguration.store.get(Qr.OpenOcdAdapterStatusBar,i.TreeItemCheckboxState.Unchecked),iconId:"link",tooltip:i.l10n.t("OpenOCD Adaptor (serial & location)")},[Qr.Debug]:{checkboxState:t.GlobalConfiguration.store.get(Qr.Debug,i.TreeItemCheckboxState.Checked),iconId:"debug-alt",tooltip:i.l10n.t("Launch Debug")},[Qr.IDFTerminal]:{checkboxState:t.GlobalConfiguration.store.get(Qr.IDFTerminal,i.TreeItemCheckboxState.Checked),iconId:"terminal",tooltip:i.l10n.t("Open ESP-IDF Terminal")},[Qr.CustomTask]:{checkboxState:t.GlobalConfiguration.store.get(Qr.CustomTask,i.TreeItemCheckboxState.Checked),iconId:"diff-renamed",tooltip:i.l10n.t("Execute Custom Task")},[Qr.QemuServer]:{checkboxState:t.GlobalConfiguration.store.get(Qr.QemuServer,i.TreeItemCheckboxState.Checked),iconId:"server-environment",tooltip:i.l10n.t("Start/Stop QEMU Server")}}}async function pi(e){const t="win32"===process.platform?process.env.USERPROFILE:process.env.HOME,n=Is("idf.espIdfPath",e),i=Is("idf.toolsPath",e)||process.env.IDF_TOOLS_PATH||r().join(t,".espressif");let s=n||process.env.IDF_PATH||r().join(t,"esp","esp-idf");await(0,o.pathExists)(s)||"win32"!==process.platform||(s=r().join(process.env.USERPROFILE,"Desktop","esp-idf"));const a=r().join(i,"esp_idf.json"),c=await(0,o.pathExists)(a);let l=Is("idf.gitPath",e)||"/usr/bin/git",u=[];if(c){const e=await async function(e){const t=await le(e);return t&&t.idfSelectedId&&t.idfInstalled&&t.idfInstalled[t.idfSelectedId]?t.idfInstalled[t.idfSelectedId]:{version:"",python:"",path:""}}(i);e&&e.path&&(s=e.path);const t=await async function(e,t){const n=await le(e);return-1!==Object.keys(n).indexOf(t)?n[t]:void 0}(i,"gitPath");if(await(0,o.pathExists)(t)&&(l=t),u=await yi(i),process.env.IDF_TOOLS_PATH&&i!==process.env.IDF_TOOLS_PATH){const e=await yi(process.env.IDF_TOOLS_PATH);u=[...u,...e]}}return{espIdfPath:s,toolsPath:i,gitPath:l,gitVersion:await ps(t,l),existingIdfSetups:u}}async function di(e,n,r,o,s,a,c,l=!0){const u=s||Is("idf.saveScope");let p;u===i.ConfigurationTarget.WorkspaceFolder&&(p=a),await Os("idf.espIdfPath",e,u,p),await Os("idf.toolsPath",n,u,p),await Os("idf.gitPath",r,i.ConfigurationTarget.Global),await Os("idf.pythonInstallPath",o,u,p);const d=await us(e);if(l&&await async function(e,n,r,i){const o={id:ce(e),idfPath:e,gitPath:i,toolsPath:n,sysPythonPath:r,version:await us(e),isValid:!1};return o.isValid=await fi(o),function(e){const n=t.GlobalConfiguration.store.getIdfSetupKeys();-1===n.indexOf(e.id)&&(n.push(e.id),t.GlobalConfiguration.store.updateIdfSetupKeys(n)),t.GlobalConfiguration.store.set(e.id,e)}(o),o}(e,n,o,r),c){const e=ui();c.text=`$(${e[Qr.SelectCurrentIdfVersion].iconId}) ESP-IDF v`+d}js.infoNotify("ESP-IDF has been configured")}async function hi(e,t,n,r){let i="";i=e.python?await Ar(e.python,e.idfPath,e.toolsPath):e.sysPythonPath,await di(e.idfPath,e.toolsPath,e.gitPath,i,t,n,r,!1)}async function fi(e,t=!0){try{if(!e.idfPath)return!1;if(!await(0,o.pathExists)(e.idfPath))return!1;const r=await te.createIdfToolsManager(e.idfPath),i=await r.exportPathsInString((0,n.join)(e.toolsPath,"tools"),["cmake","ninja"]);if((await r.getRequiredToolsInfo((0,n.join)(e.toolsPath,"tools"),i,["cmake","ninja"],t)).filter((e=>!e.doesToolExist&&-1===["cmake","ninja"].indexOf(e.name))).length)return!1;let s="";return e.python?s=e.python:(e.sysPythonPath||(e.sysPythonPath=await Ar("",e.idfPath,e.toolsPath)),s=await Rr(e.idfPath,e.toolsPath,e.sysPythonPath)),await li(s,e.idfPath,e.toolsPath)}catch(t){const n=t&&t.message?t.message:`Error checking Idf Setup ${e.idfPath}`;return js.error(n,t,"espIdfSetup checkIdfSetup"),!1}}async function mi(e=!0){const n=t.GlobalConfiguration.store.getIdfSetupKeys(),r=[];for(let i of n){let n=t.GlobalConfiguration.store.get(i,void 0);if(n&&n.idfPath)try{n.isValid=await fi(n,e),n.version=await us(n.idfPath),r.push(n)}catch(e){const r=e.message?e.message:"Error checkIdfSetup in getPreviousIdfSetups";js.error(r,e,"getPreviousIdfSetups"),t.GlobalConfiguration.store.clearIdfSetup(n.id)}}return r}async function gi(){const e=t.GlobalConfiguration.store.getIdfSetupKeys();for(let n of e)t.GlobalConfiguration.store.clear(n);t.GlobalConfiguration.store.clear(t.GlobalConfiguration.IDF_SETUPS)}async function yi(e){const t=await le(e);let n=[];if(t&&t.idfInstalled&&Object.keys(t.idfInstalled).length)for(let r of Object.keys(t.idfInstalled)){let i={id:r,idfPath:t.idfInstalled[r].path,gitPath:t.gitPath,version:t.idfInstalled[r].version,python:t.idfInstalled[r].python,toolsPath:e,isValid:!1};try{i.isValid=await fi(i,!1)}catch(e){const t=e.message?e.message:"Error checkIdfSetup in loadIdfSetupsFromEspIdfJson";js.error(t,e,"loadIdfSetupsFromEspIdfJson"),i.isValid=!1}n.push(i)}return n}async function vi(e,t=!0){const n=Is("idf.espIdfPath",e),r=Is("idf.toolsPath",e),i=Is("idf.gitPath",e),o=await Dr(e);let s="";o&&(s=await kr(e)),s||(s=Is("idf.pythonBinPath",e));const a={id:ce(n),idfPath:n,gitPath:i,toolsPath:r,sysPythonPath:o,python:s,version:await us(n),isValid:!1};return a.isValid=await fi(a,t),a}!function(e){e.Flash="espIdfWeb.flash",e.Monitor="espIdfWeb.monitor",e.FlashAndMonitor="espIdfWeb.flashAndMonitor"}(Jr||(Jr={})),function(e){e.pickWorkspace="espIdf.pickAWorkspaceFolder",e.SelectCurrentIdfVersion="espIdf.selectCurrentIdfVersion",e.SelectFlashType="espIdf.selectFlashMethodAndFlash",e.SelectSerialPort="espIdf.selectPort",e.SelectMonitorSerialPort="espIdf.selectMonitorPort",e.SelectProjectConfiguration="espIdf.projectConf",e.SetEspressifTarget="espIdf.setTarget",e.SDKConfig="espIdf.menuconfig.start",e.FullClean="espIdf.fullClean",e.Build="espIdf.buildDevice",e.Flash="espIdf.flashDevice",e.Monitor="espIdf.monitorDevice",e.Debug="espIdf.debug",e.BuildFlashMonitor="espIdf.buildFlashMonitor",e.IDFTerminal="espIdf.createIdfTerminal",e.CustomTask="espIdf.customTask",e.QemuServer="espIdf.qemuCommand",e.OpenOCD="espIdf.openOCDCommand",e.OpenOcdAdapterStatusBar="espIdf.openOcdAdapterStatusBar"}(Qr||(Qr={})),function(e){e.Setup="espIdf.setup.start",e.NewProject="espIdf.newProject.start",e.Size="espIdf.size",e.EraseFlash="espIdf.eraseFlash",e.DoctorCommand="espIdf.doctorCommand",e.GetADF="espIdf.getEspAdf",e.GetMDF="espIdf.getEspMdf",e.GetEspMatter="espIdf.getEspMatter",e.GetRainmaker="espIdf.getEspRainmaker",e.ProjectConfEditor="espIdf.projectConfigurationEditor",e.InstallIdfPythonReqs="espIdf.installPyReqs",e.InstallMatterPythonReqs="espIdf.installEspMatterPyReqs",e.CreateVscodeFolder="espIdf.createVsCodeFolder",e.CreateDevContainerFolder="espIdf.createDevContainer",e.CreateIdfComponent="espIdf.createNewComponent",e.JtagFlash="espIdf.jtag_flash",e.UartFlash="espIdf.flashUart",e.DfuFlash="espIdf.flashDFU",e.WebsocketMonitor="espIdf.launchWSServerAndMonitor",e.ClassicMenuconfig="espIdf.createClassicMenuconfig"}(Xr||(Xr={}));const bi="openocd.usbAdapterSerial",wi=/Info\s*:\s*esp_usb_jtag:\s*serial\s*\(([0-9A-Fa-f]{2}(?::[0-9A-Fa-f]{2}){5})\)/;function _i(e){const t=("string"==typeof e?e:e.toString()).match(wi);if(t&&t[1])return t[1]}function Ei(e,n){try{t.ProjectConfiguration.store&&(t.ProjectConfiguration.store.set(bi,n),js.info(`Stored OpenOCD USB adapter serial number: ${n} for workspace ${e.fsPath}`))}catch(e){js.error("Failed to store OpenOCD USB adapter serial number",e,"storeAdapterSerial")}}function xi(e){try{if(t.ProjectConfiguration.store)return t.ProjectConfiguration.store.get(bi)}catch(e){js.error("Failed to retrieve OpenOCD USB adapter serial number",e,"getStoredAdapterSerial")}}function Si(e){try{t.ProjectConfiguration.store&&(t.ProjectConfiguration.store.clear(bi),js.info(`Cleared OpenOCD USB adapter serial number for workspace ${e.fsPath}`))}catch(e){js.error("Failed to clear OpenOCD USB adapter serial number",e,"clearAdapterSerial")}}const Ti={};function Ci(e){const t=Ti.openOcdAdapter;if(!t)return;const n=xi(),r=Is("idf.customExtraVars",e),i=r&&r.OPENOCD_USB_ADAPTER_LOCATION?r.OPENOCD_USB_ADAPTER_LOCATION:void 0,o=n?`S:${n}`:"S:-",s=i?`L:${i}`:"L:-";t.text=`[Adapter] ${o} ${s}`}function Pi(e){for(let n of Object.keys(Ti))if(Ti[n].command===e.command.command&&(e.checkboxState===i.TreeItemCheckboxState.Checked?Ti[n].show():Ti[n].hide(),t.GlobalConfiguration.store.set(e.command.command,e.checkboxState),e.command.command===Qr.OpenOcdAdapterStatusBar)){const e=t.GlobalConfiguration.store.get(t.GlobalConfiguration.SELECTED_WORKSPACE_FOLDER);e&&Ci(e)}}async function Ii(e){const r=ui();if(!Is("idf.enableStatusBar"))return{};const s=Is("idf.port",e),a=Is("idf.monitorPort",e);let c=await so(e),l=Is("idf.flashType",e),u=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG),p=n.join(e.fsPath,t.ProjectConfiguration.PROJECT_CONFIGURATION_FILENAME),d=await(0,o.pathExists)(p),h=await vi(e,!1);if(Ti.workspace=Oi(`$(${r[Qr.pickWorkspace].iconId})`,r[Qr.pickWorkspace].tooltip,Qr.pickWorkspace,104,r[Qr.pickWorkspace].checkboxState),Ti.openOcdAdapter=Oi("[Adapter] S:- L:-",r[Qr.OpenOcdAdapterStatusBar].tooltip,Qr.OpenOcdAdapterStatusBar,105,r[Qr.OpenOcdAdapterStatusBar].checkboxState),Ci(e),Ti.currentIdfVersion=Oi(`$(${r[Qr.SelectCurrentIdfVersion].iconId}) ESP-IDF v${h.version}`,r[Qr.SelectCurrentIdfVersion].tooltip,Qr.SelectCurrentIdfVersion,103,r[Qr.SelectCurrentIdfVersion].checkboxState),i.env.uiKind!==i.UIKind.Web&&(Ti.flashType=Oi(`$(${r[Qr.SelectFlashType].iconId}) ${l}`,r[Qr.SelectFlashType].tooltip,Qr.SelectFlashType,102,r[Qr.SelectFlashType].checkboxState),Ti.port=Oi(`$(${r[Qr.SelectSerialPort].iconId}) ${s}`,r[Qr.SelectSerialPort].tooltip,Qr.SelectSerialPort,101,r[Qr.SelectSerialPort].checkboxState),Ti.monitorPort=Oi(`$(${r[Qr.SelectMonitorSerialPort].iconId}) ${a}`,r[Qr.SelectMonitorSerialPort].tooltip,Qr.SelectMonitorSerialPort,100,r[Qr.SelectMonitorSerialPort].checkboxState),a||(Ti.monitorPort.text="",Ti.monitorPort.hide())),d)if(u)Ti.projectConf=Oi(`$(${r[Qr.SelectProjectConfiguration].iconId}) ${u}`,r[Qr.SelectProjectConfiguration].tooltip,Qr.SelectProjectConfiguration,99,r[Qr.SelectProjectConfiguration].checkboxState);else{let e="No Configuration Selected",t="No project configuration selected. Click to select one";Ti.projectConf=Oi(`$(${r[Qr.SelectProjectConfiguration].iconId}) ${e}`,t,Qr.SelectProjectConfiguration,99,r[Qr.SelectProjectConfiguration].checkboxState)}else Ti.projectConf&&(Ti.projectConf.dispose(),Ti.projectConf=void 0);return Ti.target=Oi(`$(${r[Qr.SetEspressifTarget].iconId}) ${c}`,r[Qr.SetEspressifTarget].tooltip,Qr.SetEspressifTarget,98,r[Qr.SetEspressifTarget].checkboxState),Ti.menuconfig=Oi(`$(${r[Qr.SDKConfig].iconId})`,r[Qr.SDKConfig].tooltip,Qr.SDKConfig,97,r[Qr.SDKConfig].checkboxState),Ti.clean=Oi(`$(${r[Qr.FullClean].iconId})`,r[Qr.FullClean].tooltip,Qr.FullClean,96,r[Qr.FullClean].checkboxState),Ti.build=Oi(`$(${r[Qr.Build].iconId})`,r[Qr.Build].tooltip,Qr.Build,95,r[Qr.Build].checkboxState),i.env.uiKind!==i.UIKind.Web&&(Ti.flash=Oi(`$(${r[Qr.Flash].iconId})`,r[Qr.Flash].tooltip,Qr.Flash,94,r[Qr.Flash].checkboxState),Ti.monitor=Oi(`$(${r[Qr.Monitor].iconId})`,r[Qr.Monitor].tooltip,Qr.Monitor,93,r[Qr.Monitor].checkboxState),Ti.debug=Oi(`$(${r[Qr.Debug].iconId})`,r[Qr.Debug].tooltip,Qr.Debug,92,r[Qr.Debug].checkboxState),Ti.buildFlashMonitor=Oi(`$(${r[Qr.BuildFlashMonitor].iconId})`,r[Qr.BuildFlashMonitor].tooltip,Qr.BuildFlashMonitor,91,r[Qr.BuildFlashMonitor].checkboxState)),Ti.terminal=Oi(`$(${r[Qr.IDFTerminal].iconId})`,r[Qr.IDFTerminal].tooltip,Qr.IDFTerminal,90,r[Qr.IDFTerminal].checkboxState),Ti["espIdf.customTask"]=Oi(`$(${r[Qr.CustomTask].iconId})`,r[Qr.CustomTask].tooltip,Qr.CustomTask,89,r[Qr.CustomTask].checkboxState),Ti.hints=Oi(i.l10n.t("💡 New ESP-IDF Hints!"),i.l10n.t("ESP-IDF: Hints available. Click to view."),"espIdf.errorHints.focus",1e3,i.TreeItemCheckboxState.Unchecked),Ti.hints.hide(),Ti}function Oi(e,t,n,r,o){const s=i.StatusBarAlignment.Left,a=i.window.createStatusBarItem(n,s,r);return a.name=t,a.text=e,a.tooltip=t,a.command=n,o===i.TreeItemCheckboxState.Checked&&a.show(),a}function ki(e){Ti.hints&&(e?(Ti.hints.text=i.l10n.t("💡 New ESP-IDF Hints!"),Ti.hints.tooltip=i.l10n.t("ESP-IDF: Hints available. Click to view."),Ti.hints.backgroundColor=new i.ThemeColor("statusBarItem.warningBackground"),Ti.hints.show()):(Ti.hints.hide(),Ti.hints.color=void 0))}class Di extends oe.EventEmitter{static init(){return Di.instance||(Di.instance=new Di),Di.instance}constructor(){super(),this.encounteredErrors=!1,this.configureServerWithDefaultParam()}async version(e=!1){const t=await ms(this.workspace),n=await ys("openocd",t,["openocd-esp32"]);if(!n)return"";const r=(await jo(n,["--version"],{cwd:this.workspace.fsPath,env:t,silent:e})).toString().match(/v\d+\.\d+\.\d+\-\S*/gi);return r?r[0].replace("-dirty",""):"failed+to+match+version"}statusBarItem(){return this.statusBar}updateStatusText(e){this.statusBar.text=e,this.statusBar.show()}async commandHandler(){const e=[];Di.instance.isRunning()?e.push({label:"Stop OpenOCD",description:"Running"}):e.push({label:"Start OpenOCD",description:""});const t=await i.window.showQuickPick(e);if(!t)return!1;try{switch(t.label){case"Start OpenOCD":await Di.instance.start();break;case"Stop OpenOCD":Di.instance.stop()}}catch(e){const t=e.message?e.message:JSON.stringify(e);js.error(t,e,"OpenOCDManager commandHandler"),Q.appendLine(t,"OpenOCD")}return!0}configureServer(e){e.workspace&&(this.workspace=e.workspace)}isRunning(){return this.server&&!this.server.killed}async promptUserToLaunchOpenOCDServer(){const e=Is("openocd.tcl.host",this.workspace),t=Is("openocd.tcl.port",this.workspace),n=new ae({host:e,port:t});if(!await n.isOpenOCDServerRunning()){const e=await i.window.showInformationMessage("OpenOCD is not running, do you want to launch it?",{modal:!0},{title:"Yes"},{title:"Cancel",isCloseAffordance:!0});return!(!e||"Yes"!==e.title)&&(await Di.init().start(),await n.isOpenOCDServerRunning())}return!0}async start(){if(this.isRunning())return;const e=await ms(this.workspace),n=await ys("openocd",e,["openocd-esp32"]);if(!n)throw new Error("Invalid OpenOCD bin path or access is denied for the user");if(void 0===e.OPENOCD_SCRIPTS)throw new Error("OPENOCD_SCRIPTS environment variable is missing. Please set it in idf.customExtraVars or in your system environment variables.");const r=[],i=Is("idf.openOcdLaunchArgs",this.workspace),o=xi(this.workspace),s=!o;if(i&&i.length>0)r.push(...i),s&&!r.some((e=>"string"==typeof e&&e.match(/^-d-?\d+$/)))&&r.unshift("-d2");else{const e=Is("idf.openOcdConfigs",this.workspace);if(void 0===e||e.length<1)throw new Error("Invalid OpenOCD Config files. Check idf.openOcdConfigs configuration value.");const t=Is("idf.openOcdDebugLevel",this.workspace),n="number"==typeof t?t:parseInt(String(t),10),i=Number.isFinite(n),a=s?Math.max(i?n:0,2):i?n:0;r.push(`-d${a}`),o&&r.push("-c",`adapter serial ${o}`),e.forEach((e=>{r.some((t=>t.includes(e)))||(r.push("-f"),r.push(e))}))}this.server=(0,a.spawn)(n,r,{cwd:this.workspace.fsPath,env:e}),this.server.stderr.on("data",(e=>{this.encounteredErrors=!0,e="string"==typeof e?Buffer.from(e):e,this.sendToOutputChannel(e);const t=_i(e);t&&this.workspace&&(Ei(this.workspace,t),Ci(this.workspace));const n=e.toString(),r=n.match(/Error:.*/i);if(r){const e=`OpenOCD server failed to start because of ${r.join(" ")}`,t=new Error(e);js.error(e+`\n❌ ${n}`,t,"OpenOCDManager stderr"),Q.appendLine(`❌ ${n}`,"OpenOCD"),this.emit("error",t,this.chan)}else this.emit("data",this.chan);Q.appendLine(n,"OpenOCD"),js.info(n)})),this.server.stdout.on("data",(e=>{e="string"==typeof e?Buffer.from(e):e,this.sendToOutputChannel(e);const t=_i(e);t&&this.workspace&&(Ei(this.workspace,t),Ci(this.workspace)),this.emit("data",this.chan)})),this.server.on("error",(e=>{this.emit("error",e,this.chan),this.stop()})),this.server.on("close",((e,n)=>{this.encounteredErrors&&Q.appendLine(`For assistance with OpenOCD errors, please refer to our Troubleshooting FAQ: ${t.URL.OpenOcdTroubleshootingFaq}`,"OpenOCD"),this.encounteredErrors=!1,!n&&e&&0!==e&&(js.error(`OpenOCD Exit with non-zero error code ${e}`,new Error("Spawn exit with non-zero"+e),"OpenOCDManager close"),Q.appendLine(`OpenOCD Exit with non-zero error code ${e}`,"OpenOCD")),this.stop()})),this.updateStatusText("❇️ OpenOCD Server (Running)"),Q.show()}stop(){if(this.server&&!this.server.killed){this.server.kill("SIGKILL"),this.server=void 0,this.updateStatusText("❌ OpenOCD Server (Stopped)");const e="[Stopped] : OpenOCD Server";Q.appendLine(e,"OpenOCD"),js.info(e)}}showOutputChannel(e){e&&Q.show()}registerOpenOCDStatusBarItem(){this.statusBar=i.window.createStatusBarItem(Qr.OpenOCD,i.StatusBarAlignment.Left,1),this.statusBar.name=this.statusBar.text="OpenOCD Server";const e=ui();this.statusBar.tooltip=e[Qr.OpenOCD].tooltip,this.statusBar.command=Qr.OpenOCD,e[Qr.OpenOCD].checkboxState===i.TreeItemCheckboxState.Checked&&this.statusBar.show(),Ti.openOCD=this.statusBar}configureServerWithDefaultParam(){Mo.isWorkspaceFolderOpen()&&(this.workspace=i.workspace.workspaceFolders[0].uri),this.chan=Buffer.alloc(0),Q.init(),i.env.uiKind!==i.UIKind.Web&&this.registerOpenOCDStatusBarItem()}sendToOutputChannel(e){this.chan=Buffer.concat([this.chan,e])}}async function Ai(e,t){const r=t||Is("idf.espIdfPath",e),i=[];try{const o=(0,n.join)(r,"tools","idf_py_actions","constants.py");if(!(0,l.existsSync)(o))throw new Error(`File not found: ${o}`);const s=(0,l.readFileSync)(o,"utf-8");function a(e){const t=new RegExp(`${e}\\s*=\\s*\\[([^\\]]*)\\]`,"m"),n=s.match(t);return n?n[1].split(",").map((e=>e.replace(/['"\s]/g,""))).filter(Boolean):[]}const c=a("SUPPORTED_TARGETS"),u=a("PREVIEW_TARGETS");for(const p of c)i.push({label:p,target:p,isPreview:!1});for(const d of u)i.push({label:d,target:d,description:"Preview",isPreview:!0})}catch(h){return js.errorNotify(`Error while getting targets from ESP-IDF: ${h}`,h,"getTargetsFromEspIdf"),i}return i}const Ri=/(\n\n-)[\s\S]*(\n)/g,Ni=/(\n\n-)[\s\S]*?(\n\n)/g,Li=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g,Fi=/``(.*?)``/g,Mi="\n\n-",ji=/\n-/g,Bi=/\n\n/g;function Ui(e){let t=function(e){if(e){let t=e;if(e.match(Ni)&&Ni.test(e)&&Ni.lastIndex!==e.length&&e.lastIndexOf("\n-")<Ni.lastIndex)return e.match(Ni).forEach((e=>{const n=`${e.replace(Mi,"<ul><li>").replace(ji,"</li><li>")}</li></ul>`;t=t.replace(e,n)})),t}return e}(e);var n;return t=function(e){return e&&e.indexOf(Mi)>0&&(null===e.match(Ri)||Ri.test(e)&&Ri.lastIndex===e.length)?`${e.replace(Mi,"<ul><li>").replace(ji,"</li><li>")}</li></ul>`:e}(t),t=function(e){if(e&&null!==e.match(Fi)){let t=e;return e.match(Fi).forEach((e=>{const n=`<span>${e.substr(2,e.length-4)}</span>`;t=t.replace(e,n)})),t}return e}(t),t=function(e){if(e&&null!==e.match(Li)){let t=e;return e.match(Li).forEach((e=>{const n=`<a href="${e}">${e}</a>`;t=t.replace(e,n)})),t}return e}(t),t=(n=t)?n.replace(Bi,"<br><br>"):n,t}var qi;!function(e){e.string="string",e.bool="bool",e.int="int",e.choice="choice",e.hex="hex",e.menu="menu"}(qi||(qi={}));class $i{static updateValues(e,t){const n=e;t.values.hasOwnProperty(n.name)&&n.type!==qi.choice&&(n.value=n.type===qi.hex?t.values[n.name].toString(16):t.values[n.name]),t.defaults&&t.defaults.hasOwnProperty(n.name)&&(n.default=n.type===qi.hex?t.defaults[n.name].toString(16):t.defaults[n.name]),t.visible.hasOwnProperty(n.id)&&(n.isVisible=t.visible[n.id]),t.ranges.hasOwnProperty(n.name)&&(n.range=t.ranges[n.name]);for(let e=0;e<n.children.length;e++)n.children[e]=this.updateValues(n.children[e],t),n.type===qi.choice&&(t.values[n.children[e].name]?n.value=n.children[e].name:n.children[e].value=!1);return n}constructor(e){this.workspaceFolder=e}initMenuconfigServer(){const e=Is("idf.buildPath",this.workspaceFolder),t=n.join(e,"config","kconfig_menus.json"),r=JSON.parse(Zo(t)),i=[];for(const e of r){const t=this.mapJsonToMenuObject(e);i.push(t)}return i}mapJsonToMenuObject(e){const t={id:e.id,name:e.name,help:Ui(e.help),range:e.range,title:e.title,type:e.type,isCollapsed:!1,isMenuconfig:e.is_menuconfig,isVisible:!1,dependsOn:e.depends_on,children:[],value:null,default:null};for(const n of e.children){const e=this.mapJsonToMenuObject(n);t.children.push(e)}return t}}class Vi{static createOrShow(e,t,n){const r=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:void 0;Vi.currentPanel?Vi.currentPanel.panel.reveal(r):Vi.currentPanel=new Vi(e,r||i.ViewColumn.One,t,n)}constructor(e,t,r,o){this.disposables=[],this.curWorkspaceFolder=r;const s=i.l10n.t("SDK Configuration editor");this.panel=i.window.createWebviewPanel(Vi.viewType,s,t,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[i.Uri.file(n.join(e,"dist","views")),i.Uri.file(n.join(e,"node_modules","@vscode/codicons","dist"))]});const a=this.panel.webview.asWebviewUri(i.Uri.file(n.join(e,"dist","views","menuconfig-bundle.js")));this.panel.iconPath=bs(e),this.panel.webview.html=this.createMenuconfigHtml(a),Hi.registerListener(this.updateConfigValues);const c={save:i.l10n.t("Save"),discard:i.l10n.t("Discard"),reset:i.l10n.t("Reset")};this.panel.webview.postMessage({command:"load_dictionary",text_dictionary:c}),this.panel.onDidDispose((()=>{if(!Hi.areValuesSaved()){const e=i.l10n.t("Changes in SDK Configuration editor have not been saved. Would you like to save them?"),t=i.l10n.t("Save"),n=i.l10n.t("Discard"),r=i.l10n.t("Return to SDK Configuration editor"),o="win32"!==process.platform;i.window.showInformationMessage(e,{modal:o},{title:t,isCloseAffordance:!1},{title:r,isCloseAffordance:!1},{title:n,isCloseAffordance:!0}).then((e=>{if(e.title===t)Hi.saveGuiConfigValues();else{if(e.title===r)return this.dispose(),void i.commands.executeCommand("espIdf.menuconfig.start");Hi.loadGuiConfigValues(!0)}}))}this.dispose()}),null,this.disposables),this.panel.webview.onDidReceiveMessage((async t=>{switch(t.command){case"updateValue":Hi.setUpdatedValue(JSON.parse(t.updated_value));break;case"resetElement":Hi.resetElementById(t.id);break;case"resetElementChildren":Hi.resetElementChildren(t.children);break;case"setDefault":if(Hi.confserverVersion>=3)Hi.resetElementById("all");else{const t=i.l10n.t("This action will delete your project sdkconfig. Continue?"),n=i.l10n.t("Save"),r=i.l10n.t("Discard"),o="win32"!==process.platform;if((await i.window.showInformationMessage(t,{modal:o},{title:n,isCloseAffordance:!1},{title:r,isCloseAffordance:!0})).title===n){const t=Is("idf.notificationMode",this.curWorkspaceFolder),n=t===Ss.All||t===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({cancellable:!0,location:n,title:"ESP-IDF: SDK Configuration editor"},(async t=>{try{await Hi.setDefaultValues(e,t)}catch(e){js.errorNotify(e.message,e,"MenuConfigPanel setDefaultValues")}}))}}break;case"saveChanges":Hi.saveGuiConfigValues();const n=i.l10n.t("Saved changes in SDK Configuration editor");js.infoNotify(n);break;case"discardChanges":Hi.loadGuiConfigValues();const r=i.l10n.t("Discarded changes in SDK Configuration editor");js.infoNotify(r);break;case"requestInitValues":Vi.currentPanel.panel.webview.postMessage({command:"load_initial_values",menus:o,version:Hi.confserverVersion});break;default:const s=new Error("Menuconfig: Unrecognized command received, file: src/espIdf/menuconfig/MenuconfigPanel.ts");js.error(s.message,s,"MenuconfigPanel Unrecognized command")}}))}dispose(){Vi.currentPanel=void 0,this.panel.dispose()}updateConfigValues(e){const t=JSON.parse(e);if(Object.keys(t.values).length<=0)return;if(t.error){const e=new Error(`Invalid data error: ${t.error}`);return void js.error(e.message,e,"MenuconfigPanel updateConfigValues")}const n=Hi.updateValues(e);Vi.currentPanel.panel.webview.postMessage({command:"update_values",updated_values:n})}createMenuconfigHtml(e){return`<!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <title>SDK Configuration Editor</title>\n            </head>\n            <body>\n              <div id="menuconfig"></div>\n            </body>\n            <script src="${e}"><\/script>\n        </html>`}}Vi.viewType="menuconfig";class Hi{static async initWithProgress(e,t){if(!this.exists()){const n=Is("idf.notificationMode",e),r=n===Ss.All||n===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:r,title:"ESP-IDF: Starting SDK Configuration process"},(async(n,r)=>{Hi.registerProgress(n),r.onCancellationRequested((()=>{Hi.dispose()})),await Hi.init(e,t)}))}}static async init(e,t){return new Promise((async n=>{const r=await kr(e),i=await ms(e);if(!Hi.instance){const n=await Yo(e);Hi.instance=new Hi(e,t,r,n,i)}Hi.instance.emitter.once("valuesLoaded",n)}))}static exists(){return Hi.instance&&Hi.instance.kconfigsMenus&&Hi.instance.kconfigsMenus.length>0}static isSavedByUI(){return Hi.instance.isSavingSdkconfig}static resetSavedByUI(){Hi.instance&&(Hi.instance.isSavingSdkconfig=!1)}static loadExistingInstance(){Hi.checkInitialized(),Vi.createOrShow(Hi.instance.extensionPath,Hi.instance.workspaceFolder,Hi.instance.kconfigsMenus)}static registerListener(e){Hi.checkInitialized(),Hi.instance.jsonListener=e}static registerProgress(e){Hi.progress=e}static updateValues(e){Hi.checkInitialized();const t=JSON.parse(e),n=[];for(const e of Hi.instance.kconfigsMenus){const r=$i.updateValues(e,t);n.push(r)}return Hi.instance.kconfigsMenus=[],Hi.instance.kconfigsMenus=n,Hi.instance.kconfigsMenus}static resetElementById(e){let t=`{"version": 3, "reset": [ "${e}" ]}\n`;Hi.sendUpdatedValue(t)}static resetElementChildren(e){let t=`{"version": 3, "reset": [ "${e.join('", "')}" ]}\n`;Hi.sendUpdatedValue(t)}static setUpdatedValue(e){let t;switch(e.type){case qi.choice:t=`{"version": 2, "set": { "${e.value}": true }}\n`;break;case qi.string:t=`{"version": 2, "set": { "${e.id}": "${e.value}" }}\n`;break;case qi.hex:t=`{"version": 2, "set": { "${e.id}": "${e.value||"0"}" }}\n`;break;case qi.int:""===e.value&&(e.value=e.range&&e.range.length>0?e.range[0]:0),t=`{"version": 2, "set": { "${e.id}": ${e.value} }}\n`;break;default:t=`{"version": 2, "set": { "${e.id}": ${e.value} }}\n`}Hi.sendUpdatedValue(t)}static sendUpdatedValue(e){Q.appendLine(e,"SDK Configuration Editor"),Hi.instance.confServerProcess.stdin.write(e),Hi.instance.areValuesSaved=!1}static saveGuiConfigValues(){Hi.instance.isSavingSdkconfig=!0;const e=JSON.stringify({version:2,save:Hi.instance.configFile});Q.appendLine(e,"SDK Configuration Editor"),Hi.instance.confServerProcess.stdin.write(e),Hi.instance.confServerProcess.stdin.write("\n"),Hi.instance.areValuesSaved=!0}static loadGuiConfigValues(e){const t=JSON.stringify({version:2,load:Hi.instance.configFile});Q.appendLine(t,"SDK Configuration Editor"),Hi.instance.confServerProcess.stdin.write(t),Hi.instance.confServerProcess.stdin.write("\n"),e&&(Hi.instance.areValuesSaved=!0)}static async setDefaultValues(e,t){t.report({increment:10,message:"Deleting current values..."}),Hi.instance.areValuesSaved=!0;const r=Hi.instance.workspaceFolder,i=Is("idf.espIdfPath",r)||process.env.IDF_PATH,o=n.join(i,"tools","idf.py"),s=await ms(r),c=await kr(r),u=[o];Is("idf.enableCCache",r)&&u.push("--ccache"),u.push("-C",r.fsPath);const p=Is("idf.sdkconfigDefaults")||[];-1===u.indexOf("SDKCONFIG")&&u.push(`-DSDKCONFIG='${Hi.instance.configFile}'`),-1===u.indexOf("SDKCONFIG_DEFAULTS")&&p&&p.length&&u.push(`-DSDKCONFIG_DEFAULTS='${p.join(";")}'`),u.push("reconfigure"),await async function(e){const t=await Yo(e);l.unlinkSync(t)}(r);const d=(0,a.spawn)(c,u,{env:s});return t.report({increment:10,message:"Loading default values..."}),new Promise(((n,i)=>{d.stderr.on("data",(e=>{is(e.toString())&&(Q.appendLine(e.toString(),"SDK Configuration Editor"),js.info(e.toString()),i())})),d.stdout.on("data",(e=>{Q.appendLine(e.toString(),"SDK Configuration Editor"),js.info(e.toString())})),d.on("exit",((i,o)=>{if(0!==i){const e=`When loading default values received exit signal: ${o}, code : ${i}`;Q.appendLine(e,"SDK Configuration Editor"),js.error(e,new Error(e),"ConfserverProcess setDefaultValues")}Hi.init(r,e),t.report({increment:70,message:"The end"}),js.info("Loaded default settings in GUI menuconfig"),n()}))}))}static areValuesSaved(){return!Hi.instance||Hi.instance.areValuesSaved}static dispose(){Hi.instance&&(Hi.instance.confServerProcess.stdin.end(),Hi.instance.confServerProcess=null,Hi.instance=null),Vi.currentPanel&&Vi.currentPanel.dispose()}static checkInitialized(){if(!Hi.instance)throw new Error("Confserver is not initialized")}constructor(e,t,r,i,o){this.areValuesSaved=!0,this.isSavingSdkconfig=!1,this.receivedDataBuffer="",this.workspaceFolder=e,this.extensionPath=t,this.emitter=new oe.EventEmitter,this.espIdfPath=Is("idf.espIdfPath",e).toString()||process.env.IDF_PATH,o.PYTHONUNBUFFERED="0",this.configFile=i;const s=[n.join(this.espIdfPath,"tools","idf.py")];Is("idf.enableCCache",e)&&s.push("--ccache");const c=Is("idf.buildPath",e);s.push("-B",c);const l=Is("idf.sdkconfigDefaults")||[];-1===s.indexOf("SDKCONFIG")&&s.push(`-DSDKCONFIG='${this.configFile}'`),-1===s.indexOf("SDKCONFIG_DEFAULTS")&&l&&l.length&&s.push(`-DSDKCONFIG_DEFAULTS='${l.join(";")}'`),s.push("-C",e.fsPath,"confserver"),this.confServerProcess=(0,a.spawn)(r,s,{env:o}),Hi.progress&&Hi.progress.report({increment:30,message:"Configuring server"}),this.setupConfigServer(),this.jsonListener=this.initMenuConfigPanel}checkIfJsonIsReceived(){const e=this.receivedDataBuffer.match(/(\{[.\s\S]*?\}\})/g);if(null!==e&&e.length>0){const t=e.length-1;this.jsonListener?(Hi.instance.emitter.emit("valuesLoaded"),this.jsonListener(e[t])):this.printError("Confserver listener doesn't exist. Error with MenuconfigPanel?"),this.receivedDataBuffer=""}}initMenuConfigPanel(e){const t=new $i(this.workspaceFolder).initMenuconfigServer();this.kconfigsMenus=[];const n=JSON.parse(e);for(const e of t){const t=$i.updateValues(e,n);this.kconfigsMenus.push(t)}n&&n.version&&(Hi.confserverVersion=n.version),Vi.createOrShow(this.extensionPath,this.workspaceFolder,this.kconfigsMenus)}setupConfigServer(){this.confServerProcess.stdout.on("data",(e=>{this.receivedDataBuffer+=e,Hi.progress&&Hi.progress.report({increment:3,message:"Loading initial values..."}),js.info(e.toString()),Q.appendLine(e.toString(),"SDK Configuration Editor"),this.checkIfJsonIsReceived()})),this.confServerProcess.stderr.on("data",(e=>{const t=e.toString(),n=["Server running, waiting for requests on stdin..","Saving config to","Loading config from","The following config symbol(s) were not visible so were not updated","WARNING:"];is(t)&&(new RegExp(n.join("|")).test(t)?(js.info(t),Q.appendLine(t,"SDK Configuration Editor")):this.printError(t))})),this.confServerProcess.on("error",(e=>{null===e.stack?this.printError(e.message):this.printError(e.stack)})),this.confServerProcess.on("exit",((e,t)=>{0!==e&&this.printError(`SDK Configuration editor confserver process exited with code: ${e}`),Hi.dispose()}))}printError(e){Q.show(),Q.appendLine("---------------------------ERROR--------------------------","SDK Configuration Editor"),Q.appendLine("\n"+e),Q.appendLine("-----------------------END OF ERROR-----------------------"),js.error(e.toString(),new Error(e.toString()),"ConfserverProcess printError")}}async function Gi(e,t){try{Hi.exists()&&Hi.dispose();const r=Is("idf.espIdfPath",e.uri),o=Is("idf.buildPath",e.uri),s=(0,n.join)(r,"tools","idf.py"),a=await ms(e.uri);a.IDF_TARGET=void 0;const c=Is("idf.enableCCache",e.uri),l=[s];t.isPreview&&l.push("--preview"),l.push("-B",o),a.IDF_CCACHE_ENABLE=c?"1":void 0,a.SDKCONFIG&&l.push(`-DSDKCONFIG='${a.SDKCONFIG}'`);const u=Is("idf.sdkconfigDefaults")||[];u&&u.length&&l.push(`-DSDKCONFIG_DEFAULTS='${u.join(";")}'`),l.push("set-target",t.target);const p=await kr(e.uri);Q.appendLine("Running IDF Set Target action","Set Target");const d=await jo(p,l,{cwd:e.uri.fsPath,env:a,silent:!1});js.info(d.toString());const h=i.l10n.t("Target {0} Set Successfully.",t.target.toLocaleUpperCase());return Q.appendLineAndShow(h,"Set Target"),js.infoNotify(h),Vo(e.uri),d.toString()}catch(e){throw new Error(`Failed to set target ${t.target}: ${e.message}.`)}}Hi.confserverVersion=2;class zi{static init(e){return this.self?this.self:new zi(e)}constructor(e){this.ctx=e}get(e,t){return this.ctx.workspaceState.get(e,t)}set(e,t){this.ctx.workspaceState.update(e,t)}clear(e){return this.set(e,void 0)}}async function Wi(e,n){const r=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG);if(!r)return;const i=await Qi(n,!1);if(i[r])i[r].idfTarget=e,t.ProjectConfiguration.store.set(r,i[r]),await Ki(n,i);else{const e=new Error(`Configuration "${r}" not found in ${t.ProjectConfiguration.PROJECT_CONFIGURATION_FILENAME}.`);js.errorNotify(e.message,e,"updateCurrentProfileIdfTarget project-conf")}}async function Ki(e,n){const r=i.Uri.joinPath(e,t.ProjectConfiguration.PROJECT_CONFIGURATION_FILENAME);await(0,o.writeJson)(r.fsPath,n,{spaces:2})}function Yi(e,t,n){if(null==e)return;let r=e;return r=r.replace(/\$\{(.*?)\}/g,((e,r)=>{if(e.indexOf("config:")>0){const t=r.substring(r.indexOf("config:")+7),i=t.indexOf(",");let o=t,s="";i>-1&&(o=t.substring(0,i),s=t.substring(i+1).trim());const a=function(e,t){switch(e){case"idf.cmakeCompilerArgs":return t.build&&t.build.compileArgs&&t.build.compileArgs.length?t.build.compileArgs:"";case"idf.ninjaArgs":return t.build&&t.build.ninjaArgs&&t.build.ninjaArgs.length?t.build.ninjaArgs:"";case"idf.buildPath":return t.build&&t.build.buildDirectoryPath?t.build.buildDirectoryPath:"";case"idf.sdkconfigDefaults":return t.build&&t.build.sdkconfigDefaults&&t.build.sdkconfigDefaults.length?t.build.sdkconfigDefaults:"";case"idf.flashBaudRate":return t.flashBaudRate;case"idf.monitorBaudRate":return t.monitorBaudRate;case"idf.openOcdDebugLevel":return t.openOCD&&t.openOCD.debugLevel&&t.openOCD.debugLevel>-1?t.openOCD.debugLevel.toString():"";case"idf.openOcdConfigs":return t.openOCD&&t.openOCD.configs&&t.openOCD.configs.length?t.openOCD.configs:"";case"idf.openOcdLaunchArgs":return t.openOCD&&t.openOCD.args&&t.openOCD.args.length?t.openOCD.args:"";case"idf.preBuildTask":return t.tasks&&t.tasks.preBuild?t.tasks.preBuild:"";case"idf.postBuildTask":return t.tasks&&t.tasks.postBuild?t.tasks.postBuild:"";case"idf.preFlashTask":return t.tasks&&t.tasks.preFlash?t.tasks.preFlash:"";case"idf.postFlashTask":return t.tasks&&t.tasks.postFlash?t.tasks.postFlash:"";case"idf.sdkconfigFilePath":return t.build&&t.build.sdkconfigFilePath?t.build.sdkconfigFilePath:"";default:return""}}(o,n);return a?s&&Array.isArray(a)?a.map((e=>`${s}${e}`)).join(" "):s&&"string"==typeof a?`${s} ${a}`:a:e}if(e.indexOf("env:")>0){const t=r.substring(r.indexOf("env:")+4);return n.env&&n.env[t]?n.env[t]:process.env[t]?process.env[t]:e}return e.indexOf("workspaceRoot")>0||e.indexOf("workspaceFolder")>0?t.fsPath:e})),r=ks(r,t),r}function Ji(e,t,r,i=!1){if(null==r)return;const o=r=>{const o=Yi(r,e,t);if(o)return i?n.isAbsolute(o)?o:n.join(e.fsPath,o):o};if(Array.isArray(r)){const e=r.map(o).filter(Xi);return e.length>0?e:void 0}return"string"==typeof r?o(r):void js.warn("Expected string or array for path, received "+typeof r,new Error("Invalid path type"))}async function Qi(e,n=!1){const r=i.Uri.joinPath(e,t.ProjectConfiguration.PROJECT_CONFIGURATION_FILENAME);if(!await(0,o.pathExists)(r.fsPath))return{};let s;try{if(s=await(0,o.readJson)(r.fsPath),"object"!=typeof s||null===s)throw new Error("Configuration file content is not a valid JSON object.")}catch(e){return js.errorNotify(`Failed to read or parse ${t.ProjectConfiguration.PROJECT_CONFIGURATION_FILENAME}`,e,"getProjectConfigurationElements"),i.window.showErrorMessage(`Error reading or parsing project configuration file (${r.fsPath}): ${e.message}`),{}}const a={};return await Promise.all(Object.keys(s).map((async t=>{const r=s[t];if("object"!=typeof r||null===r)return void js.warn(`Configuration entry "${t}" is not a valid object. Skipping.`,new Error("Invalid config entry"));const i=r.build,o=r.openOCD,c=r.tasks,l=r.env,u=n?Ji(e,r,i?.buildDirectoryPath,n):i?.buildDirectoryPath,p=n?Ji(e,r,i?.sdkconfigDefaults,n):i?.sdkconfigDefaults,d=n?Ji(e,r,i?.sdkconfigFilePath,n):i?.sdkconfigFilePath,h=i?.compileArgs?.map((t=>n?Yi(t,e,r):t)).filter(Xi),f=i?.ninjaArgs?.map((t=>n?Yi(t,e,r):t)).filter(Xi);let m;if("object"==typeof l&&null!==l){m={};for(const t in l)if(Object.prototype.hasOwnProperty.call(l,t)){const i=l[t];m[t]="string"==typeof i?n?Yi(i,e,r)??"":i:String(i)}}const g=o?.configs,y=o?.args?.map((t=>n?Yi(t,e,r):t)).filter(Xi),v=n?Yi(c?.preBuild,e,r):c?.preBuild,b=n?Yi(c?.preFlash,e,r):c?.preFlash,w=n?Yi(c?.postBuild,e,r):c?.postBuild,_=n?Yi(c?.postFlash,e,r):c?.postFlash;a[t]={build:{compileArgs:h??[],ninjaArgs:f??[],buildDirectoryPath:u,sdkconfigDefaults:p??[],sdkconfigFilePath:d},env:m??{},idfTarget:r.idfTarget,flashBaudRate:r.flashBaudRate,monitorBaudRate:r.monitorBaudRate,openOCD:{debugLevel:o?.debugLevel,configs:g??[],args:y??[]},tasks:{preBuild:v,preFlash:b,postBuild:w,postFlash:_}}}))),a}function Xi(e){return void 0!==e}class Zi{constructor(e){this.workspaceRoot=e}async runDevkitsScript(e,t){try{if(!i.workspace.getWorkspaceFolder(this.workspaceRoot))throw new Error("No workspace folder found");const r=Is("idf.toolsPath",this.workspaceRoot);if(!r||!e)throw new Error("Could not get toolsPath or OpenOCD version");const o=(0,n.join)(r,"tools","openocd-esp32",e,"openocd-esp32","share","openocd","espressif","tools","esp_detect_config.py"),s=await ne(this.workspaceRoot);if(!s)throw new Error("Could not get OpenOCD scripts path");const a=(0,n.join)(s,"esp-config.json"),c=Is("idf.notificationMode",this.workspaceRoot),l=c===Ss.All||c===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window,u=await kr(this.workspaceRoot),p=await ms(this.workspaceRoot);delete p.OPENOCD_USB_ADAPTER_LOCATION;const d=!!t?.silent;return d||(Q.init(),Q.appendLine("Running ESP Detect Config...","ESP Detect Config"),Q.show()),d?await ts(u,[o,"--esp-config",a],this.workspaceRoot.fsPath,void 0,{env:p}):await i.window.withProgress({cancellable:!0,location:l,title:"ESP-IDF: Running ESP Detect Config"},(async(e,t)=>{try{const e=await ts(u,[o,"--esp-config",a],this.workspaceRoot.fsPath,Q.init(),{env:p},t);return Q.appendLine(e,"ESP Detect Config"),Q.show(),i.window.showInformationMessage("ESP Detect Config completed"),e}catch(e){const t=e.message?e.message:"Error running ESP Detect Config";throw js.errorNotify(t,e,"DevkitsCommand"),Q.appendLine(t,"ESP Detect Config"),Q.show(),e}}))}catch(e){const n=e.message?e.message:"Error running ESP Detect Config";if(t?.silent)throw js.error(n,e,"DevkitsCommand"),e;js.errorNotify(n,e,"DevkitsCommand"),Q.appendLine(n,"ESP Detect Config"),Q.show()}}async getScriptPath(e){try{const t=Is("idf.toolsPath",this.workspaceRoot);if(!t||!e)return null;const r=(0,n.join)(t,"tools","openocd-esp32",e,"openocd-esp32","share","openocd","espressif","tools","esp_detect_config.py");return l.existsSync(r)?r:null}catch(e){return null}}}let eo,to=!1;function no(e){to=e}function ro(e){const t=i.workspace.workspaceFolders[0].uri;io(t);const n={clickCommand:"espIdf.pickAWorkspaceFolder",currentWorkSpace:i.workspace.workspaceFolders[0].name,tooltip:i.workspace.workspaceFolders[0].uri.fsPath,text:"${file-directory}"};return e&&qo(e,n),t}function io(e){void 0===eo&&(eo=new Y(e),i.window.registerTreeDataProvider("idfComponents",eo)),eo.refresh(e)}function oo(e){const t=n.join(e,"project_description.json");return new Promise(((e,n)=>{try{if(!Xo(t))return n(new Error(`${t} doesn't exist.`));l.readFile(t,((r,i)=>{if(r)return js.error(r.message,r,"workspaceConfig getProjectName readFile"),n(r);const o=JSON.parse(i.toString());return Object.prototype.hasOwnProperty.call(o,"project_name")?e(o.project_name):n(new Error(`project_name field doesn't exist in ${t}.`))}))}catch(e){const t=e&&e.message?e.message:e;return js.error(t,e,"workspaceConfig getProjectName"),n(e)}}))}async function so(e,t){try{let n=(await Jo("CONFIG_IDF_TARGET",e)).replace(/\"/g,"");const r=Is("idf.customExtraVars",e).IDF_TARGET;return n&&r&&n!==r&&(to||J(i.l10n.t('IDF_TARGET mismatch: SDKConfig value is "{0}" but settings value is "{1}".',n,r),i.l10n.t("Set IDF_TARGET"),(()=>i.commands.executeCommand("espIdf.setTarget")))),n||(n=r),n||(n="esp32"),t&&(t.text="$(chip) "+n),n}catch(n){let r=Is("idf.customExtraVars",e).IDF_TARGET||"esp32";return t&&(t.text=`$(chip) ${r}`),r}}var ao=__webpack_require__(4728);class co{constructor(e){this.workspace=e,this.idfPath=Is("idf.espIdfPath",e)||process.env.IDF_PATH}async summary(){const e=await this.readSummary(),t={};for(const n in e){const r=e[n];if(!r.category){const e=new Error(i.l10n.t("IDF Version >= 4.3.x required to have eFuse view"));throw e.name="IDF_VERSION_MIN_REQUIREMENT_ERROR",e}t[r.category]||(t[r.category]=[]),t[r.category].push(r)}return t}async readSummary(){const e=(0,n.join)((0,W.tmpdir)(),"espefusejsondump.tmp"),t=await kr(this.workspace),r=await Ds(this.workspace,!1);if(!r)return js.warnNotify(i.l10n.t("No serial port found for current IDF_TARGET: {0}",await so(this.workspace)));await jo(t,[this.toolPath,"-p",r,"summary","--format","json","--file",e],{});const s=await(0,o.readJson)(e);return(0,o.unlink)(e,(e=>{e&&js.error("Failed to delete the tmp espefuse json file",e,"readSummary",{tag:"ESPeFuse"})})),s}get toolPath(){return(0,n.join)(this.idfPath,"components","esptool_py","esptool","espefuse.py")}}var lo,uo,po=__webpack_require__(8833),ho=__webpack_require__.n(po);async function fo(){if(t.URL.Docs.IDF_VERSION_OBJ)return t.URL.Docs.IDF_VERSION_OBJ;const e=await yo(t.URL.Docs.IDF_VERSIONS);try{const n=e.VERSIONS.map((e=>({name:e.name,supportedTargets:e.supported_targets})));return t.URL.Docs.IDF_VERSION_OBJ=n,n}catch(e){js.error(`Error parsing object from ${t.URL.Docs.IDF_VERSIONS}`,e,"getDocsVersion")}}function mo(e,n){let r=go();return`${t.URL.Docs.BASE_URL}/${r}/${e}${n?"/"+n:""}`}function go(){let e="en";try{e="zh-CN"===JSON.parse(process.env.VSCODE_NLS_CONFIG).locale?"zh_CN":"en"}catch(e){js.error("Error getting current vscode language",e,"getDocsVersion getDocsLocaleLang")}return e}async function yo(e){const t=new gr((0,W.tmpdir)());await t.downloadWithResume(e,(0,W.tmpdir)());const r=(0,n.join)((0,W.tmpdir)(),(0,n.basename)(e)),i=(await(0,o.readFile)(r,"utf-8")).match(/{[\s\S]+}/g);if(i&&i.length>0)return ho()(i[0])}async function vo(e){return"y"===await Jo("CONFIG_FLASH_ENCRYPTION_ENABLED",e)}function bo(e){return 32===e||9===e}function wo(e){return 10===e||13===e}function _o(e){return e>=48&&e<=57}!function(e){e[e.Success=0]="Success",e[e.ErrorInvalidFlashType=1]="ErrorInvalidFlashType",e[e.ErrorEfuseNotSet=2]="ErrorEfuseNotSet",e[e.ErrorEncryptionArgsRequired=3]="ErrorEncryptionArgsRequired",e[e.GenericError=4]="GenericError"}(lo||(lo={})),function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"}(uo||(uo={})),new Array(20).fill(0).map(((e,t)=>" ".repeat(t)));const Eo=200;var xo,So,To;function Co(e,t,n=xo.DEFAULT){const r=function(e,t=!1){const n=e.length;let r=0,i="",o=0,s=16,a=0,c=0,l=0,u=0,p=0;function d(t,n){let i=0,o=0;for(;i<t||!n;){let t=e.charCodeAt(r);if(t>=48&&t<=57)o=16*o+t-48;else if(t>=65&&t<=70)o=16*o+t-65+10;else{if(!(t>=97&&t<=102))break;o=16*o+t-97+10}r++,i++}return i<t&&(o=-1),o}function h(){if(i="",p=0,o=r,c=a,u=l,r>=n)return o=n,s=17;let t=e.charCodeAt(r);if(bo(t)){do{r++,i+=String.fromCharCode(t),t=e.charCodeAt(r)}while(bo(t));return s=15}if(wo(t))return r++,i+=String.fromCharCode(t),13===t&&10===e.charCodeAt(r)&&(r++,i+="\n"),a++,l=r,s=14;switch(t){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,i=function(){let t="",i=r;for(;;){if(r>=n){t+=e.substring(i,r),p=2;break}const o=e.charCodeAt(r);if(34===o){t+=e.substring(i,r),r++;break}if(92!==o){if(o>=0&&o<=31){if(wo(o)){t+=e.substring(i,r),p=2;break}p=6}r++}else{if(t+=e.substring(i,r),r++,r>=n){p=2;break}switch(e.charCodeAt(r++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:const e=d(4,!0);e>=0?t+=String.fromCharCode(e):p=4;break;default:p=5}i=r}}return t}(),s=10;case 47:const c=r-1;if(47===e.charCodeAt(r+1)){for(r+=2;r<n&&!wo(e.charCodeAt(r));)r++;return i=e.substring(c,r),s=12}if(42===e.charCodeAt(r+1)){r+=2;const t=n-1;let o=!1;for(;r<t;){const t=e.charCodeAt(r);if(42===t&&47===e.charCodeAt(r+1)){r+=2,o=!0;break}r++,wo(t)&&(13===t&&10===e.charCodeAt(r)&&r++,a++,l=r)}return o||(r++,p=1),i=e.substring(c,r),s=13}return i+=String.fromCharCode(t),r++,s=16;case 45:if(i+=String.fromCharCode(t),r++,r===n||!_o(e.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=function(){let t=r;if(48===e.charCodeAt(r))r++;else for(r++;r<e.length&&_o(e.charCodeAt(r));)r++;if(r<e.length&&46===e.charCodeAt(r)){if(r++,!(r<e.length&&_o(e.charCodeAt(r))))return p=3,e.substring(t,r);for(r++;r<e.length&&_o(e.charCodeAt(r));)r++}let n=r;if(r<e.length&&(69===e.charCodeAt(r)||101===e.charCodeAt(r)))if(r++,(r<e.length&&43===e.charCodeAt(r)||45===e.charCodeAt(r))&&r++,r<e.length&&_o(e.charCodeAt(r))){for(r++;r<e.length&&_o(e.charCodeAt(r));)r++;n=r}else p=3;return e.substring(t,n)}(),s=11;default:for(;r<n&&f(t);)r++,t=e.charCodeAt(r);if(o!==r){switch(i=e.substring(o,r),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(t),r++,s=16}}function f(e){if(bo(e)||wo(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){r=e,i="",o=0,s=16,p=0},getPosition:()=>r,scan:t?function(){let e;do{e=h()}while(e>=12&&e<=15);return e}:h,getToken:()=>s,getTokenValue:()=>i,getTokenOffset:()=>o,getTokenLength:()=>r-o,getTokenStartLine:()=>c,getTokenStartCharacter:()=>o-u,getTokenError:()=>p}}(e,!1),i=[];let o=0;function s(e){return e?t=>0===o&&e(t,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function a(e){return e?t=>0===o&&e(t,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),(()=>i.slice())):()=>!0}function c(e){return e?()=>{o>0?o++:!1===e(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),(()=>i.slice()))&&(o=1)}:()=>!0}function l(e){return e?()=>{o>0&&o--,0===o&&e(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:()=>!0}const u=c(t.onObjectBegin),p=a(t.onObjectProperty),d=l(t.onObjectEnd),h=c(t.onArrayBegin),f=l(t.onArrayEnd),m=a(t.onLiteralValue),g=s(t.onSeparator),y=(b=t.onComment)?()=>0===o&&b(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0,v=s(t.onError);var b;const w=n&&n.disallowComments,_=n&&n.allowTrailingComma;function E(){for(;;){const e=r.scan();switch(r.getTokenError()){case 4:x(14);break;case 5:x(15);break;case 3:x(13);break;case 1:w||x(11);break;case 2:x(12);break;case 6:x(16)}switch(e){case 12:case 13:w?x(10):y();break;case 16:x(1);break;case 15:case 14:break;default:return e}}}function x(e,t=[],n=[]){if(v(e),t.length+n.length>0){let e=r.getToken();for(;17!==e;){if(-1!==t.indexOf(e)){E();break}if(-1!==n.indexOf(e))break;e=E()}}}function S(e){const t=r.getTokenValue();return e?m(t):(p(t),i.push(t)),E(),!0}return E(),17===r.getToken()?!!n.allowEmptyContent||(x(4,[],[]),!1):function e(){switch(r.getToken()){case 3:return function(){h(),E();let t=!0,n=!1;for(;4!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(n||x(4,[],[]),g(","),E(),4===r.getToken()&&_)break}else n&&x(6,[],[]);t?(i.push(0),t=!1):i[i.length-1]++,e()||x(4,[],[4,5]),n=!0}return f(),t||i.pop(),4!==r.getToken()?x(8,[4],[]):E(),!0}();case 1:return function(){u(),E();let t=!1;for(;2!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(t||x(4,[],[]),g(","),E(),2===r.getToken()&&_)break}else t&&x(6,[],[]);(10!==r.getToken()?(x(3,[],[2,5]),0):(S(!1),6===r.getToken()?(g(":"),E(),e()||x(4,[],[2,5])):x(5,[],[2,5]),i.pop(),1))||x(4,[],[2,5]),t=!0}return d(),2!==r.getToken()?x(7,[2],[]):E(),!0}();case 10:return S(!0);default:return function(){switch(r.getToken()){case 11:const e=r.getTokenValue();let t=Number(e);isNaN(t)&&(x(2),t=0),m(t);break;case 7:m(null);break;case 8:m(!0);break;case 9:m(!1);break;default:return!1}return E(),!0}()}}()?(17!==r.getToken()&&x(9,[],[]),!0):(x(4,[],[]),!1)}new Array(Eo).fill(0).map(((e,t)=>"\n"+" ".repeat(t))),new Array(Eo).fill(0).map(((e,t)=>"\r"+" ".repeat(t))),new Array(Eo).fill(0).map(((e,t)=>"\r\n"+" ".repeat(t))),new Array(Eo).fill(0).map(((e,t)=>"\n"+"\t".repeat(t))),new Array(Eo).fill(0).map(((e,t)=>"\r"+"\t".repeat(t))),new Array(Eo).fill(0).map(((e,t)=>"\r\n"+"\t".repeat(t))),function(e){e.DEFAULT={allowTrailingComma:!1}}(xo||(xo={})),function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"}(So||(So={})),function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"}(To||(To={}));const Po=function(e,t=[],n=xo.DEFAULT){let r=null,i=[];const o=[];function s(e){Array.isArray(i)?i.push(e):null!==r&&(i[r]=e)}return Co(e,{onObjectBegin:()=>{const e={};s(e),o.push(i),i=e,r=null},onObjectProperty:e=>{r=e},onObjectEnd:()=>{i=o.pop()},onArrayBegin:()=>{const e=[];s(e),o.push(i),i=e,r=null},onArrayEnd:()=>{i=o.pop()},onLiteralValue:s,onError:(e,n,r)=>{t.push({error:e,offset:n,length:r})}},n),i[0]};var Io;async function Oo(e){const t=await ms(e),n=await ys("clangd",t,["esp-clang"]);return n&&n.includes("esp-clang")?n:""}async function ko(e,t,n=!1){const r=await Oo(t);if(!r){if(n){const e=new Error(i.l10n.t("esp-clang not found in PATH. Make sure esp-clang is installed."));js.errorNotify(e.message,e,"clang index configureClangSettings")}return}const o=Is("idf.buildPath",t);e["clangd.path"]=r,e["clangd.arguments"]=["--background-index","--query-driver=**",`--compile-commands-dir=${o}`]}async function Do(e,t=!1){const r=(0,n.join)(e.fsPath,".vscode","settings.json");let s={};if(await(0,o.pathExists)(r))try{const e=await i.workspace.fs.readFile(i.Uri.file(r));s=Po(e.toString())}catch(e){return void js.errorNotify("Failed to parse settings.json. Ensure it has valid JSON syntax.",e,"clang index configureClangSettings")}await ko(s,e,t),await(0,o.writeJSON)(r,s,{spaces:2}),await Ao(e)}async function Ao(e){const t=(0,n.join)(e.fsPath,".clangd");if(await(0,o.pathExists)(t))return void js.info(".clangd file already exists. Skipping creation.");if(!await Oo(e))return;const r=`CompileFlags:${W.EOL}    Remove: [-f*, -m*]${W.EOL}`;try{await(0,o.writeFile)(t,r,{encoding:"utf8"}),js.infoNotify(".clangd file created successfully.")}catch(e){js.errorNotify("Failed to create .clangd file.",e,"clang index createClangdFile")}}!function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"}(Io||(Io={}));const Ro=i.l10n.t("ESP-IDF: Current Project");let No,Lo=n.join(i.extensions.getExtension(t.extensionID).extensionPath,"templates");const Fo=i.extensions.getExtension(t.extensionID).packageJSON;class Mo{static perform(e,t){let n=!0;if(e.forEach((e=>{e[0]()||(n=!1,js.errorNotify(e[1],new Error("PRECHECK_FAILED"),"utils precheck failed",void 0,!1))})),n)return t()}static isWorkspaceFolderOpen(){return i.workspace.workspaceFolders&&i.workspace.workspaceFolders.length>0}static isNotDockerContainer(){return"dev-container"!==i.env.remoteName}static notUsingWebIde(){return"codespaces"!==i.env.remoteName&&!process.env.WEB_IDE}static isRunningInVSCodeFork(){return"Visual Studio Code"!==i.env.appName}static openOCDVersionValidator(e,t){try{const n=e.match(/v(\d+.?\d+.?\d)-esp32-(\d+)/),r=t.match(/v(\d+.?\d+.?\d)-esp32-(\d+)/);if(!n||!r)throw new Error("Error parsing OpenOCD versions");return r[1]>=n[1]&&r[2]>=n[2]}catch(n){return js.error(`openOCDVersionValidator failed unexpectedly - min:${e}, curr:${t}`,n,"src utils openOCDVersionValidator"),!1}}static espIdfVersionValidator(e,t){try{return-1!==ws(t,e)}catch(n){return js.error(`ESP-IDF version validator failed - min: ${e}, current: ${t}`,n,"src utils espIdfVersionValidator"),!1}}}function jo(e,t=[],r={outputString:"",silent:!1,appendMode:"appendLine",sendToTelemetry:!0}){let i=Buffer.alloc(0);const o=e=>{i=Buffer.concat([i,e]),r.outputString+=i.toString(),r.silent||("append"===r.appendMode?Q.append(e.toString()):Q.appendLine(e.toString()))};return new Promise(((s,c)=>{r.cwd=r.cwd||n.resolve(n.join(__dirname,".."));const l=a.spawn(e,t,r);let u;r.timeout>0&&(u=setTimeout((()=>{l.kill()}),r.timeout)),r.cancelToken&&r.cancelToken.onCancellationRequested((e=>{l.kill()})),l.stdout.on("data",o),l.stderr.on("data",o),l.on("error",(e=>{u&&clearTimeout(u),c(e)})),l.on("exit",(t=>{if(u&&clearTimeout(u),0===t)s(i);else{const n=new Error("non zero exit code "+t+W.EOL+W.EOL+i);js.error(n.message,n,"src utils spawn",{command:e},r.sendToTelemetry),c(n)}}))}))}function Bo(e,t){try{return t=t||l.constants.R_OK|l.constants.W_OK|l.constants.X_OK,l.accessSync(e,t),!0}catch(t){return js.error(`Cannot access filePath: ${e}`,t,"src utils canAccessFile",void 0,!1),!1}}async function Uo(e){return new Promise((t=>{setTimeout(t,e)}))}function qo(e,t){e.text=t?"$(file-submodule)":void 0,e.tooltip=t?`${Ro} ${t.tooltip}`:void 0,e.command=t?t.clickCommand:void 0,t?e.show():e.hide()}async function $o(e){const t=n.join(e.fsPath,".vscode"),r=n.join(Lo,".vscode");await(0,o.ensureDir)(t);const i=await(0,o.readdir)(r);for(const e of i){const i=n.join(t,e),s=n.join(r,e);await(0,o.pathExists)(i)||await(0,o.copy)(s,i)}await Vo(e)}async function Vo(e){const t=await ms(e),n=zo(t.IDF_TARGET||"esp32","gcc"),r=await ys(n,t);if(!r)return;let i=r.split(t.IDF_TOOLS_PATH)[1];const o="win32"===process.platform?"${config:idf.toolsPathWin}":"${config:idf.toolsPath}";await Ho(e,"compilerPath",o+i)}async function Ho(e,t,r){const i=n.join(e.fsPath,".vscode","c_cpp_properties.json");if(!await(0,o.pathExists)(i))return;const s=await(0,o.readJSON)(i);s&&s.configurations&&s.configurations.length&&(s.configurations[0][t]=r,await(0,o.writeJSON)(i,s,{spaces:2}))}async function Go(e,t="gcc"){const n=await ms(e),r=zo(n.IDF_TARGET||"esp32",t);try{return await ys(r,n)}catch(e){return void js.errorNotify(`${t} is not found in idf.toolsPath`,e,"utils getToolchainPath")}}function zo(e,t="gcc"){switch(e){case"esp32":case"esp32s2":case"esp32s3":return`xtensa-${e}-elf-${t}`;default:return`riscv32-esp-elf-${t}`}}async function Wo(e){const t=n.join(e,".devcontainer"),r=n.join(Lo,".devcontainer");await(0,o.ensureDir)(t),await(0,o.copy)(r,t)}async function Ko(e,t){await(0,o.copy)(e,t.fsPath),await $o(t),await Wo(t.fsPath),await async function(e){const t=n.join(Lo,".gitignore"),r=n.join(e.fsPath,".gitignore");await(0,o.pathExists)(t)&&await(0,o.copy)(t,r)}(t)}async function Yo(e){let t="";try{t=function(e,t){const r=n.join(e,"CMakeLists.txt");if(!Bo(r,l.constants.R_OK))throw new Error("CMakeLists.txt file doesn't exists or can't be read");const i=Zo(r),o=new RegExp("(?:set|SET)\\(SDKCONFIG (.*)\\)"),s=i.match(o);return s?s[1]:""}(e.fsPath)}catch(e){const t=e.message?e.message:"CMakeLists.txt file doesn't exists or can't be read";js.info(t,e)}if(t&&-1!==t.indexOf("${CMAKE_BINARY_DIR}")){const n=Is("idf.buildPath",e);t=t.replace("${CMAKE_BINARY_DIR}",n).replace(/"/g,"")}if(t||(t=Is("idf.sdkconfigFilePath",e)),e)return t||(t=n.join(e.fsPath,"sdkconfig")),t||(t=n.join(e.fsPath,"sdkconfig.defaults")),t}async function Jo(e,t){const n=await Yo(t);if(!n||!Bo(n,l.constants.R_OK))throw new Error("sdkconfig file doesn't exists or can't be read");const r=Zo(n),i=new RegExp(`${e}=(.*)?`),o=r.match(i);return o?o[1]:""}async function Qo(e){let t="";try{t=Is("idf.monitorBaudRate",e),t||(t=await Jo("CONFIG_ESP_CONSOLE_UART_BAUDRATE",e))}catch(e){const t=e.message?e.message:"ERROR reading CONFIG_ESP_CONSOLE_UART_BAUDRATE from sdkconfig";js.error(t,e,"src utils getMonitorBaudRate")}return t}function Xo(e){return l.existsSync(e)}function Zo(e){return l.readFileSync(e,"utf-8")}function es(e){return(0,o.readJSON)(e)}function ts(e,t=[],n,r,i,o){const s=i||{cwd:n,maxBuffer:512e3};return new Promise(((n,i)=>{a.execFile(e,t,s,((t,s,a)=>{if(o&&o.isCancellationRequested)return i(new Error("Process cancelled by user"));if(r){let e="",n=!1;s&&s.length>0&&(e+=s),a&&a.length>0&&(e+=a,!a.toLowerCase().startsWith("warning")&&a.includes("Error")&&(n=!0)),t&&(e+=t.message,n=!0),n&&(r.append(e),r.show())}return t?(t.message&&js.error(t.message,t,"utils execChildProcess",{command:e}),i(t)):a&&a.length>2&&(a.startsWith("Open On-Chip Debugger v")||a.toLowerCase().startsWith("warning")||js.error(a,new Error(a),"utils execChildProcess stderr",{command:e}),!a.toLowerCase().startsWith("warning")&&a.includes("Error"))?i(new Error(a)):n(s.concat(a))}))}))}function ns(e){return new Promise(((t,n)=>{l.readdir(e,((e,r)=>{e&&n(e),t(r)}))}))}function rs(e){return new Promise(((t,n)=>{if(!e)return t(!1);l.stat(e,((e,n)=>e?t(!1):n.isDirectory()?t(!0):t(!1)))}))}function is(e){return!!e.trim()}function os(e){return/\s+/g.test(e)}async function ss(e){let t="";if(!e)throw new Error("No Workspace open");try{const r=Is("idf.buildPath",e);if(!Bo(r,l.constants.R_OK))throw new Error("Build is required once to generate the ELF File");t=await oo(r);const i=n.join(r,`${t}.elf`);if(!Bo(i,l.constants.R_OK))throw new Error(`Failed to access .elf file at ${i}`);return i}catch(e){return void js.errorNotify("Failed to read project name while fetching elf file",e,"utils getElfFilePath")}}function as(e){const t=n.join(e,"CMakeLists.txt");if(Xo(t)){const e=l.readFileSync(t,"utf-8").match(/(project\(.*?\))/g);if(e&&e.length>0)return!0}return!1}async function cs(e,t){const r=n.join(e,"CMakeLists.txt");if(Xo(r)){let e=await(0,o.readFile)(r,"utf-8");const n=e.match(/(project\(.*?\))/g);n&&n.length&&(e=e.replace(/(project\(.*?\))/g,`project(${t})`),await(0,o.writeFile)(r,e))}}function ls(e){const t=(r=e,l.readdirSync(r).filter((e=>l.statSync(n.join(r,e)).isDirectory())));var r;if(as(e))return[e];{const r=[];return t.forEach((t=>{ls(n.join(e,t)).forEach((e=>{r.push(e)}))})),r}}async function us(e){const t=n.join(e,"tools","cmake","version.cmake");if(!await(0,o.pathExists)(t))return js.info(`${t} does not exist to get ESP-IDF version.`),"x.x";const r=await(0,o.readFile)(t,"utf8");let i,s={};const a=new RegExp(/\s*set\s*\(\s*IDF_VERSION_([A-Z]{5})\s+(\d+)/gm);for(;i=a.exec(r);)s[i[1]]=i[2];return Object.keys(s).length?`${s.MAJOR}.${s.MINOR}.${s.PATCH}`:"x.x"}async function ps(e,t){try{if(!await(0,o.pathExists)(t)){const e=await ys("git",process.env);if(!e)return"Not found";t=e}const n=(await ts(t,["--version"],e)).match(/(?:git\sversion\s)(\d+)(.\d+)?(.\d+)?(?:.windows.\d+)?/g);return n&&n.length?n[0].replace("git version ",""):"Not found"}catch(e){return js.errorNotify("Git is not found in current environment",e,"utils checkGitExists"),"Not found"}}function ds(e,t){let n=Promise.resolve(null);for(const r of e)n=n.then((()=>t(r)));return n}function hs(e){const t=e.match(/\/([^\/?#]+)[^\/]*$/);return t.length>1?t[1]:null}function fs(e,t,n){return new Promise((async(r,i)=>{const s=c.createHash("sha256");await(0,o.pathExists)(e).then((o=>{if(o){const o=l.statSync(e).size,a=l.createReadStream(e);let c;a.on("data",(e=>{s.update(e)})),a.on("end",(()=>{c=s.digest("hex"),r(c===t&&o===n)})),a.on("error",(e=>i(e)))}else i(!1)}))}))}async function ms(e){const t=Object.assign({},process.env),r="win32"===process.platform?t.USERPROFILE:t.HOME,i=n.join(r,"esp","esp-idf"),s=Is("idf.espIdfPath",e);t.IDF_PATH=s||t.IDF_PATH||i;const a=Is("idf.espAdfPath",e);t.ADF_PATH=a||t.ADF_PATH;const c=Is("idf.espMdfPath",e);t.MDF_PATH=c||t.MDF_PATH;const l=Is("idf.espHomeKitSdkPath",e);t.HOMEKIT_PATH=l||t.HOMEKIT_PATH;const u=Is("idf.espRainmakerPath",e);t.RMAKER_PATH=u||t.RMAKER_PATH;const p=n.join(r,".espressif"),d=Is("idf.toolsPath",e);t.IDF_TOOLS_PATH=d||p;const h=Is("idf.espMatterPath",e);t.ESP_MATTER_PATH=h||t.ESP_MATTER_PATH;const f=await te.createIdfToolsManager(t.IDF_PATH),m=await f.exportPathsInString(n.join(t.IDF_TOOLS_PATH,"tools"),["cmake","ninja"]),g=await f.exportVars(n.join(t.IDF_TOOLS_PATH,"tools"));if(g)try{for(const e in g)e&&(t[e]=g[e])}catch(e){js.errorNotify("Invalid ESP-IDF environment variables format",e,"appendIdfAndToolsToPath idf tools env vars")}let y;t.ESP_MATTER_PATH&&(y=n.join(t.ESP_MATTER_PATH,"connectedhomeip","connectedhomeip",".environment","cipd","packages","pigweed"),t.ZAP_INSTALL_PATH=n.join(t.ESP_MATTER_PATH,"connectedhomeip","connectedhomeip",".environment","cipd","packages","zap"));let v="";await Dr(e)&&(v=await kr(e)),v||(v=Is("idf.pythonBinPath",e)),t.PYTHON=v||`${process.env.PYTHON}`||`${n.join(process.env.IDF_PYTHON_ENV_PATH,"bin","python")}`;const b=await(0,o.pathExists)(v);t.IDF_PYTHON_ENV_PATH=b?n.dirname(n.dirname(v)):process.env.IDF_PYTHON_ENV_PATH;const w=Is("idf.gitPath",e);let _;w&&"git"!==w&&(_=n.dirname(w));let E=n.join(t.IDF_PATH,"components","espcoredump");E=`${E}${n.delimiter}${n.join(t.IDF_PATH,"components","partition_table")}`;let x=Object.keys(process.env).find((e=>"PATH"==e.toUpperCase()));const S=await(0,o.pathExists)(t.IDF_PATH),T=await(0,o.pathExists)(t.IDF_TOOLS_PATH);if(b&&S&&T){const e=await Pr(t.IDF_PATH,t.IDF_TOOLS_PATH,v);if(e)try{for(const n in e)n.toUpperCase()===x.toUpperCase()?t[x]=e[n].replace("%PATH%",t[x]).replace("$PATH",t[x]):t[n]=e[n]}catch(e){js.errorNotify("Invalid ESP-IDF idf_tools.py export environment variables format",e,"appendIdfAndToolsToPath idf_tools export env vars")}}const C=Is("idf.customExtraVars",e);if(C)try{const e=function(e,t){return xi()||(t&&t.OPENOCD_USB_ADAPTER_LOCATION?t.OPENOCD_USB_ADAPTER_LOCATION:void 0)}(0,C);e&&(e.match(/^[0-9A-Fa-f]{2}(?::[0-9A-Fa-f]{2}){5}$/)?(t.OPENOCD_USB_ADAPTER_SERIAL=e,delete t.OPENOCD_USB_ADAPTER_LOCATION):t.OPENOCD_USB_ADAPTER_LOCATION=e);for(const e in C)if(e){if("OPENOCD_USB_ADAPTER_LOCATION"===e&&t.OPENOCD_USB_ADAPTER_SERIAL)continue;t[e]=C[e]}}catch(e){js.errorNotify("Invalid user environment variables format",e,"appendIdfAndToolsToPath idf.customExtraVars")}try{const e=await ys("openocd",t,["openocd-esp32"]);if(e){const r=n.dirname(e),i=n.join(r,"..","share","openocd","scripts");await(0,o.pathExists)(i)&&t.OPENOCD_SCRIPTS!==i&&(t.OPENOCD_SCRIPTS=i)}}catch(e){js.error(`Error processing OPENOCD_SCRIPTS path: ${e.message}`,e,"appendIdfAndToolsToPath OPENOCD_SCRIPTS")}_&&!t[x].split(n.delimiter).includes(_)&&(t[x]+=n.delimiter+_),y&&!t[x].split(n.delimiter).includes(y)&&(t[x]+=n.delimiter+y),t[x]&&!t[x].includes(n.dirname(t.PYTHON))&&(t[x]=n.dirname(t.PYTHON)+n.delimiter+t[x]),t[x]&&!t[x].includes(n.join(t.IDF_PATH,"tools"))&&(t[x]=n.join(t.IDF_PATH,"tools")+n.delimiter+t[x]);const P=m.split(n.delimiter);for(let e of P)t[x]&&!t[x].includes(e)&&(t[x]=e+n.delimiter+t[x]);t[x]=`${E}${n.delimiter}${t[x]}`;let I=await so(e);I&&(t.IDF_TARGET=t.IDF_TARGET||I||process.env.IDF_TARGET),Is("idf.enableIdfComponentManager",e)&&(t.IDF_COMPONENT_MANAGER="1");let O=Is("idf.sdkconfigFilePath",e);return O&&(t.SDKCONFIG=O),t}async function gs(e,t){const r=t[Object.keys(process.env).find((e=>"PATH"==e.toUpperCase()))].split(n.delimiter),i=[];for(const t of r){let r=n.join(t,e);"win32"!==process.platform||e.endsWith(".exe")||(r=`${r}.exe`),await(0,o.pathExists)(r)&&(await(0,o.stat)(r)).isFile()&&Bo(r,l.constants.X_OK)&&i.push(r)}return i}async function ys(e,t,r){const i=t[Object.keys(process.env).find((e=>"PATH"==e.toUpperCase()))].split(n.delimiter);for(const t of i){let i=n.join(t,e);if("win32"!==process.platform||e.endsWith(".exe")||(i=`${i}.exe`),await(0,o.pathExists)(i)){if(r&&r.length){const e=r.join(n.sep);if(-1===i.indexOf(e))return""}if((await(0,o.stat)(i)).isFile()&&Bo(i,l.constants.X_OK))return i}}return""}async function vs(e,t,r,i){const s=n.join(t,"tools","check_python_dependencies.py"),a=Object.assign({},process.env);a.IDF_PATH=t;const c=(await us(t)).match(/([0-9]+\.[0-9]+).*/),l=c&&c.length>0?c[1]:"x.x",u=n.join(r,`espidf.constraints.v${l}.txt`);let p=[s,"-r",i];return await(0,o.pathExists)(u)&&(p=p.concat(["--constraint",u])),ts(e,p,No.extensionPath,Q.init(),{env:a,cwd:No.extensionPath})}function bs(e){return i.Uri.file(n.join(e,"media","espressif_icon.png"))}function ws(e,t){const n=e.split("."),r=t.split("."),i=Math.min(n.length,r.length);for(let e=0;e<i;e++){let t=parseInt(n[e],10),i=parseInt(r[e],10);if(t>i)return 1;if(t<i)return-1}return n.length===r.length?0:n.length<r.length?-1:1}async function _s(e,t){for(let n=1;n<=3;n++)try{return void await(0,o.move)(e,t)}catch(r){if("EPERM"===r.code||"EACCES"===r.code){if(3===n){const n=`Move operation failed with ${r.code} after 3 attempts, falling back to copy + remove...`;Q.init().appendLine(n),js.info(n),await(0,o.pathExists)(t)&&await(0,o.remove)(t),await(0,o.copy)(e,t),await(0,o.remove)(e);const i="Successfully moved directory using fallback method";return Q.init().appendLine(i),void js.info(i)}{const e=`Move operation failed with ${r.code}, retrying in 1000ms (attempt ${n}/3)...`;Q.init().appendLine(e),js.error(e,new Error(e),"robustMove"),await new Promise((e=>setTimeout(e,1e3)))}}else{const e=r&&r.message?r.message:"Unknown error";js.error(e,r,"robustMove")}}}async function Es(e){return!0===Is("idf.monitorNoReset",e)||!!vo(e)&&"y"===await Jo("CONFIG_SECURE_FLASH_ENCRYPTION_MODE_RELEASE",e)}class xs{constructor(e,t,n,r,i){this.comName=e,this.manufacturer=t,this.vendorId=n,this.productId=r,this.chipType=i}}var Ss,Ts=__webpack_require__(4987);class Cs{static convertMacOSPortName(e){return e.startsWith("/dev/tty.")?e.replace("/dev/tty.","/dev/cu."):e.startsWith("/dev/cu.")?e.replace("/dev/cu.","/dev/tty."):e}static isSamePort(e,t){return e===t||(e.startsWith("/dev/tty.")?e:this.convertMacOSPortName(e))===(t.startsWith("/dev/tty.")?t:this.convertMacOSPortName(t))}static shared(){return Cs.instance||(Cs.instance=new Cs),Cs.instance}promptUserToSelect(e,t){return Cs.shared().displayList(e,t)}static async detectDefaultPort(e){return i.window.withProgress({location:i.ProgressLocation.Notification,title:i.l10n.t("Detecting Espressif device serial port..."),cancellable:!1},(async t=>{try{const r=Is("idf.espIdfPath",e),o=await kr(e),s=(0,n.join)(r,"components","esptool_py","esptool","esptool.py"),a=await so(e)||"esp32";Q.show(),Q.appendLine("Detecting default port using esptool.py...");const c=1e3*Is("idf.serialPortDetectionTimeout",e),l=(await jo(o,[s,"--chip",a,"chip_id"],{silent:!1,appendMode:"append",timeout:c,sendToTelemetry:!1})).toString().split("\n");let u,p,d=0,h=0;for(const e of l)e.match(/Serial port\s+(\S+)/)&&d++;for(const e of l){const n=e.match(/Serial port\s+(\S+)/);if(n){u=n[1],u.endsWith(":")&&(u=u.slice(0,-1)),h++,t.report({message:i.l10n.t("Testing port {0} ({1}/{2})",u,h,d),increment:d>0?100/d:0});continue}const r=e.match(/Connected to\s+([^\s]+)\s+on/)||e.match(/Chip is\s+([^\s(]+)/);if(r&&u&&r[1].trim().toLowerCase().replace(/-/g,"")===a.toLowerCase()){p=this.convertMacOSPortName(u);break}(e.includes("failed to connect")||e.includes("No serial data received"))&&(u=void 0)}return p||t.report({message:i.l10n.t("No serial port found for current IDF_TARGET: {0}",a)}),p}catch(e){return void js.error("Failed to detect default serial port",e,"serialPort detectDefaultPort")}}))}async displayList(e,t){const n=i.l10n.t("Select the available serial port where your device is connected.");try{let r=await this.list(e);const o=Is(t?"idf.monitorPort":"idf.port",e),s=[{description:i.l10n.t("Auto-detect port (let esptool.py find the device automatically)"),label:"detect",picked:!1},...r.map((e=>({description:e.chipType||e.manufacturer,label:e.comName,picked:Cs.isSamePort(e.comName,o)})))],a=i.window.createQuickPick();a.placeholder=n,a.items=s,a.activeItems=a.items.filter((e=>e.picked));const c=await new Promise((e=>{a.onDidAccept((()=>{e(a.selectedItems[0])})),a.onDidHide((()=>{e(void 0)})),a.show()}));if(a.dispose(),c&&c.label)if("detect"===c.label){const n=await Cs.detectDefaultPort(e);if(n)await this.updatePortListStatus(n,e,t);else{const t=await so(e)||"esp32",n=i.l10n.t("No serial port found for current IDF_TARGET: {0}",t);await J(n,i.l10n.t("Detect"),(()=>i.commands.executeCommand("espIdf.detectSerialPort")))}}else await this.updatePortListStatus(c.label,e,t)}catch(e){const t=e.message?e.message:"Something went wrong while getting the serial port list",n=-1===t.indexOf("No serial ports found");js.errorNotify(t,e,"SerialPort displayList",void 0,n),Q.appendLine(t,"Serial port"),Q.appendLineAndShow(JSON.stringify(e))}}async getListArray(e){return await this.list(e)}async updatePortListStatus(e,t,n){const r=n?"idf.monitorPort":"idf.port",o=await Os(r,e,i.ConfigurationTarget.WorkspaceFolder,t),s=i.l10n.t("Port has been updated to ");js.infoNotify(`${s}${e} in ${o}`)}list(e){return new Promise((async(t,r)=>{try{const o=await Ts.SerialPort.list();if(!o||0===o.length)return void r(new Error("No serial ports found"));let s=o.map((e=>new xs(e.path,e.manufacturer,e.vendorId,e.productId)));const a=await kr(e),c=Is("idf.espIdfPath",e),l=Is("idf.enableSerialPortChipIdRequest",e),u=Is("idf.useSerialPortVendorProductFilter",e),p=Is("idf.usbSerialPortFilters",e);if(u){const f=new Set(Object.keys(p).map((e=>{const{vendorId:t,productId:n}=p[e];return`${t?t.toLowerCase():void 0}-${n?n.toLowerCase():void 0}`})));s=s.filter((({vendorId:e,productId:t})=>{const n=`0x${e?e.toLowerCase():void 0}-0x${t?t.toLowerCase():void 0}`;return f.has(n)}))}if(!l)return t(s);const d=(0,n.join)(c,"components","esptool_py","esptool","esptool.py");if((await i.workspace.fs.stat(i.Uri.file(d))).type!==i.FileType.File)throw new Error(`esptool.py does not exists in ${d}`);async function h(e){try{const t=await jo(a,[d,"--port",e.comName,"chip_id"],{timeout:2e3,silent:!0,appendMode:"append",sendToTelemetry:!1}),n=/Chip is(.*?)[\r]?\n/,r=t.toString().match(n);e.chipType=r&&r.length>1?r[1].trim():void 0}catch(t){e.chipType=void 0}return e}t(await Promise.all(s.map((e=>h(e)))))}catch(m){r(m)}}))}}function Ps(e){const n="win32"===process.platform?"Win":"";for(const r of t.platformDepConfigurations)if(e.indexOf(r)>=0)return e+n;return e}function Is(e,n){const r=Ps(e);let o=function(e,n){if(!t.ProjectConfiguration.store)return"";const r=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG);if(!r)return"";const o=t.ProjectConfiguration.store.get(r);if(!o)return"";switch(e){case"idf.cmakeCompilerArgs":return o.build&&o.build.compileArgs&&o.build.compileArgs.length?o.build.compileArgs:"";case"idf.ninjaArgs":return o.build&&o.build.ninjaArgs&&o.build.ninjaArgs.length?o.build.ninjaArgs:"";case"idf.buildPath":return o.build&&o.build.buildDirectoryPath?o.build.buildDirectoryPath:"";case"idf.sdkconfigDefaults":return o.build&&o.build.sdkconfigDefaults&&o.build.sdkconfigDefaults.length?o.build.sdkconfigDefaults:"";case"idf.customExtraVars":const t=Ps(e);let n=i.workspace.getConfiguration("",void 0).get(t),r={};for(const e of Object.keys(n))r[e]=n[e];if(o.env&&"object"==typeof o.env&&!Array.isArray(o.env))for(const e of Object.keys(o.env))r[e]=o.env[e];return o.idfTarget&&(r.IDF_TARGET=o.idfTarget),r;case"idf.flashBaudRate":return o.flashBaudRate;case"idf.monitorBaudRate":return o.monitorBaudRate;case"idf.openOcdDebugLevel":return o.openOCD&&o.openOCD.debugLevel?o.openOCD.debugLevel:"";case"idf.openOcdConfigs":return o.openOCD&&o.openOCD.configs&&o.openOCD.configs.length?o.openOCD.configs:"";case"idf.openOcdLaunchArgs":return o.openOCD&&o.openOCD.args&&o.openOCD.args.length?o.openOCD.args:"";case"idf.preBuildTask":return o.tasks&&o.tasks.preBuild?o.tasks.preBuild:"";case"idf.postBuildTask":return o.tasks&&o.tasks.postBuild?o.tasks.postBuild:"";case"idf.preFlashTask":return o.tasks&&o.tasks.preFlash?o.tasks.preFlash:"";case"idf.postFlashTask":return o.tasks&&o.tasks.postFlash?o.tasks.postFlash:"";case"idf.sdkconfigFilePath":return o.build&&o.build.sdkconfigFilePath?o.build.sdkconfigFilePath:"";default:return""}}(e);if(o=o||i.workspace.getConfiguration("",n).get(r),void 0===o)return"";if("string"==typeof o)return ks(o,n);if("object"==typeof o&&Array.isArray(o)){const e=[];for(const t of o)"string"==typeof t?e.push(ks(t,n)):e.push(t);return e}return o}async function Os(e,t,n,r){const o=Ps(e);return n!==i.ConfigurationTarget.WorkspaceFolder?(await i.workspace.getConfiguration().update(o,t,n),i.workspace.getConfiguration(""),n===i.ConfigurationTarget.Global?"User settings":"Workspace settings"):void 0!==i.workspace.workspaceFolders&&i.workspace.workspaceFolders.length?(r||(r=(await i.window.showWorkspaceFolderPick({placeHolder:`Pick Workspace Folder to which ${e} should be applied`})).uri),await i.workspace.getConfiguration("",r).update(o,t,n),i.workspace.getConfiguration(""),r.fsPath):void 0}function ks(e,t){return e.replace(/\$\{(.*?)\}/g,((e,n)=>{if(e.indexOf("config:")>0){const e=n.substring(n.indexOf("config:")+7),r=e.indexOf(",");let i=e,o="";r>-1&&(i=e.substring(0,r),o=e.substring(r+1).trim());const s=Is(i,t);return o&&Array.isArray(s)?s.map((e=>`${o}${e}`)).join(" "):o&&"string"==typeof s?`${o} ${s}`:s}if(e.indexOf("env:")>0){const e=n.substring(n.indexOf("env:")+4),r=Is("idf.customExtraVars",t);return-1!==Object.keys(r).indexOf(e)?r[e]:-1===Object.keys(process.env).indexOf(e)?"":process.env[e]}if(t&&e.indexOf("workspaceFolder")>0){let n;return n="fsPath"in t&&"string"==typeof t.fsPath?t.fsPath:"uri"in t&&t.uri&&"string"==typeof t.uri.fsPath?t.uri.fsPath:e,n}return e.indexOf("execPath")>0?process.execPath:e}))}async function Ds(e,t=!1){const n=Is(t?"idf.monitorPort":"idf.port",e);if("detect"===n){js.info("Port set to 'detect', running auto-detection...");const n=await Cs.detectDefaultPort(e);return n?(js.info(`Auto-detected port: ${n}`),await Cs.shared().updatePortListStatus(n,e,t),n):(js.warn("Auto-detection failed, no compatible device found"),J(i.l10n.t("Serial port auto-detection failed, no compatible device found"),i.l10n.t("Detect"),(()=>i.commands.executeCommand("espIdf.detectSerialPort"))),"")}return n}!function(e){e.Silent="Silent",e.Notifications="Notifications",e.Output="Output",e.All="All"}(Ss||(Ss={}));var As,Rs,Ns=__webpack_require__(7571),Ls=__webpack_require__.n(Ns);class Fs{static init(e){return this.instance||(this.instance=new Fs(e)),this.instance}constructor(e){const t="espressif.esp-idf-extension",n=i.extensions.getExtension(t),r=n.packageJSON.version,o=n.packageJSON.azure.insight.key;try{Fs.reporter=new(Ls())(t,r,o),Fs.enabled=e&&"development"!==process.env.VSCODE_EXTENSION_MODE}catch(e){js.telemetryError("Failed to load TelemetryReporter",e)}}static dispose(){this.reporter?.dispose()}static sendEvent(e,t,n){if(this.enabled)try{return this.reporter?.sendTelemetryEvent(e,t,n)}catch(e){js.telemetryError("Failed to sendEvent",e)}}static sendException(e,t,n){if(this.enabled)try{return this.reporter?.sendTelemetryException(e,t,n)}catch(e){js.telemetryError("Failed to sendException",e)}}}class Ms extends s.Transport{constructor(e){super(e)}log(e,t,n,r){const o=Is("idf.notificationMode"),a=o===Ss.All||o===Ss.Notifications;n&&n.user&&a&&("info"===e?i.window.showInformationMessage(t):"warn"===e?i.window.showWarningMessage(t):"error"===e?i.window.showErrorMessage(t,"Report","Cancel").then((e=>{"Cancel"!==e&&"Report"===e&&Fs.sendEvent("UserReport",{message:t})})):s.error(`Invalid error level '${e}' for user notification. ${t}`)),super.emit("logged"),r&&r(null,!0)}}class js{static init(e){return js.instance=new js(e),js.instance}static infoNotify(e,t){t||(t={}),t.user=!0,js.info(e,t)}static info(e,t){js.checkInitialized(),s.info(e,t)}static warnNotify(e,t){t||(t={}),t.user=!0,js.warn(e,t)}static warn(e,t){js.checkInitialized(),s.warn(e,t)}static errorNotify(e,t,n,r,i=!0){r||(r={}),r.user=!0,js.error(e,t,n,r,i)}static error(e,t,n,r,i=!0){js.checkInitialized(),i&&Fs.sendException(t,{givenMessage:e,errorMessage:t.message,errorStack:t.stack,category:n,capturedBy:"Logger",command:r?.command}),s.log("error",e,{...r,message:t.message,stack:t.stack,category:n})}static telemetryError(e,t,n){js.checkInitialized(),s.log("error",e,{errorMessage:`[Telemetry]: ${e}`,stack:t.stack,metadata:n})}static checkInitialized(){if(!js.instance)throw new Error("need to initialize the logger first use:: Logger.init()")}constructor(e){this.LOG_FILE_NAME="esp_idf_vsc_ext.log",s.configure({transports:[new s.transports.File({filename:e.asAbsolutePath(this.LOG_FILE_NAME),level:"warn"}),new Ms({level:"info"})]})}}!function(e){e[e.delete=0]="delete",e[e.other=1]="other"}(As||(As={}));class Bs{static updateSrcsInCmakeLists(e,t){const r=(0,n.dirname)(e),i=(0,n.basename)(e),s=(0,n.join)(r,"CMakeLists.txt");return Is("idf.enableUpdateSrcsToCMakeListsFile")?(Bs.singletonPromise=new Promise((async(e,n)=>{try{if(await(0,o.pathExists)(s)){const n=await(0,o.readFile)(s,"utf8"),r=n.indexOf(`"${i}"`)>0;if(r&&t!==As.delete)return this.writeFinished(),e();const a=n.match(/SRCS\s\"/g);let c;return t!==As.delete&&a&&a.length>0?c=this.addSrcFromCMakeLists(n,i):r&&t===As.delete&&(c=this.deleteSrcFromCMakeLists(n,i)),c&&await(0,o.writeFile)(s,c),this.writeFinished(),e()}}catch(e){const t=e.message?e.message:"Error updating srcs in CMakeLists.txt";this.writeFinished(),js.error(t,e,"updateSrcsInCmakeLists")}})),Bs.singletonPromise):Promise.resolve()}static addSrcFromCMakeLists(e,t){return e.replace('SRCS "',`SRCS "${t}" "`)}static deleteSrcFromCMakeLists(e,t){return e.replace(` "${t}"`,"")}static writeFinished(){Bs.singletonPromise=void 0}}async function Us(e,t,n){const r=await(0,o.readJSON)(e),i={app:{address:r.app?r.app.offset:void 0,binFilePath:r.app?r.app.file:void 0,encrypted:r.app?-1!==r.app.encrypted.indexOf("true"):void 0},bootloader:{address:r.bootloader?r.bootloader.offset:void 0,binFilePath:r.bootloader?r.bootloader.file:void 0,encrypted:r.bootloader?-1!==r.bootloader.encrypted.indexOf("true"):void 0},partitionTable:{address:r["partition-table"]?r["partition-table"].offset:void 0,binFilePath:r["partition-table"]?r["partition-table"].file:void 0,encrypted:r["partition-table"]?-1!==r["partition-table"].encrypted.indexOf("true"):void 0},after:r.extra_esptool_args.after,before:r.extra_esptool_args.before,baudRate:n,chip:r.extra_esptool_args.chip,flashSections:[],frequency:r.flash_settings.flash_freq,mode:r.flash_settings.flash_mode,port:t,size:r.flash_settings.flash_size,stub:r.extra_esptool_args.stub};return function(e,t){for(let n of Object.keys(e))if(e[n]&&e[n].offset&&e[n].file&&e[n].encrypted){const r={address:e[n].offset,binFilePath:e[n].file,encrypted:-1!==e[n].encrypted.indexOf("true")};t.flashSections.push(r)}}(r,i),Object.keys(r.flash_files).forEach((e=>{const t=i.flashSections.length?i.flashSections.filter((t=>-1!==t.address.indexOf(e))):[];e&&!t.length&&i.flashSections.push({address:e,binFilePath:r.flash_files[e],encrypted:!1})})),i}class qs extends oe.EventEmitter{static init(e){return qs.instance||(qs.instance=new qs(e)),qs.instance}constructor(e){super(),this.configureWithDefaultValues(e.extensionUri),Q.init(),this.chan=Buffer.alloc(0)}start(){return new Promise((async(e,t)=>{if(this.isRunning())return;if(!ys("openocd",this.env))return t(new Error("Invalid OpenOCD bin path or access is denied for the user"));if(this.env&&!this.isOocdDisabled&&void 0===this.env.OPENOCD_SCRIPTS)return t(new Error("Invalid OpenOCD script path or access is denied for the user"));if(!Bo(this.elfFile,o.constants.R_OK))return t(new Error(`${this.elfFile} doesn't exist. Build first.`));const r=n.join(this.currentWorkspace.fsPath,"debug")+".log";if(!this.appOffset){const e=await Ds(this.currentWorkspace,!1);if(!e)return t(new Error(i.l10n.t("No serial port found for current IDF_TARGET: {0}",this.target)));const r=await Is("idf.flashBaudRate",this.currentWorkspace),s=Is("idf.buildPath",this.currentWorkspace),a=n.join(s,"flasher_args.json");if(!Bo(a,o.constants.R_OK))return t(new Error(`${a} doesn't exist. Build first.`));const c=await Us(a,e,r);this.appOffset=c.app.address}const s=await kr(this.currentWorkspace),c=zo(this.target,""),l=[this.debugAdapterPath,"-d",this.logLevel.toString(),"-e",this.elfFile,"-l",r,"-p",this.port.toString(),"-dn",this.target,"-a",this.appOffset,"-t",c];this.isPostMortemDebugMode&&l.push("-pm"),this.coreDumpFile&&l.push("-c",this.coreDumpFile),this.isOocdDisabled&&l.push("-om","without_oocd");const u=this.gdbinitFilePath?this.gdbinitFilePath:await this.makeGdbinitFile();u&&l.push("-x",u),this.tmoScaleFactor&&l.push("-tsf",this.tmoScaleFactor.toString()),this.adapter=(0,a.spawn)(s,l,{env:this.env}),this.adapter.stderr.on("data",(e=>{e="string"==typeof e?Buffer.from(e):e,this.sendToOutputChannel(e),Q.appendLine(e.toString(),"Debug Adapter"),js.info(e.toString()),this.emit("error",e,this.chan)})),this.adapter.stdout.on("data",(t=>{if(t="string"==typeof t?Buffer.from(t):t,this.sendToOutputChannel(t),Q.appendLine(t.toString(),"Debug Adapter"),js.info(t.toString()),this.emit("data",this.chan),t.toString().trim().endsWith("DEBUG_ADAPTER_READY2CONNECT"))return e(!0)})),this.adapter.on("error",(e=>(this.emit("error",e,this.chan),this.stop(),t(e)))),this.adapter.on("close",((e,t)=>{!t&&e&&0!==e&&js.errorNotify(`ESP-IDF Debug Adapter exit with error code ${e}`,new Error("Spawn exit with non-zero"+e),"DebugAdapterManager start"),this.stop()})),Q.show()}))}stop(){if(this.adapter&&!this.adapter.killed){this.isPostMortemDebugMode=!1,this.initGdbCommands=[],this.adapter.kill("SIGKILL"),this.adapter=void 0;const e="[Stopped] : ESP-IDF Debug Adapter";js.info(e),Q.appendLine(e)}}configureAdapter(e){if(e.coreDumpFile&&(this.coreDumpFile=e.coreDumpFile),e.currentWorkspace&&(this.currentWorkspace=e.currentWorkspace),e.debugAdapterPort&&(this.port=e.debugAdapterPort),e.elfFile&&(this.elfFile=e.elfFile),e.env)for(const t of Object.keys(e.env))this.env[t]=e.env[t];e.gdbinitFilePath&&(this.gdbinitFilePath=e.gdbinitFilePath),e.initGdbCommands&&(this.initGdbCommands=e.initGdbCommands),this.isPostMortemDebugMode=e.isPostMortemDebugMode,e.logLevel&&(this.logLevel=e.logLevel),e.target&&(this.target=e.target),e.isOocdDisabled&&(this.isOocdDisabled=e.isOocdDisabled),this.tmoScaleFactor=e.tmoScaleFactor,this.appOffset=e.appOffset}isRunning(){return this.adapter&&!this.adapter.killed}async configureWithDefaultValues(e){this.currentWorkspace=Mo.isWorkspaceFolderOpen()?i.workspace.workspaceFolders[0].uri:e,this.debugAdapterPath=n.join(e.fsPath,"esp_debug_adapter","debug_adapter_main.py"),this.isPostMortemDebugMode=!1,this.isOocdDisabled=!1,this.port=43474,this.logLevel=0;let t=await so(this.currentWorkspace);if(this.target=t,this.env=await ms(this.currentWorkspace),this.env.PYTHONPATH=n.join(e.fsPath,"esp_debug_adapter","debug_adapter"),this.initGdbCommands=[],this.elfFile="",this.currentWorkspace){const e=Is("idf.buildPath",this.currentWorkspace);this.elfFile=`${n.join(e,"project-name")}.elf`}}sendToOutputChannel(e){this.chan=Buffer.concat([this.chan,e])}async makeGdbinitFile(){try{if(this.initGdbCommands&&this.initGdbCommands.length>0){let e="";for(const t of this.initGdbCommands)e=e+t+W.EOL;const t=e.lastIndexOf(W.EOL);e=e.substring(0,t);const r=n.join(this.currentWorkspace.fsPath,"esp-idf-vscode-generated.gdb");return await(0,o.outputFile)(r,e),r}}catch(e){js.errorNotify("Error creating gdbinit file",e,"DebugAdapterManager makeGdbinitFile")}}}class $s{constructor(e){this.workspaceFolderUri=e}cancel(){this.isCanceled=!0}async calculateWithProgress(e){if(this.isCanceled)throw new Error(i.l10n.t("Cannot proceed with size analysis on a canceled context"));if(!await this.isBuiltAlready())throw new Error(i.l10n.t("Build is required for a size analysis, build your project first"));try{const t=await this.mapFilePath();let n=i.l10n.t("Gathering Overview");const r=Is("idf.espIdfPath",this.workspaceFolderUri),o=await us(r),s=ws(o,"5.3.0")>=0?["--format","json2"]:ws(o,"5.1.0")>=0?["--format","json"]:["--json"],a=await this.idfCommandInvoker(["idf_size.py",t,...s]);e.report({increment:30,message:n}),n=i.l10n.t("Gathering Archive List");const c=await this.idfCommandInvoker(["idf_size.py",t,"--archives",...s]);e.report({increment:30,message:n}),n=i.l10n.t("Calculating File Sizes for all the archives");const l=await this.idfCommandInvoker(["idf_size.py",t,"--file",...s]);return e.report({increment:30,message:n}),{archives:c,files:l,overview:a}}catch(e){throw e}}async mapFilePath(){const e=Is("idf.buildPath",this.workspaceFolderUri),t=await oo(e);return n.join(e,`${t}.map`)}idfPath(){const e=Is("idf.espIdfPath",this.workspaceFolderUri);return n.join(e,"tools")}async isBuiltAlready(){return Xo(await this.mapFilePath())}async idfCommandInvoker(e){const t=this.idfPath();try{const n=await kr(this.workspaceFolderUri),r=(await jo(n,e,{cwd:t,silent:!0})).toString();return JSON.parse(r)}catch(e){const t=new Error(i.l10n.t("Error encountered while calling idf_size.py"));throw js.error(e.message,e,"IDFSize idfCommandInvoker"),t}}}class Vs{static createOrShow(e,t){const r=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:void 0;if(Vs.currentPanel)return void Vs.currentPanel._panel.reveal(r);const o=i.window.createWebviewPanel(Vs.viewType,Vs.viewTitle,r||i.ViewColumn.One,{enableScripts:!0,localResourceRoots:[i.Uri.file(n.join(e.extensionPath,"dist","views"))],retainContextWhenHidden:!0});Vs.currentPanel=new Vs(o,e.extensionPath,t)}static isCreatedAndHidden(){return Vs.currentPanel&&!1===Vs.currentPanel._panel.visible}constructor(e,t,n){this._disposables=[],this._panel=e,this._extensionPath=t,this._webviewData=n;const r=n.overview&&n.overview.version;this.initWebview(r)}disposeWebview(){Vs.currentPanel=void 0}initWebview(e){this._panel.iconPath=bs(this._extensionPath),this._panel.webview.html=this.getHtmlContent(this._panel.webview,e),this._panel.onDidDispose(this.disposeWebview,null,this._disposables),this._panel.webview.onDidReceiveMessage((e=>{switch(e.command){case"flash":i.commands.executeCommand("espIdf.flashDevice");break;case"requestInitialValues":this._panel.webview.postMessage({command:"initialLoad",...this._webviewData});break;default:const e=new Error("Unrecognized command received from webview (idf-size), file: src/espIdf/size/idfSizePanel.ts");js.error(e.message,e,"IDFSizePanel unrecognized command")}}),null,this._disposables)}getHtmlContent(e,t){return`<!DOCTYPE html>\n    <html lang="en">\n    <head>\n      <meta charset="UTF-8" />\n      <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n      <title>ESP-IDF Size Analysis</title>\n    </head>\n    <body>\n      <section id="app"></section>\n      <script src="${e.asWebviewUri(i.Uri.file(n.join(this._extensionPath,"dist","views",t?"newSize-bundle.js":"size-bundle.js")))}"><\/script>\n    </body>\n    </html>`}}Vs.viewType="idfSize",Vs.viewTitle="IDF-Size Analysis";class Hs extends i.TreeItem{}!function(e){e[e.AppTraceButton=0]="AppTraceButton",e[e.HeapTraceButton=1]="HeapTraceButton"}(Rs||(Rs={}));class Gs{constructor(){this.OnDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this.OnDidChangeTreeData.event,this.initAppTraceButton(),this.initHeapTraceButton()}registerDataProviderForTree(e){return i.window.registerTreeDataProvider(e,this)}showStartButton(e){const t=this.getButtonInstance(e);t.label=this.getLabelForButton(e,"Start"),t.iconPath=new i.ThemeIcon("run-all"),t.description="",this.refresh()}showStopButton(e){const t=this.getButtonInstance(e);t.label=this.getLabelForButton(e,"Stop"),t.iconPath=new i.ThemeIcon("debug-stop"),this.refresh()}updateDescription(e,t){this.getButtonInstance(e).description=t,this.refresh()}getTreeItem(e){return e}getChildren(e){return[this.appTraceButton,this.heapTraceButton]}refresh(){this.OnDidChangeTreeData.fire(null)}initAppTraceButton(){this.appTraceButton=new Hs("Start App Trace"),this.appTraceButton.description="",this.appTraceButton.iconPath=new i.ThemeIcon("run-all"),this.appTraceButton.command={command:"espIdf.apptrace",title:""}}initHeapTraceButton(){this.heapTraceButton=new Hs("Start Heap Trace"),this.heapTraceButton.description="",this.heapTraceButton.iconPath=new i.ThemeIcon("run-all"),this.heapTraceButton.command={command:"espIdf.heaptrace",title:""}}getButtonInstance(e){let t;switch(e){case Rs.AppTraceButton:t=this.appTraceButton;break;case Rs.HeapTraceButton:t=this.heapTraceButton}return t}getLabelForButton(e,t){let n=t||"";switch(e){case Rs.AppTraceButton:n+=" App Trace";break;case Rs.HeapTraceButton:n+=" Heap Trace"}return n}}class zs extends oe.EventEmitter{static async saveConfiguration(e){await this.promptUserForEditingApptraceConfig("Data polling period for apptrace","milliseconds","trace.poll_period",(e=>e.match(/^[0-9]*$/g)?"":"Invalid poll_period value, please enter only number"),e),await this.promptUserForEditingApptraceConfig("Maximum size of data to be collected","bytes","trace.trace_size",(e=>e.match(/^(?:-1|[0-9]*)$/g)?"":"Invalid trace_size value, only -1 or positive integer allowed"),e),await this.promptUserForEditingApptraceConfig("Idle timeout for apptrace","seconds","trace.stop_tmo",(e=>e.match(/^[0-9]*$/g)?"":"Invalid stop_tmo value, please enter only number"),e),await this.promptUserForEditingApptraceConfig("Should wait for halt?","0 = Starts Immediately; else wait","trace.wait4halt",(e=>e.match(/^[0-1]$/g)?"":"Invalid wait4halt value, please enter only number"),e),await this.promptUserForEditingApptraceConfig("Number of bytes to skip at the start","bytes","trace.skip_size",(e=>e.match(/^[0-9]*$/g)?"":"Invalid skip_size value, please enter only number"),e)}static async promptUserForEditingApptraceConfig(e,t,n,r,o){const s=Is(n,o),a=await i.window.showInputBox({placeHolder:t,value:s,prompt:e,ignoreFocusOut:!0,validateInput:r});if(a){const e=Is("idf.saveScope",o);await Os(n,a,e,o)}}constructor(e,t){super(),this.treeDataProvider=e,this.archiveDataProvider=t,this.shallContinueCheckingStatus=!1}async start(e){try{if(await Di.init().promptUserToLaunchOpenOCDServer()){this.treeDataProvider.showStopButton(Rs.AppTraceButton),this.treeDataProvider.updateDescription(Rs.AppTraceButton,"");const t=this.sendCommandToTCLSession("reset",e);t.on("response",(()=>{this.executeAppTraceStart(e),t.stop()}))}}catch(e){js.errorNotify(e.message,e,"AppTraceManager start")}}executeAppTraceStart(e){const t=`file:${n.sep}${n.sep}${(0,n.join)(e.fsPath,"trace",`trace_${(new Date).getTime()}.trace`)}`.replace(/\\/g,"/"),r=Is("trace.poll_period",e),i=Is("trace.trace_size",e),o=Is("trace.stop_tmo",e),s=Is("trace.wait4halt",e),a=Is("trace.skip_size",e),c=this.sendCommandToTCLSession(["esp","apptrace","start",`{${t}}`,r,i,o,s,a].join(" "),e),l=this.appTracingStatusChecker((()=>{l.stop(),c.stop(),this.treeDataProvider.showStartButton(Rs.AppTraceButton),this.treeDataProvider.updateDescription(Rs.AppTraceButton,"[Stopped]"),this.archiveDataProvider.populateArchiveTree();const e=Di.init();e.isRunning()&&e.stop()}))}async stop(e){if(await Di.init().promptUserToLaunchOpenOCDServer()){this.shallContinueCheckingStatus=!1;const t=this.sendCommandToTCLSession("esp apptrace stop",e);t.on("response",(e=>{const n=e.toString();n.includes("Tracing is not running!")?this.treeDataProvider.updateDescription(Rs.AppTraceButton,"[NotRunning]"):n.includes("Disconnect targets")&&this.treeDataProvider.updateDescription(Rs.AppTraceButton,"[Disconnected]"),t.stop();const r=Di.init();r.isRunning()&&r.stop()}))}else this.treeDataProvider.updateDescription(Rs.AppTraceButton,"[Terminated]");this.treeDataProvider.showStartButton(Rs.AppTraceButton),this.archiveDataProvider.refresh()}sendCommandToTCLSession(e,t){Xo((0,n.join)(t.fsPath,"trace"))||(0,l.mkdirSync)((0,n.join)(t.fsPath,"trace"));const r=Is("openocd.tcl.host",t),i=Is("openocd.tcl.port",t);this.tclConnectionParams={host:r,port:i};const o=new ae(this.tclConnectionParams);return o.sendCommandWithCapture(e),o}appTracingStatusChecker(e){const t=new ae(this.tclConnectionParams);this.shallContinueCheckingStatus=!0,t.on("response",(t=>{const n=t.toString();if(n.includes("Tracing is STOPPED"))this.shallContinueCheckingStatus=!1,e();else{const e=n.match(/[0-9]* of [0-9]*/gm);if(e&&e.length>0){const t=e[0].split(" of ");try{const e=parseInt(t[0],10)/parseInt(t[1],10)*100;this.treeDataProvider.updateDescription(Rs.AppTraceButton,`${Math.round(e)}%`)}catch(e){this.treeDataProvider.updateDescription(Rs.AppTraceButton,"Tracing...")}}}})),t.on("error",(t=>{js.error("Some error prevailed while checking the tracking status",t,"AppTraceManager appTracingStatusChecker"),this.shallContinueCheckingStatus=!1,e()}));const n=setInterval((()=>{this.shallContinueCheckingStatus?t.sendCommandWithCapture("esp apptrace status"):clearInterval(n)}),500);return t}}var Ws,Ks=__webpack_require__(4583),Ys=__webpack_require__.n(Ks);class Js{constructor(e,t,n){this.workspaceRoot=e,this.traceFilePath=t,this.elfFilePath=n}async parseInternal(e,t,n){const r=await ms(this.workspaceRoot);return n.env=n.env||r,await jo(e,t,n)}appTraceToolsPath(){const e=Is("idf.espIdfPath",this.workspaceRoot);return(0,n.join)(e,"tools","esp_app_trace")}preCheck(e,t){let n=!0;return e.forEach((e=>{Bo(e,t)||(n=!1)})),n}}class Qs extends Js{async parse(){if(!this.preCheck([this.elfFilePath,this.traceFilePath],l.constants.R_OK))throw new Error("Elf File or Trace file does not exists or not accessible");if(!this.preCheck([(0,n.join)(this.appTraceToolsPath(),"logtrace_proc.py")],l.constants.X_OK))throw new Error("logtrace_proc.py tool does not exists or is not accessible");return await this.parseInternal("python",["logtrace_proc.py",this.traceFilePath,this.elfFilePath],{cwd:this.appTraceToolsPath()})}}class Xs extends Js{constructor(e,t){super(e,t)}async parse(){if(!this.preCheck([this.traceFilePath],l.constants.R_OK))throw new Error("Trace file does not exists or not accessible");if(!this.preCheck([(0,n.join)(this.appTraceToolsPath(),"sysviewtrace_proc.py")],l.constants.X_OK))throw new Error("sysviewtrace_proc.py tool is not found or not accessible");return await this.parseInternal("python",["sysviewtrace_proc.py","-j","-b",`file://${this.elfFilePath}`,`file://${this.traceFilePath}`],{cwd:this.appTraceToolsPath()})}}class Zs{constructor(e,t){this.toolName=t,this.workspaceRoot=e}async call(e){const t=await ms(this.workspaceRoot),n=await this.toolNameForTarget(this.toolName);try{return await jo(n,e,{env:t})}catch(e){js.errorNotify(`Make sure ${this.toolName} is set in the Path with proper permission`,e,"XtensaTools call")}}async toolNameForTarget(e){return zo(await so(this.workspaceRoot),e)||"unknown-tracing-tool"}}class ea extends Zs{constructor(e,t,n){super(e,"addr2line"),this.elfFilePath=t,this.address=n}async run(){if(!Bo(this.elfFilePath,l.constants.R_OK))throw new Error("Elf file not present or not accessible");return await this.call(["-e",this.elfFilePath,this.address])}}class ta extends Zs{constructor(e,t){super(e,"readelf"),this.elfFilePath=t}async run(){if(!Bo(this.elfFilePath,l.constants.R_OK))throw new Error("Elf file not present or not accessible");return await this.call(["-s",this.elfFilePath])}}class na{static createOrShow(e,t){const r=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:void 0;if(na.currentPanel)return na.currentPanel._panel.reveal(r),void(t&&(na.currentPanel._traceData=t,na.currentPanel.sendCommandToWebview("initialLoad",t)));const o=i.window.createWebviewPanel(na.viewType,na.viewTitle,r||i.ViewColumn.One,{enableScripts:!0,localResourceRoots:[i.Uri.file(n.join(e.extensionPath,"dist","views"))],retainContextWhenHidden:!0});na.currentPanel=new na(o,e.extensionPath,t)}constructor(e,t,n){this._disposables=[],this._panel=e,this._extensionPath=t,this._traceData=n,this.cache={},this.initWebview()}disposeWebview(){na.currentPanel=void 0}initWebview(){this._panel.iconPath=bs(this._extensionPath),this._panel.webview.html=this.getHtmlContent(this._panel.webview),this.sendCommandToWebview("initialLoad",this._traceData),this._panel.onDidDispose(this.disposeWebview,null,this._disposables),this._panel.webview.onDidReceiveMessage((e=>{switch(e.command){case"webviewLoad":this.sendCommandToWebview("initialLoad",this._traceData);break;case"calculate":this.parseTraceLogData().then((e=>{const t=new(Ys());this.sendCommandToWebview("calculated",{log:t.toHtml(e)})})).catch((e=>{this.sendCommandToWebview("calculateFailed",{error:e}),e.message?js.errorNotify(e.message,e,"AppTracePanel parseTraceLogData"):js.errorNotify("Failed to process the trace data",e,"AppTracePanel parseTraceLogData")}));break;case"calculateHeapTrace":this.parseHeapTraceData().then((async e=>{const t=await this.readElf();this.cache.elfMap=t,this.sendCommandToWebview("calculatedHeapTrace",{plot:e})})).catch((e=>{this.sendCommandToWebview("calculateFailed",{error:e}),e.message?js.errorNotify(e.message,e,"AppTracePanel parseHeapTraceData"):js.errorNotify("Failed to process the heap trace data",e,"AppTracePanel parseHeapTraceData")}));break;case"resolveAddresses":this.resolveAddresses({addresses:JSON.parse(e.addresses)});break;case"openFileAtLine":this.openFileAtLineNumber(e.filePath,e.lineNumber);break;default:const t=new Error("Unrecognized command received from webview (idf-trace) file: src/espIdf/tracing/appTracePanel.ts");js.error(t.message,t,"AppTracePanel unrecognized command")}}),null,this._disposables)}async openFileAtLineNumber(e,t){try{const n=await i.workspace.openTextDocument(e),r=n.lineAt(t-1).range,o=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:void 0;await i.window.showTextDocument(n,{selection:r,viewColumn:o||i.ViewColumn.One})}catch(e){js.errorNotify(e.message,e,"AppTracePanel openFileAtLineNumber")}}async readElf(){const e=Mo.isWorkspaceFolderOpen()?i.workspace.workspaceFolders[0].uri:void 0,t=await ss(e);if(!t)throw new Error("Select Elf file to process the addresses");const n=new ta(e,t),r=(await n.run()).toString().split("\n");return r.shift(),r.shift(),r.shift(),r.map((e=>e.trim().split(/\s+/))).filter((e=>"FUNC"===e[3]))}functionNameForAddress(e){let t="";if(this.cache&&this.cache.elfMap){const n=this.cache.elfMap.filter((t=>((e,t,n)=>{const r=parseInt(e,16),i=parseInt(n,16),o=r+parseInt(t,10);return i>=r&&i<=o})(t[1],t[2],e)));t=n.length>0?n[0][7]:""}return t}resolveAddresses({addresses:e}){const t=Mo.isWorkspaceFolderOpen()?i.workspace.workspaceFolders[0].uri:void 0;if(e){const n=Object.keys(e).map((n=>(async n=>{const r=new ea(t,await ss(t),n),i=(await r.run()).toString().trim().split(":"),o=i[0],s=o.split("/"),a=i[1],c=this.functionNameForAddress(n);Object.assign(e[n],{filePath:o,lineNumber:a,fileName:s,funcName:c})})(n)));Promise.all(n).then((t=>{this.sendCommandToWebview("addressesResolved",e)}))}}async parseTraceLogData(){const e=Mo.isWorkspaceFolderOpen()?i.workspace.workspaceFolders[0].uri:void 0,t=new Qs(e,this._traceData.trace.filePath,await ss(e));return(await t.parse()).toString()}async parseHeapTraceData(){const e=Mo.isWorkspaceFolderOpen()?i.workspace.workspaceFolders[0].uri:void 0,t=new Xs(e,this._traceData.trace.filePath),n=(await t.parse()).toString();return JSON.parse(n)}sendCommandToWebview(e,t){this._panel.webview&&this._panel.webview.postMessage({command:e,value:t})}getHtmlContent(e){return`<!DOCTYPE html>\n    <html lang="en">\n    <head>\n      <meta charset="UTF-8" />\n      <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n      <title>ESP-IDF Tracing</title>\n    </head>\n    <body>\n      <div id="app"></div>\n      <script src="${e.asWebviewUri(i.Uri.file(n.join(this._extensionPath,"dist","views","tracing-bundle.js")))}"><\/script>\n    </body>\n    </html>`}notFoundStaticHtml(){return'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <title>ESP-IDF Not Found</title>\n</head>\n<body>\n    Error loading the page or the page not found\n</body>\n</html>'}}na.viewType="idfTrace",na.viewTitle="IDF Tracing";class ra{constructor(e,t){this.gdbinitFileName="heaptrace-gdbinit",this.treeDataProvider=e,this.archiveDataProvider=t,Q.init()}async start(e){try{if(await Di.init().promptUserToLaunchOpenOCDServer()){this.showStopButton(),(0,o.ensureDir)((0,n.join)(e.fsPath,"trace"));const t=`file://${(0,n.join)(e.fsPath,"trace").replace(/\\/g,"/")}/htrace_${(new Date).getTime()}.svdat`,r=Is("idf.buildPath",e);if(!await(0,o.pathExists)(r))throw new Error(`${r} doesn't exist. Build first.`);await this.createGdbinitFile(t,r);const s=await ms(e),c=zo(s.IDF_TARGET||"esp32","gdb");if(!await ys(c,s))throw new Error(`${c} is not available in PATH.`);const l=await oo(r),u=(0,n.join)(r,`${l}.elf`);if(!await(0,o.pathExists)(u))throw new Error(`${u} doesn't exist.`);this.childProcess=(0,a.spawn)(`${c} -x ${this.gdbinitFileName} "${u}"`,[],{cwd:r,env:s,shell:i.env.shell}),this.childProcess.stdout.on("data",(e=>{js.info(e.toString()),this.errorHandler(e.toString())})),this.childProcess.stderr.on("data",(e=>{js.info(e.toString()),this.errorHandler(e.toString())})),this.childProcess.on("error",(e=>{js.errorNotify(e.message,e,"GdbHeapTraceManager start error"),this.stop()})),this.childProcess.on("exit",((e,t)=>{if(e&&0!==e){const n=`Heap tracing process exited with code ${e} and signal ${t}`;js.errorNotify(n,new Error(n),"GdbHeapTraceManager start exit")}}))}}catch(e){const t=e.message?e.message:"Error starting GDB Heap Tracing";js.errorNotify(t,e,"GdbHeapTraceManager start"),Q.appendLine(t,"GDB Heap Trace"),this.stop()}}async stop(){try{this.childProcess&&(this.childProcess.stdin.write("quit\n"),await new Promise((e=>setTimeout(e,1e3))),this.childProcess.killed||this.childProcess.kill("SIGKILL"),this.childProcess=null),this.archiveDataProvider.populateArchiveTree(),this.showStartButton()}catch(e){const t=e.message?e.message:"Error stopping GDB Heap Tracing";js.errorNotify(t,e,"GdbHeapTraceManager stop")}}showStopButton(){this.treeDataProvider.showStopButton(Rs.HeapTraceButton)}showStartButton(){this.treeDataProvider.showStartButton(Rs.HeapTraceButton)}errorHandler(e){-1!==e.indexOf('Function "heap_trace_start" not defined')||-1!==e.indexOf('Function "heap_trace_stop" not defined')?(js.infoNotify("Could not perform heap tracing."),this.stop()):-1!==e.indexOf("Tracing is STOPPED")&&(i.window.showInformationMessage("Heap tracing done"),this.stop())}async createGdbinitFile(e,t){let r="set pagination off\nset confirm off\ntarget remote :3333\n\nmon reset halt\nflushregs\n\n";r+=`tb heap_trace_start\ncommands\nmon esp sysview_mcore start "${e}"\n`,r+="c\nend\n\ntb heap_trace_stop\ncommands\nmon esp sysview_mcore stop\nend\n\nc";const i=(0,n.join)(t,this.gdbinitFileName);await(0,o.writeFile)(i,r)}}!function(e){e[e.AppTrace=0]="AppTrace",e[e.HeapTrace=1]="HeapTrace"}(Ws||(Ws={}));class ia extends i.TreeItem{}class oa{constructor(){this.OnDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this.OnDidChangeTreeData.event,this.populateArchiveTree()}registerDataProviderForTree(e){return i.window.registerTreeDataProvider(e,this)}getTreeItem(e){return e}getChildren(e){return this.appTraceArchives}refresh(){this.OnDidChangeTreeData.fire(null)}populateArchiveTree(){this.appTraceArchives=Array(0);const e=Mo.isWorkspaceFolderOpen()?i.workspace.workspaceFolders[0].uri.fsPath:"",t=(0,n.join)(e,"trace");if((0,l.existsSync)(t)){const e=(0,l.readdirSync)(t);let n=1;const r=[];e.filter((e=>e.endsWith(".trace"))).forEach((e=>{const i="Trace Log #"+n++,o=this.constructAppTraceArchiveItemNode(i,e,t,Ws.AppTrace);r.push(o)})),r.reverse(),this.appTraceArchives=this.appTraceArchives.concat(r),r.splice(0,r.length),n=1,e.filter((e=>e.endsWith(".svdat"))).forEach((e=>{const i="Heap Trace #"+n++,o=this.constructAppTraceArchiveItemNode(i,e,t,Ws.HeapTrace);r.push(o)})),r.reverse(),this.appTraceArchives=this.appTraceArchives.concat(r),r.splice(0,r.length)}this.refresh()}constructAppTraceArchiveItemNode(e,t,r,o){const s=t.split("_"),a=new ia(e);a.fileName=e,a.filePath=(0,n.join)(r,t),a.type=o,a.type===Ws.HeapTrace?(a.command={command:"espIdf.apptrace.archive.showReport",title:"Show Report",arguments:[a]},a.iconPath=new i.ThemeIcon("pulse")):(a.command={command:"vscode.open",title:"Open File",arguments:[i.Uri.file(a.filePath)]},a.iconPath=new i.ThemeIcon("archive"));const c=(0,l.statSync)(a.filePath);return a.description=`${this.sinceAgo(s[1].split(".trace")[0])} ${c.size}B`,a.tooltip=`${e} has ${c.size} bytes (${this.sinceAgo(s[1].split(".trace")[0])})`,a}sinceAgo(e){const t=new Date(parseInt(e)),n=new Date;return n.getFullYear()-t.getFullYear()!=0?n.getFullYear()-t.getFullYear()+" year ago":n.getMonth()-t.getMonth()!=0?n.getMonth()-t.getMonth()+" month ago":n.getDate()-t.getDate()!=0?n.getDate()-t.getDate()+" day ago":n.getHours()-t.getHours()!=0?n.getHours()-t.getHours()+" hour ago":n.getMinutes()-t.getMinutes()!=0?n.getMinutes()-t.getMinutes()+" minute ago":"a few seconds ago"}}class sa{static show(e,t){const r=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:void 0;if(this.instance)return this.instance.panel.reveal(r);const o=i.window.createWebviewPanel("system-view","ESP System View Report",r||i.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[i.Uri.file((0,n.join)(e,"dist","views"))]});this.instance=new sa(o,e,t)}dispose(){for(sa.instance=null,this.panel.dispose();this.disposable.length;){const e=this.disposable.pop();e&&e.dispose()}}constructor(e,t,n){this.disposable=[],this.panel=e,this.extensionPath=t,this.traceData=n,this.panel.onDidDispose((()=>this.dispose()),null,this.disposable),this.panel.iconPath=bs(t),this.panel.webview.html=this.initWebView(e.webview),this.panel.webview.onDidReceiveMessage((t=>{"getInitialValues"===t.command&&e.webview&&e.webview.postMessage({command:"initialLoad",value:n})}),null,this.disposable)}initWebView(e){return`<!DOCTYPE html>\n    <html lang="en">\n    <head>\n      <meta charset="UTF-8" />\n      <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n      <title>System View Trace</title>\n    </head>\n    <body>\n      <section id="app"></section>\n      <script src="${e.asWebviewUri(i.Uri.file((0,n.join)(this.extensionPath,"dist","views","sysView-bundle.js")))}"><\/script>\n    </body>\n    </html>`}}class aa{static parseWithProgress(e,t){const n=Is("idf.notificationMode"),r=n===Ss.All||n===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({location:r,cancellable:!1,title:"ESP-IDF: Processing your tracing file to generate System View Report"},(async()=>{try{const n=await this.parseSVDATToJSON(e.filePath);sa.show(t,n)}catch(e){js.errorNotify("Failed to parse JSON from SVDAT file, make sure you've the proper version of sysviewtrace_proc.py installed and it supports JSON format output with (-j) flag",e,"SystemViewResultParser parseWithProgress")}}))}static async parseSVDATToJSON(e){const t=new Xs(void 0,e),n=await t.parse();return JSON.parse(n.toString())}}const ca=require("querystring"),la="esp.rainmaker.login.tokens",ua="esp.rainmaker.login.nodes";var pa,da,ha,fa,ma,ga,ya;!function(e){e.LoginRequired="Login is required"}(pa||(pa={}));class va{static async exchangeCodeForTokens(e){const n=await fr.post(t.Rainmaker.OAuth.AuthURL,(0,ca.stringify)({grant_type:t.Rainmaker.OAuth.GrantType,client_id:t.Rainmaker.OAuth.ClientID,redirect_uri:t.Rainmaker.OAuth.RedirectURL,code:e}),{headers:this.generateUserAgentHeader()});if(200===n.status&&n.data.access_token){const e={idtoken:n.data.id_token,accesstoken:n.data.access_token,refreshtoken:n.data.refresh_token,status:"success",description:"Login successful"};return this.updateUserTokens(e),this.setUserLoggedInContext(!0),e}}static async login(e,t){const n=await fr.post(this.generateURLFor("login"),{user_name:e,password:t},{headers:this.generateUserAgentHeader()});if(200===n.status&&"success"===n.data.status)return this.updateUserTokens(n.data),this.setUserLoggedInContext(!0),n.data;this.throwUnknownError(n)}static logout(){this.updateUserTokens(void 0),this.updateNodeCache(void 0),this.setUserLoggedInContext(!1)}static isLoggedIn(){const e=!!this.getUserTokens();return this.setUserLoggedInContext(e),e}static async refreshAccessToken(){if(!this.isLoggedIn())throw new Error(pa.LoginRequired);const e=this.getUserTokens(),t=await fr.post(this.generateURLFor("login"),{refreshtoken:e.refreshtoken},{headers:va.generateUserAgentHeader()});if(200===t.status&&"success"===t.data.status)return this.updateUserTokens(Object.assign(e,t.data));this.throwUnknownError(t)}static async getAllUserAssociatedNodes(){const e=this.getNodesFromCache();if(e)return e;const t=await fr.get(this.generateURLFor("user/nodes?node_details=true"),{headers:this.getAuthHeader()});if(200===t.status&&t.data.nodes)return this.updateNodeCache(t.data),t.data;this.throwUnknownError(t)}static clearNodesCache(){this.updateNodeCache(void 0)}static async deleteNode(e){await this.refreshAccessToken();const t=await fr.put(this.generateURLFor("user/nodes/mapping"),{node_id:e,operation:"remove"},{headers:this.getAuthHeader()});if(200===t.status&&t.data)return t.data;this.throwUnknownError(t)}static async getNodeParams(e){const t=await fr.get(this.generateURLFor(`user/nodes/params?nodeid=${e}`),{headers:this.getAuthHeader()});if(200===t.status&&t.data)return t.data;this.throwUnknownError(t)}static async updateNodeParam(e,t,n,r){const i={};i[t]={},i[t][n]=r;const o=await fr.put(this.generateURLFor(`user/nodes/params?nodeid=${e}`),i,{headers:this.getAuthHeader()});if(200===o.status&&"success"===o.data.status)return o.data;this.throwUnknownError(o)}static async getUserInfo(){try{const e=await fr.get(this.generateURLFor("user"),{headers:this.getAuthHeader()});if(200===e.status&&e.data.user_id)return e.data}catch(e){if(401===e.response.status)return await this.refreshAccessToken(),this.getUserInfo();this.throwUnknownError(e)}}static getAuthHeader(){if(!this.isLoggedIn())throw new Error(pa.LoginRequired);const e={Authorization:this.getUserTokens().accesstoken};return Object.assign(e,va.generateUserAgentHeader()),e}static generateURLFor(e){let t=Is("esp.rainmaker.api.server_url");return t||(t="https://api.rainmaker.espressif.com/v1"),t.endsWith("/")&&(t=t.slice(0,t.length-1)),`${t}/${e}`}static getUserTokens(){return t.Rainmaker.store.get(la,void 0)}static updateUserTokens(e){return t.Rainmaker.store.set(la,e)}static getNodesFromCache(){return t.Rainmaker.store.get(ua,void 0)}static updateNodeCache(e){return t.Rainmaker.store.set(ua,e)}static generateUserAgentHeader(){return{"User-Agent":t.HTTP_USER_AGENT}}static throwUnknownError(e){const t=new Error("Unknown Error while trying to login with rainmaker server");throw js.error(t.message,t,"RainmakerAPIClient throwUnknownError",{meta:e}),t}static setUserLoggedInContext(e){return i.commands.executeCommand("setContext","rainmaker_logged_in",e)}}!function(e){e[e.None=0]="None",e.Login="login",e.Account="account",e.Node="node",e.Device="device",e.Param="param"}(da||(da={}));class ba extends i.TreeItem{getMeta(){return this._meta}set meta(e){this._meta=e}constructor(e,t,n){super(t),this.type=e,this.contextValue=e.toString(),this.collapsibleState=i.TreeItemCollapsibleState.None,this.command={title:t,command:"",tooltip:n}}set commandId(e){this.command||(this.command={title:"",command:e,tooltip:""}),this.command.command=e}set themeIcon(e){this.iconPath=new i.ThemeIcon(e)}}function wa(){const e=new ba(da.Login,"Connect Rainmaker...");return e.themeIcon="sign-in",e.commandId="esp.rainmaker.backend.connect",e}function _a(e){const t=new ba(da.Account,"Rainmaker Cloud");return t.collapsibleState=i.TreeItemCollapsibleState.Collapsed,t.themeIcon="cloud-upload",t.description=`(${e.user_name})`,t}function Ea(){const e=new ba(da.None,"No nodes associated");return e.description="Try adding some ESP32-S2 devices",e.themeIcon="warning",e}!function(e){e.Switch="esp.device.switch",e.LightBulb="esp.device.lightbulb",e.Fan="esp.device.fan",e.TemperatureSensor="esp.device.temperature-sensor"}(ha||(ha={})),function(e){e.Name="esp.param.name",e.Power="esp.param.power",e.Brightness="esp.param.brightness",e.ColorTemperature="esp.param.cct",e.Hue="esp.param.hue",e.Saturation="esp.param.saturation",e.Intensity="esp.param.intensity",e.Speed="esp.param.speed",e.Direction="esp.param.direction",e.Temperature="esp.param.temperature"}(fa||(fa={}));class xa{constructor(){this._onDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,va.isLoggedIn()}getTreeItem(e){return e}async getChildren(e){if(!e)return va.isLoggedIn()?[_a(await va.getUserInfo())]:[wa()];if(e.type===da.Account){const e=await this.fetchNodes();if(!e)return;return 0===e.nodes.length?[Ea()]:e.node_details.map((e=>function(e){const t=new ba(da.Node,e.config.info.name);return t.collapsibleState=i.TreeItemCollapsibleState.Collapsed,t.description=e.status.connectivity.connected?"(online)":"(offline)",t.themeIcon="circuit-board",t.id=e.id,t.meta=e,t}(e)))}if(e.type===da.Node){const t=e.getMeta();return t.config.devices.map((e=>function(e,t){const n=new ba(da.Device,e.name);return n.collapsibleState=i.TreeItemCollapsibleState.Collapsed,n.themeIcon=function(e){switch(e){case ha.Switch:return"symbol-boolean";case ha.LightBulb:return"lightbulb";case ha.Fan:return"chrome-close";case ha.TemperatureSensor:return"radio-tower";default:return"symbol-event"}}(e.type),n.id=`${t}::${e.name}`,n.meta=e,n}(e,t.id)))}if(e.type===da.Device){const t=e.id.split("::")[0];let n=null;const r=e.getMeta();try{const e=await va.getNodeParams(t);n=e[r.name]}catch(e){js.errorNotify("Failed to get params for device",e,"ESPRainMakerTreeDataProvider getChildren")}return r.params.map((t=>function(e,t,n){const r=new ba(da.Param,t.name);return r.tooltip=t.type,r.description=n.toString(),r.themeIcon=function(e){switch(e){case fa.Name:return"case-sensitive";case fa.Power:return"plug";case fa.Brightness:case fa.ColorTemperature:case fa.Hue:case fa.Saturation:case fa.Intensity:return"color-mode";case fa.Speed:return"dashboard";case fa.Direction:return"arrow-both";case fa.Temperature:return"symbol-ruler";default:return"symbol-namespace"}}(t.type),r.id=`${e}::${t.name}`,r.meta=t,r}(e.id,t,n?n[t.name]:"")))}}async refresh(){await this.purgeClientCacheAndToken(),this._onDidChangeTreeData.fire(null)}registerDataProviderForTree(e){return i.window.registerTreeDataProvider(e,this)}async fetchNodes(){try{return await va.getAllUserAssociatedNodes()}catch(e){js.warnNotify("Failed to fetch node details, try refreshing",e)}}async purgeClientCacheAndToken(){va.clearNodesCache();try{va.isLoggedIn()&&await va.refreshAccessToken()}catch(e){js.warnNotify("Failed to refresh access token, try once again",e)}}}class Sa{constructor(){this._onDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event}getTreeItem(e){return e}getChildren(e){return e&&e.commandType===ma.Category?this.getAdvancedCommands():this.getInitialCommands()}refresh(e){this._onDidChangeTreeData.fire(e)}getAdvancedCommands(){const e=[],t={[Xr.Setup]:{checkboxState:void 0,iconId:"extensions",tooltip:i.l10n.t("Configure ESP-IDF Extension")},[Xr.NewProject]:{checkboxState:void 0,iconId:"add",tooltip:i.l10n.t("New Project Wizard")},[Xr.DoctorCommand]:{checkboxState:void 0,iconId:"bug",tooltip:i.l10n.t("Doctor Command")},[Xr.Size]:{checkboxState:void 0,iconId:"info",tooltip:i.l10n.t("ESP-IDF Size")},[Xr.EraseFlash]:{checkboxState:void 0,iconId:"close-all",tooltip:i.l10n.t("Erase Flash")},[Xr.GetADF]:{checkboxState:void 0,iconId:"extensions",tooltip:i.l10n.t("Install ESP-ADF")},[Xr.GetMDF]:{checkboxState:void 0,iconId:"extensions",tooltip:i.l10n.t("Install ESP-MDF")},[Xr.GetEspMatter]:{checkboxState:void 0,iconId:"extensions",tooltip:i.l10n.t("Install ESP-Matter")},[Xr.GetRainmaker]:{checkboxState:void 0,iconId:"extensions",tooltip:i.l10n.t("Install ESP-Rainmaker")},[Xr.ProjectConfEditor]:{checkboxState:void 0,iconId:"project",tooltip:i.l10n.t("Project Configuration editor")},[Xr.InstallIdfPythonReqs]:{checkboxState:void 0,iconId:"extensions",tooltip:i.l10n.t("Install Extension Python Requirements")},[Xr.InstallMatterPythonReqs]:{checkboxState:void 0,iconId:"extensions",tooltip:i.l10n.t("Install ESP-Matter Python Requirements")},[Xr.CreateVscodeFolder]:{checkboxState:void 0,iconId:"add",tooltip:i.l10n.t("Add .vscode subdirectory files")},[Xr.CreateDevContainerFolder]:{checkboxState:void 0,iconId:"add",tooltip:i.l10n.t("Add .devcontainer subdirectory files")},[Xr.CreateIdfComponent]:{checkboxState:void 0,iconId:"add",tooltip:i.l10n.t("Create ESP-IDF Component")},[Xr.JtagFlash]:{checkboxState:void 0,iconId:"zap",tooltip:i.l10n.t("Flash with JTAG")},[Xr.UartFlash]:{checkboxState:void 0,iconId:"zap",tooltip:i.l10n.t("Flash with UART")},[Xr.DfuFlash]:{checkboxState:void 0,iconId:"zap",tooltip:i.l10n.t("Flash with DFU")},[Xr.WebsocketMonitor]:{checkboxState:void 0,iconId:"device-desktop",tooltip:i.l10n.t("Launch Websocket server and IDF Monitor")},[Xr.ClassicMenuconfig]:{checkboxState:void 0,iconId:"gear",tooltip:i.l10n.t("Classic Menuconfig")}};for(let n of Object.values(Xr)){let r=new Ta(t[n].tooltip,ma.Command,n,t[n].iconId,t[n].checkboxState);e.push(r)}return e}getInitialCommands(){const e=[],t=ui();for(let n of Object.values(Qr)){let r=new Ta(t[n].tooltip,ma.Command,n,t[n].iconId,t[n].checkboxState);e.push(r)}const n=new Ta("Advanced",ma.Category);return e.push(n),e}registerDataProviderForTree(e){const t=i.window.createTreeView(e,{treeDataProvider:this});return t.onDidChangeCheckboxState((e=>{for(const t of e.items)Pi(t[0])})),t}}!function(e){e[e.Category=0]="Category",e[e.Command=1]="Command"}(ma||(ma={}));class Ta extends i.TreeItem{constructor(e,t,n,r,o,s){super(e,t===ma.Category?i.TreeItemCollapsibleState.Collapsed:i.TreeItemCollapsibleState.None),this.label=e,this.commandType=t,this.tooltip=e,n&&(this.command={command:n,title:e,arguments:s}),r&&(this.iconPath=new i.ThemeIcon(r)),void 0!==typeof o&&(this.checkboxState=o)}}!function(e){e.Google="Google",e.Github="Github",e.SignInWithApple="SignInWithApple"}(ga||(ga={}));class Ca{static openExternalOAuthURL(e){const t=Is("esp.rainmaker.oauth.url");let n;try{n=new URL(t)}catch(e){const n=new Error(`Invalid OAuth Server URL, ${t}`);throw js.errorNotify(n.message,n,"RainmakerOAuthManager openExternalOAuthURL"),n}const r=new URLSearchParams(this.getDefaultURLParams());r.set("identity_provider",e),r.set("state","uri:vscode://espressif.esp-idf-extension/rainmaker"),n.search=r.toString(),i.env.openExternal(i.Uri.parse(n.toString()))}static getDefaultURLParams(){const e=new URLSearchParams;return e.set("redirect_uri",t.Rainmaker.OAuth.RedirectURL),e.set("response_type",t.Rainmaker.OAuth.ResponseType),e.set("client_id",t.Rainmaker.OAuth.ClientID),e.set("scope",t.Rainmaker.OAuth.Scope),e}}!function(e){e[e.OAuth=0]="OAuth",e[e.Basic=1]="Basic"}(ya||(ya={}));class Pa{static init(e){return this.self?this.self:new Pa(e)}constructor(e){this.ctx=e}get(e,t){return this.ctx.globalState.get(e,t)}set(e,t){this.ctx.globalState.update(e,t)}clear(e){return this.set(e,void 0)}}async function Ia(e){const t=zo(await so(e)||"esp32","gcov"),r=await async function(e){const t=new Set;return await async function e(r){const i=await(0,o.readdir)(r);for(const s of i){const i=(0,n.join)(r,s);(await(0,o.stat)(i)).isDirectory()?await e(i):".gcda"===(0,n.extname)(i)&&t.add(i)}}(e.fsPath),Array.from(t)}(e);let i=`"${t}" -b --stdout --json-format`;for(const e of r)i+=` "${e}"`;return new Promise((async(t,n)=>{const r=await ms(e);(0,a.exec)(i,{maxBuffer:268435456,env:r,cwd:e.fsPath},((e,r,i)=>{if(e){const t=e&&e.message?e.message:e;return js.error(`exec error: ${t}`,e,"gcdaPaths getGcovData"),n(e)}const o=[];if(!r)return n(i);const s=r.toString().split("\n");for(const e of s)0!==e.length&&o.push(JSON.parse(e));return t(o)}))}))}function Oa(e,t){return 0===t?"0.0%":`${(e/t*100).toFixed(1)}%`}function ka(e,t){if(0===t)return"";const n=e/t*100;return n>=90?"coverage-high":n>=75?"coverage-medium":n<75?"coverage-low":""}async function Da(e,t,r){const i=[];try{for(let o of t){let t="";if(o.document.fileName.indexOf(e.fsPath)>-1){const r=o.document.fileName.replace(e+n.sep,"").split(n.sep);if(r&&r.length>1){const i=r.pop(),o=Is("idf.buildPath",e);t=(0,n.join)(o,"esp-idf",r[r.length-1],"CMakeFiles",`__idf_${r[r.length-1]}.dir`,i).replace(/\\/g,"/")}}for(const e of r)for(const r of e.files){const e=(0,n.basename)(r.file);if(-1!==t.toLowerCase().indexOf(e.toLowerCase())||-1!==o.document.fileName.replace(/\\/g,"/").toLowerCase().indexOf(e.toLowerCase())){const e={allLines:[],countPerLines:[],coveredLines:[],editor:o,partialLines:[],uncoveredLines:[]};for(let t=0;t<o.document.lineCount;t++)e.allLines.push(o.document.lineAt(t).range);const t=r.lines.reduce(((e,t)=>e<t.count?t.count:e),0)||1,n=Math.round(.9*t)||1,s=Math.floor(.75*t)||1;for(let t of r.lines)if(t&&!t["gcovr/noncode"]){const r=o.document.lineAt(t.line_number-1).range,i=e.allLines.findIndex((e=>e.isEqual(r)));e.allLines.splice(i,1),t.count>=n?e.coveredLines.push(r):s<=t.count&&t.count<n?e.partialLines.push(r):e.uncoveredLines.push(r),e.countPerLines.push({range:r,count:t.count})}i.push(e);break}}}}catch(e){const t=e.message?e.message:e;js.error("Error generate editor coverage.\nCheck the ESP-IDF output for more details."+t,e,"coverageService generateCoverageForEditors"),Q.appendLine(t+"\nError generating editor coverage.\nReview the code coverage tutorial https://docs.espressif.com/projects/vscode-esp-idf-extension/en/latest/additionalfeatures/coverage.html \nor ESP-IDF documentation: https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-guides/app_trace.html#gcov-source-code-coverage \n")}return i}let Aa;function Ra(e){return{darkThemeCoveredBackgroundColor:Is("idf.coveredDarkTheme",e),darkThemeUncoveredBackgroundColor:Is("idf.uncoveredDarkTheme",e),darkThemePartialBackgroundColor:Is("idf.partialDarkTheme",e),lightThemeCoveredBackgroundColor:Is("idf.coveredLightTheme",e),lightThemePartialBackgroundColor:Is("idf.partialLightTheme",e),lightThemeUncoveredBackgroundColor:Is("idf.uncoveredLightTheme",e),overviewRuleLane:i.OverviewRulerLane.Right}}class Na{constructor(e,t){this.workspaceFolder=e,this.coveredDecoratorType=i.window.createTextEditorDecorationType({isWholeLine:!0,dark:{backgroundColor:t.darkThemeCoveredBackgroundColor||"rgba(0,128,0,0.4)"},light:{backgroundColor:t.lightThemeCoveredBackgroundColor||"rgba(0,128,0,0.4)"},overviewRulerLane:t.overviewRuleLane||i.OverviewRulerLane.Left}),this.partialDecoratorType=i.window.createTextEditorDecorationType({isWholeLine:!0,dark:{backgroundColor:t.darkThemePartialBackgroundColor||"rgba(250,218,94,0.1)"},light:{backgroundColor:t.lightThemePartialBackgroundColor||"rgba(250,218,94,0.1)"},overviewRulerLane:t.overviewRuleLane||i.OverviewRulerLane.Left}),this.notCoveredDecoratorType=i.window.createTextEditorDecorationType({isWholeLine:!0,dark:{backgroundColor:t.darkThemeUncoveredBackgroundColor||"rgba(255,0,0,0.1)"},light:{backgroundColor:t.lightThemeUncoveredBackgroundColor||"rgba(255,0,0,0.1)"},overviewRulerLane:t.overviewRuleLane||i.OverviewRulerLane.Left}),this.marginDecoratorType=i.window.createTextEditorDecorationType({before:{contentText:" ",margin:"0 3em 0 0"},rangeBehavior:i.DecorationRangeBehavior.ClosedOpen}),this.countDecoratorTypes=[],this.cache=[]}setDecoratorsForEditor(e){for(const t of e)t.editor.setDecorations(this.coveredDecoratorType,t.coveredLines),t.editor.setDecorations(this.partialDecoratorType,t.partialLines),t.editor.setDecorations(this.notCoveredDecoratorType,t.uncoveredLines),t.editor.setDecorations(this.marginDecoratorType,t.allLines),t.countPerLines.forEach((e=>{const n=i.window.createTextEditorDecorationType({before:{backgroundColor:"rgba(255, 255, 255, 0.2)",contentText:e.count.toString(),margin:"0 3em 0 0",textDecoration:"none"},rangeBehavior:i.DecorationRangeBehavior.ClosedOpen});t.editor.setDecorations(n,[e.range]),this.countDecoratorTypes.push(n)}))}async renderCoverage(){const e=i.window.visibleTextEditors;if(this.gcovObj=await Ia(this.workspaceFolder),e&&e.length>0&&this.cache.length<1){const t=await Da(this.workspaceFolder,e,this.gcovObj);this.setDecoratorsForEditor(t),this.cache=t,this.listenToEditorEvent(),this.listenToCovChanges()}}async editorEventHandler(e){const t=[],n=[];for(const r of e){const e=this.cache.find((e=>e.editor.document.uri.fsPath===r.document.uri.fsPath));e?(e.editor=r,n.push(e)):t.push(r)}this.setDecoratorsForEditor(n);const r=await Da(this.workspaceFolder,t,this.gcovObj);this.cache.push(...r),this.setDecoratorsForEditor(r)}listenToEditorEvent(){this.editorEventListener=i.window.onDidChangeVisibleTextEditors(this.editorEventHandler.bind(this))}listenToCovChanges(){this.coverageWatcher=i.workspace.createFileSystemWatcher("**/*.{gcda,gcno}"),this.coverageWatcher.onDidChange(this.renderCoverage.bind(this)),this.coverageWatcher.onDidCreate(this.renderCoverage.bind(this)),this.coverageWatcher.onDidDelete(this.renderCoverage.bind(this))}removeCoverage(){const e=i.window.visibleTextEditors;for(const t of e){for(t.setDecorations(this.coveredDecoratorType,[]),t.setDecorations(this.notCoveredDecoratorType,[]),t.setDecorations(this.partialDecoratorType,[]);this.countDecoratorTypes.length>0;){const e=this.countDecoratorTypes.pop();t.setDecorations(e,[]),e.dispose()}t.setDecorations(this.marginDecoratorType,[])}this.cache=[],this.coverageWatcher&&this.coverageWatcher.dispose(),this.editorEventListener&&this.editorEventListener.dispose()}dispose(){this.coverageWatcher.dispose(),this.coveredDecoratorType.dispose(),this.editorEventListener.dispose(),this.marginDecoratorType.dispose(),this.notCoveredDecoratorType.dispose(),this.partialDecoratorType.dispose()}}var La,Fa,Ma,ja,Ba=__webpack_require__(7699);class Ua extends oe.EventEmitter{constructor(e){super(),this._host="localhost",this._port=e}start(){this._wsServer=new Ba.Server({host:this._host,port:this._port}),this._wsServer.on("error",(e=>this.emit("error",e))).on("listening",(()=>this.emit("started"))).on("connection",((e,t)=>{if(this._client&&this._client.OPEN)return e.close(1001,"Only one client allowed to connect");this._client=e,this._client.on("close",((e,t)=>this.emit("close",{code:e,reason:t}))).on("error",(e=>this.emit("error",e))).on("message",(e=>{try{e=e.toString();const t=JSON.parse(e);t.event&&"coredump"===t.event?this.emit("core-dump-detected",t):"gdb_stub"===t.event?this.emit("gdb-stub-detected",t):this.emit("unknown-message",e)}catch(t){js.errorNotify("Failed to parse the websocket message",t,"WSServer start"),this.emit("unknown-message",e,t)}}))}))}done(){this._client?.send(JSON.stringify({event:"debug_finished"}))}close(){this._wsServer.close()}}class qa{static updateConfiguration(e){qa.config=e}static async start(){const e=await ms(this.config.workspaceFolder);qa.terminal||(qa.terminal=i.window.createTerminal({name:"ESP-IDF Monitor "+(this.config.wsPort?"(--ws enabled)":""),env:e,cwd:this.config.workspaceFolder.fsPath||e.IDF_PATH||process.cwd(),strictEnv:!0,shellArgs:this.config.shellExecutableArgs||[],shellPath:this.config.shellPath||i.env.shell}),i.window.onDidCloseTerminal((e=>{e.processId===qa.terminal.processId&&(qa.terminal=void 0)}))),qa.terminal.show();const t=function(){const e=i.env.shell,t=["powershell","cmd","bash","zsh","pwsh"];for(let n=0;n<t.length;n++)if(e&&e.includes(t[n]))return t[n];const n=(0,W.platform)();return"win32"===n?"powershell":"darwin"===n?"zsh":"linux"===n?"bash":null}(),r=e=>t.includes("powershell")||t.includes("pwsh")?`'${e.replace(/'/g,"''")}'`:t.includes("cmd")?`"${e}"`:`'${e}'`,o=this.config.baudRate||e.IDF_MONITOR_BAUD||e.MONITORBAUD||"115200",s=[r(this.config.pythonBinPath),r(this.config.idfMonitorToolPath),"-p",this.config.port,"-b",o,"--toolchain-prefix",this.config.toolchainPrefix],a=r((0,n.join)(e.IDF_PATH,"tools","idf.py")),c=r(this.config.pythonBinPath)+" "+a;s.push("--make",r(c)),(this.isDebugSessionActive()||this.config.noReset&&this.config.idfVersion>="5.0")&&s.splice(2,0,"--no-reset"),this.config.enableTimestamps&&this.config.idfVersion>="4.4"&&s.push("--timestamps"),this.config.customTimestampFormat.length>0&&this.config.idfVersion>="4.4"&&s.push("--timestamp-format",JSON.stringify(this.config.customTimestampFormat)),this.config.idfVersion>="4.3"&&s.push("--target",this.config.idfTarget),this.config.wsPort&&s.push("--ws",`ws://localhost:${this.config.wsPort}`),s.push(r(this.config.elfFilePath));const l="win32"===process.platform?"set":"export",u=r(e.IDF_PATH);return t.includes("powershell")||t.includes("pwsh")?(this.terminal.sendText(`$env:IDF_PATH = ${u};`),await new Promise((e=>setTimeout(e,1e3))),this.terminal.sendText(` & ${s.join(" ")}\r`)):t.includes("cmd")?(this.terminal.sendText(`${l} IDF_PATH=${e.IDF_PATH}`),this.terminal.sendText(s.join(" "))):(this.terminal.sendText(`${l} IDF_PATH=${u}`),this.terminal.sendText(s.join(" "))),this.terminal}static async dispose(){try{this.terminal.sendText(t.CTRL_RBRACKET),this.terminal.sendText("exit")}catch(e){}}static isDebugSessionActive(){return void 0!==i.debug.activeDebugSession}}class $a{static addTask(e,n,r,o,s,a){if(-1!==$a.tasks.findIndex((t=>t.definition.taskId===e.taskId)))return;const c=new i.Task(e,n,r,t.extensionID,o,s);c.presentationOptions=a,$a.tasks.push(c)}static disposeListeners(){for(const e of $a.disposables)e.dispose();$a.disposables=[],$a.tasks=[]}static cancelTasks(){for(const e of $a.tasks){const t=i.tasks.taskExecutions.find((t=>-1!==t.task.definition.taskId.indexOf(e.definition.taskId)));t&&t.terminate()}$a.tasks=[]}static async runTasks(){return new Promise((async(e,t)=>{if(0===$a.tasks.length)return e();let n=await i.tasks.executeTask($a.tasks[0]);const r=i.tasks.onDidEndTaskProcess((async r=>{if(r.execution&&-1!==r.execution.task.definition.taskId.indexOf(n.task.definition.taskId)){const o={taskId:n.task.definition.taskId,exitCode:r.exitCode,taskName:n.task.name};$a.taskResults.push(o);const s=$a.tasks.findIndex((e=>e.definition.taskId===n.task.definition.taskId));if(-1!==s&&$a.tasks.splice(s,1),0!==r.exitCode)return r.execution.terminate(),this.cancelTasks(),this.disposeListeners(),t(new Error(`Task ${n.task.name} exited with code ${r.exitCode}`));if(r.execution.terminate(),0===$a.tasks.length)return $a.tasks=[],e();n=await i.tasks.executeTask($a.tasks[0])}}));$a.disposables.push(r)}))}static getTaskResults(){return $a.taskResults}static clearTaskResults(){$a.taskResults=[]}static async runTasksWithBoolean(){try{return await $a.runTasks(),!0}catch(e){return!1}}}function Va(e){const t=new RegExp(/:\d+\]/g);return"2"===e.match(t)[0].slice(4,-1)[0]?"ESP32-S2":"ESP32-S3"}async function Ha(e){const t=await ms(e);return function(e){const t=new RegExp(/\[([0-9a-fA-F]{4}\:[0-9a-fA-F]{4}\]) ver=.+, devnum=[0-9]+, cfg=.+, intf=.+, path=".+", alt=.+, name=".+", serial=".+"/g);return e.match(t)}(await ts("dfu-util",["--list"],process.cwd(),Q.init(),{env:t,maxBuffer:512e3,cwd:process.cwd()}))}function Ga(e){switch(e){case"esp32s2":return 2;case"esp32s3":return 9;default:return-1}}async function za(e){let t=[];for(let n=0;n<e.length;n++)t.push(new Object({label:Va(e[n]),detail:e[n]}));let n=await i.window.showQuickPick(t,{ignoreFocusOut:!0,matchOnDetail:!0,placeHolder:"Select one of the available devices from the list"});if(n){const e=new RegExp(/path="[0-9.]+-[0-9.]+"/g);return n.detail.match(e)[0].slice(6,-1)}throw new Error("NO_DFU_DEVICE_SELECTED")}$a.tasks=[],$a.disposables=[],$a.taskResults=[];class Wa{constructor(e){this.outputPromise=e,this.writeEmitter=new i.EventEmitter,this.closeEmitter=new i.EventEmitter,this.onDidWrite=this.writeEmitter.event,this.onDidClose=this.closeEmitter.event,this.outputPromise.then((e=>{this.closeEmitter.fire(e.exitCode)})).catch((e=>{this.writeEmitter.fire(`Error: ${e.message}\n`);const t=e.code||1;this.closeEmitter.fire(t)}))}open(){}close(){}handleInput(e){}getWriteEmitter(){return this.writeEmitter}}class Ka extends i.CustomExecution{constructor(e,t,n){super((async e=>{this.outputPromise=new Promise(((e,t)=>{this.resolveOutput=e,this.rejectOutput=t}));const t=new Wa(this.outputPromise);return this.writeEmitter=t.getWriteEmitter(),this.executeCommand(),t})),this.command=e,this.args=t,this.options=n}executeCommand(){let e="",t="",n=0;this.options.env&&(this.options.env.FORCE_COLOR="1",this.options.env.TERM="xterm-256color",this.options.env.COLORTERM="truecolor"),this.childProcess=a.execFile(this.command,this.args,this.options),this.childProcess.stdout?.on("data",(t=>{const n=t.toString().replace(/\r/g,"").replace(/\n/g,"\r\n");e+=n,this.writeEmitter&&this.writeEmitter.fire(n)})),this.childProcess.stderr?.on("data",(e=>{const n=e.toString().replace(/\r/g,"").replace(/\n/g,"\r\n");t+=n,this.writeEmitter&&this.writeEmitter.fire(n)})),this.childProcess.on("close",(r=>{n=r||0;const i={stdout:e,stderr:t,exitCode:n,success:0===n};this.resolveOutput&&this.resolveOutput(i)})),this.childProcess.on("error",(e=>{this.rejectOutput&&this.rejectOutput(e)}))}terminate(){this.childProcess&&this.childProcess.kill()}async getOutput(){return this.outputPromise?this.outputPromise:{stdout:"",stderr:"",exitCode:-1,success:!1}}static create(e,t,n){return new Ka(e,t,n)}}class Ya extends i.CustomExecution{constructor(e,t){super((async e=>{this.outputPromise=new Promise(((e,t)=>{this.resolveOutput=e,this.rejectOutput=t}));const t=new Wa(this.outputPromise);return this.writeEmitter=t.getWriteEmitter(),this.executeShellCommand(),t})),this.command=e,this.options=t}executeShellCommand(){let e="",t="",n=0;this.options.env&&(this.options.env.FORCE_COLOR="1",this.options.env.TERM="xterm-256color",this.options.env.COLORTERM="truecolor");const r={cwd:this.options.cwd,env:this.options.env};this.options.executable&&(r.shell=this.options.executable),this.options.shellArgs&&(r.shellArgs=this.options.shellArgs),this.childProcess=a.spawn(this.options.executable||process.env.SHELL||"sh",this.options.shellArgs||[],{...r,stdio:["pipe","pipe","pipe"]}),this.childProcess.stdin?.write(this.command+"\n"),this.childProcess.stdin?.end(),this.childProcess.stdout?.on("data",(t=>{const n=t.toString().replace(/\r/g,"").replace(/\n/g,"\r\n");e+=n,this.writeEmitter&&this.writeEmitter.fire(n)})),this.childProcess.stderr?.on("data",(e=>{const n=e.toString().replace(/\r/g,"").replace(/\n/g,"\r\n");t+=n,this.writeEmitter&&this.writeEmitter.fire(n)})),this.childProcess.on("close",(r=>{n=r||0;const i={stdout:e,stderr:t,exitCode:n,success:0===n};this.resolveOutput&&this.resolveOutput(i)})),this.childProcess.on("error",(e=>{this.rejectOutput&&this.rejectOutput(e)}))}terminate(){this.childProcess&&this.childProcess.kill()}async getOutput(){if(!this.outputPromise)throw new Error("Task has not been executed yet");return this.outputPromise}static create(e,t){return new Ya(e,t)}}class Ja{constructor(e){this.currentWorkspace=e}building(e){Ja.isBuilding=e}async saveBeforeBuild(){Is("idf.saveBeforeBuild",this.currentWorkspace)&&await i.workspace.saveAll()}async build(e){try{await this.saveBeforeBuild()}catch(e){const t="Failed to save unsaved files, ignoring and continuing with the build";js.error(t,e,"build saveBeforeBuild"),js.warnNotify(t)}if(Ja.isBuilding)throw new Error("ALREADY_BUILDING");this.building(!0),this.idfPathDir=Is("idf.espIdfPath",this.currentWorkspace),this.buildDirPath=Is("idf.buildPath",this.currentWorkspace),await(0,o.ensureDir)(this.buildDirPath);const t=await ms(this.currentWorkspace),r={cwd:this.buildDirPath,env:t},s=await ys("cmake",t),a=await ys("ninja",t),c=(0,n.join)(this.buildDirPath,"CMakeCache.txt"),l=await(0,o.pathExists)(c);if(""===s||""===a)throw new Error("CMake or Ninja executables not found");const u=i.workspace.workspaceFolders.find((e=>e.uri===this.currentWorkspace)),p=Is("idf.notificationMode",this.currentWorkspace),d=p===Ss.All||p===Ss.Output?i.TaskRevealKind.Always:i.TaskRevealKind.Silent;let h,f;if(!l){let e;"x.x"===await us(this.idfPathDir)&&(js.warn("Could not determine ESP-IDF version. Using default compiler arguments for the latest known version."),e=["-G","Ninja","-DPYTHON_DEPS_CHECKED=1","-DESP_PLATFORM=1"]);let t=Is("idf.cmakeCompilerArgs",this.currentWorkspace);t&&0!==t.length||(t=e);let n=t.indexOf("-B");-1!==n&&t.splice(n,2),t.push("-B",this.buildDirPath),-1===t.indexOf("-S")&&t.push("-S",this.currentWorkspace.fsPath);const o=await Yo(this.currentWorkspace);-1===t.indexOf("SDKCONFIG")&&t.push(`-DSDKCONFIG='${o}'`);const a=Is("idf.sdkconfigDefaults")||[];-1===t.indexOf("SDKCONFIG_DEFAULTS")&&a&&a.length&&t.push(`-DSDKCONFIG_DEFAULTS='${a.join(";")}'`),Is("idf.enableCCache",this.currentWorkspace)&&t&&t.length&&-1===t.indexOf("-DCCACHE_ENABLE=1")&&t.push("-DCCACHE_ENABLE=1"),h=Ka.create(s,t,r);const c={reveal:d,showReuseMessage:!1,clear:!0,panel:i.TaskPanelKind.Shared};$a.addTask({type:"esp-idf",command:"ESP-IDF Compile",taskId:"idf-compile-task"},u||i.TaskScope.Workspace,"ESP-IDF Compile",h,["espIdf","espIdfLd"],c),t=[]}const m=Is("idf.ninjaArgs",this.currentWorkspace)||[];e&&-1===m.indexOf(e)&&m.push(e),f=Ka.create("ninja",m,r);const g={reveal:d,showReuseMessage:!1,clear:!1,panel:i.TaskPanelKind.Shared};$a.addTask({type:"esp-idf",command:"ESP-IDF Build",taskId:"idf-build-task"},u||i.TaskScope.Workspace,"ESP-IDF Build",f,["espIdf","espIdfLd"],g);let y=[];return h&&y.push(h),f&&y.push(f),y}async buildDfu(){this.building(!0),await(0,o.ensureDir)(this.buildDirPath);const e=i.workspace.workspaceFolders.find((e=>e.uri===this.currentWorkspace)),t=Is("idf.notificationMode",this.currentWorkspace),r=await so(this.currentWorkspace),s=t===Ss.All||t===Ss.Output?i.TaskRevealKind.Always:i.TaskRevealKind.Silent,a=[(0,n.join)(this.idfPathDir,"tools","mkdfu.py"),"write","-o",(0,n.join)(this.buildDirPath,"dfu.bin"),"--json",(0,n.join)(this.buildDirPath,"flasher_args.json"),"--pid",Ga(r).toString()],c=await kr(this.currentWorkspace),l=await ms(this.currentWorkspace),u={cwd:this.buildDirPath,env:l},p=Ka.create(c,a,u),d={reveal:s,showReuseMessage:!1,clear:!1,panel:i.TaskPanelKind.Shared};return $a.addTask({type:"esp-idf",command:"ESP-IDF Write DFU.bin",taskId:"idf-write-dfu-task"},e||i.TaskScope.Workspace,"ESP-IDF Write DFU.bin",p,["espIdf"],d),p}}class Qa{constructor(e,t,r,i){this.currentWorkspace=e,this.flashScriptPath=(0,n.join)(t,"components","esptool_py","esptool","esptool.py"),this.model=r,this.buildDirPath=Is("idf.buildPath",e),this.encryptPartitions=i,this.idfPathDir=Is("idf.espIdfPath",this.currentWorkspace)}flashing(e){Qa.isFlashing=e}verifyArgs(){if(!Bo(this.flashScriptPath,l.constants.R_OK))throw new Error("SCRIPT_PERMISSION_ERROR");for(const e of this.model.flashSections)if(!Bo((0,n.join)(this.buildDirPath,e.binFilePath),l.constants.R_OK))throw new Error("SECTION_BIN_FILE_NOT_ACCESSIBLE")}async flash(e,t){if(Qa.isFlashing)throw new Error("ALREADY_FLASHING");this.verifyArgs();const n=Is("idf.notificationMode",this.currentWorkspace),r=await kr(this.currentWorkspace),o=i.workspace.workspaceFolders.find((e=>e.uri===this.currentWorkspace)),s=n===Ss.All||n===Ss.Output?i.TaskRevealKind.Always:i.TaskRevealKind.Silent;let a;switch(this.modifiedEnv=await ms(this.currentWorkspace),this.processOptions={cwd:this.buildDirPath,env:this.modifiedEnv},e){case"UART":if(t)switch(t){case"app":a=this._partitionFlashExecution(r,"app");break;case"bootloader":a=this._partitionFlashExecution(r,"bootloader");break;case"partition-table":a=this._partitionFlashExecution(r,"partitionTable")}else a=this._flashExecution(r);break;case"DFU":a=await this._dfuFlashing(r)}const c={reveal:s,showReuseMessage:!1,clear:!1,panel:i.TaskPanelKind.Shared};return $a.addTask({type:"esp-idf",command:"ESP-IDF Flash",taskId:"idf-flash-task"},o||i.TaskScope.Workspace,"ESP-IDF Flash",a,["espIdf"],c),a}_flashExecution(e){this.flashing(!0);const t=this.getFlasherArgs(this.flashScriptPath);return Ka.create(e,t,this.processOptions)}async _dfuFlashing(e){this.flashing(!0);const t=await Ha(this.currentWorkspace);let r,i=[];if(t.length>0){const o=await za(t);if(!za)return;r=e,i=[n.join(this.idfPathDir,"tools","idf.py"),"dfu-flash","--path",o]}else r="dfu-util",i=["-d",`303a:${Ga(this.model.chip).toString(16)}`,"-D",(0,n.join)(this.buildDirPath,"dfu.bin")];return Ka.create(r,i,this.processOptions)}_partitionFlashExecution(e,t){this.flashing(!0);const n=this.getSingleBinFlasherArgs(this.flashScriptPath,t);return Ka.create(e,n,this.processOptions)}getSingleBinFlasherArgs(e,t,n=!1){const r=[e,"-p",this.model.port,"-b",this.model.baudRate,"--before",this.model.before,"--after",this.model.after];this.model.chip&&r.push("--chip",this.model.chip),void 0===typeof this.model.stub||this.model.stub||r.push("--no-stub"),r.push("write_flash","--flash_mode",this.model.mode,"--flash_freq",this.model.frequency,"--flash_size",this.model.size),this.model[t].encrypted&&r.push("--encrypt-files");let i=n?this.model[t].binFilePath.replace(/\//g,"\\"):this.model[t].binFilePath;return r.push(this.model[t].address,i),r}getFlasherArgs(e,t=!1){const n=[e,"-p",this.model.port,"-b",this.model.baudRate,"--before",this.model.before,"--after",this.model.after];this.model.chip&&n.push("--chip",this.model.chip),void 0===typeof this.model.stub||this.model.stub||n.push("--no-stub"),n.push("write_flash","--flash_mode",this.model.mode,"--flash_freq",this.model.frequency,"--flash_size",this.model.size);const r=this.model.flashSections.filter((e=>e.encrypted));if(this.encryptPartitions&&r&&r.length)if(this.model.flashSections&&this.model.flashSections.length===r.length){n.push("--encrypt");for(const e of this.model.flashSections){let r=t?e.binFilePath.replace(/\//g,"\\"):e.binFilePath;n.push(e.address,r)}}else{const e=this.model.flashSections.filter((e=>!e.encrypted));for(const r of e){let e=t?r.binFilePath.replace(/\//g,"\\"):r.binFilePath;n.push(r.address,e)}n.push("--encrypt-files");for(const e of r){let r=t?e.binFilePath.replace(/\//g,"\\"):e.binFilePath;n.push(e.address,r)}}else for(const e of this.model.flashSections){let r=t?e.binFilePath.replace(/\//g,"\\"):e.binFilePath;n.push(e.address,r)}return n}}class Xa{constructor(e){this.currentWorkspace=e,this.idfPathDir=Is("idf.espIdfPath",e),this.flashScriptPath=(0,n.join)(this.idfPathDir,"components","esptool_py","esptool","esptool.py")}erasing(e){Xa.isErasing=e}verifyArgs(){if(!Bo(this.flashScriptPath,l.constants.R_OK))throw new Error("SCRIPT_PERMISSION_ERROR")}async eraseFlash(e){if(Xa.isErasing)throw new Error("ALREADY_ERASING");if(this.verifyArgs(),qa.terminal){qa.terminal.sendText(t.CTRL_RBRACKET);const e=Is("idf.monitorDelay",this.currentWorkspace);await Uo(e)}const n=Is("idf.notificationMode",this.currentWorkspace),r=await kr(this.currentWorkspace),o=i.workspace.workspaceFolders.find((e=>e.uri===this.currentWorkspace)),s=n===Ss.All||n===Ss.Output?i.TaskRevealKind.Always:i.TaskRevealKind.Silent;this.modifiedEnv=await ms(this.currentWorkspace);const a=this._eraseExecution(r,e),c={reveal:s,showReuseMessage:!1,clear:!1,panel:i.TaskPanelKind.Shared};return $a.addTask({type:"esp-idf",command:"ESP-IDF Erase Flash",taskId:"idf-erase-flash-task"},o||i.TaskScope.Workspace,"ESP-IDF Erase Flash",a,["espIdf"],c),a}_eraseExecution(e,t){this.erasing(!0);const n=[this.flashScriptPath,"-p",t,"erase_flash"],r={cwd:this.currentWorkspace.fsPath||process.cwd(),env:this.modifiedEnv};return Ka.create(e,n,r)}}!function(e){e.Base64="b64",e.ELF="elf",e.Raw="raw"}(La||(La={}));class Za{constructor(e){this.toolPath=(0,n.join)(e,"components","espcoredump","espcoredump.py")}async generateCoreELFFile(e){let t;try{const n=await ms(e.workspaceUri);return t=await jo(e.pythonBinPath,[this.toolPath,"info_corefile","-t",e.infoCoreFileFormat,"-s",e.coreElfFilePath,"-c",e.coreInfoFilePath,e.progELFFilePath],{env:n}),!0}catch(e){return js.error("espcoredump.py failed",e,"ESPCoreDumpPyTool generateCoreELFFile",{output:t.toString()}),!1}}}class ec{constructor(e,t,n="git"){this.espIdfPath=e,this.projectDir=t,this.gitBinPath=n}cancel(){if(this.cloneProcess&&!this.cloneProcess.killed){Zr(this.cloneProcess.pid,"SIGKILL"),this.cloneProcess=void 0;const e="\n❌ [Arduino ESP32 Cloning] : Stopped!\n";Q.appendLine(e),js.info(e)}}async cloneArduinoInComponentsFolder(e){const r=await ps(this.projectDir,this.gitBinPath);if(!r||"Not found"===r)return;const i=(0,n.join)(this.projectDir,"components");return await(0,o.ensureDir)(i),new Promise(((n,r)=>{this.cloneProcess=(0,a.spawn)(this.gitBinPath,["clone","--recursive","--progress","-b",e,t.URL.ARDUINO_ESP32_URL,"arduino"],{cwd:i}),this.cloneProcess.stderr.on("data",(e=>{Q.appendLine(e.toString()),js.info(e.toString())})),this.cloneProcess.stdout.on("data",(e=>{Q.appendLine(e.toString()),js.info(e.toString())})),this.cloneProcess.on("exit",((e,t)=>{if(!t&&0!==e){const t=`Arduino ESP32 cloning has exit with ${e}`;Q.appendLine(t),js.errorNotify(t,new Error(t),"addArduinoComponent cloneArduinoInComponentsFolder"),r(new Error(t))}n()}))}))}async checkIdfVersion(e){void 0!==e&&""!==e||(e=this.espIdfPath||process.env.IDF_PATH);const t=(await us(e)).match(/([0-9]+\.[0-9]+).*/);return{3.3:"idf-release/v3.3"}[t&&t.length>0?t[1]:"x.x"]||"master"}async addArduinoAsComponent(e){const t=await this.checkIdfVersion(e);await(0,o.ensureDir)(this.projectDir),await this.cloneArduinoInComponentsFolder(t)}}class tc{static show(e,r){const o=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:void 0;if(tc.instance)return tc.instance.filePath===r?tc.instance.panel.reveal(o):void tc.instance.getCSVFrom(r).then((e=>{tc.instance.filePath=r,tc.instance.initDataToWebview(e)}));const s=i.window.createWebviewPanel(t.Webview.PartitionTableEditor.ViewType,t.Webview.PartitionTableEditor.Title,o||i.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[i.Uri.file((0,n.join)(e,"dist","views"))],enableCommandUris:!0});tc.instance=new tc(s,e,r)}dispose(){for(tc.instance=null,this.panel.dispose();this.disposable.length;){const e=this.disposable.pop();e&&e.dispose()}}constructor(e,t,r){this.disposable=[],this.panel=e,this.extensionPath=t,this.filePath=r,this.panel.onDidDispose((()=>this.dispose()),null,this.disposable),this.panel.webview.onDidReceiveMessage((e=>this.onMessage(e)),null,this.disposable),this.panel.iconPath=i.Uri.file((0,n.join)(t,"media","espressif_icon.png")),this.panel.webview.html=this.initWebView(this.panel.webview),this.getCSVFrom(this.filePath).then((e=>{this.initDataToWebview(e)}))}async getCSVFrom(e){return e.endsWith("csv")?Zo(e):""}writeCSVDataToFile(e,t){e.endsWith("csv")&&(0,o.writeFile)(e,t,(t=>{if(t)return js.errorNotify(`Failed to save the partition data to the file ${e} due to some error. Error: ${t.message}`,t,"PartitionTableEditorPanel writeCSVDataToFile");js.infoNotify(`Partition table is saved successfully. (${e})`)}))}initDataToWebview(e){this.sendMessageToWebView("loadInitialData",{csv:e})}sendMessageToWebView(e,t){this.panel&&this.panel.webview&&this.panel.webview.postMessage({command:e,...t})}onMessage(e){switch(e.command){case"initDataRequest":this.getCSVFrom(this.filePath).then((e=>{this.initDataToWebview(e)}));break;case"saveDataRequest":e.csv&&this.writeCSVDataToFile(this.filePath,e.csv);break;case"showErrorMessage":e.error&&js.errorNotify(e.error,new Error(e.error),"PartitionTableEditorPanel showErrorMessage")}}initWebView(e){return`<!DOCTYPE html>\n    <html lang="en">\n    <head>\n      <meta charset="UTF-8" />\n      <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n      <title>Partition Table</title>\n    </head>\n    <body>\n      <section id="app"></section>\n      <script src="${e.asWebviewUri(i.Uri.file((0,n.join)(this.extensionPath,"dist","views","partition_table-bundle.js")))}"><\/script>\n    </body>\n    </html>`}}class nc extends i.TreeItem{constructor(e){super(e)}set commandId(e){this.command={command:e,title:this.label}}}function rc(){const e=new nc("Connect your board first");return e.commandId="esp.efuse.summary",e.iconPath=ic("debug-disconnect","errorForeground"),e.description="(select serial port first)",e}function ic(e,t){return new i.ThemeIcon(e,new i.ThemeColor(t))}class oc{constructor(){this._onDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event}getTreeItem(e){return e}async getChildren(e){return e?(t=e.label,this.espFuseSummaryData[t].map((e=>{const t=new nc(e.name);return t.tooltip=e.writeable?"writable":"read only",t.description="boolean"==typeof e.value||"number"==typeof e.value?JSON.stringify(e.value):e.value,t.iconPath=e.writeable?ic("edit","merge.currentHeaderBackground"):ic("book","button.background"),t}))):this.espFuseSummaryData?function(e){const t=new Array(0);for(const n in e){const r=new nc(n);r.collapsibleState=i.TreeItemCollapsibleState.Collapsed,r.iconPath=ic("group-by-ref-type","button.background"),r.description=`(${e[n].length}) fields`,t.push(r)}return t}(this.espFuseSummaryData):[rc()];var t}load(e){this.espFuseSummaryData=e}refresh(){this._onDidChangeTreeData.fire(null)}clearResults(){this.espFuseSummaryData=void 0,this.refresh()}registerDataProviderForTree(e){return i.window.registerTreeDataProvider(e,this)}}class sc extends ti{constructor(e="git"){super("https://github.com/espressif/esp-adf.git","ESP-ADF","master",e,"https://gitee.com/EspressifSystems/esp-adf.git")}}class ac extends ti{constructor(e="git"){super("https://github.com/espressif/esp-mdf.git","ESP-MDF","master",e,"https://gitee.com/EspressifSystems/esp-mdf.git")}}!function(e){e.showChangeLogAndUpdateVersion=async function(e){const r=e.globalState.get(t.ChangelogViewer.DB_VERSION_KEY),o=Fo.version,s=Is("idf.notificationMode"),a=s===Ss.All||s===Ss.Notifications;if(o!==r&&a){const r=`It seems like the ESP-IDF Extension just got updated to version ${o}, checkout the changelog to see what new features got added`;if("View Changelog"===await i.window.showInformationMessage(r,"View Changelog","Cancel")){const r=(0,n.join)(e.extensionPath,t.ChangelogViewer.FileName);try{await i.commands.executeCommand("markdown.showPreview",i.Uri.file(r))}catch(e){js.errorNotify("Failed to open the CHANGELOG.md file",e,"showChangeLogAndUpdateVersion",{sev:1})}}}e.globalState.update(t.ChangelogViewer.DB_VERSION_KEY,o)}}(Fa||(Fa={})),function(e){e.showPreReleaseNotification=async function e(n){const r=t.PreReleaseNotification.EIM_SETUP_CAMPAIGN,o=n.globalState.get(t.PreReleaseNotification.SHOWN_KEY,[]),s=Is("idf.notificationMode"),a=s===Ss.All||s===Ss.Notifications;if(!o.includes(r)&&a){Fs.sendEvent("preReleaseNotification",{campaign:r,action:"shown",extensionVersion:Fo.version});const s=i.l10n.t("🎉 New ESP-IDF Extension setup available! We've completely redesigned the installation process with the ESP-IDF Installer Manager (EIM) for a smoother, more reliable setup experience. Help us improve by trying the pre-release!"),a=i.l10n.t("Try New Pre-Release"),c=i.l10n.t("Learn More"),l=i.l10n.t("Not Now"),u=await i.window.showInformationMessage(s,{modal:!1},a,c,l);if(u===a){Fs.sendEvent("preReleaseNotification",{campaign:r,action:"tryPreRelease",extensionVersion:Fo.version});const e=i.Uri.parse("vscode:extension/espressif.esp-idf-extension");await i.env.openExternal(e),await i.window.showInformationMessage(i.l10n.t("To install the pre-release version, click the 'Switch to Pre-Release Version' button."),{modal:!1},i.l10n.t("Got it")),js.info("User clicked to try pre-release from notification");const s=[...o,r];await n.globalState.update(t.PreReleaseNotification.SHOWN_KEY,s)}else if(u===c){Fs.sendEvent("preReleaseNotification",{campaign:r,action:"learnMore",extensionVersion:Fo.version});const t=i.Uri.parse("https://docs.espressif.com/projects/idf-im-ui/en/latest/");await i.env.openExternal(t),js.info("User clicked to learn more from pre-release notification"),setTimeout((()=>{e(n)}),2e3)}else{Fs.sendEvent("preReleaseNotification",{campaign:r,action:u?"notNow":"dismissed",extensionVersion:Fo.version}),js.info("User dismissed pre-release notification");const e=[...o,r];await n.globalState.update(t.PreReleaseNotification.SHOWN_KEY,e)}}}}(Ma||(Ma={})),function(e){e.Component="component",e.Project="project"}(ja||(ja={}));class cc{static async createOrShow(e,t){const n=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:i.ViewColumn.One,r=Array.from(this.cmakeListsPanels.get(t.fsPath));if(r.length>0)r[0].reveal(n);else{const r=await i.window.showQuickPick([{label:"Component CMakeLists.txt",target:ja.Component},{label:"Project CMakeLists.txt",target:ja.Project}],{placeHolder:"Select CMakeLists.txt type"});if(!r)return;new cc(e,n,t,r.target)}}constructor(e,t,n,r){this.disposables=[];const s=i.window.createWebviewPanel(cc.viewType,"CMakeLists.txt",t,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[i.Uri.joinPath(e,"dist","views")]});s.iconPath=i.Uri.joinPath(e,"media","espressif_icon.png");const a=s.webview.asWebviewUri(i.Uri.joinPath(e,"dist","views","cmakelistsEditor-bundle.js"));s.webview.html=this.createCmakeListEditorHtml(a);const c=i.workspace.createFileSystemWatcher(n.fsPath,!0,!1,!1);c.onDidDelete((e=>{s.dispose()})),c.onDidChange((async t=>{await this.loadCMakeListsFile(e.fsPath,r,n,s)})),s.onDidDispose((()=>{c.dispose()}),null,this.disposables),s.webview.onDidReceiveMessage((async t=>{switch(t.command){case"loadCMakeListSchema":try{await this.loadCMakeListsFile(e.fsPath,r,n,s),s.webview.postMessage({command:"setFileName",fileName:n.fsPath})}catch(e){js.errorNotify(`Failed reading ${n.fsPath}`,e,"CmakeListsEditorPanel loadCMakeListSchema")}case"saveChanges":if(t.newValues){const e=JSON.parse(t.newValues);await async function(e,t){let n="idf_component_register(";const r=new Array(n.length+1).join(" "),i=[],s=[];for(let e of t)if(e.isComponentElement&&e.value&&Array.isArray(e.value)&&e.value.length>0){const t=e.template.replace("***",e.value.map((e=>`"${e}"`)).join(" "));i.push(t+W.EOL+r)}else e.value&&e.value.length>0&&s.push(e.template.replace("***","".concat(...e.value)).replace("VARIABLE",e.variable).replace("TYPE",e.typeValue));let a;i.length>0?(n=n.concat(...i),n=n.slice(0,n.lastIndexOf(W.EOL)),n=n.concat(")"+W.EOL),a=s.length>0?s.join(W.EOL).concat(W.EOL,n):n):a=s.join(W.EOL).concat(W.EOL);const c=await async function(e){const t=await(0,o.readFile)(e.fsPath,"utf-8"),n=t.match(/^#.*/gm),r=t.match(/^#\[\[[\w\W]+?\]\]$/gm);let i="";if(r&&r.length)for(let e of r)i=i+W.EOL+e;if(n&&n.length)for(let e of n)-1===i.indexOf(e)&&(i=i+W.EOL+e);return i.concat(W.EOL)}(e);return a=c?c+a:a,await(0,o.writeFile)(e.fsPath,a),a}(n,e),i.window.showInformationMessage("CMakeLists.txt has been updated")}}})),cc.cmakeListsPanels.add(n.fsPath,s)}createCmakeListEditorHtml(e){return`<!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <title>CMakeLists.txt</title>\n            </head>\n            <body>\n              <div id="editor"></div>\n            </body>\n            <script src="${e}"><\/script>\n        </html>`}async loadCMakeListsFile(e,t,r,i){let s=await async function(e,t){const r=(0,n.join)(e,"cmakeListsSchema.json");if(await(0,o.pathExists)(r))return(await(0,o.readJSON)(r))[t]}(e,t);s&&i.webview.postMessage({command:"loadEmptyElements",elements:s,cmakeListsType:t}),s=await async function(e,t){return function(e,t){const n=[];for(const r of t){const t=new RegExp(r.regex,"g");let i;for(;i=t.exec(e);)if(i&&i.length>1&&i[1].length){let e=JSON.parse(JSON.stringify(r));switch(e.value=[],r.type){case"array":const t=i[1].trim().replace(/\"/g,"");t&&(e.value=t&&" "===t?[t]:t.split(" "));break;case"binary_data":i[1]&&(e.variable=i[1].trim()),i[2]&&(e.value=[i[2].trim()]),i[3]&&(e.typeValue=i[3].trim());break;case"set":i[1]&&(e.variable=i[1].trim()),i[2]&&(e.value=[i[2].trim()]);break;default:e.value=[i[1].trim()]}e.canHaveMany?n.push(e):n.some((t=>t.template===e.template))||n.push(e)}}return n}(await(0,o.readFile)(e.fsPath,"utf-8"),t)}(r,s),s&&i.webview.postMessage({command:"loadElements",elements:s})}}function lc(e,t){return e.filter((e=>t.filter((t=>e.name?e.name===t.name:e.docName===t.docName)).length))}function uc(e,t,n){const r=Object.keys(n.objects[""]).filter((e=>-1!==e.indexOf(t))).map((r=>{const i=n.objects[""][r][0],o=n.objects[""][r][3],s=n.objnames[n.objects[""][r][1]][2],a=encodeURIComponent(t.toLowerCase());return{docName:n.titles[i],name:r||n.titles[i],resultType:s,url:`${e}/${n.docnames[i]}.html?highlight=${a}#${o}`}})),i=pc(e,t,"titleterms",n),o=pc(e,t,"terms",n);return[].concat(r,i,o)}function pc(e,t,n,r){const i=encodeURIComponent(t.toLowerCase()),o=Object.keys(r[n]).filter((e=>-1!==e.indexOf(t.toLowerCase()))),s=[];for(const t of o){const o=r[n][t];if(Array.isArray(o)){const t=[];for(const n of o){const o={docName:r.titles[n],name:"",resultType:"",url:`${e}/${r.docnames[n]}.html?highlight=${i}`};t.push(o)}s.push(...t)}else{const t={docName:r.titles[o],name:"",resultType:"",url:`${e}/${r.docnames[o]}.html?highlight=${i}`};s.push(t)}}return s}cc.cmakeListsPanels=new class{constructor(){this._webviews=new Set}add(e,t){const n={document:e,webview:t};this._webviews.add(n),t.onDidDispose((()=>{this._webviews.delete(n)}))}delete(e){for(const t of this._webviews)t.document===e&&this._webviews.delete(t)}*get(e){for(const t of this._webviews)t.document===e&&(yield t.webview)}},cc.viewType="cmakelists-editor";class dc extends i.TreeItem{constructor(e,t,n,r){super(`${e||t}`),this.command={command:"espIdf.openDocUrl",title:"Open ESP-IDF Docs for"+e,arguments:[r]},this.tooltip=`${n?`${n} in `:"mentioned in "}${t}`,this.iconPath=new i.ThemeIcon("globe")}}class hc{constructor(){this.OnDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this.OnDidChangeTreeData.event,i.commands.registerCommand("espIdf.openDocUrl",(e=>{e?i.env.openExternal(i.Uri.parse(e)):js.errorNotify("Cannot call this command directly, click on any ESP-IDF search result!",new Error("INVALID_INVOCATION"),"DocSearchResultTreeDataProvider espIdf.openDocUrl")})),this.docSearchResults=Array(0)}getTreeItem(e){return e}getParent(e){}getChildren(){return this.docSearchResults}getResults(e,n){(!e||e.length<1)&&(e=[{name:"No results found",url:t.URL.Docs.BASE_URL}]),this.docSearchResults=[];const r=e.map((e=>new dc(e.name,e.docName,e.resultType,e.url)));this.docSearchResults=r,this.OnDidChangeTreeData.fire(null),n.reveal(r[0],{focus:!0})}clearResults(){this.docSearchResults=[],this.OnDidChangeTreeData.fire(null)}}class fc{static async createOrShow(e,t,r){const o=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:i.ViewColumn.One;if(fc.currentPanel)return fc.currentPanel.filePath===t?fc.currentPanel.panel.reveal(o):void await fc.currentPanel.getCSVFromFile(t);{const s=i.window.createWebviewPanel(fc.viewType,fc.viewTitle,o,{enableScripts:!0,localResourceRoots:[i.Uri.file((0,n.join)(e,"dist","views"))],retainContextWhenHidden:!0});fc.currentPanel=new fc(e,t,s,r)}}static sendMessageToPanel(e,t){this.currentPanel.panel&&this.currentPanel.panel.webview&&this.currentPanel.panel.webview.postMessage({command:e,...t})}constructor(e,t,r,o){this.disposables=[],this.extensionPath=e,this.filePath=t,this.panel=r,this.workspaceFolder=o,this.panel.iconPath=i.Uri.file((0,n.join)(e,"media","espressif_icon.png")),this.panel.webview.onDidReceiveMessage((e=>this.onMessage(e)),null,this.disposables),this.panel.webview.html=this.createEditorHtml(this.panel.webview),this.panel.onDidDispose((()=>this.dispose()),null,this.disposables)}async getCSVFromFile(e){try{if(!await(0,o.pathExists)(e))return void js.warnNotify(`File ${e} does not exist. Please open a valid CSV file or save current data first.`);let t="";if(e&&e.endsWith(".csv")&&(t=await(0,o.readFile)(e,"utf-8")),!t)return;this.filePath=e,fc.sendMessageToPanel("loadInitialData",{csv:t})}catch(t){t.message?js.errorNotify(t.message,t,"NVSPartitionTable getCSVFromFile"):js.errorNotify(`Failed to read CSV from ${e}`,t,"NVSPartitionTable getCSVFromFile")}}async generateNvsPartition(e,t,r,i){try{const s=Is("idf.espIdfPath",this.workspaceFolder)||process.env.IDF_PATH,a=await kr(this.workspaceFolder),c=(0,n.dirname)(this.filePath),l=(0,n.basename)(this.filePath),u=l.replace(".csv",".bin"),p=(0,n.join)(s,"components","nvs_flash","nvs_partition_generator","nvs_partition_gen.py");Bo(a,o.constants.R_OK)||js.errorNotify("Python binary path is not defined",new Error("Virtual environment Python path is not defined"),"NVSPartitionTable generateNvsPartition pythonBinPath"),Bo(this.filePath,o.constants.R_OK)||js.warnNotify(`${this.filePath} + " is not defined. Save the file first.`),Bo(p,o.constants.R_OK)||js.errorNotify("nvs_partition_gen.py is not defined",new Error("nvs_partition_gen.py is not defined, Make sure idf.espIdfPath is correct."),"NVSPartitionTable generateNvsPartition, toolsPath");const d=[p,e?"encrypt":"generate",l,u,i];if(e){const e=r?"--keygen":`--inputkey ${t}`;d.push(e)}Q.appendLine(`${a} ${d.join(" ")}`);const h=await ts(a,d,c);Q.appendLine(h),js.infoNotify(h),-1!==h.indexOf("Created NVS binary: ===>")&&js.infoNotify(`Created NVS Binary in ${(0,n.join)(c,u)}`)}catch(e){const t=e.message?e.message:"Error generating NVS partition";Q.appendLine(t),js.errorNotify(t,e,"NVSPartitionTable generateNvsPartition")}}dispose(){for(fc.currentPanel=void 0,this.panel.dispose();this.disposables.length;)this.disposables.pop().dispose()}createEditorHtml(e){return`<!DOCTYPE html>\n    <html lang="en">\n    <head>\n      <meta charset="UTF-8" />\n      <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n      <title>NVS Partition Table</title>\n    </head>\n    <body>\n      <section id="app"></section>\n      <script src="${e.asWebviewUri(i.Uri.file((0,n.join)(this.extensionPath,"dist","views","nvsPartitionTable-bundle.js")))}"><\/script>\n    </body>\n    </html>`}async onMessage(e){switch(e.command){case"getInitialData":await this.getCSVFromFile(this.filePath);break;case"genNvsPartition":void 0!==typeof e.encrypt&&void 0!==typeof e.encryptKeyPath&&void 0!==typeof e.generateKey&&e.partitionSize&&await this.generateNvsPartition(e.encrypt,e.encryptKeyPath,e.generateKey,e.partitionSize);break;case"openKeyFile":const t=await this.openFile();fc.sendMessageToPanel("openKeyFile",{keyFilePath:t});break;case"showErrorMessage":e.error&&js.errorNotify(e.error,new Error(e.error),"NVSPartitionTable showErrorMessage");case"saveDataRequest":e.csv&&this.writeCSVDataToFile(e.csv)}}async openFile(){const e=await i.window.showOpenDialog({canSelectFolders:!1,canSelectFiles:!0,canSelectMany:!1});if(e&&e.length>0)return e[0].fsPath;i.window.showInformationMessage("No file selected")}async writeCSVDataToFile(e){try{this.filePath&&this.filePath.endsWith(".csv")&&(await(0,o.writeFile)(this.filePath,e),js.infoNotify(`NVS Partition table is saved successfully. (${this.filePath})`))}catch(e){return js.errorNotify(`Failed to save the partition data to the file ${this.filePath} due to some error. Error: ${e.message}`,e,"NVSPartitionTable writeCSVDataToFile")}}}function mc(e,t=[],n,r){return r||(r={cwd:n,maxBuffer:512e3}),new Promise(((n,i)=>{(0,a.execFile)(e,t,r,((e,t,r)=>e?i(e):r&&r.length?n("".concat(r,t)):n(t)))}))}fc.viewType="idfNvsPartitionTableEditor",fc.viewTitle="NVS Partition Table";const gc=/(?:git\sversion\s)(\d+)(.\d+)?(.\d+)?(?:.windows.\d+)?/g,yc=/Python\s\d+(.\d+)?(.\d+)?/g,vc=/pip\s\d+(.\d+)?(.\d+)?/g;async function bc(e,t,r){const i=(0,n.join)(t.configurationSettings.espIdfPath,"tools","check_python_dependencies.py"),s=Object.assign({},process.env);s.IDF_PATH=t.configurationSettings.espIdfPath;const a=t.espIdfVersion.result.match(/([0-9]+\.[0-9]+).*/),c=a&&a.length>0?a[1]:"x.x",l=(0,n.join)(t.configurationSettings.toolsPath,`espidf.constraints.v${c}.txt`);let u=[i,"-r",r];return await(0,o.pathExists)(l)&&(u=u.concat(["--constraint",l])),(await mc(t.configurationSettings.pythonBinPath,u,e.extensionPath,{env:s,cwd:e.extensionPath})).trim()}async function wc(e,t){e=function(e){const t=_c(JSON.stringify(e));return JSON.parse(t)}(e);let r=`---------------------------------------------- ESP-IDF Extension for Visual Studio Code report ---------------------------------------------${W.EOL}`;const i=`--------------------------------------------------------------------------------------------------------------------------------------------${W.EOL}`;if(r+=`OS ${e.systemInfo.platform} ${e.systemInfo.architecture} ${e.systemInfo.systemName} ${W.EOL}`,r+=`System environment variable IDF_PYTHON_ENV_PATH ${W.EOL} ${e.systemInfo.envIdfPythonEnvPath} ${W.EOL}`,r+=`System environment variable PATH ${W.EOL} ${e.systemInfo.envPath} ${W.EOL}`,r+=`System environment variable PYTHON ${W.EOL} ${e.systemInfo.envPython} ${W.EOL}`,r+=`Visual Studio Code Remote name ${e.systemInfo.remoteName} ${W.EOL}`,r+=`Visual Studio Code version ${e.systemInfo.vscodeVersion} ${W.EOL}`,r+=`Visual Studio Code language ${e.systemInfo.language} ${W.EOL}`,r+=`Visual Studio Code shell ${e.systemInfo.shell} ${W.EOL}`,r+=`Visual Studio Code app name ${e.systemInfo.appName} ${W.EOL}`,r+=`ESP-IDF Extension version ${e.systemInfo.extensionVersion} ${W.EOL}`,r+=`Workspace folder ${e.workspaceFolder} ${W.EOL}`,r+=`---------------------------------------------------- Extension configuration settings ------------------------------------------------------${W.EOL}`,r+=`ESP-ADF Path (idf.espAdfPath) ${e.configurationSettings.espAdfPath}${W.EOL}`,r+=`ESP-IDF Path (idf.espIdfPath) ${e.configurationSettings.espIdfPath}${W.EOL}`,r+=`ESP-MDF Path (idf.espMdfPath) ${e.configurationSettings.espMdfPath}${W.EOL}`,r+=`ESP-Matter Path (idf.espMatterPath) ${e.configurationSettings.espMatterPath}${W.EOL}`,r+=`ESP-HomeKit-SDK Path (idf.espHomeKitSdkPath) ${e.configurationSettings.espHomeKitPath}${W.EOL}`,r+=`Custom extra paths ${e.configurationSettings.customExtraPaths}${W.EOL}`,e.configurationSettings.idfExtraVars&&Object.keys(e.configurationSettings.idfExtraVars)){r+=`ESP-IDF extra vars${W.EOL}`;for(let t in e.configurationSettings.idfExtraVars)r+=`    ${t}: ${e.configurationSettings.idfExtraVars[t]}${W.EOL}`}if(e.configurationSettings.userExtraVars&&Object.keys(e.configurationSettings.userExtraVars)){r+=`User extra vars (idf.customExtraVars)${W.EOL}`;for(let t in e.configurationSettings.userExtraVars)r+=`    ${t}: ${e.configurationSettings.userExtraVars[t]}${W.EOL}`}r+=`System python Path (idf.pythonInstallPath) ${e.configurationSettings.sysPythonBinPath}${W.EOL}`,r+=`Virtual environment Python path (computed) ${e.configurationSettings.pythonBinPath}${W.EOL}`,r+=`Serial port (idf.port) ${e.configurationSettings.serialPort}${W.EOL}`,r+=`OpenOCD Configs (idf.openOcdConfigs) ${e.configurationSettings.openOcdConfigs}${W.EOL}`,r+=`OpenOCD log level (idf.openOcdDebugLevel) ${e.configurationSettings.openOCDDebugLevel}${W.EOL}`,r+=`OpenOCD launch arguments (idf.openOcdLaunchArgs) ${e.configurationSettings.openOcdLaunchArgs}${W.EOL}`,r+=`ESP-IDF Tools Path (idf.toolsPath) ${e.configurationSettings.toolsPath}${W.EOL}`,r+=`Git Path (idf.gitPath) ${e.configurationSettings.gitPath}${W.EOL}`,r+=`Notification Mode (idf.notificationMode) ${e.configurationSettings.notificationMode}${W.EOL}`,r+=`Flash type (idf.flashType) ${e.configurationSettings.flashType}${W.EOL}`,r+=`Flash partition to use (idf.flashPartitionToUse) ${e.configurationSettings.flashPartitionToUse}${W.EOL}`,e.configurationSettings.customTerminalExecutable&&(r+=`Custom terminal executable (idf.customTerminalExecutable) ${e.configurationSettings.customTerminalExecutable}${W.EOL}`),e.configurationSettings.customTerminalExecutableArgs&&e.configurationSettings.customTerminalExecutableArgs.length&&(r+=`Custom terminal executable args (idf.customTerminalExecutableArgs)${e.configurationSettings.customTerminalExecutableArgs}${W.EOL}`),r+=`-------------------------------------------------------- Configurations access -------------------------------------------------------------${W.EOL}`,r+=`Access to ESP-ADF Path (idf.espAdfPath) ${e.configurationAccess.espAdfPath}${W.EOL}`,r+=`Access to ESP-IDF Path (idf.espIdfPath) ${e.configurationAccess.espIdfPath}${W.EOL}`,r+=`Access to ESP-MDF Path (idf.espMdfPath) ${e.configurationAccess.espMdfPath}${W.EOL}`,r+=`Access to ESP-Matter Path (idf.espMatterPath) ${e.configurationAccess.espMatterPath}${W.EOL}`,r+=`Access to ESP-HomeKit Path (idf.espHomeKitSdkPath) ${e.configurationAccess.espHomeKitPath}${W.EOL}`,r+=`Access to ESP-IDF Custom extra paths${W.EOL}`;for(let t in e.configurationAccess.espIdfToolsPaths)r+=`Access to ${t}: ${e.configurationAccess.espIdfToolsPaths[t]}${W.EOL}`;r+=`Access to System python Path (idf.pythonInstallPath) ${e.configurationAccess.sysPythonBinPath}${W.EOL}`,r+=`Access to Virtual environment Python path (computed) ${e.configurationAccess.pythonBinPath}${W.EOL}`,r+=`Access to CMake in environment PATH ${e.configurationAccess.cmakeInEnv}${W.EOL}`,r+=`Access to Ninja in environment PATH ${e.configurationAccess.ninjaInEnv}${W.EOL}`,r+=`Access to ESP-IDF Tools Path (idf.toolsPath) ${e.configurationAccess.toolsPath}${W.EOL}`,r+=`-------------------------------------------------------- Configurations has spaces -------------------------------------------------------------${W.EOL}`,r+=`Spaces in system environment Path ${e.configurationSpacesValidation.systemEnvPath}${W.EOL}`,r+=`Spaces in ESP-ADF Path (idf.espAdfPath) ${e.configurationSpacesValidation.espAdfPath}${W.EOL}`,r+=`Spaces in ESP-IDF Path (idf.espIdfPath) ${e.configurationSpacesValidation.espIdfPath}${W.EOL}`,r+=`Spaces in ESP-MDF Path (idf.espMdfPath) ${e.configurationSpacesValidation.espMdfPath}${W.EOL}`,r+=`Spaces in ESP-Matter Path (idf.espMatterPath) ${e.configurationSpacesValidation.espMatterPath}${W.EOL}`,r+=`Spaces in ESP-HomeKit-SDK Path (idf.espHomeKitSdkPath) ${e.configurationSpacesValidation.espHomeKitPath}${W.EOL}`,r+=`Spaces in ESP-IDF Custom extra paths${W.EOL}`;for(let t in e.configurationSpacesValidation.customExtraPaths)r+=`Spaces in ${t}: ${e.configurationSpacesValidation.customExtraPaths[t]}${W.EOL}`;if(r+=`Spaces in System python Path (idf.pythonInstallPath) ${e.configurationSpacesValidation.sysPythonBinPath}${W.EOL}`,r+=`Spaces in Virtual environment Python path (computed) ${e.configurationSpacesValidation.pythonBinPath}${W.EOL}`,r+=`Spaces in ESP-IDF Tools Path (idf.toolsPath) ${e.configurationSpacesValidation.toolsPath}${W.EOL}`,r+=`----------------------------------------------------------- Executables Versions -----------------------------------------------------------${W.EOL}`,r+=`Git version ${e.gitVersion.result?e.gitVersion.result:e.gitVersion.output}${W.EOL}`,r+=`ESP-IDF version ${e.espIdfVersion.result?e.espIdfVersion.result:e.espIdfVersion.output}${W.EOL}`,r+=`Python version ${e.pythonVersion.result?e.pythonVersion.result:e.pythonVersion.output}${W.EOL}`,r+=`Python's pip version ${e.pipVersion.result?e.pipVersion.result:e.pipVersion.output}${W.EOL}`,r+=`-------------------------------------------------- Project configuration settings ----------------------------------------------------------${W.EOL}`,e.selectedProjectConfiguration&&(r+=`Selected configuration: ${e.selectedProjectConfiguration}${W.EOL}${W.EOL}`),e.projectConfigurations)for(let t of Object.keys(e.projectConfigurations)){if(r+=`Configuration name: ${t}${W.EOL}`,e.projectConfigurations[t].build&&(r+=`---- Build section ----${W.EOL}`,r+=`     Compile Arguments: ${e.projectConfigurations[t].build.compileArgs}${W.EOL}`,r+=`     Ninja Arguments: ${e.projectConfigurations[t].build.ninjaArgs}${W.EOL}`,r+=`     Build directory path: ${e.projectConfigurations[t].build.buildDirectoryPath}${W.EOL}`,r+=`     SDKConfig defaults : ${e.projectConfigurations[t].build.sdkconfigDefaults}${W.EOL}`),e.projectConfigurations[t].env){r+=`---- Environment variables section ----${W.EOL}`;for(const n of Object.keys(e.projectConfigurations[t].env))r+=`     ${n}: ${e.projectConfigurations[t].env[n]}${W.EOL}`}r+=`Flash baud rate: ${e.projectConfigurations[t].flashBaudRate}${W.EOL}`,r+=`Monitor baud rate: ${e.projectConfigurations[t].monitorBaudRate}${W.EOL}`,e.projectConfigurations[t].openOCD&&(r+=`---- OpenOCD section ----${W.EOL}`,r+=`     Debug level: ${e.projectConfigurations[t].openOCD.debugLevel}${W.EOL}`,r+=`     Configuration files: ${e.projectConfigurations[t].openOCD.configs}${W.EOL}`,r+=`     Launch arguments: ${e.projectConfigurations[t].openOCD.args}${W.EOL}`),e.projectConfigurations[t].tasks&&(r+=`---- Tasks section ----${W.EOL}`,r+=`     Pre build task: ${e.projectConfigurations[t].tasks.preBuild}${W.EOL}`,r+=`     Post build task: ${e.projectConfigurations[t].tasks.postBuild}${W.EOL}`,r+=`     Pre flash task: ${e.projectConfigurations[t].tasks.preFlash}${W.EOL}`,r+=`     Post flash task: ${e.projectConfigurations[t].tasks.postFlash}${W.EOL}`)}if(r+=`-------------------------------------------------- Python packages in Virtual environment Python path (computed) ---------------------------${W.EOL}`,e.configurationSettings.pythonPackages)for(let t of e.configurationSettings.pythonPackages)r+=`${t.name} version: ${t.version}${W.EOL}`;else r+=`Python packages ${e.pythonPackages.result?e.pythonPackages.result:e.pythonPackages.output}${W.EOL}`;r+=`---------------------------------------------------- Check ESP-IDF python requirements.txt -------------------------------------------------${W.EOL}`,r+=`Check ESP-IDF Python packages ${e.idfCheckRequirements.result?e.idfCheckRequirements.result:e.idfCheckRequirements.output}${W.EOL}`,r+=`---------------------------------------------------- Check ESP-IDF debug adapter requirements.txt ------------------------------------------${W.EOL}`,r+=`Check Debug AdapterPython packages ${e.debugAdapterRequirements.result?e.debugAdapterRequirements.result:e.debugAdapterRequirements.output}${W.EOL}`,e.launchJson&&(r+=`---------------------------------------------------- Visual Studio Code launch.json --------------------------------------------------------${W.EOL}`,r+=`${e.launchJson} ${W.EOL}`),e.cCppPropertiesJson&&(r+=`---------------------------------------------------- Visual Studio Code c_cpp_properties.json ----------------------------------------------${W.EOL}`,r+=`${e.cCppPropertiesJson} ${W.EOL}`),e.latestError&&(r+=`----------------------------------------------------------- Latest error -----------------------------------------------------------------${W.EOL}`,r+=JSON.stringify(e.latestError,void 0,2)+W.EOL),r+=i;const s=(0,n.join)(t.extensionPath,"esp_idf_vsc_ext.log");if(await(0,o.pathExists)(s)){const e=await(0,o.readFile)(s,"utf8");r+=`----------------------------------------------------------- Logfile -----------------------------------------------------------------${W.EOL}`,r+=_c(e)+W.EOL+i}const a=(0,n.join)(t.extensionPath,"report.txt");await(0,o.writeFile)(a,r);const c=(0,n.join)(t.extensionPath,"report.json");return await(0,o.writeJson)(c,e,{spaces:2}),r}function _c(e){if(process.env.windir){const t=process.env.HOMEPATH,n=t.replace(/[.*+?^${}()|[\]\\]/g,(e=>"\\"===e?"\\\\\\\\":"\\"+e)),r=t.replace(/\\/g,"/").replace(/[.*+?^${}()|[\]\\]/g,(e=>"/"===e?"/":"\\"+e)),i=new RegExp(`(${n}|${r})`,"g");return e.replace(i,"<HOMEPATH>")}{const t=process.env.HOME.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=new RegExp(t,"g");return e.replace(n,"<HOMEPATH>")}}async function Ec(e,r,s){await async function(e,t){const r="win32"===process.platform?"Win":"",o=i.workspace.getConfiguration("",t);e.workspaceFolder=t?t.fsPath:"No workspace folder is open";const s=await te.createIdfToolsManager(o.get("idf.espIdfPath"+r)),a=await s.exportPathsInString((0,n.join)(o.get("idf.toolsPath"+r),"tools"),["cmake","ninja"]),c=await s.exportVars((0,n.join)(o.get("idf.toolsPath"+r),"tools")),l=await Rr(o.get("idf.espIdfPath"+r).replace("${env:IDF_PATH}",process.env.IDF_PATH),o.get("idf.toolsPath"+r).replace("${env:IDF_TOOLS_PATH}",process.env.IDF_TOOLS_PATH),o.get("idf.pythonInstallPath")),u=await Pr(o.get("idf.espIdfPath"+r).replace("${env:IDF_PATH}",process.env.IDF_PATH),o.get("idf.toolsPath"+r).replace("${env:IDF_TOOLS_PATH}",process.env.IDF_TOOLS_PATH),l);if(u)for(const e in u)e&&(c[e]=u[e]);e.configurationSettings={espAdfPath:o.get("idf.espAdfPath"+r),espIdfPath:o.get("idf.espIdfPath"+r),espMdfPath:o.get("idf.espMdfPath"+r),espMatterPath:o.get("idf.espMatterPath"),espHomeKitPath:o.get("idf.espHomeKitSdkPath"+r),customTerminalExecutable:o.get("idf.customTerminalExecutable"),customTerminalExecutableArgs:o.get("idf.customTerminalExecutableArgs"),flashType:o.get("idf.flashType"),flashPartitionToUse:o.get("idf.flashPartitionToUse"),customExtraPaths:a,idfExtraVars:c,userExtraVars:o.get("idf.customExtraVars"),notificationMode:o.get("idf.notificationMode"),pythonBinPath:l,pythonPackages:[],serialPort:o.get("idf.port"+r),openOCDDebugLevel:o.get("idf.openOcdDebugLevel")||"2",openOcdConfigs:o.get("idf.openOcdConfigs")||[],openOcdLaunchArgs:o.get("idf.openOcdLaunchArgs")||[],toolsPath:o.get("idf.toolsPath"+r),systemEnvPath:"win32"===process.platform?process.env.Path:process.env.PATH,sysPythonBinPath:o.get("idf.pythonInstallPath"),gitPath:o.get("idf.gitPath"+r)}}(s,r),await async function(e){const n=i.extensions.getExtension(t.extensionID);e.systemInfo.architecture=W.arch(),e.systemInfo.envIdfPythonEnvPath=process.env.IDF_PYTHON_ENV_PATH,e.systemInfo.envPath="win32"===process.platform?process.env.Path:process.env.PATH,e.systemInfo.envPython=process.env.PYTHON,e.systemInfo.extensionVersion=n?n.packageJSON.version:"ESP-IDF_VERSION_NOT_FOUND",e.systemInfo.language=i.env.language,e.systemInfo.platform=W.platform(),e.systemInfo.systemName=W.release(),e.systemInfo.shell=i.env.shell,e.systemInfo.vscodeVersion=i.version,e.systemInfo.remoteName=i.env.remoteName,e.systemInfo.appName=i.env.appName}(s),await async function(e,t){if(e.configurationAccess.toolsPath=Bo(e.configurationSettings.toolsPath,o.constants.R_OK),e.configurationAccess.espAdfPath=Bo(e.configurationSettings.espAdfPath,o.constants.R_OK),e.configurationAccess.espIdfPath=Bo(e.configurationSettings.espIdfPath,o.constants.R_OK),e.configurationAccess.espMdfPath=Bo(e.configurationSettings.espMdfPath,o.constants.R_OK),e.configurationAccess.espMatterPath=Bo(e.configurationSettings.espMatterPath,o.constants.R_OK),e.configurationAccess.espHomeKitPath=Bo(e.configurationSettings.espHomeKitPath,o.constants.R_OK),e.configurationAccess.sysPythonBinPath=Bo(e.configurationSettings.sysPythonBinPath,o.constants.X_OK),e.configurationAccess.pythonBinPath=Bo(e.configurationSettings.pythonBinPath,o.constants.X_OK),e.configurationAccess.espIdfToolsPaths={},e.configurationSettings.customExtraPaths&&e.configurationSettings.customExtraPaths.length){const t=e.configurationSettings.customExtraPaths.split(n.delimiter);for(const n of t)e.configurationAccess.espIdfToolsPaths[n]=Bo(n,o.constants.R_OK)}if("win32"!==process.platform){const t=await ys("cmake",process.env);e.configurationAccess.cmakeInEnv=t&&-1===t.indexOf("not found");const n=await ys("ninja",process.env);e.configurationAccess.ninjaInEnv=n&&-1===n.indexOf("not found")}}(s),function(e){if(e.configurationSpacesValidation.espAdfPath=os(e.configurationSettings.espAdfPath),e.configurationSpacesValidation.espIdfPath=os(e.configurationSettings.espIdfPath),e.configurationSpacesValidation.espMatterPath=os(e.configurationSettings.espMatterPath),e.configurationSpacesValidation.espMdfPath=os(e.configurationSettings.espMdfPath),e.configurationSpacesValidation.espHomeKitPath=os(e.configurationSettings.espHomeKitPath),e.configurationSpacesValidation.sysPythonBinPath=os(e.configurationSettings.sysPythonBinPath),e.configurationSpacesValidation.pythonBinPath=os(e.configurationSettings.pythonBinPath),e.configurationSpacesValidation.toolsPath=os(e.configurationSettings.toolsPath),e.configurationSpacesValidation.gitPath=os(e.configurationSettings.gitPath),e.configurationSpacesValidation.customExtraPaths={},e.configurationSettings.customExtraPaths&&e.configurationSettings.customExtraPaths.length){const t=e.configurationSettings.customExtraPaths.split(n.delimiter);for(const n of t)e.configurationSpacesValidation.customExtraPaths[n]=os(n)}e.configurationSpacesValidation.systemEnvPath=os(e.configurationSettings.systemEnvPath)}(s),await async function(e,t){const n=await mc(e.configurationSettings.gitPath,["--version"],t.extensionPath);e.gitVersion.output=n;const r=n.match(gc);r&&r.length?e.gitVersion.result=r[0].replace(/git\sversion\s/g,""):e.gitVersion.result="Not found"}(s,e),await async function(e){try{const t=await us(e.configurationSettings.espIdfPath);e.espIdfVersion.output=t,e.espIdfVersion.result=t}catch(t){e.espIdfVersion.result="Not found",e.latestError=t}}(s),await async function(e,t){try{const n=await mc(e.configurationSettings.pythonBinPath,["--version"],t.extensionPath);e.pythonVersion.output=n;const r=n.match(yc);r&&r.length?e.pythonVersion.result=r[0].replace(/Python\s/g,""):e.pythonVersion.result="Not found"}catch(t){e.pythonVersion.result="Not found",e.latestError=t}}(s,e),await async function(e,t){try{const n=await mc(e.configurationSettings.pythonBinPath,["-m","pip","--version"],t.extensionPath);e.pipVersion.output=n;const r=n.match(vc);r&&r.length&&(e.pipVersion.result=r[0].replace(/pip\s/,""))}catch(t){e.pipVersion.result="Not found",e.latestError=t}}(s,e),await async function(e,t){const n=await mc(e.configurationSettings.pythonBinPath,["-m","pip","list","--format","json"],t.extensionPath);e.pythonPackages.output=n,e.pythonPackages.result=n;const r=n.match(/\[.*\]/g);r&&r.length&&(e.configurationSettings.pythonPackages=JSON.parse(r[r.length-1]))}(s,e),await async function(e,t){const r=ee.GetPlatformInformation();let i=(0,n.join)(e.configurationSettings.espIdfPath,"tools","tools.json");if(!await(0,o.pathExists)(i)){const r=e.espIdfVersion.result.localeCompare("4.0")<0?"fallback-tools.json":"tools.json";i=(0,n.join)(t.extensionPath,r)}const s=await(0,o.readJSON)(i),a=new te(s,r,Q.init(),e.configurationSettings.espIdfPath),c=await a.getRequiredToolsInfo(e.configurationSettings.toolsPath,e.configurationSettings.customExtraPaths);e.espIdfToolsVersions=c}(s,e),await async function(e,t){try{let r;if(r=(0,n.join)(e.configurationSettings.espIdfPath,"tools","requirements","requirements.core.txt"),!await(0,o.pathExists)(r)&&(r=(0,n.join)(e.configurationSettings.espIdfPath,"requirements.txt"),!await(0,o.pathExists)(r)))throw new Error("Requirements doesn't exists.");const i=await bc(t,e,r);e.idfCheckRequirements.output=i,e.idfCheckRequirements.result=i}catch(t){e.idfCheckRequirements.result="Error",e.latestError=t}}(s,e),await async function(e,t){try{const r=(0,n.join)(t.extensionPath,"esp_debug_adapter","requirements.txt"),i=await bc(t,e,r);e.debugAdapterRequirements.output=i,e.debugAdapterRequirements.result=i}catch(t){e.debugAdapterRequirements.result="Error",e.latestError=t}}(s,e),await async function(e,t){if(!t)return void(e.launchJson="No workspace folder is opened");const r=(0,n.join)(t.fsPath,".vscode","launch.json"),i=await(0,o.readFile)(r,"utf8");e.launchJson=i}(s,r),await async function(e,t){if(!t)return void(e.cCppPropertiesJson="No workspace folder is opened");const r=(0,n.join)(t.fsPath,".vscode","c_cpp_properties.json"),i=await(0,o.readFile)(r,"utf8");e.cCppPropertiesJson=i}(s,r),async function(e){const n=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG);if(!n)return"";const r=t.ProjectConfiguration.store.get(n);e.projectConfigurations={currentProjectConfKey:r}}(s),function(e){e.selectedProjectConfiguration=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG)}(s);const a=await wc(s,e);return await i.env.clipboard.writeText(a),s.formatedOutput=a,js.infoNotify("Extension configuration report has been copied to clipboard"),s}class xc{}function Sc(){const e=new xc;return e.configurationSettings={systemEnvPath:void 0,espIdfPath:void 0,espAdfPath:void 0,espMdfPath:void 0,espMatterPath:void 0,espHomeKitPath:void 0,flashType:void 0,flashPartitionToUse:void 0,customExtraPaths:void 0,idfExtraVars:void 0,userExtraVars:void 0,customTerminalExecutable:void 0,customTerminalExecutableArgs:void 0,notificationMode:void 0,pythonBinPath:void 0,pythonPackages:void 0,serialPort:void 0,sysPythonBinPath:void 0,openOcdConfigs:void 0,openOCDDebugLevel:void 0,openOcdLaunchArgs:void 0,toolsPath:void 0,gitPath:void 0},e.cCppPropertiesJson=void 0,e.configurationAccess={espIdfPath:void 0,espAdfPath:void 0,espMdfPath:void 0,espMatterPath:void 0,espHomeKitPath:void 0,espIdfToolsPaths:void 0,pythonBinPath:void 0,cmakeInEnv:void 0,ninjaInEnv:void 0,toolsPath:void 0,sysPythonBinPath:void 0},e.configurationSpacesValidation={customExtraPaths:void 0,espAdfPath:void 0,espIdfPath:void 0,espMatterPath:void 0,espMdfPath:void 0,espHomeKitPath:void 0,gitPath:void 0,pythonBinPath:void 0,toolsPath:void 0,systemEnvPath:void 0,sysPythonBinPath:void 0},e.debugAdapterRequirements={output:void 0,result:void 0},e.espIdfToolsVersions=void 0,e.espIdfVersion={output:void 0,result:void 0},e.formatedOutput=void 0,e.gitVersion={output:void 0,result:void 0},e.idfCheckRequirements={output:void 0,result:void 0},e.launchJson=void 0,e.latestError=void 0,e.pipVersion={output:void 0,result:void 0},e.pythonPackages={output:void 0,result:void 0},e.pythonVersion={output:void 0,result:void 0},e.systemInfo={architecture:void 0,envIdfPythonEnvPath:void 0,envPath:void 0,envPython:void 0,extensionVersion:void 0,language:void 0,shell:void 0,platform:void 0,systemName:void 0,vscodeVersion:void 0,remoteName:void 0,appName:void 0},e.workspaceFolder=void 0,e.projectConfigurations={},e}function Tc(e,t=["examples"],r){const i=n.basename(e),o=n.join(e,...t),s=ls(o),a={name:r||i.toUpperCase(),examples:[],subcategories:[]};for(const e of s){const t=e.replace(o+n.sep,"").split(n.sep);Cc(a,e,t)}const c=a.subcategories.findIndex((e=>"get-started"===e.name));return-1!==c&&a.subcategories.splice(0,0,a.subcategories.splice(c,1)[0]),a}function Cc(e,t,n){if(1===n.length){const r={name:n[0],path:t};return void e.examples.push(r)}let r=e.subcategories.findIndex((e=>e.name===n[0]));-1!==r?Cc(e.subcategories[r],t,n.slice(1)):(e.subcategories.push({name:n[0],subcategories:[],examples:[]}),Cc(e.subcategories[e.subcategories.length-1],t,n.slice(1)))}class Pc{static createOrShow(e,t){const n=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:i.ViewColumn.One;Pc.currentPanel?Pc.currentPanel.panel.reveal(n):Pc.currentPanel=new Pc(e,t,n)}static isCreatedAndHidden(){return Pc.currentPanel&&!Pc.currentPanel.panel.visible}constructor(e,t,r){this._disposables=[],this.extensionPath=e;const o=i.l10n.t("New Project");let s=[];s.push(i.Uri.file(n.join(this.extensionPath,"dist","views"))),t.espAdfPath&&s.push(i.Uri.file(t.espAdfPath)),t.espIdfSetup.idfPath&&s.push(i.Uri.file(t.espIdfSetup.idfPath)),t.espMdfPath&&s.push(i.Uri.file(t.espMdfPath)),t.espMatterPath&&s.push(i.Uri.file(t.espMatterPath)),t.espRainmakerPath&&s.push(i.Uri.file(t.espRainmakerPath)),t.espHomeKitSdkPath&&s.push(i.Uri.file(t.espHomeKitSdkPath)),this.panel=i.window.createWebviewPanel(Pc.viewType,o,r,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:s}),this.panel.iconPath=i.Uri.file(n.join(e,"media","espressif_icon.png"));const a=this.panel.webview.asWebviewUri(i.Uri.file(n.join(this.extensionPath,"dist","views","newProject-bundle.js")));this.panel.webview.html=this.createHtml(a);const c="win32"===process.platform?process.env.USERPROFILE:process.env.HOME;this.panel.webview.onDidReceiveMessage((async e=>{switch(e.command){case"createProject":e.components&&e.containerFolder&&e.port&&e.projectName&&e.openOcdConfigFiles&&e.template&&e.selectedIdfTarget&&this.createProject(t.espIdfSetup,JSON.parse(e.components),e.port,e.containerFolder,e.projectName,JSON.parse(e.template),e.openOcdConfigFiles,t.workspaceFolder,e.selectedIdfTarget);break;case"getTemplateDetail":e.path&&await this.getTemplateDetail(e.path);break;case"loadComponent":let r=await this.openFolder();if(r){const e={name:n.basename(r),path:r};this.panel.webview.postMessage({command:"addComponentPath",component:e})}break;case"openProjectDirectory":let i=await this.openFolder();i&&this.panel.webview.postMessage({command:"setContainerDirectory",projectDirectory:i});break;case"openResultingProject":e.path&&this.openResultingProject(e.path);break;case"requestInitValues":if(t&&t.serialPortList&&t.serialPortList.length>0){const e=t.boards&&t.boards.length>0?t.boards[0].configFiles.join(","):["interface/ftdi/esp32_devkitj_v1.cfg","target/esp32.cfg"].join(",");this.panel.webview.postMessage({boards:t.boards,command:"initialLoad",containerDirectory:c,projectName:"project-name",idfTargets:t.idfTargets,serialPortList:t.serialPortList,openOcdConfigFiles:e,templates:t.templates,pathSep:n.sep})}}})),this.panel.onDidDispose((()=>{Pc.currentPanel=void 0}),null,this._disposables)}async createProject(e,t,r,s,a,c,l,u,p){const d=n.join(s,a);let h=!1;const f=Is("idf.notificationMode",u),m=f===Ss.All||f===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:m,title:"ESP-IDF: Create project"},(async(u,f)=>{try{if(!await rs(s))return i.window.showInformationMessage("Project directory doesn't exists."),this.panel.webview.postMessage({command:"goToBeginning"}),void(h=!0);if(await rs(d)){const e=await i.window.showInformationMessage(`${d} already exists. Overwrite content?`,"Yes","No");if(void 0===e||"No"===e)return void(h=!0)}if(await(0,o.ensureDir)(d,{mode:509}),c&&""!==c.path)await Ko(c.path,i.Uri.file(d));else{const e=n.join(this.extensionPath,"templates","template-app");await Ko(e,i.Uri.file(d))}await cs(d,a);const u=n.join(d,".vscode","settings.json"),f=await async function(e,t,n,r,i,s){const a=await(0,o.readJSON)(e),c=Is("idf.espAdfPath",s),l=Is("idf.espMdfPath",s),u="win32"===process.platform?"Win":"";return t.idfPath&&(a["idf.espIdfPath"+u]=t.idfPath),t.python?a["idf.pythonInstallPath"]=await Ar(t.python,t.idfPath,t.toolsPath):a["idf.pythonInstallPath"]=t.sysPythonPath,c&&(a["idf.espAdfPath"+u]=c),l&&(a["idf.espMdfPath"+u]=l),i&&(a["idf.openOcdConfigs"]=-1!==i.indexOf(",")?i.split(","):[i]),-1===n.indexOf("no port")&&(a["idf.port"+u]=n),t.toolsPath&&(a["idf.toolsPath"+u]=t.toolsPath),r&&(a["idf.customExtraVars"]=a["idf.customExtraVars"]||{},a["idf.customExtraVars"].IDF_TARGET=r),await ko(a,s),a}(u,e,r,p,l,i.Uri.file(d));if(await Ao(i.Uri.file(d)),await(0,o.writeJSON)(u,f,{spaces:2}),t&&t.length>0){const e=n.join(d,"components");await(0,o.ensureDir)(e,{mode:509});for(const r of t)if(await rs(r.path)){const t=n.join(e,r.name);await(0,o.ensureDir)(t,{mode:509}),await(0,o.copy)(r.path,t)}else{const e=`Component ${r.name} path: ${r.path} doesn't exist. Ignoring in new project...`;js.info(e),Q.appendLine(e)}}this.panel.webview.postMessage({command:"projectCreated",resultingProjectPath:d})}catch(e){Q.appendLine(e.message),js.errorNotify(e.message,e,"NewProjectPanel createProject")}}))}openResultingProject(e){i.commands.executeCommand("vscode.openFolder",i.Uri.file(e),!0),Pc.currentPanel.panel.dispose(),Pc.currentPanel=void 0}async openFolder(){const e=await i.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1});if(e&&e.length>0)return e[0].fsPath}async getTemplateDetail(e){try{const t=i.Uri.file(n.join(e,"README.md")),r=function(e,t,r){const o=new z.Renderer;let s=z(e,{baseUrl:null,breaks:!0,gfm:!0,pedantic:!1,renderer:o,smartLists:!0,smartypants:!1}),a=ao(s);const c=new RegExp(/src\s*=\s*"(.+?)"/g);let l;for(;null!==(l=c.exec(a));){const e=l[1],o=`src="${r.webview.asWebviewUri(i.Uri.file(n.resolve(t,e)))}"`;a=a.replace(l[0],o)}const u=new RegExp(/&lt;img src=&quot;(.*?)&quot;\s?&gt;/g);let p;for(;null!==(p=u.exec(a));){const e=p[0].match(/(?:src=&quot;)(.*?)(?:&quot;)/),o=p[0].match(/(?:height=&quot;)(.*?)(?:&quot;)/),s=p[0].match(/(?:width=&quot;)(.*?)(?:&quot;)/),c=p[0].match(/(?:alt=&quot;)(.*?)(?:&quot;)/),l=`<img src="${r.webview.asWebviewUri(i.Uri.file(n.resolve(t,e[1])))}" ${o&&o.length>0?`height="${o[1]}"`:""} ${s&&s.length>0?`width="${s[1]}"`:""} ${c&&c.length>0?`alt="${c[1]}"`:""} >`;a=a.replace(p[0],l)}return a=a.replace(/&lt;/g,"<").replace(/&gt;/g,">"),a}((await(0,o.readFile)(t.fsPath)).toString(),e,this.panel);this.panel.webview.postMessage({command:"setExampleDetail",templateDetail:r})}catch(e){this.panel.webview.postMessage({command:"set_example_detail",templateDetail:"No README.md available for this project."})}}createHtml(e){return`<!DOCTYPE html>\n      <html lang="en">\n        <head>\n          <meta charset="UTF-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>ESP-IDF Project</title>\n        </head>\n        <body>\n          <div id="app"></div>\n        </body>\n        <script src="${e}"><\/script>\n      </html>`}}Pc.viewType="newProjectWizard";class Ic{constructor(e){this.currentWorkspace=e;const t=Is("idf.espIdfPath",e);this.idfSizePath=(0,n.join)(t,"tools","idf_size.py"),this.buildDirPath=Is("idf.buildPath",e)}mapFilePath(){const e=function(e){const t=n.join(e,"CMakeLists.txt");if(Xo(t)){const e=l.readFileSync(t,"utf-8").match(/project\(([^)\s]+)/i);if(e&&e[1])return e[1]}}(this.currentWorkspace.fsPath);return(0,n.join)(this.buildDirPath,`${e}.map`)}async getSizeInfo(){await(0,o.ensureDir)(this.buildDirPath);const e=await kr(this.currentWorkspace),t=this.mapFilePath(),n=[this.idfSizePath,t],r=await ms(this.currentWorkspace),s={cwd:this.buildDirPath,env:r},a=Ka.create(e,n,s),c=Is("idf.notificationMode",this.currentWorkspace),l=i.workspace.workspaceFolders.find((e=>e.uri===this.currentWorkspace)),u={reveal:c===Ss.All||c===Ss.Output?i.TaskRevealKind.Always:i.TaskRevealKind.Silent,showReuseMessage:!1,clear:!0,panel:i.TaskPanelKind.Dedicated};return $a.addTask({type:"esp-idf",command:"ESP-IDF Size",taskId:"idf-size-task"},l||i.TaskScope.Workspace,"ESP-IDF Size",a,["espIdf"],u),a}}var Oc;!function(e){e.Custom="custom",e.PreBuild="prebuild",e.PostBuild="postbuild",e.PreFlash="preflash",e.PostFlash="postflash"}(Oc||(Oc={}));class kc{constructor(e){this.currentWorkspace=e}isRunning(e){kc.isRunningCustomTask=e}getProcessExecution(e,t){return new Ya(e,t)}async addCustomTask(e){let t,n;switch(e){case Oc.PreBuild:t=Is("idf.preBuildTask",this.currentWorkspace),n="Pre Build";break;case Oc.PostBuild:t=Is("idf.postBuildTask",this.currentWorkspace),n="Post Build";break;case Oc.PreFlash:t=Is("idf.preFlashTask",this.currentWorkspace),n="Pre Flash";break;case Oc.PostFlash:t=Is("idf.postFlashTask",this.currentWorkspace),n="Post Flash";break;case Oc.Custom:t=Is("idf.customTask",this.currentWorkspace),n="Custom task"}if(!t)return;const r=await ms(this.currentWorkspace),o={cwd:this.currentWorkspace.fsPath,env:r},s=Is("idf.customTerminalExecutable",this.currentWorkspace),a=Is("idf.customTerminalExecutableArgs",this.currentWorkspace);s&&(o.executable=s),a&&a.length&&(o.shellArgs=a);const c=Is("idf.notificationMode",this.currentWorkspace),l=c===Ss.All||c===Ss.Output?i.TaskRevealKind.Always:i.TaskRevealKind.Silent,u=this.getProcessExecution(t,o),p={reveal:l,showReuseMessage:!1,clear:!1,panel:i.TaskPanelKind.Dedicated},d=i.workspace.workspaceFolders.find((e=>e.uri===this.currentWorkspace));return $a.addTask({type:"esp-idf",command:`ESP-IDF ${n}`,taskId:`idf-${e}-task`},d||i.TaskScope.Workspace,`ESP-IDF ${n}`,u,["espIdf","espIdfLd"],p),u}async runTasks(e){let t;switch(e){case Oc.PreBuild:t=Is("idf.preBuildTask",this.currentWorkspace);break;case Oc.PostBuild:t=Is("idf.postBuildTask",this.currentWorkspace);break;case Oc.PreFlash:t=Is("idf.preFlashTask",this.currentWorkspace);break;case Oc.PostFlash:t=Is("idf.postFlashTask",this.currentWorkspace);break;case Oc.Custom:t=Is("idf.customTask",this.currentWorkspace)}t&&await $a.runTasks()}}async function Dc(e,r,s,a){const c=new Ja(e),l=new kc(e);if(Ja.isBuilding||Qa.isFlashing){const e=i.l10n.t("Wait for ESP-IDF build or flash to finish");return js.errorNotify(e,new Error("One_Task_At_A_Time"),"buildCmd buildCommand"),{continueFlag:!1,executions:[]}}r.onCancellationRequested((()=>($a.cancelTasks(),$a.disposeListeners(),c.building(!1),{continueFlag:!1,executions:[]})));let u=await l.addCustomTask(Oc.PreBuild),p=[];const[d,h]=await c.build(a);if(p.push(d,h,u),await Is("idf.enableSizeTaskAfterBuildTask",e)&&void 0===a){const t=new Ic(e);let n=await t.getSizeInfo();p.push(n)}const f=await l.addCustomTask(Oc.PostBuild);if(p.push(f),s===t.FlashType.DFU){const t=Is("idf.buildPath",e);if(!await(0,o.pathExists)((0,n.join)(t,"flasher_args.json")))return js.warnNotify("flasher_args.json file is missing from the build directory, can't proceed, please build properly!"),{continueFlag:!1,executions:[]};const r=await so(e);if(r&&"esp32s2"!==r&&"esp32s3"!==r)return js.warnNotify(`The selected device target "${r}" is not compatible for DFU, as a result the DFU.bin was not created.`),{continueFlag:!1,executions:[]};{const e=await c.buildDfu();p.push(e)}}const m=await $a.runTasksWithBoolean();if(!r.isCancellationRequested){io(e),js.infoNotify("Build Successful");const t=await async function(e){const t=Is("idf.buildPath",e),r=(0,n.join)(t,"flasher_args.json");if(!await(0,o.pathExists)(r))return;const i=Is("idf.port",e),s=Is("idf.flashBaudRate",e),a=await Us(r,i,s);let c=`--flash_mode ${a.mode}`;c+=` --flash_size ${a.size}`,c+=` --flash_freq ${a.frequency} `;for(const e of a.flashSections)c+=`${e.address} ${e.binFilePath} `;let l="Project build complete. To flash, run:\n";return l+="ESP-IDF: Flash your project in the ESP-IDF Visual Studio Code Extension\n",l+="or in a ESP-IDF Terminal:\n",l+="idf.py flash\n",l+=`or\r\nidf.py ${i&&"detect"!==i?`-p ${i}`:""} flash\n`,l+="or\r\n",l+=`python -m esptool --chip ${a.chip} -b ${s} --before ${a.before} --after ${a.after} ${!1===a.stub?"--no-stub":""} ${i&&"detect"!==i?`--port ${i}`:""} write_flash ${c}\n`,l+=`or from the "${t}" directory\n`,l+=`python -m esptool --chip ${a.chip} `,l+=`-b ${s} --before ${a.before} `,l+=`--after ${a.after} write_flash "@flash_args"`,l}(e);Q.appendLine(t,"Build"),$a.disposeListeners()}return c.building(!1),{continueFlag:m,executions:p}}async function Ac(e,t,n,r){let i=!0;try{let o=await Dc(e,t,n,r);if(i=o.continueFlag,!i)for(let e=0;e<o.executions.length;e++)if(o.executions[e]){const t=await o.executions[e].getOutput();if(t&&!t.success&&t.stderr)throw t.stderr}}catch(e){"ALREADY_BUILDING"===e.message&&js.errorNotify("Already a build is running!",e,"buildCommand"),"BUILD_TERMINATED"===e.message?js.warnNotify("Build is Terminated"):js.errorNotify("Something went wrong while trying to build the project",e,"buildCommand",void 0,!1),i=!1}return i}var Rc=__webpack_require__(9140);async function Nc(e,r=!1,o){if(Ja.isBuilding||Qa.isFlashing){const e=i.l10n.t("Wait for ESP-IDF task to finish");return void js.errorNotify(e,new Error("One_Task_At_A_Time"),"createNewIdfMonitor wait for building flashing task to finish")}const s=await Ds(e,!1),a=Is("idf.monitorPort",e),c=o||a||s;if(!c){try{await i.commands.executeCommand("espIdf.selectPort")}catch(e){js.error("Unable to execute the command: espIdf.selectPort",e,"command createNewIdfMonitor")}js.errorNotify("Select a serial port before flashing",new Error("NOT_SELECTED_PORT"),"createNewIdfMonitor select a serial port")}const l=await kr(e);Bo(l,Rc.R_OK)||js.errorNotify("Python binary path is not defined",new Error("Virtual environment Python path is not defined"),"createNewIdfMonitor pythonBinPath not defined");const u=Is("idf.espIdfPath",e),p=await us(u);let d=await Qo(e);const h=(0,n.join)(u,"tools","idf_monitor.py");Bo(h,Rc.R_OK)||js.errorNotify(h+" is not defined",new Error(h+" is not defined"),"createNewIdfMonitor idf_monitor not found");const f=Is("idf.buildPath",e);let m=await so(e);const g=await oo(f),y=(0,n.join)(f,`${g}.elf`),v=zo(m,""),b=Is("idf.customTerminalExecutable",e),w=Is("idf.customTerminalExecutableArgs",e),_={port:c,baudRate:d,pythonBinPath:l,idfTarget:m,idfMonitorToolPath:h,idfVersion:p,noReset:r,enableTimestamps:Is("idf.monitorEnableTimestamps",e),customTimestampFormat:Is("idf.monitorCustomTimestampFormat",e),elfFilePath:y,workspaceFolder:e,toolchainPrefix:v,shellPath:b,shellExecutableArgs:w};if(qa.updateConfiguration(_),qa.terminal&&qa.terminal.sendText(t.CTRL_RBRACKET),qa.start(),r){const t=Is("idf.monitorDelay",e);await Uo(t)}}var Lc,Fc=__webpack_require__(4382);class Mc{static startKconfigLangServer(e){const t=e.asAbsolutePath((0,n.join)("dist","kconfigServer.js")),r={debug:{module:t,options:{execArgv:["--nolazy","--inspect=6009"]},transport:Fc.TransportKind.ipc},run:{module:t,transport:Fc.TransportKind.ipc}},o={documentSelector:[{scheme:"file",pattern:"**/Kconfig"},{scheme:"file",pattern:"**/Kconfig.projbuild"},{scheme:"file",pattern:"**/Kconfig.in"}],synchronize:{fileEvents:i.workspace.createFileSystemWatcher("**/.clientrc")}};Mc.kconfigLangClient=new Fc.LanguageClient("kconfigServer","Kconfig Language Server",r,o),Mc.kconfigLangClient.start()}static stopKconfigLangServer(){Mc.kconfigLangClient&&Mc.kconfigLangClient.stop()}}class jc{static show(e,n){const r=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:void 0;jc.instance&&jc.instance.panel.reveal(r);const o=Is("esp.component-manager.url",n);if(!o)throw new Error("esp.component-manager.url is not set");const s=i.window.createWebviewPanel(t.Webview.ComponentManagerUI.ViewType,t.Webview.ComponentManagerUI.Title,r||i.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0,enableCommandUris:!0});jc.instance=new jc(s,n,e,o)}dispose(){for(jc.instance=null,this.panel.dispose();this.disposable.length;){const e=this.disposable.pop();e&&e.dispose()}}constructor(e,t,r,o){this.disposable=[],this.panel=e,this.workspaceRoot=t,this.extensionPath=r,this.panel.onDidDispose((()=>this.dispose()),null,this.disposable),this.panel.webview.onDidReceiveMessage((async e=>this.onMessage(e,t)),null,this.disposable),this.panel.iconPath=i.Uri.file((0,n.join)(r,"media","espressif_icon.png")),this.panel.webview.html=this.initWebView(o)}async onMessage(e,t){const r=Is("idf.notificationMode",t),o=r===Ss.All||r===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;switch(e.message){case"install":if(!e.dependency)return;const t=e.component||"main";await i.window.withProgress({cancellable:!1,location:o,title:`ESP-IDF: Adding ${e.dependency} to component ${t}...`},(async(r,o)=>{await async function(e,t,r,o){try{const i=Is("idf.espIdfPath",e),s=(0,n.join)(i,"tools","idf.py"),a=await ms(e),c=await kr(e),l=Is("idf.enableCCache",e),u=[s];l&&u.push("--ccache"),u.push("add-dependency",`--component=${r}`,t,"reconfigure");const p=await jo(c,u,{cwd:e.fsPath,env:a,cancelToken:o});js.infoNotify(`Added dependency ${t} to the component "${r}"`),js.info(p.toString())}catch(e){const n=new Error(i.l10n.t('Error encountered while adding dependency {dependency} to the component "{component}"',{dependency:t,component:r}));throw js.error(e.message,e,"Component manager addDependency"),n}}(this.workspaceRoot,e.dependency,t,o)}));break;case"create-project-from-example":if(!e.example)return;const r=await i.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1});if(!r)return;await i.window.withProgress({location:o,title:"ESP-IDF: Creating project...",cancellable:!1},(async()=>{const t=await async function(e,t){try{const r=Is("idf.espIdfPath"),o=(0,n.join)(r,"tools","idf.py"),s=await ms(e),a=await kr(e);if(!(0,l.existsSync)(r)||!(0,l.existsSync)(o)||!(0,l.existsSync)(a))throw new Error("The paths to idf, idf.py or pythonBin do not exist.");const c=t.match(/(?<=:).*/);if(!c)return;const u=i.Uri.joinPath(e,c[0]),p=[o,"create-project-from-example",`${t}`],d=await jo(a,p,{cwd:e.fsPath,env:s});js.infoNotify(`Creating project from ${t}"`),js.info(d.toString());const h="downloaded to ",f=d.toString().lastIndexOf(h);if(-1!==f){const e=d.toString().substring(f+h.length).trim(),t=e.lastIndexOf(W.EOL),n=e.toString().substring(0,t).trim();return js.info(`Extracted path ${n}`),i.Uri.file(n)}return u}catch(e){const n=new Error(`${i.l10n.t('Error encountered while creating project from example "{example}"',{example:t})}. Original error: ${e.message}`);throw js.error(e.message,e,"Component manager createProject"),n}}(r[0],e.example);await i.commands.executeCommand("vscode.openFolder",t,{forceNewWindow:!0})}))}}initWebView(e){return`<!DOCTYPE html>\n<html lang="en">\n\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>ESP Component Registry</title>\n  <style>\n    body {\n      margin: 0px;\n      padding: 0px;\n      overflow: hidden;\n    }\n\n    iframe {\n      overflow: hidden;\n      overflow-x: hidden;\n      overflow-y: hidden;\n      height: 100%;\n      width: 100%;\n      position: absolute;\n      top: 0px;\n      left: 0px;\n      right: 0px;\n      bottom: 0px\n    }\n  </style>\n</head>\n\n<body>\n  <iframe src="${e}" frameborder="0" width="100%" height="100%"></iframe>\n  <script>\n    const vscode = acquireVsCodeApi()\n    window.addEventListener("message", (ev) => {\n      vscode.postMessage(ev.data);\n    })\n  <\/script>\n</body>\n\n</html>`}}async function Bc(e){const t=await ms(e),r=await Ds(e,!1);if(!r)return js.warnNotify(i.l10n.t("No serial port found for current IDF_TARGET: {0}",t.IDF_TARGET||"default"));const s=Is("idf.flashBaudRate",e),a=Is("idf.espIdfPath",e),c=await kr(e),l=(0,n.join)(a,"components","esptool_py","esptool","esptool.py"),u=Is("idf.buildPath",e),p=(0,n.join)(u,"flasher_args.json");if(!await(0,o.pathExists)(p))return js.info(`${p} doesn't exist. Build the project first`);const d=await Us(p,r,s);try{const n=await jo(c,[l,"-p",r,"verify_flash",d.app.address,`build/${d.app.binFilePath}`],{cwd:e.fsPath,env:t});return js.info(n.toString()),-1===n.toString().indexOf("verify FAILED (digest mismatch)")&&-1!==n.toString().indexOf("verify OK (digest matched)")}catch(e){if(e&&e.message&&-1!==e.message.indexOf("verify FAILED (digest mismatch)"))return!1;const t=e.message?e.message:"Something wrong while verifying app binary.";return js.errorNotify(t,e,"verifyAppBinary"),!1}}!function(e){e[e.Debug=0]="Debug",e[e.Monitor=1]="Monitor",e[e.DebugMonitor=2]="DebugMonitor"}(Lc||(Lc={}));class Uc extends oe.EventEmitter{static init(){return Uc.instance||(Uc.instance=new Uc),Uc.instance}constructor(){super(),this.registerQemuStatusBarItem()}statusBarItem(){return this._statusBarItem}updateStatusText(e){this._statusBarItem.text=e,this._statusBarItem.show()}async commandHandler(){const e=await i.window.showQuickPick([{label:"QEMU Monitor",description:""},{label:"QEMU Debug",description:""},{label:"Stop QEMU",description:""}]);if(e)try{switch(e.label){case"Stop QEMU":Uc.instance.stop();break;case"QEMU Monitor":i.commands.executeCommand("espIdf.monitorQemu");break;case"QEMU Debug":i.commands.executeCommand("espIdf.qemuDebug")}}catch(e){const t=e.message?e.message:"";js.errorNotify(t,e,"QemuManager commandHandler")}}getLaunchArguments(e,t){const r=Is("idf.buildPath",t),i=Is("idf.qemuExtraArgs",t),o=Is("idf.espIdfPath",t);let s=[(0,n.join)(o,"tools","idf.py"),"-B",r,"qemu"];return e!==Lc.Debug&&e!==Lc.DebugMonitor||s.push("--gdb"),i&&Array.isArray(i)&&i.length>0&&s.push(...i),e!==Lc.Monitor&&e!==Lc.DebugMonitor||s.push("monitor"),s}isRunning(){return!!this.qemuTerminal}async getQemuExecutable(e){const t=await te.createIdfToolsManager(e),n=await t.getPackageList(["qemu-xtensa","qemu-riscv32"]),r=n.find((e=>"qemu-xtensa"===e.name)),i=n.find((e=>"qemu-riscv32"===e.name)),o={};for(const e of r.supported_targets)o[e]=r.version_cmd[0];for(const e of i.supported_targets)o[e]=i.version_cmd[0];return 0===Object.keys(o).length&&(o.esp32="qemu-system-xtensa",o.esp32c3="qemu-system-riscv32"),o}async start(e,t){if(this.isRunning())return;const n=await ms(t),r=(await this.getQemuExecutable(n.IDF_PATH))[n.IDF_TARGET]||"";if(!r)throw new Error(`${n.IDF_TARGET} is not supported by Espressif QEMU. Check ESP-IDF and QEMU version installed.`);if(!await ys(r,n))throw new Error(`${r} is not found in PATH or access is denied`);const o=this.getLaunchArguments(e,t);if(void 0===o||o.length<1)throw new Error("No QEMU launch arguments found.");void 0===this.qemuTerminal&&(this.qemuTerminal=i.window.createTerminal({name:"ESP-IDF QEMU",env:n,cwd:t.fsPath||n.IDF_PATH||process.cwd(),shellArgs:[],shellPath:i.env.shell,strictEnv:!0}),i.window.onDidCloseTerminal((e=>{e.processId===this.qemuTerminal.processId&&this.stop()})));const s=await kr(t);this.qemuTerminal.sendText(`${s} ${o.join(" ")}`),this.qemuTerminal.show(!0),this.updateStatusText("❇️ QEMU Server (Running)")}stop(){this.qemuTerminal&&(this.qemuTerminal.sendText(t.CTRL_RBRACKET),this.qemuTerminal.dispose(),this.qemuTerminal=void 0),this.updateStatusText("❌ QEMU Server (Stopped)")}showOutputChannel(e){this.qemuTerminal&&this.qemuTerminal.show(e)}registerQemuStatusBarItem(){if(!this._statusBarItem){this._statusBarItem=i.window.createStatusBarItem(Qr.QemuServer,i.StatusBarAlignment.Left,0),this._statusBarItem.name=this._statusBarItem.text="QEMU";const e=ui();this._statusBarItem.tooltip=e[Qr.QemuServer].tooltip,this._statusBarItem.command=Qr.QemuServer,e[Qr.QemuServer].checkboxState===i.TreeItemCheckboxState.Checked&&this._statusBarItem.show(),Ti.qemu=this._statusBarItem}}}class qc extends i.TreeItem{}class $c{constructor(){this.OnDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this.OnDidChangeTreeData.event,this.PARTITION_TABLE_SIZE="0xC00"}registerDataProvider(e){return i.window.registerTreeDataProvider(e,this)}getTreeItem(e){return e}getChildren(e){return this.partitionItems}refresh(){this.OnDidChangeTreeData.fire(null)}async populatePartitionItems(e){this.partitionItems=Array(0);try{const t=Is("idf.espIdfPath",e),r=Is("idf.buildPath",e),s=Is("idf.flashBaudRate",e),a=await ms(e),c=Is("idf.port",e);if(!c)return js.warnNotify(i.l10n.t("No serial port found for current IDF_TARGET: {0}",a.IDF_TARGET));const l=await kr(e),u=(0,n.join)(r,"flasher_args.json");if(!await(0,o.pathExists)(u))return void i.window.showInformationMessage(i.l10n.t("{buildFile} doesn't exist. Build first.",{flasherArgsPath:u}));const p=await Us(u,c,s);let d=p.partitionTable.address;const h={name:"partition_table",type:"partition_table",subtype:"primary",offset:d,size:"3K",flag:void 0,error:void 0},f=(0,n.join)(r,"bootloader","bootloader.bin");if(!await(0,o.pathExists)(f))return void i.window.showInformationMessage(i.l10n.t("{buildFile} doesn't exist. Build first.",{bootloaderFile:f}));const m=function(e){if(e>=1048576){const t=e/1048576;return`${Math.ceil(t)}M`}if(e>=1024){const t=e/1024;return`${Math.ceil(t)}K`}return e.toString()}((await(0,o.stat)(f)).size),g={name:"bootloader",type:"bootloader",subtype:"primary",offset:p.bootloader.address,size:m,flag:void 0,error:void 0};await(0,o.ensureDir)((0,n.join)(e.fsPath,"partition_table"));const y=(0,n.join)(e.fsPath,"partition_table","partitionTable.csv"),v=(0,n.join)(t,"components","partition_table","gen_esp32part.py"),b=(0,n.join)(r,"partition_table","partition-table.bin");if(!await(0,o.pathExists)(b))return void i.window.showInformationMessage(i.l10n.t("{buildFile} doesn't exist. Build first.",{partTableBin:b}));await jo(l,[v,"-o",d,b,y],{cwd:e.fsPath,env:a});let w=function(e){const t=[],n=e.split(W.EOL),r=e.match(/#\s*Name,\s*Type,\s*SubType,\s*Offset,\s*Size,\s*Flags/g);return r&&r.length?(n.forEach((e=>{if(""===e||e.startsWith("#"))return;const n=e.split(",");t.push({name:(n.shift()??"").trim(),type:(n.shift()??"").trim(),subtype:(n.shift()??"").trim(),offset:(n.shift()??"").trim(),size:(n.shift()??"").trim(),flag:"encrypted"===(n.shift()??"").trim(),error:void 0})})),t):(console.log("Not a partition table csv, skipping..."),t)}((await(0,o.readFile)(y)).toString());this.partitionItems=this.createPartitionItemNode([g,h,...w])}catch(e){let t=e.message?e.message:"Error getting partitions from device";js.errorNotify(t,e,"PartitionTreeDataProvider populatePartitionItems")}this.refresh()}createPartitionItemNode(e){let t=[];for(const n of e){const e=new qc(n.name);e.name=n.name,e.type=n.type,e.subtype=n.subtype,e.offset=n.offset,e.size=n.size,e.flag=n.flag,e.error=n.error,e.command={command:"espIdf.partition.actions",title:"Show partition actions",arguments:[e]},e.iconPath=new i.ThemeIcon("file-binary"),e.description=`Offset (${n.offset.toUpperCase().replace("0X","0x")}) size: (${n.size})`,t.push(e)}return t}}async function Vc(e,t,r){const o=Is("idf.notificationMode",r),s=o===Ss.All||o===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!1,location:s,title:"ESP-IDF: Flashing binary to device"},(async o=>{try{const o=await ms(r),s=await Ds(r,!1);if(!s)return js.warnNotify(i.l10n.t("No serial port found for current IDF_TARGET: {0}",o.IDF_TARGET));const a=Is("idf.espIdfPath",r),c=await kr(r),l=(0,n.join)(a,"components","esptool_py","esptool","esptool.py");await jo(c,[l,"-p",s,"write_flash",e,t],{cwd:r.fsPath,env:o}),i.window.showInformationMessage(`Binary ${(0,n.basename)(t)} is flashed in ${e}`)}catch(e){let t=e.message?e.message:"Error flashing binary to device";js.errorNotify(t,e,"flashBinaryToPartition")}}))}class Hc{static createOrShow(e,t){const n=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:i.ViewColumn.One;Hc.currentPanel?Hc.currentPanel.panel.reveal(n):Hc.currentPanel=new Hc(e,n,t)}static isCreatedAndHidden(){return Hc.currentPanel&&!1===Hc.currentPanel.panel.visible}constructor(e,t,r){this.extensionPath=e,this.disposables=[];const o=i.l10n.t("ESP-IDF Welcome");this.panel=i.window.createWebviewPanel(Hc.viewType,o,t,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[i.Uri.file((0,n.join)(this.extensionPath,"dist","views"))]}),this.panel.iconPath=i.Uri.file((0,n.join)(this.extensionPath,"media","espressif_icon.png"));const s=this.panel.webview.asWebviewUri(i.Uri.file((0,n.join)(this.extensionPath,"dist","views","welcomePage-bundle.js")));this.panel.webview.html=this.createWelcomePageHtml(s),this.panel.webview.onDidReceiveMessage((async e=>{switch(e.command){case"requestInitialValues":this.panel.webview.postMessage({command:"initialLoad",...r});break;case"configureExtension":await i.commands.executeCommand("espIdf.setup.start");break;case"newProject":await i.commands.executeCommand("espIdf.newProject.start");break;case"importProject":await i.commands.executeCommand("espIdf.importProject");break;case"exploreComponents":await i.commands.executeCommand("esp.component-manager.ui.show");break;case"fetchBlogArticles":this.panel.webview.postMessage({command:"blogArticlesLoaded",articles:r.articles});break;case"openExternal":e.url&&await i.commands.executeCommand("vscode.open",i.Uri.parse(e.url));break;case"updateShowOnboardingOnInit":void 0!==e.showOnInit&&await Os("idf.showOnboardingOnInit",e.showOnInit,i.ConfigurationTarget.Global)}})),this.panel.onDidDispose((()=>this.dispose()),null,this.disposables)}async openFolder(){const e=await i.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1});if(e&&e.length>0)return e[0].fsPath;i.window.showInformationMessage("No folder selected")}createWelcomePageHtml(e){return`<!DOCTYPE html>\n      <html lang="en">\n        <head>\n          <meta charset="UTF-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src 'unsafe-inline' vscode-resource:; script-src 'unsafe-inline' 'unsafe-eval' vscode-resource:; connect-src https://developer.espressif.com https://*.espressif.com https://api.allorigins.win; img-src vscode-resource: https: data:;">\n          <title>ESP-IDF Welcome</title>\n        </head>\n        <body>\n          <div id="app"></div>\n        </body>\n        <script src="${e}"><\/script>\n      </html>`}dispose(){Hc.currentPanel=void 0,this.panel.dispose()}}Hc.viewType="welcomePanel";var Gc,zc,Wc=__webpack_require__(8805);function Kc(e){if(!e||"string"!=typeof e)return"";let t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,"").replace(/\s+/g," ").trim();return t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").trim(),t}class Yc extends ti{constructor(e="git",t){super("https://github.com/espressif/esp-matter.git","ESP-MATTER","main",e,"https://gitee.com/EspressifSystems/esp-matter.git"),this.currWorkspace=t}getShellExecution(e,t){return new i.ShellExecution(`source ${e}`,t)}async startBootstrap(e=!1){if(Yc.isBuildingGn)throw new Error("ALREADY_BUILDING");const t=Is("idf.espMatterPath",this.currWorkspace);if(!await(0,o.pathExists)(t))return;const r=(0,n.join)(t,"connectedhomeip","connectedhomeip"),s=(0,n.join)(r,"scripts",e?"activate.sh":"bootstrap.sh");if(!await(0,o.pathExists)(s))return;Yc.isBuildingGn=!0;const a={cwd:r},c=Is("idf.customTerminalExecutable",this.currWorkspace),l=Is("idf.customTerminalExecutableArgs",this.currWorkspace);c&&(a.executable=c),l&&l.length&&(a.shellArgs=l);const u=i.workspace.workspaceFolders&&i.workspace.workspaceFolders.length?i.workspace.workspaceFolders.find((e=>e.uri===this.currWorkspace)):void 0,p=this.getShellExecution(s,a),d=Is("idf.notificationMode",this.currWorkspace),h={reveal:d===Ss.All||d===Ss.Output?i.TaskRevealKind.Always:i.TaskRevealKind.Silent,showReuseMessage:!1,clear:!0,panel:i.TaskPanelKind.Dedicated};$a.addTask({type:"esp-idf",command:"ESP-Matter Bootstrap",taskId:"idf-bootstrap-task"},u||i.TaskScope.Workspace,"ESP-Matter Bootstrap",p,["espIdf"],h)}async initEsp32PlatformSubmodules(e,t){Q.appendLine("Downloading Matter ESP32 platform submodules");const n=Is("idf.notificationMode",t),r=n===Ss.All||n===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:r,title:"ESP-IDF: Installing ESP-Matter"},(async(t,n)=>{t.report({message:"Checking out ESP32 platform specific submodules"});try{n.onCancellationRequested((e=>{this.cancel()})),await this.checkoutEsp32PlatformSubmodules(e,void 0,t),js.infoNotify("ESP32 platform specific submodules checked out successfully")}catch(e){Q.appendLine(e.message),js.errorNotify(e.message,e,"EspMatterCloning initEsp32PlatformSubmodules")}}))}async checkoutEsp32PlatformSubmodules(e,t,r){return new Promise(((i,o)=>{const s=(0,n.join)(e,"connectedhomeip","connectedhomeip"),c=(0,a.spawn)((0,n.join)(s,"scripts","checkout_submodules.py"),["--platform","esp32",(0,W.platform)(),"--shallow"],{cwd:s});c.stderr.on("data",(e=>{Q.appendLine(e.toString()),js.info(e.toString()),/\b(Error)\b/g.test(e.toString())&&o(e.toString());const n=e.toString().match(/(\d+)(\.\d+)?%/g);if(n){let e=`Downloading ${n[n.length-1]}`;r&&r.report({message:e}),t&&(t.Progress=n[n.length-1])}else if(-1!==e.toString().indexOf("Cloning into")){let n=" "+e.toString();r&&r.report({message:`${e.toString()}`}),t&&(t.Progress=n)}})),c.on("exit",((e,t)=>{if(!t&&0!==e){const t=`ESP32 platform submodules clone has exit with ${e}`;return Q.appendLine(t),js.errorNotify("ESP32 platform submodules cloning error",new Error(t),"EspMatterCloning checkoutEsp32PlatformSubmodules"),o(new Error(t))}return i()}))}))}}class Jc extends i.TreeItem{constructor(e){super("PeripheralNode",i.TreeItemCollapsibleState.Collapsed),this.parent=e,this.expanded=!1}getParent(){return this.parent}getCommand(){}}class Qc extends Jc{constructor(e){super(e),this.parent=e,this.format=Gc.Auto,this.pinned=!1}selected(){return Promise.resolve(!1)}}!function(e){e[e.Auto=0]="Auto",e[e.Hexadecimal=1]="Hexadecimal",e[e.Decimal=2]="Decimal",e[e.Binary=3]="Binary"}(Gc||(Gc={}));class Xc{constructor(e,t,n){this.name=e,this.description=t,this.value=n}}class Zc{constructor(e,t){this.base=e,this.length=t}nxtAddr(){return this.base+this.length}endAddr(){return this.nxtAddr()-1}}class el extends Qc{constructor(e,t){super(null),this.message=e,this.tooltip=t}getChildren(){return[]}getTreeItem(){const e=new i.TreeItem(this.message,i.TreeItemCollapsibleState.None);return this.tooltip&&(e.tooltip=this.tooltip),e}getCopyValue(){return null}performUpdate(){return Promise.resolve(!1)}updateData(){return Promise.resolve(!1)}getPeripheral(){return null}collectRanges(e){}saveState(e){return[]}findByPath(e){return null}}function tl(e,t=0,n=!0,r=!1){let i=(e>>>0).toString(2);for(;i.length<t;)i="0"+i;if(r){const e=4-i.length%4;for(let t=0;t<e;t++)i="0"+i;const t=i.match(/[01]{4}/g);i=t.join(" "),i=i.substring(e)}return n?"0b"+i:i}function nl(e){return e.replace(/\r/g,"").replace(/\n\s*/g," ")}function rl(e,t){let n=0;const r=e+t-1;for(let t=e;t<=r;t++)n=(n|1<<t)>>>0;return n}function il(e,t,n){return(e&rl(t,n))>>>t>>>0}function ol(e,t=8,n=!0){let r=(e>>>0).toString(16);return r=r.padStart(t,"0"),n?"0x"+r:r}function sl(e,t){if(-1!==e.indexOf(",")){const n=e.split(",").map((e=>e.trim()));if(n.length!==t)throw new Error("dimIndex Element has invalid specification.");return n}if(/^([0-9]+)\-([0-9]+)$/i.test(e)){const n=e.split("-").map((e=>al(e))),r=n[0];if(n[1]-r+1<t)throw new Error("dimIndex Element has invalid specification.");const i=[];for(let e=0;e<t;e++)i.push(`${r+e}`);return i}if(/^[a-zA-Z]\-[a-zA-Z]$/.test(e)){const n=e.charCodeAt(0);if(e.charCodeAt(2)-n+1<t)throw new Error("dimIndex Element has invalid specification.");const r=[];for(let e=0;e<t;e++)r.push(String.fromCharCode(n+e));return r}return[]}function al(e){return/^0b([01]+)$/i.test(e)?parseInt(e.substring(2),2):/^0x([0-9a-f]+)$/i.test(e)?parseInt(e.substring(2),16):/^[0-9]+/i.test(e)?parseInt(e,10):/^#[0-1]+/i.test(e)?parseInt(e.substring(1),2):void 0}!function(e){e[e.ReadOnly=1]="ReadOnly",e[e.ReadWrite=2]="ReadWrite",e[e.WriteOnly=3]="WriteOnly"}(zc||(zc={}));const cl={"read-only":zc.ReadOnly,"write-only":zc.WriteOnly,"read-write":zc.ReadWrite,writeOnce:zc.WriteOnly,"read-writeOnce":zc.ReadWrite};class ll extends Qc{constructor(e,t,n){super(null),this.session=e,this.gapThreshold=t,this.iconPath=new i.ThemeIcon("symbol-variable"),this.name=n.name,this.baseAddress=n.baseAddress,this.totalLength=n.totalLength,this.description=n.description,this.groupName=n.groupName||"",this.resetValue=n.resetValue||0,this.size=n.size||32,this.children=[],this.addrRanges=[]}getPeripheral(){return this}getTreeItem(){const e=`${this.name} @ ${ol(this.baseAddress)}`,t=new i.TreeItem(e,this.expanded?i.TreeItemCollapsibleState.Expanded:i.TreeItemCollapsibleState.Collapsed);return t.contextValue=this.pinned?"peripheral.pinned":"peripheral",t.tooltip=this.description||void 0,this.pinned&&(t.iconPath=new i.ThemeIcon("pinned")),t}getChildren(){return this.children}setChildren(e){this.children=e,this.children.sort(((e,t)=>e.offset>t.offset?1:-1))}addChild(e){this.children.push(e),this.children.sort(((e,t)=>e.offset>t.offset?1:-1))}getBytes(e,t){try{return new Uint8Array(this.currentValue.slice(e,e+t))}catch(e){return new Uint8Array(0)}}getAddress(e){return this.baseAddress+e}getOffset(e){return e}getFormat(){return this.format}async updateData(){if(!this.expanded)return!1;try{const e=await this.readMemory();for(const t of e){const e=`Failed to update peripheral ${this.name}: ${t}`;i.debug.activeDebugConsole&&i.debug.activeDebugConsole.appendLine(e)}}catch(e){const t=e.message||"unknown error",n=`Failed to update peripheral ${this.name}: ${t}`;i.debug.activeDebugConsole&&i.debug.activeDebugConsole.appendLine(n)}try{const e=this.children.map((e=>e.updateData()));return await Promise.all(e),!0}catch(e){const t=`Internal error: Failed to update peripheral ${this.name} after memory reads`;return i.debug.activeDebugConsole&&i.debug.activeDebugConsole.appendLine(t),!0}}readMemory(){return this.currentValue||(this.currentValue=new Array(this.totalLength)),async function(e,t,n,r){const i=[];for(const o of n){const n="0x"+o.base.toString(16);try{const i=await e.customRequest("readMemory",{memoryReference:n,count:o.length});if(i&&i.data){const e=Buffer.from(i.data,"base64");let n=o.base-t;for(const t of e)r[n++]=t}}catch(t){const r=t?t.toString():"Unknown error";i.push(new Error(`peripheral-viewer: readMemory failed @ ${n} for ${o.length} bytes: ${r}, session=${e.id}`))}}return i}(this.session,this.baseAddress,this.addrRanges,this.currentValue)}collectRanges(){const e=[];this.children.map((t=>t.collectRanges(e))),e.sort(((e,t)=>e.base<t.base?-1:e.base>t.base?1:0)),e.map((e=>e.base+=this.baseAddress));let t=[];if(this.gapThreshold>=0){let n=null;for(const r of e)if(n&&n.nxtAddr()+this.gapThreshold){const e=Math.max(n.nxtAddr(),r.nxtAddr());n.length=e-n.base}else t.push(r),n=r}else t=e;this.addrRanges=function(e,t,n="",r=0){const i=new Array;for(const n of e){for(;n.length>t;)i.push(new Zc(n.base,t)),n.base+=t,n.length-=t;n.length>0&&i.push(n)}return i.length,i}(t,4096,this.name,this.totalLength)}getPeripheralNode(){return this}selected(){return this.performUpdate()}saveState(e){const t=[];return(this.format===Gc.Auto||this.expanded||this.pinned)&&t.push({node:`${this.name}`,expanded:this.expanded,format:this.format,pinned:this.pinned}),this.children.forEach((e=>{t.push(...e.saveState(`${this.name}`))})),t}static compare(e,t){return e.pinned&&t.pinned||!e.pinned&&!t.pinned?e.groupName!==t.groupName?e.groupName>t.groupName?1:-1:e.name!==t.name?e.name>t.name?1:-1:0:e.pinned?-1:1}findByPath(e){if(0===e.length)return this;{const t=this.children.find((t=>t.name===e[0]));return t?t.findByPath(e.slice(1)):null}}performUpdate(){throw new Error("Method not implemented.")}getCopyValue(){throw new Error("Method not implemented.")}}class ul extends Qc{constructor(e,t){super(e),this.parent=e,this.prevValue="",this.name=t.name,this.description=t.description,this.offset=t.addressOffset,this.accessType=t.accessType||e.accessType,this.size=t.size||e.size,this.resetValue=void 0!==t.resetValue?t.resetValue:e.resetValue,this.currentValue=this.resetValue,this.hexLength=Math.ceil(this.size/4),this.binaryRegex=new RegExp(`^0b[01]{1,${this.size}}$`,"i"),this.hexRegex=new RegExp(`^0x[0-9a-f]{1,${this.hexLength}}$`,"i"),this.children=[],this.parent.addChild(this)}reset(){this.currentValue=void 0}extractBits(e,t){return il(this.currentValue,e,t)}updateBits(e,t,n){return new Promise(((r,i)=>{const o=Math.pow(2,t);if(n>o)return i(`Value is invalid. Max value is ${o-1} (${ol(o-1,0)})`);{const o=rl(e,t),s=n<<e,a=this.currentValue&~o|s;this.updateValueInternal(a).then(r,i)}}))}getTreeItem(){const e=`${this.name} @ ${ol(this.offset,0)}`,t=this.children&&this.children.length>0?this.expanded?i.TreeItemCollapsibleState.Expanded:i.TreeItemCollapsibleState.Collapsed:i.TreeItemCollapsibleState.None,n=this.getFormattedValue(this.getFormat()),r={label:`${e} ${n}`};n!==this.prevValue&&(r.highlights=[[e.length+1,r.label.length]],this.prevValue=n);const o=new i.TreeItem(r,t);return o.contextValue=this.accessType===zc.ReadWrite?"registerRW":this.accessType===zc.ReadOnly?"registerR0":"registerW0",o.tooltip=this.generateTooltipMarkdown(),o}generateTooltipMarkdown(){const e=new i.MarkdownString("",!0);e.isTrusted=!0;const t=`${ol(this.getAddress())}`,n=this.getFormattedValue(this.getFormat()),r=this.accessType===zc.ReadOnly?"(Read Only)":"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";if(e.appendMarkdown(`| ${this.name}@${t} | ${r} | *${n}* |\n`),e.appendMarkdown("|:---|:---:|---:|\n\n"),this.accessType!==zc.WriteOnly&&e.appendMarkdown(`**Reset Value:** ${this.getFormattedResetValue(this.getFormat())}\n`),e.appendMarkdown("\n____\n\n"),e.appendMarkdown(this.description),e.appendMarkdown("\n_____\n\n"),this.accessType===zc.WriteOnly)return e;const o=this.getFormattedValue(Gc.Hexadecimal),s=this.getFormattedValue(Gc.Decimal),a=this.getFormattedValue(Gc.Binary);e.appendMarkdown("| Hex &nbsp;&nbsp; | Decimal &nbsp;&nbsp; | Binary &nbsp;&nbsp; |\n"),e.appendMarkdown("|:---|:---|:---|\n"),e.appendMarkdown(`| ${o} &nbsp;&nbsp; | ${s} &nbsp;&nbsp; | ${a} &nbsp;&nbsp; |\n\n`);const c=this.getChildren();return 0===c.length||(e.appendMarkdown("**Fields**\n\n"),e.appendMarkdown("| Field | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Bit-Range | Value |\n"),e.appendMarkdown("|:---|:---:|:---|:---|\n"),c.forEach((t=>{e.appendMarkdown(`| ${t.name} | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | ${t.getFormattedRange()} | ${t.getFormattedValue(t.getFormat(),!0)} |\n`)}))),e}getFormattedValue(e){return this.formatValue(this.currentValue,e)}getFormattedResetValue(e){return this.formatValue(this.resetValue,e)}formatValue(e,t){if(this.accessType===zc.WriteOnly)return"(Write Only)";switch(t){case Gc.Decimal:return e.toString();case Gc.Binary:return tl(e,4*this.hexLength);default:return ol(e,this.hexLength,!0)}}extractBitsFromReset(e,t){return il(this.resetValue,e,t)}getChildren(){return this.children||[]}setChildren(e){this.children=e.slice(0,e.length),this.children.sort(((e,t)=>e.offset>t.offset?1:-1))}addChild(e){this.children.push(e),this.children.sort(((e,t)=>e.offset>t.offset?1:-1))}getFormat(){return this.format!==Gc.Auto?this.format:this.parent.getFormat()}getCopyValue(){switch(this.getFormat()){case Gc.Decimal:return this.currentValue.toString();case Gc.Binary:return tl(this.currentValue,4*this.hexLength);default:return ol(this.currentValue,this.hexLength)}}performUpdate(){return new Promise(((e,t)=>{i.window.showInputBox({prompt:"Enter new value: (prefix hex with 0x, binary with 0b)",value:this.getCopyValue()}).then((n=>{let r;if(n.match(this.hexRegex))r=parseInt(n.substr(2),16);else if(n.match(this.binaryRegex))r=parseInt(n.substr(2),2);else{if(!n.match(/^[0-9]+/))return t("Value entered is not a valid format.");if(r=parseInt(n,10),r>=this.maxValue)return t(`Value entered (${r}) is greater than the maximum value of ${this.maxValue}`)}this.updateValueInternal(r).then(e,t)}))}))}getAddress(){return this.parent.getAddress(this.offset)}updateValueInternal(e){const t=this.parent.getAddress(this.offset),n=[],r=this.size/8;for(let t=0;t<r;t++){const r=255&e;e>>>=8;let i=r.toString(16);1===i.length&&(i="0"+i),n[t]=i}return new Promise(((e,r)=>{i.debug.activeDebugSession.customRequest("write-memory",{address:t,data:n.join("")}).then((t=>{this.parent.updateData().then((()=>{}),(()=>{})),e(!0)}),r)}))}updateData(){const e=this.size/8,t=this.parent.getBytes(this.offset,e),n=Buffer.from(t);try{switch(e){case 1:this.currentValue=n.readUInt8(0);break;case 2:this.currentValue=n.readUInt16LE(0);break;case 4:this.currentValue=n.readUInt32LE(0);break;default:i.window.showErrorMessage(`Register ${this.name} has invalid size: ${this.size}. Should be 8, 16 or 32.`)}}catch(e){return Promise.reject(e)}return this.children.forEach((e=>e.updateData())),Promise.resolve(!0)}saveState(e){const t=[];(this.format!==Gc.Auto||this.expanded)&&t.push({node:`${e}.${this.name}`,expanded:this.expanded,format:this.format});for(const n of this.children){const r=n.saveState(`${e}.${this.name}`);t.push(...r)}return t}findByPath(e){return 0===e.length?this:1===e.length?this.children.find((t=>t.name===e[0])):null}getPeripheral(){return this.parent.getPeripheral()}collectRanges(e){const t=this.parent.getOffset(this.offset);e.push(new Zc(t,this.size/8))}}class pl extends Qc{constructor(e,t){super(e),this.parent=e,this.name=t.name,this.description=t.description,this.offset=t.addressOffset,this.accessType=t.accessType||zc.ReadWrite,this.size=t.size||e.size,this.resetValue=t.resetValue||e.resetValue,this.children=[],this.parent.addChild(this)}getTreeItem(){const e=`${this.name} [${ol(this.offset,0)}]`,t=new i.TreeItem(e,this.expanded?i.TreeItemCollapsibleState.Expanded:i.TreeItemCollapsibleState.Collapsed);return t.contextValue="cluster",t.tooltip=this.description||void 0,t}getChildren(){return this.children}setChildren(e){this.children=e.slice(0,e.length),this.children.sort(((e,t)=>e.offset>t.offset?1:-1))}addChild(e){this.children.push(e),this.children.sort(((e,t)=>e.offset>t.offset?1:-1))}getBytes(e,t){return this.parent.getBytes(this.offset+e,t)}getAddress(e){return this.parent.getAddress(this.offset+e)}getOffset(e){return this.parent.getOffset(this.offset+e)}getFormat(){return this.format!==Gc.Auto?this.format:this.parent.getFormat()}updateData(){return new Promise(((e,t)=>{const n=this.children.map((e=>e.updateData()));Promise.all(n).then((t=>{e(!0)})).catch((e=>{t("Failed")}))}))}saveState(e){const t=[];return(this.format!==Gc.Auto||this.expanded)&&t.push({node:`${e}.${this.name}`,expanded:this.expanded,format:this.format}),this.children.forEach((n=>{t.push(...n.saveState(`${e}.${this.name}`))})),t}findByPath(e){if(0===e.length)return this;{const t=this.children.find((t=>t.name===e[0]));return t?t.findByPath(e.slice(1)):null}}collectRanges(e){this.children.map((t=>{t.collectRanges(e)}))}getPeripheral(){return this.parent.getPeripheral()}getCopyValue(){throw new Error("Method not implemented.")}performUpdate(){throw new Error("Method not implemented.")}}class dl extends Qc{constructor(e,t){if(super(e),this.parent=e,this.prevValue="",this.name=t.name,this.description=t.description,this.offset=t.offset,this.width=t.width,t.accessType?e.accessType===zc.ReadOnly&&t.accessType!==zc.ReadOnly?this.accessType=zc.ReadOnly:e.accessType===zc.WriteOnly&&t.accessType!==zc.WriteOnly?this.accessType=zc.WriteOnly:this.accessType=t.accessType:this.accessType=e.accessType,t.enumeration){this.enumeration=t.enumeration,this.enumerationMap={},this.enumerationValues=[];for(const e in t.enumeration){const n=t.enumeration[e].name;this.enumerationValues.push(n),this.enumerationMap[n]=e}}this.parent.addChild(this)}getTreeItem(){const e="reserved"===this.name.toLowerCase(),t=e?"field-res":this.parent.accessType===zc.ReadOnly?"field-ro":"field",n=this.offset,r=this.offset+this.width-1,o=`${this.name} [${r}:${n}]`,s=this.getFormattedValue(this.getFormat()),a={label:o+" "+s};s!==this.prevValue&&(a.highlights=[[o.length+1,a.label.length]],this.prevValue=s);const c=new i.TreeItem(a,i.TreeItemCollapsibleState.None);return c.contextValue=t,c.tooltip=this.generateTooltipMarkdown(e),c}generateTooltipMarkdown(e){const t=new i.MarkdownString("",!0);t.isTrusted=!0;const n=`${ol(this.parent.getAddress())}${this.getFormattedRange()}`;if(e)return t.appendMarkdown(`| ${this.name}@${n} | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | *Reserved* |\n`),t.appendMarkdown("|:---|:---:|---:|"),t;const r=this.getFormattedValue(this.getFormat(),!0),o=this.accessType===zc.ReadOnly?"(Read Only)":"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";if(t.appendMarkdown(`| ${this.name}@${n} | ${o} | *${r}* |\n`),t.appendMarkdown("|:---|:---:|---:|\n\n"),this.accessType!==zc.WriteOnly&&t.appendMarkdown(`**Reset Value:** ${this.formatValue(this.getResetValue(),this.getFormat())}\n`),t.appendMarkdown("\n____\n\n"),t.appendMarkdown(this.description),t.appendMarkdown("\n_____\n\n"),this.accessType===zc.WriteOnly)return t;const s=this.parent.extractBits(this.offset,this.width),a=ol(s,Math.ceil(this.width/4),!0),c=s.toString(),l=tl(s,this.width);if(this.enumeration){t.appendMarkdown("| Enumeration Value &nbsp;&nbsp; | Hex &nbsp;&nbsp; | Decimal &nbsp;&nbsp; | Binary &nbsp;&nbsp; |\n"),t.appendMarkdown("|:---|:---|:---|:---|\n");let e="Unknown";this.enumeration[s]&&(e=this.enumeration[s].name),t.appendMarkdown(`| ${e} &nbsp;&nbsp; | ${a} &nbsp;&nbsp; | ${c} &nbsp;&nbsp; | ${l} &nbsp;&nbsp; |\n\n`),this.enumeration[s]&&this.enumeration[s].description&&t.appendMarkdown(this.enumeration[s].description)}else t.appendMarkdown("| Hex &nbsp;&nbsp; | Decimal &nbsp;&nbsp; | Binary &nbsp;&nbsp; |\n"),t.appendMarkdown("|:---|:---|:---|\n"),t.appendMarkdown(`| ${a} &nbsp;&nbsp; | ${c} &nbsp;&nbsp; | ${l} &nbsp;&nbsp; |\n`);return t}getFormattedRange(){const e=this.offset;return`[${this.offset+this.width-1}:${e}]`}getCurrentValue(){return this.parent.extractBits(this.offset,this.width)}getResetValue(){return this.parent.extractBitsFromReset(this.offset,this.width)}getFormattedValue(e,t=!0){return this.formatValue(this.getCurrentValue(),e,t)}formatValue(e,t,n=!0){if(this.accessType===zc.WriteOnly)return"(Write Only)";let r="";switch(t){case Gc.Decimal:r=e.toString();break;case Gc.Binary:r=tl(e,this.width);break;case Gc.Hexadecimal:r=ol(e,Math.ceil(this.width/4),!0);break;default:r=this.width>=4?ol(e,Math.ceil(this.width/4),!0):tl(e,this.width)}return n&&this.enumeration&&(r=this.enumeration[e]?`${this.enumeration[e].name} (${r})`:`Unkown Enumeration Value (${r})`),r}getEnumerationValue(e){return this.enumeration?this.enumeration[e]?this.enumeration[e].name:void 0:null}getChildren(){return[]}performUpdate(){return new Promise(((e,t)=>{this.enumeration?i.window.showQuickPick(this.enumerationValues).then((n=>{if(void 0===n)return t("Input not selected");const r=this.enumerationMap[n];this.parent.updateBits(this.offset,this.width,r).then(e,t)})):i.window.showInputBox({prompt:"Enter new value: (prefix hex with 0x, binary with 0b)",value:this.getCopyValue()}).then((n=>{const r=al(n);if(void 0===r)return t("Unable to parse input value.");this.parent.updateBits(this.offset,this.width,r).then(e,t)}))}))}getCopyValue(){const e=this.parent.extractBits(this.offset,this.width);switch(this.getFormat()){case Gc.Decimal:return e.toString();case Gc.Binary:return tl(e,this.width);case Gc.Hexadecimal:return ol(e,Math.ceil(this.width/4),!0);default:return this.width>=4?ol(e,Math.ceil(this.width/4),!0):tl(e,this.width)}}updateData(){return Promise.resolve(!0)}getFormat(){return this.format!==Gc.Auto?this.format:this.parent.getFormat()}saveState(e){return this.format!==Gc.Auto?[{node:`${e}.${this.name}`,format:this.format}]:[]}findByPath(e){return 0===e.length?this:null}getPeripheral(){return this.parent.getPeripheral()}collectRanges(e){throw new Error("Method not implemented.")}}class hl{static async parse(e,t,n){hl.gapThreshold=n,hl.enumTypeValuesMap={},hl.peripheralMap={};const r=await(0,o.readFile)(t,"utf-8");return new Promise(((t,n)=>{(0,Wc.parseString)(r,(async(r,i)=>{if(r)return n(r);const o={},s={accessType:zc.ReadWrite,size:32,resetValue:0};i.device.resetValue&&(s.resetValue=i.device.resetValue[0]),i.device.size&&(s.size=i.device.size[0]),i.device.access&&(s.accessType=cl[i.device.access[0]]);for(const e of i.device.peripherals[0].peripheral)o[e.name[0]]=e;for(const e in o)o[e].$&&o[e].$.derivedFrom&&(o[e]={...o[e].$.derivedFrom,...o[e]});const a=[];for(const t in o)try{const n=await hl.parsePeripheral(e,o[t],s);a.push(n)}catch(e){n(e)}a.sort(ll.compare);for(const e of a)e.collectRanges();return t(a)}))}))}static parseFields(e,t){const n=[];return null==e?n:Array.isArray(e)?(e.map((e=>{let r,i;const o=nl(e.description?e.description[0]:"");if(e.bitOffset&&e.bitWidth)r=al(e.bitOffset[0]),i=al(e.bitWidth[0]);else if(e.bitRange){let t=e.bitRange[0];t=t.substring(1,t.length-1),t=t.split(":");const n=al(t[0]),o=al(t[1]);i=n-o+1,r=o}else{if(!e.msb||!e.lsb)throw new Error(`Unable to parse SVD file: field ${e.name[0]} must have either bitOffset and bitWidth elements, bitRange Element, or msb and lsb elements.`);{const t=al(e.msb[0]),n=al(e.lsb[0]);i=t-n+1,r=n}}let s=null;if(e.enumeratedValues){s={};const n=e.enumeratedValues[0];if(n.$&&n.$.derivedFrom){const t=hl.enumTypeValuesMap[n.$.derivedFrom];if(!t)throw new Error(`Invalid derivedFrom=${n.$.derivedFrom} for enumeratedValues of field ${e.name[0]}`);s=t}else if(n.enumeratedValue.map((e=>{if(e.value&&e.value.length>0){const t=e.name[0],n=nl(e.description?e.description[0]:""),r=al(e.value[0].toLowerCase());s[r]=new Xc(t,n,r)}})),n.name&&n.name[0]){let r=n.name[0];for(const n of[null,e.name[0],t.name,t.parent.name])r=n?n+"."+r:r,hl.enumTypeValuesMap[r]=s}}const a={name:e.name[0],description:o,offset:r,width:i,enumeration:s};if(e.access&&(a.accessType=cl[e.access[0]]),e.dim){if(!e.dimIncrement)throw new Error(`Unable to parse SVD file: field ${e.name[0]} has dim element, with no dimIncrement element.`);const i=al(e.dim[0]),o=al(e.dimIncrement[0]);let s=[];if(e.dimIndex)s=sl(e.dimIndex[0],i);else for(let e=0;e<i;e++)s.push(`${e}`);const c=e.name[0],l=r;for(let e=0;e<i;e++){const r=c.replace("%s",s[e]);n.push(new dl(t,{...a,name:r,offset:l+o*e}))}}else n.push(new dl(t,{...a}))})),n):[]}static parseClusters(e,t){const n=[];return e?(e.forEach((e=>{const r={};if(e.access&&(r.accessType=zc[e.access[0]]),e.size&&(r.size=al(e.size[0])),e.resetValue&&(r.resetValue=al(e.resetValue)),e.dim){if(!e.dimIncrement)throw new Error(`Unable to parse SVD file: cluster ${e.name[0]} has dim element, with no dimIncrement element.`);const i=al(e.dim[0]),o=al(e.dimIncrement[0]);let s=[];if(e.dimIndex)s=sl(e.dimIndex[0],i);else for(let e=0;e<i;e++)s.push(`${e}`);const a=e.name[0],c=nl(e.description?e.description[0]:""),l=al(e.addressOffset[0]);for(let u=0;u<i;u++){const i=a.replace("%s",s[u]),p=c.replace("%s",s[u]),d=new pl(t,{...r,name:i,description:p,addressOffset:l+o*u});e.register&&hl.parseRegisters(e.register,d),n.push(d)}}else{const i=nl(e.description?e.description[0]:""),o=new pl(t,{...r,name:e.name[0],description:i,addressOffset:al(e.addressOffset[0])});e.register&&(hl.parseRegisters(e.register,o),n.push(o))}})),n):[]}static async parsePeripheral(e,t,n){let r=0;if(t.addressBlock)for(const e of t.addressBlock){const t=al(e.offset[0]),n=al(e.size[0]);r=Math.max(r,t+n)}const i={name:t.name,baseAddress:al(t.baseAddress?t.baseAddress[0]:0),description:nl(t.description?t.description[0]:""),totalLength:r};t.access&&(i.accessType=cl[t.access[0]]),t.size&&(i.size=al(t.size[0])),t.resetValue&&(i.resetValue=al(t.resetValue[0])),t.groupName&&(i.groupName=t.groupName[0]);const o=new ll(e,hl.gapThreshold,i);return t.registers&&(t.registers[0].register&&hl.parseRegisters(t.registers[0].register,o),t.registers[0].cluster&&hl.parseClusters(t.registers[0].cluster,o)),o}static parseRegisters(e,t){const n=[...e],r=[],i={};for(const e of n)i[e.name[0]]=e,this.peripheralMap[`${t.name}.${e.name[0]}`]=e;let o=0;for(const e of n){const r=e.$?e.$.derivedFrom:"";if(r){const s=i[r]||this.peripheralMap[r];if(!s)throw new Error(`Invalid 'derivedFrom' key "${r}" in register ${e.name[0]}`);const a={...s,...e};delete a.$.derivedFrom,a.$._derivedFrom=r,i[e.name[0]]=a,this.peripheralMap[`${t.name}.${e.name[0]}`]=a,n[o]=a}o++}for(const e of n){const n={};if(e.access&&(n.accessType=cl[e.access[0]]),e.size&&(n.size=al(e.size[0])),e.resetValue&&(n.resetValue=al(e.resetValue[0])),e.dim){if(!e.dimIncrement)throw new Error("Register has dim element without dimIncrement");const i=al(e.dim[0]),o=al(e.dimIncrement[0]);let s=[];if(e.dimIndex)s=sl(e.dimIndex[0],i);else for(let e=0;e<i;e++)s.push(`${e}`);const a=e.name[0],c=nl(e.description?e.description[0]:""),l=al(e.addressOffset[0]);for(let u=0;u<i;u++){const i=a.replace("%s",s[u]),p=c.replace("%s",s[u]),d=new ul(t,{...n,name:i,description:p,addressOffset:l+o*u});e.fields&&1===e.fields.length&&this.parseFields(e.fields[0].field,d),r.push(d)}}else{const i=nl(e.description?e.description[0]:""),o=new ul(t,{...n,name:e.name[0],description:i,addressOffset:al(e.addressOffset[0])});e.fields&&1===e.fields.length&&this.parseFields(e.fields[0].field,o),r.push(o)}}return r.sort(((e,t)=>e.offset<t.offset?-1:e.offset>t.offset?1:0)),r}}hl.peripheralMap={},hl.enumTypeValuesMap={},hl.gapThreshold=16;class fl extends Qc{constructor(e,t,n){super(),this.session=e,this.state=t,this.fireCb=n,this.peripherials=[],this.loaded=!1,this.gapThreshold=16,this.errMessage="No SVD file loaded";try{this.wsFolderPath=this.session.workspaceFolder.uri.fsPath}catch{}this.myTreeItem=new i.TreeItem(this.session.name,this.state)}saveState(e){const t=[];return this.peripherials.forEach((e=>{t.push(...e.saveState())})),t}loadSVD(){return new Promise(((e,t)=>{try{this.errMessage=`Loading ${this.svdFileName}`,hl.parse(this.session,this.svdFileName,this.gapThreshold).then((t=>{this.peripherials=t,this.loaded=!0,this.errMessage="",e(!0)})).catch((e=>{this.peripherials=[],this.loaded=!1,t(e)}))}catch(e){t(e)}}))}performUpdate(){throw new Error("Method not implemented.")}updateData(){if(this.loaded){const e=this.peripherials.map((e=>e.updateData()));Promise.all(e).then((e=>{this.fireCb()}),(e=>{this.fireCb()}))}return Promise.resolve(!0)}getPeripheral(){throw new Error("Method not implemented.")}collectRanges(e){throw new Error("Method not implemented.")}findByPath(e){throw new Error("Method not implemented.")}findNodeByPath(e){const t=e.split("."),n=this.peripherials.find((e=>e.name===t[0]));return n?n.findByPath(t.slice(1)):null}refresh(){this.fireCb()}getTreeItem(e){return e?e.getTreeItem():this.myTreeItem}getChildren(e){return this.loaded?e?e.getChildren():this.peripherials:this.loaded?this.peripherials:[new el(this.errMessage)]}getCopyValue(){}sessionStarted(e,t){if(this.svdFileName=e,!(0,n.isAbsolute)(this.svdFileName)&&this.wsFolderPath){const e=(0,n.normalize)((0,n.join)(this.wsFolderPath,this.svdFileName));this.svdFileName=e}return this.gapThreshold="number"==typeof t&&t<0?-1:("number"==typeof t?Math.max(0,Math.min(t,32)):16)+7&-8,new Promise(((e,t)=>{this.peripherials=[],this.fireCb(),this.loadSVD().then((async()=>{const t=this.stateFileName();await(0,o.pathExists)(t)&&(await(0,o.readJson)(t)).forEach((e=>{const t=this.findNodeByPath(e.node);t&&(t.expanded=e.expanded||!1,t.pinned=e.pinned||!1,t.format=e.format)})),this.peripherials.sort(ll.compare),this.fireCb(),e(void 0)}),(t=>{this.errMessage=`Unable to parse SVD file ${this.svdFileName}: ${t.toString()}`,js.errorNotify(this.errMessage,new Error(this.errMessage),"PeripheralTreeForSession sessionStarted"),i.debug.activeDebugConsole&&i.debug.activeDebugConsole.appendLine(this.errMessage),this.fireCb(),e(void 0)}))}))}stateFileName(){return this.wsFolderPath?(0,n.join)(this.wsFolderPath,".vscode",".espidf.peripherals.state.json"):void 0}sessionTerminated(){const e=this.saveState(this.stateFileName());try{this.stateFileName()&&(0,o.writeJson)(this.stateFileName(),e)}catch(e){i.window.showWarningMessage(`Unable to save periperal preferences ${e}`)}}togglePinPeripheral(e){e.pinned=!e.pinned,this.peripherials.sort(ll.compare)}}class ml{constructor(){this._onDidChangeTreeData=new i.EventEmitter,this.sessionPeripheralsMap=new Map,this.oldState=new Map,this.onDidChangeTreeData=this._onDidChangeTreeData.event}refresh(){this._onDidChangeTreeData.fire(null)}getTreeItem(e){return e?.getTreeItem()}getChildren(e){const t=Array.from(this.sessionPeripheralsMap.values());return e?e.getChildren():0===t.length?[]:1===t.length?t[0].getChildren():t}debugSessionStarted(e,t,n){return new Promise((async(r,s)=>{const a=await(0,o.pathExists)(t);if(!t||!a)return void r(void 0);if(this.sessionPeripheralsMap.get(e.id)){this._onDidChangeTreeData.fire(void 0);const t=new Error(`Internal Error: Session ${e.name} id=${e.id} already in the tree view?`);return js.errorNotify(t.message,t,"peripheralTreeView debugSessionStarted alreadyInTreeView"),void r(void 0)}let c=this.oldState.get(e.name);void 0===c&&(c=0===this.sessionPeripheralsMap.size?i.TreeItemCollapsibleState.Expanded:i.TreeItemCollapsibleState.Collapsed);const l=new fl(e,c,(()=>{this._onDidChangeTreeData.fire(void 0)}));this.sessionPeripheralsMap.set(e.id,l);try{await l.sessionStarted(t,n)}catch(e){const t=new Error(`Internal Error: Unexpected rejection of promise ${e}`);js.errorNotify(t.message,t,"peripheralTreeView debugSessionStarted")}finally{this._onDidChangeTreeData.fire(void 0)}}))}debugSessionTerminated(e){const t=this.sessionPeripheralsMap.get(e.id);return t&&(this.oldState.set(e.name,t.myTreeItem.collapsibleState),this.sessionPeripheralsMap.delete(e.id),t.sessionTerminated(),this._onDidChangeTreeData.fire(void 0)),Promise.resolve(!0)}debugStopped(e){const t=this.sessionPeripheralsMap.get(e.id);t&&t.updateData()}debugContinued(){}getActiveDebugSession(){return"gdbtarget"===i.debug.activeDebugSession?.type?i.debug.activeDebugSession:null}togglePinPeripheral(e){const t=this.getActiveDebugSession(),n=this.sessionPeripheralsMap.get(t?.id);n&&(n.togglePinPeripheral(e),this._onDidChangeTreeData.fire(void 0))}}class gl{static init(e){return this.self?this.self:new gl(e)}constructor(e){this.ctx=e}get(e,t){return this.ctx.globalState.get(e,t)}set(e,t){this.ctx.globalState.update(e,t)}clear(e){return this.set(e,void 0)}clearIdfSetup(e){this.clear(e);let t=this.getIdfSetupKeys();const n=t.findIndex((t=>t===e));-1!==n&&(t.splice(n,1),this.updateIdfSetupKeys(t))}getIdfSetupKeys(){return this.ctx.globalState.get(t.GlobalConfiguration.IDF_SETUPS,[])}updateIdfSetupKeys(e){this.ctx.globalState.update(t.GlobalConfiguration.IDF_SETUPS,e)}}class yl{static createOrShow(e,t,n){const r=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:i.ViewColumn.One;yl.currentPanel?yl.currentPanel.panel.reveal(r):yl.currentPanel=new yl(e,r,t,n)}static isCreatedAndHidden(){return yl.currentPanel&&!1===yl.currentPanel.panel.visible}constructor(e,t,r,o){this.extensionPath=e,this.workspaceFolder=r,this.disposables=[];const s=i.l10n.t("ESP-IDF Project Configuration");this.panel=i.window.createWebviewPanel(yl.viewType,s,t,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[i.Uri.file((0,n.join)(this.extensionPath,"dist","views"))]}),this.panel.iconPath=i.Uri.file((0,n.join)(e,"media","espressif_icon.png"));const a=this.panel.webview.asWebviewUri(i.Uri.file((0,n.join)(this.extensionPath,"dist","views","project_conf-bundle.js")));this.panel.webview.html=this.createSetupHtml(a),this.panel.webview.onDidReceiveMessage((async e=>{let t=await Qi(this.workspaceFolder,!1);switch(e.command){case"command":default:break;case"requestInitialValues":this.panel.webview.postMessage({command:"initialLoad",confList:t,idfTargets:o});break;case"saveProjectConfFile":e.confDict&&await this.saveProjectConfFile(JSON.parse(e.confDict));break;case"openBuildPath":let n=await this.openFolder();n&&this.panel.webview.postMessage({command:"setBuildPath",confKey:e.confKey,buildPath:n,sectionsKeys:e.sectionsKeys});break;case"openFilePath":let r=await this.openFile();r&&this.panel.webview.postMessage({command:"setFilePath",confKey:e.confKey,newPath:r,sectionsKeys:e.sectionsKeys})}})),this.panel.onDidDispose((()=>this.dispose()),null,this.disposables)}async openFolder(){const e=await i.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1});if(e&&e.length>0)return e[0].fsPath}async openFile(){const e=await i.window.showOpenDialog({canSelectFolders:!1,canSelectFiles:!0,canSelectMany:!1});if(e&&e.length>0)return e[0].fsPath}clearSelectedProject(e){const n=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG);t.ProjectConfiguration.store.clear(n),-1===e.indexOf(n)&&(t.ProjectConfiguration.store.clear(t.ProjectConfiguration.SELECTED_CONFIG),i.commands.executeCommand("espIdf.rmProjectConfStatusBar"))}async saveProjectConfFile(e){const t=Object.keys(e);this.clearSelectedProject(t),await Ki(this.workspaceFolder,e),i.window.showInformationMessage("Project Configuration changes has been saved")}createSetupHtml(e){return`<!DOCTYPE html>\n      <html lang="en">\n        <head>\n          <meta charset="UTF-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>ESP-IDF Project Configuration</title>\n        </head>\n        <body>\n          <div id="editor"></div>\n        </body>\n        <script src="${e}"><\/script>\n      </html>`}dispose(){yl.currentPanel=void 0,this.panel.dispose()}}yl.viewType="projectConfigurationPanel";class vl extends ti{constructor(e="git"){super("https://github.com/espressif/esp-rainmaker.git","ESP-RAINMAKER","master",e,"https://gitee.com/EspressifSystems/esp-rainmaker.git")}}const bl=new WeakMap;async function wl(e,r,s,a){if(Ja.isBuilding||Qa.isFlashing){const e=i.l10n.t("Wait for ESP-IDF task to finish");return Q.show(),Q.appendLineAndShow(e,"Flash"),js.errorNotify(e,new Error("One_Task_At_A_Time"),"flashCmd verifyCanFlash already build flash task running")}const c=Is("idf.buildPath",a);if(!await(0,o.pathExists)(c)){const e=`Build is required before Flashing, ${c} can't be accessed`;return Q.show(),Q.appendLineAndShow(e,"Flash"),js.errorNotify(e,new Error("BUILD_PATH_ACCESS_ERROR"),"flashCmd verifyCanFlash build path doesnt exist")}if(!await(0,o.pathExists)((0,n.join)(c,"flasher_args.json"))){const e="flasher_args.json file is missing from the build directory, can't proceed, please build properly!";return Q.show(),Q.appendLineAndShow(e,"Flash"),js.warnNotify(e)}const l=await oo(c);if(!await(0,o.pathExists)((0,n.join)(c,`${l}.elf`))){const e=`Can't proceed with flashing, since project elf file (${l}.elf) is missing from the build dir. (${c})`;return Q.show(),Q.appendLineAndShow(e,"Flash"),js.warnNotify(e)}if("JTAG"!==s&&!r){try{await i.commands.executeCommand("espIdf.selectPort")}catch(e){const t="Unable to execute the command: espIdf.selectPort";Q.show(),Q.appendLineAndShow(t,"Flash"),js.error(t,e,"verifyCanFlash selectPort")}const e="Select a port before flashing";return Q.show(),Q.appendLineAndShow(e,"Flash"),js.errorNotify(e,new Error("NOT_SELECTED_PORT"),"flashCmd verifyCanFlash select port")}if(!e){const e="Select a baud rate before flashing";return Q.show(),Q.appendLineAndShow(e,"Flash"),js.errorNotify(e,new Error("NOT_SELECTED_BAUD_RATE"),"flashCmd verifyCanFlash no flashbaudrate")}if(Is("idf.flashType",a)===t.FlashType.DFU&&!await Ha(a)){const e="No DFU capable USB device available found";return Q.show(),Q.appendLineAndShow(e,"Flash"),js.errorNotify(e,new Error("NO_DFU_DEVICES_FOUND"),"flashCmd verifyCanFlash no dfu device found")}return!0}class _l{constructor(e){this.client=e}async flash(e,...t){const n=`${e} ${t.map((e=>`"${e}"`)).join(" ")}`;return new Promise(((e,r)=>{this.client.on("response",(n=>{const i=n.toString().replace(ae.DELIMITER,"").trim();if(""===i&&t.some((e=>e.includes("exit")))&&e(i),"0"!==i)return r(`Failed to flash the device (JTAG), please try again [got response: '${i}', expecting: '0']`);e(i)})).on("error",(e=>{r("Failed to flash (via JTAG), due to some unknown error in tcl, please try to relaunch open-ocd")})).sendCommand(n)}))}}async function El(e){if(!await Di.init().promptUserToLaunchOpenOCDServer()){const e="Can't perform JTAG flash, because OpenOCD server is not running!";return Q.appendLineAndShow(e,"Flash"),js.warnNotify(e),!1}const t=Is("openocd.tcl.host",e),n=Is("openocd.tcl.port",e),r=new ae({host:t,port:n});let i=!1;for(let e=0;e<3&&(i=await r.verifyOpenOCDReady(),!i);e++)await new Promise((e=>setTimeout(e,1e3)));if(!i){const e="OpenOCD is not ready to accept commands. Please try again.";return Q.appendLineAndShow(e,"JTAG Flash"),js.warnNotify(e),!1}Qa.isFlashing=!0;const o=new _l(r),s=Is("openocd.jtag.command.force_unix_path_separator",e);let a=Is("idf.buildPath",e),c=Is("idf.jtagFlashCommandExtraArgs",e);const l=new kc(e);!0===s&&(a=a.replace(/\\/g,"/")),await l.addCustomTask(Oc.PreFlash),await l.runTasks(Oc.PreFlash),await o.flash("program_esp_bins",a,"flasher_args.json",...c),await l.addCustomTask(Oc.PostFlash),await l.runTasks(Oc.PostFlash);const u="⚡️ Flashed Successfully (JTAG)";Q.appendLineAndShow(u,"Flash"),js.infoNotify(u)}async function xl(e){let t=!0;try{await El(e)}catch(e){Di.init().showOutputChannel(!0),Q.appendLine(e,"Flash"),js.errorNotify(e,new Error("JTAG_FLASH_FAILED"),"jtagFlashCommand"),t=!1}return Qa.isFlashing=!1,t}async function Sl(e,t,r,i,s,a,c,l){const u=Is("idf.buildPath",s);if(0===(await(0,o.readdir)(u)).filter((e=>!0===e.endsWith(".bin"))).length){const e="Build is required before Flashing, .bin file can't be accessed";return Q.show(),Q.appendLineAndShow(e,"Flash"),js.errorNotify(e,new Error("BIN_FILE_ACCESS_ERROR"),"flashCommand binfile access error"),{continueFlag:!1,executions:[]}}const p=(0,n.join)(u,"flasher_args.json");e.onCancellationRequested((()=>{$a.cancelTasks(),$a.disposeListeners()}));const d=await Us(p,i,t);let h=new Qa(s,r,d,c);const f=new kc(s);e.onCancellationRequested((()=>{Qa.isFlashing=!1}));const m=await f.addCustomTask(Oc.PreFlash),g=await h.flash(a,l),y=await f.addCustomTask(Oc.PostFlash),v=await $a.runTasksWithBoolean();if(!e.isCancellationRequested){if(v){const e="Flash Done ⚡️";Q.appendLineAndShow(e,"Flash"),js.infoNotify(e)}$a.disposeListeners()}return Qa.isFlashing=!1,{continueFlag:v,executions:[m,g,y]}}async function Tl(e,t,n,r,i,o,s,a){let c=!0;try{let l=await Sl(e,t,n,r,i,o,s,a);if(c=l.continueFlag,!c)for(let e=0;e<l.executions.length;e++)if(l.executions[e]){const t=await l.executions[e].getOutput();if(t&&!t.success&&t.stderr)throw t.stderr}}catch(e){if("ALREADY_FLASHING"===e.message){const t="Already one flash process is running!";return Q.appendLineAndShow(t,"Flash"),js.errorNotify(t,e,"flashCommand already flashing"),!1}if("NO_DFU_DEVICE_SELECTED"===e.message){const e="No DFU was selected";Q.appendLineAndShow(e,"Flash"),js.infoNotify(e)}else if("Task ESP-IDF Flash exited with code 74"===e.message){const t="No DFU capable USB device available found";Q.appendLineAndShow(t,"Flash"),js.errorNotify(t,e,"flashCommand code 74 no dfu device found")}else if("FLASH_TERMINATED"===e.message){const t="Flashing has been stopped!";Q.appendLineAndShow(t,"Flash"),js.errorNotify(t,e,"flashCommand flash terminated")}else if("SECTION_BIN_FILE_NOT_ACCESSIBLE"===e.message){const t="Flash (.bin) files don't exists or can't be accessed!";Q.appendLineAndShow(t,"Flash"),js.errorNotify(t,e,"flashCommand section bin file access error")}else if("ENOENT"===e.code||"SCRIPT_PERMISSION_ERROR"===e.message){const t="Make sure you have the esptool.py installed and set in $PATH with proper permission";Q.appendLineAndShow(t,"Flash"),js.errorNotify(t,e,"flashCommand esptool.py access error")}else{const t="Failed to flash because of some unusual error. Check Terminal for more details";Q.appendLine(t,"Flash"),js.errorNotify(t,e,"flashCommand unknown error",void 0,!1)}c=!1}return Qa.isFlashing=!1,c}async function Cl(){let e=[];try{let n=t.GlobalConfiguration.store.get(t.GlobalConfiguration.SELECTED_WORKSPACE_FOLDER);n||(n=i.workspace.workspaceFolders?i.workspace.workspaceFolders[0].uri:void 0);const r=Is("idf.unitTestFilePattern",n)||"**/test/test_*.c",o=i.workspace.getWorkspaceFolder(n);if(!o)return i.window.showErrorMessage("Cannot find workspace folder for the selected path!"),[];const s=new i.RelativePattern(o,r);e=await i.workspace.findFiles(s)}catch(e){return i.window.showErrorMessage("Cannot find test result path!",e),[]}return e}async function Pl(e){let t=new Set;return e.forEach((e=>{const r=(0,n.basename)(e.fsPath.split(n.sep+"test"+n.sep+"test_")[0]);t.add(r)})),Array.from(t)}async function Il(e,r){let s=(0,n.join)(i.extensions.getExtension(t.extensionID).extensionPath,"templates","unity-app"),a=i.Uri.joinPath(e,"unity-app");return await(0,o.copy)(s,a.fsPath),await async function(e,t){const n=i.Uri.joinPath(e,"CMakeLists.txt");if((0,o.pathExists)(n.fsPath)){let e=await(0,o.readFile)(n.fsPath,"utf-8");const r=e.match(/(project\(.*?\))/g);r&&r.length&&(e=e.replace(/set\(TEST_COMPONENTS ""\)/g,`set(TEST_COMPONENTS "${t.join(" ")}")`),await(0,o.writeFile)(n.fsPath,e))}}(a,r),a}async function Ol(e,n){let r=Is("idf.flashType",e);r||(r=t.FlashType.UART),await Ac(e,n,r)}async function kl(e,n){let r=Is("idf.flashType",e);const o=await Ds(e,!1);if(!o)return js.warnNotify(i.l10n.t("No serial port found for current IDF_TARGET: {0}",await so(e)));const s=Is("idf.flashBaudRate",e),a=Is("idf.espIdfPath",e);if(!await wl(s,o,r,e))return;let c=!0;c=r===t.FlashType.JTAG?await xl(e):await Tl(n,s,a,o,e,r,!1)}async function Dl(e,t){await Ol(e,t),await kl(e,t)}class Al{constructor(){this.individualTestStartPattern=/Running\s+(.+?)\s*\.\.\./,this.individualTestResultPattern=/^(.+):(\d+):(.+?):(PASS|FAIL|IGNORE)(?:[:]\s*(.+))?$/,this.individualTestDurationPattern=/Test ran in\s+(\d+)(?:ms|s)/}parseIndividualTest(e){let t="",n="",r=0,i="PASS",o=0,s="";for(const a of e){const e=a.trim();if(!e)continue;const c=this.individualTestStartPattern.exec(e);if(c){t=c[1];continue}const l=this.individualTestResultPattern.exec(e);if(l){n=l[1],r=parseInt(l[2],10),l[3],i=l[4],s=l[5]||"";continue}const u=this.individualTestDurationPattern.exec(e);u&&(o=parseInt(u[1],10))}return n&&t&&i?{filePath:n,lineNumber:r,testName:t,status:i,duration:o,message:s||void 0,output:e.slice(1).join("\r\n")}:null}parseIndividualTests(e){const t=[];let n=[],r=!1;for(const i of e){const e=i.trim();if(this.individualTestStartPattern.test(e)){if(r&&n.length>0){const e=this.parseIndividualTest(n);e&&t.push(e)}n=[i],r=!0}else if(r)if("-----------------------"===e||""===e){const e=this.parseIndividualTest(n);e&&t.push(e),n=[],r=!1}else n.push(i)}if(r&&n.length>0){const e=this.parseIndividualTest(n);e&&t.push(e)}return t}}var Rl=__webpack_require__(2348);class Nl extends oe.EventEmitter{constructor(e){super(),this.port=null,this.parser=null,this.capturedLines=[],this.config=e}async connect(){try{return this.port=new Ts.SerialPort({path:this.config.port,baudRate:this.config.baudRate,autoOpen:!1}),this.parser=this.port.pipe(new Rl.ReadlineParser({delimiter:"\n"})),this.port.on("open",(()=>{js.info(`Connected to ${this.config.port} at ${this.config.baudRate} baud`),this.emit("connected")})),this.port.on("error",(e=>{js.error(`Serial port error: ${e.message}`,e,"UnitySerialCapture port error"),this.emit("error",e)})),this.parser.on("data",(e=>{const t=e.trim();t&&(this.capturedLines.push(t),this.emit("data",t),js.info(`[${(new Date).toISOString()}] ${t}`))})),await new Promise(((e,t)=>{this.port?this.port.open((n=>{n?t(n):e()})):t(new Error("Port not initialized"))})),await this.hardReset(),!0}catch(e){return js.error(`Failed to connect to ${this.config.port}:`,e,"UnitySerialCapture connect"),!1}}async disconnect(){this.port&&this.port.isOpen&&await new Promise((e=>{this.port.close((()=>{js.info("Disconnected from serial port"),this.emit("disconnected"),e()}))})),this.port=null,this.parser=null}async hardReset(){if(!this.port||!this.port.isOpen)throw new Error("Port not connected");try{js.info("Performing hard reset..."),this.port.set({dtr:!1,rts:!1}),await new Promise((e=>setTimeout(e,100))),this.port.set({dtr:!0,rts:!0}),await new Promise((e=>setTimeout(e,100))),this.port.set({dtr:!1,rts:!0}),await new Promise((e=>setTimeout(e,100))),this.port.set({dtr:!0,rts:!0}),await new Promise((e=>setTimeout(e,100))),js.info("Hard reset completed"),this.emit("hardResetCompleted")}catch(e){throw js.error("Hard reset failed:",e,"UnitySerialCapture hardReset"),this.emit("hardResetFailed",e),e}}getCapturedLines(){return[...this.capturedLines]}clearCapturedLines(){this.capturedLines=[]}async saveToFile(e){const t=this.capturedLines.join("\n");await l.promises.writeFile(e,t,"utf-8"),js.info(`Output saved to ${e}`)}isConnected(){return null!==this.port&&this.port.isOpen}getPortInfo(){return{port:this.config.port,baudRate:this.config.baudRate,isOpen:this.isConnected()}}static async listPorts(){try{return(await Ts.SerialPort.list()).map((e=>({path:e.path,manufacturer:e.manufacturer,serialNumber:e.serialNumber,pnpId:e.pnpId,locationId:e.locationId,vendorId:e.vendorId,productId:e.productId})))}catch(e){return js.error("Failed to list serial ports:",e,"UnitySerialCapture listPorts"),[]}}async waitForPattern(e,t=1e4){return new Promise((n=>{const r=setTimeout((()=>{this.parser?.removeListener("data",i),n(null)}),t),i=t=>{e.test(t)&&(clearTimeout(r),this.parser?.removeListener("data",i),n(t))};this.parser?.on("data",i)}))}async sendCommand(e){if(!this.port||!this.port.isOpen)throw new Error("Port not connected");return new Promise(((t,n)=>{this.port.write(e+"\n",(e=>{e?n(e):t()}))}))}}class Ll extends oe.EventEmitter{constructor(){super(),this.serialCapture=null,this.menuLines=[],this.currentStartIndex=-1,this.receivedLines=[],this.parser=new Al}async runFromSerial(e){const{port:t,baudRate:n=115200,timeout:r=1e4,showOutput:i=!0}=e;try{if(this.serialCapture=new Nl({port:t,baudRate:n,timeout:r}),this.serialCapture.on("connected",(()=>{this.emit("connected"),Q.appendLine(`Connected to ${t} at ${n} baud.`,"Unity Test Runner")})),this.serialCapture.on("disconnected",(()=>{this.emit("disconnected"),Q.appendLine(`Disconnected from ${t}.`,"Unity Test Runner")})),this.serialCapture.on("error",(e=>{this.emit("error",e),Q.appendLine(`Error: ${e.message}`,"Unity Test Runner")})),i&&this.serialCapture.on("data",(e=>{this.emit("data",e),Q.appendLine(`Received: ${e}`,"Unity Test Runner"),this.receivedLines.push(e)})),!await this.serialCapture.connect())throw new Error(`Failed to connect to ${t}`);this.emit("captureStarted"),await this.delay(1e3),this.serialCapture.sendCommand("\n"),await this.delay(500);const e=this.receivedLines.findIndex((e=>e.includes("Press ENTER to see the list of tests.")));if(-1===e)throw new Error("Did not receive readiness prompt from device.");this.menuLines=this.receivedLines.slice(e+1),this.currentStartIndex=this.receivedLines.length-1}catch(e){throw this.emit("error",e),e}}async runTestFromSerialByName(e){const t=this.menuLines.findIndex((t=>t.includes(e)));if(-1===t)return Q.appendLine(`Test "${e}" not found in menu. Skipping.`,"Unity Test Runner"),{filePath:"",lineNumber:0,testName:e,status:"FAIL",duration:0,message:`Test "${e}" not found in menu`,output:this.menuLines.join(W.EOL)};this.currentStartIndex=this.receivedLines.length-1,this.serialCapture.sendCommand(`${t}\n`),await this.delay(50);const n=this.receivedLines.slice(this.currentStartIndex+1);if(0===n.length)return Q.appendLine("No test execution output received.","Unity Test Runner"),{filePath:"",lineNumber:0,testName:e,status:"FAIL",duration:0,message:"No test execution output received",output:n.join(W.EOL)};return this.parser.parseIndividualTest(n)||{filePath:"",lineNumber:0,testName:e,status:"FAIL",duration:0,message:"Failed to parse test output",output:n.join(W.EOL)}}async stop(){this.serialCapture&&(await this.serialCapture.disconnect(),this.serialCapture=null)}static async listPorts(){return Nl.listPorts()}delay(e){return new Promise((t=>setTimeout(t,e)))}}class Fl{constructor(e){this.unitTestController=i.tests.createTestController("IDF_UNIT_TEST_CONTROLLER","ESP-IDF Unit test controller"),this.unitTestController.refreshHandler=async e=>{this.clearExistingTestCaseItems();const t=await Cl();await this.loadTests(t)},this.unitTestController.createRunProfile("Run Tests",i.TestRunProfileKind.Run,(async(e,n)=>{const r=this.unitTestController.createTestRun(e),s=[];let a;if(e.include?e.include.forEach((e=>{e.children.forEach((e=>{s.push(e)})),s.push(e)})):this.unitTestController.items.forEach((e=>s.push(e))),!this.unitTestAppUri)try{const e=t.GlobalConfiguration.store.get(t.GlobalConfiguration.SELECTED_WORKSPACE_FOLDER);let r=i.workspace.getWorkspaceFolder(e);if(a=r?r.uri:void 0,!a&&i.workspace.workspaceFolders?.length>0&&(a=i.workspace.workspaceFolders[0].uri),!a)return void js.warn("No workspace folder available for unit test configuration");this.unitTestAppUri=await async function(e,t){try{let n=i.Uri.joinPath(e,"unity-app");if(!await(0,o.pathExists)(n.fsPath)){const r=await Cl(),i=await Pl(r);n=await Il(e,i),await Dl(n,t)}return n}catch(e){const t=e&&e.message?e.message:"Error configuring Unity App for project";Q.appendLine(t,"idf-unit-test"),js.error(t,e,"configureUnityApp")}}(a,n)}catch(e){return void js.error("Failed to configure unit test app:",e,"unitTest runHandler configurePytestUnitApp")}const c=new Ll,l={port:await Ds(a,!1),baudRate:Is("idf.baudRate",a)||115200,showOutput:!0};try{for(await c.runFromSerial(l);s.length>0&&!n.isCancellationRequested;){const t=s.pop();if(e.exclude?.includes(t))continue;const n=bl.get(t);if(r.token.isCancellationRequested)r.skipped(t);else if("suite"!==n.type){r.appendOutput(`Running ${t.id}\r\n`),r.started(t);const e=Date.now();try{const e=await c.runTestFromSerialByName(t.label);if(!e)throw new Error("No result from test execution");if(r.appendOutput(e.output+"\r\n",t.uri&&"number"==typeof e.lineNumber?new i.Location(t.uri,new i.Range(e.lineNumber,0,e.lineNumber,0)):void 0,t),"PASS"===e.status)r.passed(t,e.duration);else if("FAIL"===e.status){const n=new i.TestMessage(e.message||"Test failed");r.failed(t,n,e.duration)}else"IGNORE"===e.status&&r.skipped(t)}catch(n){r.failed(t,new i.TestMessage(n.message),Date.now()-e),c.stop()}r.appendOutput(`\r\nCompleted ${t.id}\r\n`)}t.children.forEach((e=>s.push(e)))}}catch(e){r.appendOutput(`Error: ${e.message}\r\n`),c.stop(),r.end()}finally{c.stop(),r.end()}}),!0,void 0,!1),this.unitTestController.resolveHandler=async e=>{if(!e){const e=await Cl();return void await this.loadTests(e)}const t=await this.getTestsForFile(e.uri);for(const n of t.children){const t=this.unitTestController.createTestItem(n.id,n.label,n.uri);e.children.add(t),bl.set(t,n)}bl.set(e,t),this.unitTestController.items.add(e)},e.subscriptions.push(this.unitTestController)}clearExistingTestCaseItems(){this.unitTestController.items.forEach((e=>this.unitTestController.items.delete(e.id)))}async createFileTestCaseItems(e){const t=this.unitTestController.items.get(e.toString());t&&this.unitTestController.items.delete(t.id);const n=this.unitTestController.createTestItem(e.toString(),e.fsPath.split("/").pop(),e);n.canResolveChildren=!0,this.unitTestController.items.add(n);const r={type:"suite",id:e.fsPath,label:e.fsPath.split("/").pop(),filePath:e.fsPath,children:[],uri:e,testName:"TEST_ALL"};return bl.set(n,r),{testItem:n,espIdfTestItem:r}}async getTestsForFile(e){const t=this.setLabel(e.fsPath),n={type:"suite",id:e.fsPath,label:t,filePath:e.fsPath,children:[],testName:"TEST_ALL"},r=new RegExp('TEST_CASE\\(\\s*"(.*)"\\s*,\\s*"(.*)"\\s*\\)',"gm"),i=await(0,o.readFile)(e.fsPath,"utf8");let s=r.exec(i);for(;null!=s;){let t=s[1];const o=this.setLabel(t);let a=i.substring(0,s.index).split("\n").length-1;a=a+s[0].substring(0,s[0].search(/\S/g)).split("\n").length-1,n.children.push({id:e.toString()+"::"+t,label:o,line:a,uri:e,testName:t,type:"test"}),s=r.exec(i)}return n}async loadTests(e){let t={type:"suite",id:"root",label:"espidf-unity",children:[]};for(const n of e){const e=await this.createFileTestCaseItems(n);t.children.push(e.espIdfTestItem)}return t}setLabel(e,t){let r=(0,n.basename)(e);if(t){let n=t.exec(e);null!=n&&(r=n[1])}return r}}class Ml extends ti{constructor(e="git"){super("https://github.com/espressif/esp-homekit-sdk.git","ESP-HomeKit-SDK","master",e,"https://gitee.com/EspressifSystems/esp-homekit-sdk")}}const jl=i.l10n.t("Open a folder first."),Bl=i.l10n.t("Selected command is not available in {envName}",{envName:"Codespaces"}),Ul=i.l10n.t("Selected command is not available in {envName}",{envName:"Docker container"}),ql=[Mo.isWorkspaceFolderOpen,jl],$l=[Mo.notUsingWebIde,Bl],Vl=[Mo.isNotDockerContainer,Ul];async function Hl(e){let n=Is("idf.flashType",e),r=await i.window.showQuickPick(Object.keys(t.FlashType),{ignoreFocusOut:!0,placeHolder:i.l10n.t("Select flash method, you can modify the choice later from 'settings.json' (idf.flashType)")});return r?(await Os("idf.flashType",r,i.ConfigurationTarget.WorkspaceFolder,e),i.window.showInformationMessage(`Flash method changed to ${r}.`),r):n}async function Gl(e,r,s,a,c){if(s||(s=await Hl(e)),qa.terminal){qa.terminal.sendText(t.CTRL_RBRACKET);const n=Is("idf.monitorDelay",e);await Uo(n)}if(a){const r=await async function(e,r){js.info(`Using flash type: ${e}`,{tag:"Flash"});try{if(e!==t.FlashType.UART){const t=i.l10n.t("Invalid flash type for partition encryption. Required: UART, Found: {0}. \n Choose one of the actions presented in the top center quick pick menu and re-flash.",e),n=new Error(t),o=[{label:i.l10n.t("Change flash type to UART"),action:()=>{Os("idf.flashType","UART",i.ConfigurationTarget.WorkspaceFolder,r);const e=i.l10n.t("Flashing method successfully changed to UART");js.infoNotify(e),Q.appendLineAndShow(e,"Flash Encryption")}},{label:i.l10n.t("Disable Flash Encryption"),action:()=>{!function(){const e='{"version": 2, "set": { "SECURE_FLASH_ENC_ENABLED": false }}\n';Q.appendLine(e,"SDK Configuration Editor"),Hi.sendUpdatedValue(e),Hi.saveGuiConfigValues()}();const e=i.l10n.t("Flash encryption has been disabled in the SDK configuration");js.infoNotify(e),Q.appendLineAndShow(e,"Flash Encryption")}}];return Q.appendLineAndShow(t,"Flash Encryption"),js.errorNotify(t,n,"verifyFlashEncryption !ESP.FlashType.UART",{tag:"Flash Encryption"}),await async function(e,t){const n=await i.window.showQuickPick(t.map((e=>e.label)),{placeHolder:e,canPickMany:!1,ignoreFocusOut:!0}),r=t.find((e=>e.label===n));r&&r.action()}(i.l10n.t("Pick one of the following actions to continue"),o),{success:!1,resultType:lo.ErrorInvalidFlashType}}const s=await async function(e,t){const r=Is("idf.buildPath",t),i=n.join(r,"config","sdkconfig.json");try{const t=await(0,o.readFile)(i,"utf-8"),n=JSON.parse(t);if(void 0!==n[e])return n[e];throw new Error(`The key ${e} was not found in ${i}.`)}catch(e){throw new Error(`Failed to read or parse the JSON file: ${e.message}`)}}("SECURE_FLASH_ENC_ENABLED",r);if(!s){const e=i.l10n.t("Flash encryption is enabled in the SDK configuration, but the project has not been rebuilt with these settings. Please rebuild the project to apply the encryption settings before attempting to flash the device."),t=new Error(e);return Q.appendLineAndShow(e,"Flash Encryption"),js.errorNotify(e,t,"verifyFlashEncryption !valueEncryptionEnabled",{tag:"Flash Encryption"}),{success:!1,resultType:lo.ErrorEncryptionArgsRequired}}const a=await so(r),c=new co(r),l=Is("idf.notificationMode",r),u=l===Ss.All||l===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window,p=await i.window.withProgress({cancellable:!0,location:u,title:i.l10n.t("ESP-IDF: Checking encryption eFuse...")},(async(e,t)=>new Promise((async(n,r)=>{t.onCancellationRequested((()=>{js.info(i.l10n.t("eFuse check cancelled by user"),{tag:"Flash Encryption"}),r(new Error("Operation cancelled by user"))}));try{e.report({message:i.l10n.t("Reading eFuse data...")});const o=await c.readSummary();if(t.isCancellationRequested)return void r(new Error("Operation cancelled by user"));n(o)}catch(e){js.errorNotify(i.l10n.t("Failed to read eFuse summary"),e,"verifyFlashEncryption readSummary",{tag:"Flash Encryption"}),r(e)}})))),d="esp32"===a?"FLASH_CRYPT_CNT":"SPI_BOOT_CRYPT_CNT",h=await async function(e){return"y"===await Jo("CONFIG_SECURE_FLASH_ENCRYPTION_MODE_RELEASE",e)?i.l10n.t("Release Mode"):i.l10n.t("Development Mode")}(r);if(p&&p[d]){if(p[d]&&(0===p[d].value||"Disable"==p[d].value)){const e=await async function(e,t){const n=Is("idf.espIdfPath",t),r=await so(t),i=await us(n),o=await fo();let s=o.find((e=>e.name===i));if(s||(s=o.find((e=>"latest"===e.name))),s)return`${mo(s.name,r)}/${e}`}(t.URL.Docs.FLASH_ENCRYPTION,r);js.info(i.l10n.t("Flash encryption mode detected: {0}",h),{tag:"Flash Encryption"});const n=i.l10n.t("WARNING: Flash Encryption in {0}",h)+"\n\n"+i.l10n.t("This will burn eFuses on your device which is an IRREVERSIBLE operation.")+"\n\n"+i.l10n.t("In {0}:",h)+"\n"+(h===i.l10n.t("Development Mode")?i.l10n.t("Development Mode: Allows re-flashing with plaintext data"):i.l10n.t("Release Mode: Permanently disables plaintext flashing"))+"\n\n"+i.l10n.t('The flash encryption process requires two steps:\n1. First, you need to confirm by typing "{0}" in the input box at the top of the screen\n2. After flashing completes, you MUST reset your device\n3. Then flash again to enable encryption',h===i.l10n.t("Development Mode")?"BURN DEV":"BURN RELEASE");Q.appendLineAndShow(n,"Flash Encryption");const o=i.l10n.t('Type "{0}" to confirm flash encryption (this is irreversible)',h===i.l10n.t("Development Mode")?"BURN DEV":"BURN RELEASE");if(await i.window.showInputBox({prompt:o,placeHolder:h===i.l10n.t("Development Mode")?"BURN DEV":"BURN RELEASE",ignoreFocusOut:!0,validateInput:e=>{const t=h===i.l10n.t("Development Mode")?"BURN DEV":"BURN RELEASE";return e===t?null:i.l10n.t('Please type "{0}" exactly to confirm',t)}})!==(h===i.l10n.t("Development Mode")?"BURN DEV":"BURN RELEASE")){const e=i.l10n.t("Flash encryption cancelled by user");return js.info(e,{tag:"Flash Encryption"}),Q.appendLineAndShow(e,"Flash Encryption"),{success:!1,resultType:lo.GenericError}}const s=i.l10n.t("User confirmed flash encryption. Proceeding with two-step flashing process.");js.info(s,{tag:"Flash Encryption"}),Q.appendLineAndShow(s,"Flash Encryption");const a=i.l10n.t("Proceeding with flash encryption. Remember to reset your device after the first flash.");return async function(e,t,n="Read documentation"){await i.window.showInformationMessage(e,n)===n&&i.env.openExternal(i.Uri.parse(t))}(a,e),Q.appendLineAndShow(a,"Flash Encryption"),js.info(a,{tag:"Flash Encryption"}),{success:!1,resultType:lo.ErrorEfuseNotSet}}if(h===i.l10n.t("Release Mode")){const e=p.DIS_DOWNLOAD_MANUAL_ENCRYPT;if(e&&!e.value){const e=i.l10n.t("WARNING: You are attempting to switch from Development Mode to Release Mode.\n\nThis is an irreversible operation that will permanently disable plaintext flashing.\nMake sure you have a backup of your encryption key and understand the implications.\n\nType 'SWITCH' to confirm this operation.");if(Q.appendLineAndShow(e,"Flash Encryption"),"SWITCH"!==await i.window.showInputBox({prompt:i.l10n.t("Type 'SWITCH' to confirm switching to Release Mode"),placeHolder:"SWITCH",ignoreFocusOut:!0,validateInput:e=>"SWITCH"===e?null:i.l10n.t("Please type 'SWITCH' exactly to confirm")})){const e=i.l10n.t("Switching to Release Mode cancelled by user");return js.info(e,{tag:"Flash Encryption"}),Q.appendLineAndShow(e,"Flash Encryption"),{success:!1,resultType:lo.GenericError}}const t=i.l10n.t("User confirmed switching to Release Mode. Proceeding with flash encryption.");js.info(t,{tag:"Flash Encryption"}),Q.appendLineAndShow(t,"Flash Encryption")}}return{success:!0}}{const e=i.l10n.t("Could not find Encryption Key for {0}",a);return Q.appendLineAndShow(e,"Flash Encryption"),js.error(e,new Error(e),"verifyFlashEncryption missing encryption key",{tag:"Flash Encryption"}),{success:!1,resultType:lo.ErrorEfuseNotSet}}}catch(e){if("Operation cancelled by user"===e.message){const e=i.l10n.t("eFuse check cancelled by user");return js.info(e,{tag:"Flash Encryption"}),Q.appendLineAndShow(e,"Flash Encryption"),{success:!1,resultType:lo.GenericError}}const t=i.l10n.t("Error during flash encryption check: {0}",e.message);return Q.appendLineAndShow(t,"Flash Encryption"),js.errorNotify(t,e,"verifyFlashEncryption checkFlashEncryption",{tag:"Flash Encryption"}),{success:!1,resultType:lo.GenericError}}}(s,e);if(!r.success){if(r.resultType!==lo.ErrorEfuseNotSet)return;a=!1}}const l=await Ds(e,!1);if(!l)return js.warnNotify(i.l10n.t("No serial port found for current IDF_TARGET: {0}",await so(e))),!1;const u=Is("idf.flashBaudRate",e);if(!await wl(u,l,s,e))return!1;if(s===t.FlashType.JTAG){const t=Di.init(),n=await t.version();return Mo.openOCDVersionValidator("v0.10.0-esp32-20201125",n)?await xl(e):void js.infoNotify(`Minimum OpenOCD version v0.10.0-esp32-20201125 is required while you have ${n} version installed`)}{const t=Is("idf.espIdfPath",e);return await Tl(r,u,t,l,e,s,a,c)}}async function zl(e,n){await Mo.perform([ql],(async()=>{const r=Is("idf.notificationMode",e),o=r===Ss.All||r===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:o,title:"ESP-IDF:"},(async(r,o)=>{r.report({message:"Building project...",increment:20});const s=Is("idf.flashType",e);let a=await Ac(e,o,s);if(!a)return;if(i.env.uiKind===i.UIKind.Web)return void i.commands.executeCommand(Jr.FlashAndMonitor);r.report({message:"Flashing project into device...",increment:60});let c=await vo(e),l=Is("idf.flashPartitionToUse",e);if(l&&!["app","bootloader","partition-table"].includes(l)&&(l=void 0),a=await Gl(e,o,s,c,l),!a)return;r.report({message:"Launching monitor...",increment:10}),qa.terminal&&qa.terminal.sendText(t.CTRL_RBRACKET);const u=void 0!==n?n:await Es(e);await Nc(e,u)}))}))}class Wl{async resolveDebugConfigurationWithSubstitutedVariables(e,n,r){if(!e){const n=t.GlobalConfiguration.store.get(t.GlobalConfiguration.SELECTED_WORKSPACE_FOLDER);if(!(e=i.workspace.getWorkspaceFolder(n))&&!(e=await i.window.showWorkspaceFolderPick({placeHolder:"Pick a workspace folder to start a debug session."})))throw new Error("No folder was selected to start debug session")}const o=Is("idf.launchMonitorOnDebugSession",e);n.buildFlashMonitor?await zl(e.uri,!0):"core-dump.debug.session.ws"!==n.sessionID&&"gdbstub.debug.session.ws"!==n.sessionID&&o&&await Nc(e.uri,!0);const s=Di.init();return s.isRunning()||"core-dump.debug.session.ws"===n.sessionID||"gdbstub.debug.session.ws"===n.sessionID||"qemu.debug.session"===n.sessionID||!1===n.runOpenOCD||await s.start(),n}async resolveDebugConfiguration(e,r,s){try{if(!e){const n=t.GlobalConfiguration.store.get(t.GlobalConfiguration.SELECTED_WORKSPACE_FOLDER);if(!(e=i.workspace.getWorkspaceFolder(n))&&!(e=await i.window.showWorkspaceFolderPick({placeHolder:"Pick a workspace folder to start a debug session."})))throw new Error("No folder was selected to start debug session")}if(!r.program){const t=Is("idf.buildPath",e),i=await oo(t),s=(0,n.join)(t,`${i}.elf`);if(!await(0,o.pathExists)(s))throw new Error(`${s} doesn't exist. Build this project first.`);r.program=s}if(r.gdb||(r.gdb=await Go(e.uri,"gdb")),"core-dump.debug.session.ws"!==r.sessionID&&"gdbstub.debug.session.ws"!==r.sessionID&&(!r.initCommands||0===r.initCommands.length)){if(r.initCommands=["set remote hardware-watchpoint-limit {IDF_TARGET_CPU_WATCHPOINT_NUM}","mon reset halt","maintenance flush register-cache"],"y"===await Jo("CONFIG_APP_REPRODUCIBLE_BUILD",e.uri)){const t=Is("idf.buildPath",e),s=(0,n.join)(t,"gdbinit","prefix_map");if(await(0,o.pathExists)(s))r.initCommands.push(`source ${s}`);else{const e=(0,n.join)(t,"prefix_map_gdbinit");await(0,o.pathExists)(e)?r.initCommands.push(`source ${e}`):i.window.showInformationMessage("CONFIG_APP_REPRODUCIBLE_BUILD is enabled but no gdbinit prefix map was found.")}}void 0===r.initialBreakpoint?r.initCommands.push("thb app_main"):r.initialBreakpoint&&r.initCommands.push(`thb ${r.initialBreakpoint.trim()}`)}if(r.initCommands&&Array.isArray(r.initCommands)){let t=await so(e.uri);const n={esp32:2,esp32s2:2,esp32s3:2,esp32c2:2,esp32c3:8,esp32c6:4,esp32h2:4,esp32p4:3,esp32c4:2,esp32c5:4,esp32c61:4};r.initCommands=r.initCommands.map((e=>e.replace("{IDF_TARGET_CPU_WATCHPOINT_NUM}",n[t]||2)))}if("core-dump.debug.session.ws"===r.sessionID||"gdbstub.debug.session.ws"===r.sessionID||r.target||(r.target={connectCommands:["set remotetimeout 20","-target-select extended-remote localhost:3333"]}),e&&e.uri&&r.verifyAppBinBeforeDebug&&!await Bc(e.uri))throw new Error("Current app binary is different from your project. Flash first.")}catch(e){const t=e.message?e.message:"Some build files doesn't exist. Build this project first.";return void js.error(t,e,"CDTDebugConfigurationProvider")}return r}}function Kl(e,t,n="",r=!1){const i=e.gdbVersionAtLeast("8.0");if(r){if(i)return`--source ${e.standardEscape(t)} --line ${n}`;{const r=`"${t}:${n}"`;return`${e.standardEscape(r,!0)}`}}return i?`-source ${t} -line ${n}`:`${t}:${n}`}function Yl(e,t,n=!1){const r=e.gdbVersionAtLeast("8.0");return n?r?`--function ${t}`:t:r?`-function ${t}`:t}async function Jl(e,t,n){const r=n?.temporary?"-t ":"",i=n?.ignoreCount?`-i ${n?.ignoreCount} `:"",o=`-break-insert ${r}${n?.hardware?"-h ":""}${i}${n?.pending?"-f ":""}${t}`,s=function(e){if(Array.isArray(e.bkpt)){const t=e.bkpt[0],n=e.bkpt.slice(1);return{_class:e._class,bkpt:t,multiple:n}}return{_class:e._class,bkpt:e.bkpt}}(await e.sendCommand(o));return n?.condition&&await e.sendCommand(`-break-condition ${s.bkpt.number} ${n.condition}`),s}function Ql(e,t){return e.sendCommand(`-break-delete ${t.breakpoints.join(" ")}`)}function Xl(e){return e.sendCommand("-break-list")}async function Zl(e,t){const n="read"===t.accessType?"-r":"readWrite"===t.accessType?"-a":"",r=await e.sendCommand(`-break-watch ${n} ${t.dataId}`);return r["hw-awpt"].number||r["hw-rwpt"].number||r.wpt.number}async function eu(e,t,n){return Jl(e,await Yl(e,t,!0),n)}async function tu(e,t,n,r){return Jl(e,await Kl(e,t,n,!0),r)}function nu(e,t,n,r=0){return e.sendCommand(`-data-read-memory-bytes -o ${r} "${t}" ${n}`)}function ru(e,t){let n="-exec-continue";return void 0!==t&&(n+=` --thread ${t}`),e.sendCommand(n)}function iu(e,t){let n="-stack-info-depth";return void 0!==t.threadId&&(n+=` --thread ${t.threadId}`),t.maxDepth&&(n+=` ${t.maxDepth}`),e.sendCommand(n)}function ou(e,t){let n="-thread-info";return t.threadId&&(n+=` ${t.threadId}`),e.sendCommand(n)}var su;function au(e,t){let n="-var-create";if(void 0!==t.threadId&&(n+=` --thread ${t.threadId}`),void 0!==t.frameId&&(n+=` --frame ${t.frameId}`),n+=` ${t.name?t.name:"-"}`,t.frameAddr)n+=` ${t.frameAddr}`;else if(t.frame)switch(t.frame){default:case"current":n+=" *";break;case"floating":n+=" @"}else n+=" *";return n+=` "${t.expression}"`,e.sendCommand(n)}function cu(e,t){let n="-var-list-children";return t.printValues&&(n+=` ${t.printValues}`),n+=` ${t.name}`,t.from&&t.to&&(n+=` ${t.from} ${t.to}`),e.sendCommand(n)}function lu(e,t){let n="-var-update";return t.printValues?n+=` ${t.printValues}`:n+=` ${su.all}`,t.name?n+=` ${t.name}`:n+=" *",e.sendCommand(n)}function uu(e,t){const n=`-var-delete ${t.varname}`;return e.sendCommand(n)}function pu(e,t){const n=`-var-assign ${t.varname} ${t.expression}`;return e.sendCommand(n)}!function(e){e.no="0",e.all="1",e.simple="2"}(su||(su={}));var du=__webpack_require__(8194),hu=__webpack_require__(31);class fu{constructor(e){this.gdb=e,this.line="",this.pos=0,this.commandQueue={}}parse(e){return new Promise((t=>{this.waitReady=t;const n=/\r?\n/;let r="";e.on("data",(e=>{const t=e.toString();let i=n.exec(t);for(i&&(i.index+=r.length),r+=t;i;){const e=r.slice(0,i.index);this.parseLine(e),r=r.slice(i.index+i[0].length),i=n.exec(r)}}))}))}parseLine(e){this.line=e,this.pos=0,this.handleLine()}queueCommand(e,t){this.commandQueue[e]=t}peek(){return this.pos<this.line.length?this.line[this.pos]:null}next(){return this.pos<this.line.length?this.line[this.pos++]:null}back(){this.pos--}restOfLine(){return this.line.substr(this.pos)}handleToken(e){let t=e,n=this.next();for(;n&&n>="0"&&n<="9";)t+=n,n=this.next();return this.back(),t}handleCString(){let e=this.next();if(!e||'"'!==e)return null;let t="",n="";e:for(e=this.next();e;e=this.next())if(n)n+=e,3==n.length&&(t+=String.fromCodePoint(parseInt(n,8)),n="");else switch(e){case'"':break e;case"\\":if(e=this.next(),e)switch(e){case"n":t+="\n";break;case"t":t+="\t";break;case"r":break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":n=e;break;default:t+=e}else this.back();break;default:t+=e}try{return hu.decode(t)}catch(e){return du.logger.error(`Failed to decode cstring '${t}'. ${JSON.stringify(e)}`),t}}handleString(){let e="";for(let t=this.next();t;t=this.next()){if("="===t||","===t)return this.back(),e;e+=t}return e}handleObject(){let e=this.next();const t={};if("{"===e)if(e=this.next(),'"'!==e)for(;"}"!==e;){","!==e&&this.back();const n=this.handleString();"="===this.next()&&(t[n]=this.handleValue()),e=this.next()}else{this.back();let n=0;for(;"}"!==e;){let r=this.handleCString();r&&(t[n++]=r),e=this.next()}}return"}"===e?t:null}handleArray(){let e=this.next();const t=[];if("["===e)for(e=this.next();"]"!==e;)","!==e&&this.back(),t.push(this.handleValue()),e=this.next();return"]"===e?t:null}handleValue(){const e=this.next();switch(this.back(),e){case'"':return this.handleCString();case"{":return this.handleObject();case"[":return this.handleArray();default:if(this.handleString(),"="===this.next())return this.handleValue()}return null}handleAsyncData(){const e={};let t=this.next(),n="missing";for(;","===t;)"{"!==this.peek()?(n=this.handleString(),"="===this.next()&&(e[n]=this.handleValue())):(Array.isArray(e[n])||(e[n]=[e[n]]),e[n].push(this.handleValue())),t=this.next();return e}handleConsoleStream(){const e=this.handleCString();e&&this.gdb.emit("consoleStreamOutput",e,"stdout")}handleLogStream(){const e=this.handleCString();e&&this.gdb.emit("consoleStreamOutput",e,"log")}handleLine(){let e=this.next();if(!e)return;let t="";switch(e>="0"&&e<="9"&&(t=this.handleToken(e),e=this.next()),e){case"^":{const e=this.restOfLine();for(let n=0;n<e.length;n+=1e3){const r=0===n?"result":"-cont-";du.logger.verbose(`GDB ${r}: ${t} ${e.substr(n,1e3)}`)}const n=this.commandQueue[t];n?(n(this.handleString(),this.handleAsyncData()),delete this.commandQueue[t]):du.logger.error("GDB response with no command: "+t);break}case"~":case"@":this.handleConsoleStream();break;case"&":this.handleLogStream();break;case"=":{du.logger.verbose("GDB notify async: "+this.restOfLine());const e=this.handleString();this.gdb.emit("notifyAsync",e,this.handleAsyncData());break}case"*":{du.logger.verbose("GDB exec async: "+this.restOfLine());const e=this.handleString();this.gdb.emit("execAsync",e,this.handleAsyncData());break}case"+":{du.logger.verbose("GDB status async: "+this.restOfLine());const e=this.handleString();this.gdb.emit("statusAsync",e,this.handleAsyncData());break}case"(":this.waitReady&&(this.waitReady(),this.waitReady=void 0);break;default:this.back(),this.gdb.emit("consoleStreamOutput",this.restOfLine()+"\n","stdout")}}}class mu{constructor(e){this.gdb=e,this.variableMap=new Map,this.gdb=e}getKey(e,t,n){return`frame${e}_thread${t}_depth${n}`}getVars(e,t,n){return this.variableMap.get(this.getKey(e,t,n))}getVar(e,t,n,r,i){const o=this.getVars(e,t,n);if(o)for(const e of o)if(e.expression===r&&("registers"!==i&&(i="local"),i===e.varType))return e}getVarByName(e,t,n,r){const i=this.getVars(e,t,n);if(i)for(const e of i)if(e.varname===r)return e}addVar(e,t,n,r,i,o,s,a){let c=this.variableMap.get(this.getKey(e,t,n));c||(c=[],this.variableMap.set(this.getKey(e,t,n),c));const l={varname:s.name,expression:r,numchild:s.numchild,children:[],value:s.value,type:s.type,isVar:i,isChild:o,varType:a||"local"};return c.push(l),l}async removeVar(e,t,n,r){let i;const o=this.variableMap.get(this.getKey(e,t,n));if(o){for(const e of o)if(e.varname===r){i=e;break}if(i){await uu(this.gdb,{varname:i.varname}),o.splice(o.indexOf(i),1);for(const r of i.children)await this.removeVar(e,t,n,r.varname)}}}async updateVar(e,t,n,r){let i=r;const o=(await lu(this.gdb,{name:r.varname})).changelist[0];if(o)if("true"===o.in_scope)o.name===r.varname&&(r.value=o.value);else{this.removeVar(e,t,n,r.varname),await uu(this.gdb,{varname:r.varname});const o=await au(this.gdb,{frame:"current",expression:r.expression,frameId:e,threadId:t});i=this.addVar(e,t,n,r.expression,r.isVar,r.isChild,o)}return Promise.resolve(i)}}async function gu(e,t,n){const r=n?yu(process.env,n):process.env,{stdout:i,stderr:o}=await(0,Qt.promisify)(a.execFile)(e,["--version"],{cwd:t,env:r}),s=function(e){return e.split(/ gdb( \(.*?\))? (\D* )*\(?(\d*(\.\d*)*)/g)[3]}(i);if(!s)throw new Error(`Failed to get version number from GDB. GDB returned:\nstdout:\n${i}\nstderr:\n${o}`);return s}function yu(e,t){const n=(e,t)=>"win32"===(0,W.platform)()&&Object.keys(e).find((e=>0===e.localeCompare(t,void 0,{sensitivity:"accent"})))||t,r={...e};for(const[e,i]of Object.entries(t)){const t=n(r,e);null===i?delete r[t]:r[t]=i}return r}function vu(e){const t=e.cwd||(e.program&&(0,l.existsSync)(e.program)?(0,n.dirname)(e.program):process.cwd());return(0,l.existsSync)(t)?t:process.cwd()}class bu extends oe.EventEmitter{constructor(){super(...arguments),this.parser=new fu(this),this.varMgr=new mu(this),this.token=0,this.gdbAsync=!1,this.gdbNonStop=!1,this.hardwareBreakpoint=!1}get varManager(){return this.varMgr}async spawn(e){const t=e.gdb||"gdb";this.gdbVersion=await gu(t,vu(e),e.environment);let n=["--interpreter=mi2"];e.gdbArguments&&(n=n.concat(e.gdbArguments));const r=e.environment?yu(process.env,e.environment):process.env;if(this.proc=(0,a.spawn)(t,n,{cwd:vu(e),env:r}),null==this.proc.stdin||null==this.proc.stdout)throw new Error("Spawned GDB does not have stdout or stdin");this.out=this.proc.stdin,this.hardwareBreakpoint=!!e.hardwareBreakpoint,await this.parser.parse(this.proc.stdout),this.proc.stderr&&this.proc.stderr.on("data",(e=>{const t=e.toString();this.emit("consoleStreamOutput",t,"stderr")})),await this.setNonStopMode(e.gdbNonStop),await this.setAsyncMode(e.gdbAsync)}async setAsyncMode(e){const t=this.gdbVersionAtLeast("7.8")?"mi-async":"target-async";void 0===e&&(e=!0),this.gdbNonStop&&(e=!0);const n=e?"on":"off";try{await this.sendCommand(`-gdb-set ${t} ${n}`),this.gdbAsync=e}catch{await this.sendCommand(`-gdb-set ${t} off`),this.gdbAsync=!1}}getAsyncMode(){return this.gdbAsync}async setNonStopMode(e){void 0===e&&(e=!1),e&&await this.sendCommand("-gdb-set pagination off");const t=e?"on":"off";try{await this.sendCommand(`-gdb-set non-stop ${t}`),this.gdbNonStop=e}catch{await this.sendCommand("-gdb-set non-stop off"),this.gdbNonStop=!1}}isNonStopMode(){return this.gdbNonStop}async getBreakpointOptions(e,t){return t}isUseHWBreakpoint(){return this.hardwareBreakpoint}pause(e){if(this.gdbAsync)!function(e,t){let n="-exec-interrupt";n+=void 0!==t?` --thread ${t}`:" --all",e.sendCommand(n)}(this,e);else{if(!this.proc)throw new Error("GDB is not running, nothing to interrupt");du.logger.verbose(`GDB signal: SIGINT to pid ${this.proc.pid}`),this.proc.kill("SIGINT")}}async supportsNewUi(e,t,n){return this.gdbVersion=await gu(e||"gdb",t,n),this.gdbVersionAtLeast("7.12")}gdbVersionAtLeast(e){if(!this.gdbVersion)throw new Error("gdbVersion needs to be set first");return function(e,t){const n=e.split(/\./),r=t.split(/\./);for(let e=0;e<n.length&&e<r.length;e++){const t=parseInt(n[e],10),i=parseInt(r[e],10);if(!isNaN(t)&&!isNaN(i)){if(t>i)return 1;if(t<i)return-1}}if(n.length<r.length)for(let e=n.length;e<r.length;e++){const t=parseInt(r[e],10);if(!isNaN(t)&&0!=t)return-1}if(n.length>r.length)for(let e=r.length;e<n.length;e++){const t=parseInt(n[e],10);if(!isNaN(t)&&0!=t)return 1}return 0}(this.gdbVersion,e)>=0}async sendCommands(e){if(e)for(const t of e)await this.sendCommand(t)}sendCommand(e){const t=this.nextToken();return du.logger.verbose(`GDB command: ${t} ${e}`),new Promise(((n,r)=>{if(this.out){const i=new Error;this.parser.queueCommand(t,((e,t)=>{switch(e){case"done":case"running":case"connected":case"exit":n(t);break;case"error":i.message=t.msg,r(i);break;default:i.message=`Unknown response ${e}: ${JSON.stringify(t)}`,r(i)}})),this.out.write(`${t}${e}\n`)}else r(new Error("gdb is not running."))}))}sendEnablePrettyPrint(){return this.sendCommand("-enable-pretty-printing")}standardEscape(e,t=!0){let n="";for(const r of e)"\\"!==r&&'"'!==r||(n+="\\")," "==r&&(t=!0),n+=r;return t&&(n=`"${n}"`),n}sendFileExecAndSymbols(e){return this.sendCommand(`-file-exec-and-symbols ${this.standardEscape(e)}`)}sendFileSymbolFile(e){return this.sendCommand(`-file-symbol-file ${this.standardEscape(e)}`)}sendAddSymbolFile(e,t){return this.sendCommand(`add-symbol-file ${this.standardEscape(e)} ${t}`)}sendLoad(e,t){return this.sendCommand(`mon program_esp ${this.standardEscape(e)} ${t||""}`)}sendGDBSet(e){return this.sendCommand(`-gdb-set ${e}`)}sendGDBShow(e){return this.sendCommand(`-gdb-show ${e}`)}sendGDBExit(){return this.sendCommand("-gdb-exit")}nextToken(){return this.token++}}var wu=__webpack_require__(8675);class _u extends wu.Jh{constructor(e,t,n=!1){super("stopped"),this.body={reason:e,allThreadsStopped:n},"number"==typeof t&&(this.body.threadId=t)}}const Eu=e=>/^0x[\da-f]+$/i.test(e),xu=(e,t)=>{if(Eu(e)){const n=e.length-2,r=BigInt(e)+BigInt(t);return r<0?`(0x${"0".padStart(n,"0")})${r}`:`0x${r.toString(16).padStart(n,"0")}`}{const n=/^([^+-]*)([+-]\d+)?$/g.exec(e),r=n?.[1],i=BigInt(n?.[2]??0),o=BigInt(t)+i;return`${r}${o<0?"-":"+"}${o<0?-o:o}`}},Su=new Set,Tu=async(e,t,n)=>{const r=[],i=n<0,o=Math.abs(n),s=e=>`(${t})${e<0?"-":"+"}${Math.abs(e)}`,a=async(t,n)=>{if(t===n)return[];const r=[],i=await async function(e,t,n){const r=e.gdbVersionAtLeast("7.11")?"5":"3",i=await e.sendCommand(`-data-disassemble -s "${t}" -e "${n}" -- ${r}`);if(i.asm_insns.length>0){if(!Object.prototype.hasOwnProperty.call(i.asm_insns[0],"line_asm_insn")){const e={line_asm_insn:i.asm_insns};i.asm_insns=[e]}for(const e of i.asm_insns)Object.prototype.hasOwnProperty.call(e,"line_asm_insn")||(e.line_asm_insn=[])}return Promise.resolve(i)}(e,s(t),s(n));for(const t of i.asm_insns){const n=t.line?parseInt(t.line,10):void 0,i={name:t.file,path:t.fullname};for(const o of t.line_asm_insn){if(o["func-name"]&&!Su.has(o["func-name"]))try{const t=await e.sendCommand(`-data-evaluate-expression &${o["func-name"]}`),s=t.value?.match(/^([0-9a-fx]+)\s*</),a={address:s?s[1]:o.address,instruction:`${o["func-name"]}:`,location:i,line:n?n-1:void 0};r.push(a),Su.add(o["func-name"])}catch(e){}let t={address:o.address,instructionBytes:o.opcodes,instruction:o["func-name"]?`${o.inst}  ; ${o["func-name"]}`:o.inst,symbol:o["func-name"]?o["func-name"]:void 0};r.push({...t,location:i,line:n})}}return r},c={lower:0,higher:0},l=e=>{i?(c.higher=c.lower,c.lower+=4*e,Eu(t)&&BigInt(t)+BigInt(c.lower)<0&&(c.lower=-1*Number(t))):(c.lower=c.higher,c.higher+=4*e)},u=e=>{i?r.unshift(...e):r.push(...e)};try{for(;o>r.length;){l(Math.sign(n)*Math.max(o-r.length,0));const e=await a(c.lower,c.higher);if(0===e.length)break;u(e)}}catch(e){if(0===r.length)throw e}if(o<r.length&&(n<0?r.splice(0,r.length-o):r.splice(o,r.length-o)),o>r.length){if(0===r.length)throw new Error("Cannot retrieve instructions!");const e=((e,t,n)=>{const r=e=>({address:e,instruction:"failed to retrieve instruction",presentationHint:"invalid"}),i=[];let o=e;for(let e=0;e<t;e++)n<0?(o=xu(o,n),i.unshift(r(o))):(i.push(r(o)),o=xu(o,n));return i})(r[i?0:r.length-1].address,o-r.length,2*Math.sign(n));u(e)}return r};class Cu{constructor(e,t,n){this.id=e,this.name=t,this.running=n}}const Pu=/\s|>/g,Iu=/.*\[[\d]+\].*/,Ou=/[\d]+/,ku=/^-?\d+(?:\.\d*)?$/,Du=/\b(?:char|short|int|long|float|double)$/,Au=/\bbool$/;function Ru(e){if(e.length%2!=0)throw new Error("Received memory with incomplete bytes.");const t=Buffer.from(e,"hex").toString("base64");if(0===t.length&&0!==e.length)throw new Error("Received ill-formed hex input: "+e);return t}class Nu extends wu.dn{constructor(){super(),this.gdb=this.createBackend(),this.isAttach=!1,this.isRunning=!1,this.supportsRunInTerminalRequest=!1,this.supportsGdbConsole=!1,this.isPostMortem=!1,this.frameHandles=new wu.ot,this.variableHandles=new wu.ot,this.dataBreakpoints=[],this.functionBreakpoints=[],this.logPointMessages={},this.threads=[],this.waitPausedThreadId=0,this.waitPausedNeeded=!1,this.isInitialized=!1,this.registerMap=new Map,this.registerMapReverse=new Map,this.logger=wu.vF}static run(e){Nu.processArgv(process.argv.slice(2)),wu.Ix.run(e)}static processArgv(e){e.forEach((function(e,t,n){const r=/^--config(-frozen)?=(.*)$/.exec(e);if(r){let e;const t=r[2];if(t.startsWith("@")){const n=t.slice(1);e=JSON.parse(l.readFileSync(n).toString("utf8"))}else e=JSON.parse(t);r[1]?Nu.frozenRequestArguments=e:Nu.defaultRequestArguments=e}}))}applyRequestArguments(e,t){const n=Nu.frozenRequestArguments?.request;return"launch"!==n&&"attach"!==n||(e=n),[e,{...Nu.defaultRequestArguments,...t,...Nu.frozenRequestArguments}]}createBackend(){return new bu}customRequest(e,t,n){if("cdt-gdb-adapter/Memory"===e)this.memoryRequest(t,n);else{if("cdt-gdb-tests/executeCommand"!==e)return super.customRequest(e,t,n);{const e=[],r=t=>e.push(t);this.gdb.addListener("consoleStreamOutput",r),this.gdb.sendCommand(n.command).then((n=>{t.body={status:"Ok",result:n,console:e},this.sendResponse(t)})).catch((e=>{const r=e instanceof Error?e.message:`Encountered a problem executing ${n.command}`;this.sendErrorResponse(t,1,r)})).finally((()=>{this.gdb.removeListener("consoleStreamOutput",r)}))}}}initializeRequest(e,t){this.supportsRunInTerminalRequest=!0===t.supportsRunInTerminalRequest,this.supportsGdbConsole="linux"===W.platform()&&this.supportsRunInTerminalRequest,e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!0,e.body.supportsDataBreakpoints=!0,e.body.supportsSetVariable=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsHitConditionalBreakpoints=!0,e.body.supportsLogPoints=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsDisassembleRequest=!0,e.body.supportsReadMemoryRequest=!0,e.body.supportsWriteMemoryRequest=!0,e.body.supportsSteppingGranularity=!0,this.sendResponse(e)}async attachOrLaunchRequest(e,t,n){if(wu.vF.setup(n.verbose?wu.Vy.LogLevel.Verbose:wu.Vy.LogLevel.Warn,n.logFile||!1),this.gdb.on("consoleStreamOutput",((e,t)=>{this.sendEvent(new wu.iQ(e,t))})),this.gdb.on("execAsync",((e,t)=>this.handleGDBAsync(e,t))),this.gdb.on("notifyAsync",((e,t)=>this.handleGDBNotify(e,t))),await this.spawn(n),n.program){if(await this.gdb.sendFileExecAndSymbols(n.program),await this.gdb.sendEnablePrettyPrint(),"attach"===t){this.isAttach=!0;const e=n;await(r=this.gdb,i={pid:e.processId},r.sendCommand(`-target-attach ${i.pid}`)),this.sendEvent(new wu.iQ(`attached to process ${e.processId}`))}var r,i;if(await this.gdb.sendCommands(n.initCommands),"launch"===t){const e=n;e.arguments&&await function(e,t){return e.sendCommand(`-exec-arguments ${t.arguments}`)}(this.gdb,{arguments:e.arguments})}this.sendEvent(new wu.R3),this.sendResponse(e),this.isInitialized=!0}else this.sendErrorResponse(e,1,"The program must be specified in the request arguments")}async attachRequest(e,t){try{const[n,r]=this.applyRequestArguments("attach",t);await this.attachOrLaunchRequest(e,n,r)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async launchRequest(e,t){try{const[n,r]=this.applyRequestArguments("launch",t);await this.attachOrLaunchRequest(e,n,r)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async spawn(e){return e.openGdbConsole&&(this.supportsGdbConsole?await this.gdb.supportsNewUi(e.gdb,vu(e),e.environment)?wu.vF.warn("cdt-gdb-adapter: spawning gdb console in client terminal is not supported"):wu.vF.warn(`cdt-gdb-adapter: new-ui command not detected (${e.gdb||"gdb"})`):wu.vF.warn("cdt-gdb-adapter: openGdbConsole is not supported on this platform")),this.gdb.spawn(e)}dataBreakpointInfoRequest(e,t){e.body={dataId:null,description:"cannot break on data access",accessTypes:void 0,canPersist:!1};const n=this.variableHandles.get(t.variablesReference),r="object"===n.type?n.varobjName:"",i=r+(""===r?"":".")+t.name.replace(/^\[(\d+)\]/,"$1");e.body.dataId=i,e.body.description=i,e.body.accessTypes=["read","write","readWrite"],this.sendResponse(e)}async setDataBreakpointsRequest(e,t){if(this.waitPausedNeeded=this.isRunning,this.waitPausedNeeded){const e=new Promise((e=>{this.waitPaused=e}));if(this.gdb.isNonStopMode()){const e=await ou(this.gdb,{});this.waitPausedThreadId=parseInt(e["current-thread-id"],10),this.gdb.pause(this.waitPausedThreadId)}else this.gdb.pause();await e}try{const n=(await Xl(this.gdb)).BreakpointTable.body.filter((e=>this.dataBreakpoints.indexOf(e.number)>-1)),{resolved:r,deletes:i}=this.resolveBreakpoints(t.breakpoints,n,((e,t)=>{const n=e.condition||void 0,r=t.cond||void 0;return t["original-location"]===e.dataId&&n===r}));i.length>0&&(await Ql(this.gdb,{breakpoints:i}),this.dataBreakpoints=this.dataBreakpoints.filter((e=>-1===i.indexOf(e))));const o=[];for(const e of r)if(e.gdbbp)o.push({id:parseInt(e.gdbbp.number,10),verified:!0});else try{const t=await Zl(this.gdb,e.vsbp);this.dataBreakpoints.push(t.toString()),o.push({id:parseInt(t,10),verified:!0})}catch(e){o.push({verified:!1,message:e instanceof Error?e.message:String(e)})}e.body={breakpoints:o},this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}this.waitPausedNeeded&&(this.gdb.isNonStopMode()?ru(this.gdb,this.waitPausedThreadId):ru(this.gdb))}async setBreakPointsRequest(e,t){if(this.waitPausedNeeded=this.isRunning,this.waitPausedNeeded){const e=new Promise((e=>{this.waitPaused=e}));if(this.gdb.isNonStopMode()){const e=await ou(this.gdb,{});this.waitPausedThreadId=parseInt(e["current-thread-id"],10),this.gdb.pause(this.waitPausedThreadId)}else this.gdb.pause();await e}try{const n=await Xl(this.gdb),r=t.source.path,i=await Kl(this.gdb,r),o=n.BreakpointTable.body.filter((e=>!e.number.includes(".")&&!!e["original-location"]&&!!e["original-location"].startsWith(i)&&-1===this.functionBreakpoints.indexOf(e.number))),{resolved:s,deletes:a}=this.resolveBreakpoints(t.breakpoints||[],o,((e,t)=>{if(e.hitCondition)return!1;const n=e.condition||void 0,r=t.cond||void 0,o=`${i}${e.line}`;return!(t["original-location"]!==o||n!==r)}));a.length>0&&(await Ql(this.gdb,{breakpoints:a}),a.forEach((e=>delete this.logPointMessages[e]))),this.logPointMessages={};const c=(e,t)=>{e.logMessage&&(this.logPointMessages[t.number]=e.logMessage);let n=0;return t.line?n=parseInt(t.line,10):e.line&&(n=e.line),{id:parseInt(t.number,10),line:n,verified:!0}},l=[];for(const e of s){if(e.gdbbp){l.push(c(e.vsbp,e.gdbbp));continue}let t,n=!1;const i=e.vsbp;if(void 0!==i.hitCondition){if(t=parseInt(i.hitCondition.replace(Pu,""),10),isNaN(t)){this.sendEvent(new wu.iQ(`Unable to decode expression: ${i.hitCondition}`));continue}n=!i.hitCondition.startsWith(">"),n&&t--}try{const e=i.line.toString(),o=await this.gdb.getBreakpointOptions({locationType:"source",source:r,line:e},{condition:i.condition,temporary:n,ignoreCount:t,hardware:this.gdb.isUseHWBreakpoint()}),s=await tu(this.gdb,r,e,o);l.push(c(i,s.bkpt))}catch(e){l.push({verified:!1,message:e instanceof Error?e.message:String(e)})}}e.body={breakpoints:l},this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}this.waitPausedNeeded&&(this.gdb.isNonStopMode()?ru(this.gdb,this.waitPausedThreadId):ru(this.gdb))}async setFunctionBreakPointsRequest(e,t){if(this.waitPausedNeeded=this.isRunning,this.waitPausedNeeded){const e=new Promise((e=>{this.waitPaused=e}));if(this.gdb.isNonStopMode()){const e=await ou(this.gdb,{});this.waitPausedThreadId=parseInt(e["current-thread-id"],10),this.gdb.pause(this.waitPausedThreadId)}else this.gdb.pause();await e}try{const n=(await Xl(this.gdb)).BreakpointTable.body.filter((e=>this.functionBreakpoints.indexOf(e.number)>-1)),{resolved:r,deletes:i}=this.resolveBreakpoints(t.breakpoints,n,((e,t)=>{if(e.hitCondition)return!1;const n=e.condition||void 0,r=t.cond||void 0,i=Yl(this.gdb,e.name);return!(t["original-location"]!==i||n!==r)}));i.length>0&&(await Ql(this.gdb,{breakpoints:i}),this.functionBreakpoints=this.functionBreakpoints.filter((e=>-1===i.indexOf(e))));const o=e=>({id:parseInt(e.number,10),verified:!0,line:parseInt(e.line,10),source:{name:e.file,path:e.fullname}}),s=[];for(const e of r)if(e.gdbbp)s.push(o(e.gdbbp));else try{const t=await this.gdb.getBreakpointOptions({locationType:"function",fn:e.vsbp.name},{hardware:this.gdb.isUseHWBreakpoint()}),n=await eu(this.gdb,e.vsbp.name,t);this.functionBreakpoints.push(n.bkpt.number),s.push(o(n.bkpt))}catch(e){s.push({verified:!1,message:e instanceof Error?e.message:String(e)})}e.body={breakpoints:s},this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}this.waitPausedNeeded&&(this.gdb.isNonStopMode()?ru(this.gdb,this.waitPausedThreadId):ru(this.gdb))}resolveBreakpoints(e,t,n){return{resolved:e.map((e=>({vsbp:e,gdbbp:t.find((t=>n(e,t)))}))),deletes:t.filter((t=>!e.find((e=>n(e,t))))).map((e=>e.number))}}async configurationDoneRequest(e,t){try{this.sendEvent(new wu.iQ("\nIn the Debug Console view you can interact directly with GDB.\nTo display the value of an expression, type that expression which can reference\nvariables that are in scope. For example type '2 + 3' or the name of a variable.\nArbitrary commands can be sent to GDB by prefixing the input with a '>',\nfor example type '>show version' or '>help'.\n\n","console")),this.isPostMortem?this.sendEvent(new _u("exception",1,!0)):this.isAttach?await ru(this.gdb):await(n=this.gdb,n.sendCommand("-exec-run")),this.sendResponse(e)}catch(t){this.sendErrorResponse(e,100,t instanceof Error?t.message:String(t))}var n}convertThread(e){let t=e.name||e.id;e.details&&(t+=` (${e.details})`);const n="running"===e.state;return new Cu(parseInt(e.id,10),t,n)}async threadsRequest(e){try{if(!this.isRunning){const e=await ou(this.gdb,{});this.threads=e.threads.map((e=>this.convertThread(e))).sort(((e,t)=>e.id-t.id))}e.body={threads:this.threads},this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async stackTraceRequest(e,t){try{const r=t.threadId,i=await iu(this.gdb,{maxDepth:100,threadId:r}),o=parseInt(i.depth,10),s=t.levels?t.levels>o?o:t.levels:o,a=t.startFrame||0,c=a+s-1,l=(await function(e,t){let n="-stack-list-frames";return void 0!==t.threadId&&(n+=` --thread ${t.threadId}`),t.noFrameFilters&&(n+=" -no-frame-filters"),void 0!==t.lowFrame&&(n+=` ${t.lowFrame}`),void 0!==t.highFrame&&(n+=` ${t.highFrame}`),e.sendCommand(n)}(this.gdb,{lowFrame:a,highFrame:c,threadId:r})).stack.map((e=>{let r,i;e.fullname&&(r=new wu.kL(n.basename(e.file||e.fullname),e.fullname)),e.line&&(i=parseInt(e.line,10));const o=this.frameHandles.create({threadId:t.threadId,frameId:parseInt(e.level,10)}),s=e.func||e.fullname||"",a=new wu.s$(o,s,r,i);return a.instructionPointerReference=e.addr,a}));e.body={stackFrames:l,totalFrames:o},this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async nextRequest(e,t){try{await("instruction"===t.granularity?function(e,t){let n="-exec-next-instruction";return void 0!==t&&(n+=` --thread ${t}`),e.sendCommand(n)}(this.gdb,t.threadId):function(e,t){let n="-exec-next";return void 0!==t&&(n+=` --thread ${t}`),e.sendCommand(n)}(this.gdb,t.threadId)),this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async stepInRequest(e,t){try{await("instruction"===t.granularity?function(e,t){let n="-exec-step-instruction";return void 0!==t&&(n+=` --thread ${t}`),e.sendCommand(n)}(this.gdb,t.threadId):function(e,t){let n="-exec-step";return void 0!==t&&(n+=` --thread ${t}`),e.sendCommand(n)}(this.gdb,t.threadId)),this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async stepOutRequest(e,t){try{await function(e,t){let n="-exec-finish";return void 0!==t&&(n+=` --thread ${t}`),e.sendCommand(n)}(this.gdb,t.threadId),this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async continueRequest(e,t){try{let n;await ru(this.gdb,t.threadId),n=!this.gdb.isNonStopMode()||!t.threadId,e.body={allThreadsContinued:n},this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async pauseRequest(e,t){try{this.gdb.pause(t.threadId),this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}scopesRequest(e,t){const n={type:"frame",frameHandle:t.frameId},r={type:"registers",frameHandle:t.frameId};e.body={scopes:[new wu.HG("Local",this.variableHandles.create(n),!1),new wu.HG("Registers",this.variableHandles.create(r),!0)]},this.sendResponse(e)}async variablesRequest(e,t){const n=new Array;e.body={variables:n};try{const n=this.variableHandles.get(t.variablesReference);if(!n)return void this.sendResponse(e);"registers"===n.type?e.body.variables=await this.handleVariableRequestRegister(n):"frame"===n.type?e.body.variables=await this.handleVariableRequestFrame(n):"object"===n.type&&(e.body.variables=await this.handleVariableRequestObject(n)),this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async setVariableRequest(e,t){try{const n=this.variableHandles.get(t.variablesReference);if(!n)return void this.sendResponse(e);const r=this.frameHandles.get(n.frameHandle);if(!r)return void this.sendResponse(e);const i="object"===n.type?n.varobjName:"",o=i+(""===i?"":".")+t.name.replace(/^\[(\d+)\]/,"$1"),s=await iu(this.gdb,{maxDepth:100}),a=parseInt(s.depth,10);let c,l=this.gdb.varManager.getVar(r.frameId,r.threadId,a,o,n.type);if(!l&&"registers"===n.type){const e=await au(this.gdb,{expression:"$"+t.name,frameId:r.frameId,threadId:r.threadId});l=this.gdb.varManager.addVar(r.frameId,r.threadId,a,t.name,!1,!1,e,n.type),await function(e,t){const n=`-var-set-format ${t} hexadecimal`;return e.sendCommand(n)}(this.gdb,l.varname)}if(l)c=await pu(this.gdb,{varname:l.varname,expression:t.value});else try{c=await pu(this.gdb,{varname:o,expression:t.value})}catch(e){if(""===i)throw e;const n=await cu(this.gdb,{name:i,printValues:su.all});for(const e of n.children)if(this.isChildOfClass(e)){const n=e.name+"."+t.name.replace(/^\[(\d+)\]/,"$1");l=this.gdb.varManager.getVar(r.frameId,r.threadId,a,n);try{c=await pu(this.gdb,{varname:n,expression:t.value});break}catch(e){continue}}if(!c)throw e}e.body={value:c.value,type:l?l.type:void 0,variablesReference:l&&parseInt(l.numchild,10)>0?this.variableHandles.create({type:"object",frameHandle:n.frameHandle,varobjName:l.varname}):0}}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}this.sendResponse(e)}async evaluateRequest(e,t){e.body={result:"Error: could not evaluate expression",variablesReference:0};try{if(void 0===t.frameId)throw new Error("Evaluation of expression without frameId is not supported.");const i=this.frameHandles.get(t.frameId);if(!i)return void this.sendResponse(e);if(t.expression.startsWith(">")&&"repl"===t.context)return"-"===t.expression[1]?await this.gdb.sendCommand(t.expression.slice(1)):await(n=this.gdb,r={threadId:i.threadId,frameId:i.frameId,command:t.expression.slice(1)},n.sendCommand(`-interpreter-exec --thread ${r.threadId} --frame ${r.frameId} console "${r.command}"`)),e.body={result:"\r",variablesReference:0},void this.sendResponse(e);const o=await iu(this.gdb,{maxDepth:100}),s=parseInt(o.depth,10);let a=this.gdb.varManager.getVar(i.frameId,i.threadId,s,t.expression);if(a){const e=(await lu(this.gdb,{name:a.varname})).changelist[0];if(e)if("true"===e.in_scope)e.name===a.varname&&(a.value=e.value);else{this.gdb.varManager.removeVar(i.frameId,i.threadId,s,a.varname),await uu(this.gdb,{varname:a.varname});const e=await au(this.gdb,{expression:t.expression,frameId:i.frameId,threadId:i.threadId});a=this.gdb.varManager.addVar(i.frameId,i.threadId,s,t.expression,!1,!1,e)}}else{const e=await au(this.gdb,{expression:t.expression,frameId:i.frameId,threadId:i.threadId});a=this.gdb.varManager.addVar(i.frameId,i.threadId,s,t.expression,!1,!1,e)}if(a){const n="variables"===t.context&&Number(a.numchild)?await this.getChildElements(a,t.frameId):a.value;e.body={result:n,type:a.type,variablesReference:parseInt(a.numchild,10)>0?this.variableHandles.create({type:"object",frameHandle:t.frameId,varobjName:a.varname}):0}}this.sendResponse(e)}catch(n){if(t.context&&"hover"===t.context)return e.body={result:"Hovered expression could not be evaluated",variablesReference:0},void this.sendResponse(e);this.sendErrorResponse(e,1,n instanceof Error?n.message:String(n))}var n,r}async getChildElements(e,t){if(Number(e.numchild)>0){const n={type:"object",frameHandle:t,varobjName:e.varname},r=await this.handleVariableRequestObject(n),i=Ou.test(e.type)?r.map((e=>this.convertValue(e))):r.reduce(((e,t)=>(e[t.name]=this.convertValue(t),e)),{});return JSON.stringify(i,null,2)}return e.value}convertValue(e){const t=e.value,n=String(e.type);return Du.test(n)?ku.test(t)?Number(t):String(t):Au.test(n)?Boolean(t):t}async memoryRequest(e,t){try{if("string"!=typeof t.address)throw new Error("Invalid type for 'address', expected string, got "+typeof t.address);if("number"!=typeof t.length)throw new Error("Invalid type for 'length', expected number, got "+typeof t.length);if("number"!=typeof t.offset&&void 0!==t.offset)throw new Error("Invalid type for 'offset', expected number or undefined, got "+typeof t.offset);const n=t,r=await nu(this.gdb,n.address,n.length,n.offset);e.body={data:r.memory[0].contents,address:r.memory[0].begin},this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async disassembleRequest(e,t){try{if(Su.clear(),!t.memoryReference)throw new Error("Target memory reference is not specified!");const n=t.instructionOffset??0,r=t.instructionCount+n,i=[],o=void 0===t.offset?t.memoryReference:xu(t.memoryReference,t.offset);if(n<0){const e=await Tu(this.gdb,o,n);i.push(...e)}if(r>0){const e=await Tu(this.gdb,o,r);i.push(...e)}e.body={instructions:i},this.sendResponse(e)}catch(t){const n=t instanceof Error?t.message:String(t);this.sendEvent(new wu.iQ(`Error: ${n}`)),this.sendErrorResponse(e,1,n)}}async readMemoryRequest(e,t){try{if(t.count){const n=await nu(this.gdb,t.memoryReference,t.count,t.offset);e.body={data:Ru(n.memory[0].contents),address:n.memory[0].begin},this.sendResponse(e)}else this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async writeMemoryRequest(e,t){try{const{memoryReference:n,data:r}=t,i=typeof n,o=typeof r;if("string"!==i)throw new Error(`Invalid type for 'address', expected string, got ${i}`);if("string"!==o)throw new Error(`Invalid type for 'content', expected string, got ${o}`);const s=function(e){const t=Buffer.from(e,"base64");if(0===t.length||!t.toString("base64").startsWith(e))throw new Error("Received ill-formed base64 input: "+e);return t.toString("hex")}(r);await function(e,t,n){return e.sendCommand(`-data-write-memory-bytes "${t}" "${n}"`)}(this.gdb,n,s),this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async disconnectRequest(e,t){try{await this.gdb.sendGDBExit(),this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}sendStoppedEvent(e,t,n){this.frameHandles.reset(),this.variableHandles.reset(),this.sendEvent(new _u(e,t,n))}handleGDBStopped(e){const t=e=>parseInt(e["thread-id"],10),n=e=>!!e["stopped-threads"]&&"all"===e["stopped-threads"];switch(e.reason){case"exited":case"exited-normally":this.sendEvent(new wu.cz);break;case"breakpoint-hit":if(this.logPointMessages[e.bkptno])this.sendEvent(new wu.iQ(this.logPointMessages[e.bkptno])),ru(this.gdb);else{const r=this.functionBreakpoints.indexOf(e.bkptno)>-1?"function breakpoint":"breakpoint";this.sendStoppedEvent(r,t(e),n(e))}break;case"end-stepping-range":case"function-finished":this.sendStoppedEvent("step",t(e),n(e));break;case"signal-received":{const r=e["signal-name"]||"signal";this.sendStoppedEvent(r,t(e),n(e));break}default:this.sendStoppedEvent("generic",t(e),n(e))}}handleGDBAsync(e,t){const n=()=>{this.isRunning=!!this.threads.length;for(const e of this.threads)e.running||(this.isRunning=!1)};switch(e){case"running":if(this.gdb.isNonStopMode()){const e=parseInt(t["thread-id"],10);for(const t of this.threads)t.id===e&&(t.running=!0)}else for(const e of this.threads)e.running=!0;n();break;case"stopped":{let e=!1;if(this.gdb.isNonStopMode()){const n=parseInt(t["thread-id"],10);for(const e of this.threads)e.id===n&&(e.running=!1);this.waitPaused&&"signal-received"===t.reason&&this.waitPausedThreadId===n&&(e=!0)}else{for(const e of this.threads)e.running=!1;this.waitPaused&&"signal-received"===t.reason&&(e=!0)}this.waitPaused&&(e||(this.waitPausedNeeded=!1),this.waitPaused(),this.waitPaused=void 0);const r=this.isRunning;n(),!e&&(this.gdb.isNonStopMode()||r&&!this.isRunning)&&this.isInitialized&&this.handleGDBStopped(t);break}default:wu.vF.warn(`GDB unhandled async: ${e}: ${JSON.stringify(t)}`)}}handleGDBNotify(e,t){switch(e){case"thread-created":this.threads.push(this.convertThread(t));break;case"thread-exited":{const e=parseInt(t.id,10);this.threads=this.threads.filter((t=>t.id!==e));break}case"thread-selected":case"thread-group-added":case"thread-group-started":case"thread-group-exited":case"library-loaded":case"breakpoint-modified":case"breakpoint-deleted":case"cmd-param-changed":break;default:wu.vF.warn(`GDB unhandled notify: ${e}: ${JSON.stringify(t)}`)}}async handleVariableRequestFrame(e){const t=[],n=this.frameHandles.get(e.frameHandle);if(!n)return Promise.resolve(t);let r=!1,i=0;const o=await iu(this.gdb,{maxDepth:100}),s=parseInt(o.depth,10),a=new Array,c=this.gdb.varManager.getVars(n.frameId,n.threadId,s);if(c){for(const n of c)if(n.isVar&&!n.isChild){const o=(await lu(this.gdb,{name:n.varname})).changelist[0];let s=!0;if(o?"true"===o.in_scope?(i++,o.name===n.varname&&(n.value=o.value)):(r=!0,s=!1,a.push(o.name)):n.value&&i++,s){let r=n.value;Iu.test(n.type)&&(r=await this.getAddr(n)),t.push({name:n.expression,evaluateName:n.expression,value:r,type:n.type,memoryReference:`&(${n.expression})`,variablesReference:parseInt(n.numchild,10)>0?this.variableHandles.create({type:"object",frameHandle:e.frameHandle,varobjName:n.varname}):0})}}for(const e of a)await this.gdb.varManager.removeVar(n.frameId,n.threadId,s,e)}if(!0===r||0===i){const r=await function(e,t){let n="-stack-list-variables";return t.noFrameFilters&&(n+=" --no-frame-filters"),t.skipUnavailable&&(n+=" --skip-unavailable"),void 0!==t.thread&&(n+=` --thread ${t.thread}`),void 0!==t.frame&&(n+=` --frame ${t.frame}`),n+=` --${t.printValues}`,e.sendCommand(n)}(this.gdb,{thread:n.threadId,frame:n.frameId,printValues:"simple-values"});for(const i of r.variables){let r=this.gdb.varManager.getVar(n.frameId,n.threadId,s,i.name);if(r)r=await this.gdb.varManager.updateVar(n.frameId,n.threadId,s,r),r.isVar=!0;else{const e=await au(this.gdb,{expression:i.name,frameId:n.frameId,threadId:n.threadId});r=this.gdb.varManager.addVar(n.frameId,n.threadId,s,i.name,!0,!1,e)}let o=r.value;Iu.test(r.type)&&(o=await this.getAddr(r)),t.push({name:r.expression,evaluateName:r.expression,value:o,type:r.type,memoryReference:`&(${r.expression})`,variablesReference:parseInt(r.numchild,10)>0?this.variableHandles.create({type:"object",frameHandle:e.frameHandle,varobjName:r.varname}):0})}}return Promise.resolve(t)}async handleVariableRequestObject(e){const t=[],n=this.frameHandles.get(e.frameHandle);if(!n)return Promise.resolve(t);const r=await iu(this.gdb,{maxDepth:100}),i=parseInt(r.depth,10);let o,s=e.varobjName;const a=this.gdb.varManager.getVarByName(n.frameId,n.threadId,i,e.varobjName);a?(o=await cu(this.gdb,{name:a.varname,printValues:su.all}),s=a.varname):o=await cu(this.gdb,{name:e.varobjName,printValues:su.all});const c=a?.expression??await this.getFullPathExpression(s);for(const r of o.children)if(this.isChildOfClass(r)){const n=`${s}.${r.exp}`,i=await cu(this.gdb,{name:n,printValues:su.all}),o=`${c}.${r.exp}`;for(const r of i.children){const i=`${n}.${r.exp}`;t.push({name:r.exp,evaluateName:`${o}.${r.exp}`,value:r.value?r.value:r.type,type:r.type,variablesReference:parseInt(r.numchild,10)>0?this.variableHandles.create({type:"object",frameHandle:e.frameHandle,varobjName:i}):0})}}else{let o=`${e.varobjName}.${r.exp}`,s=o,l=r.value?r.value:r.type;const u=Iu.test(r.type),p=void 0!==a&&Iu.test(a.type)&&Ou.test(r.exp);if(p&&(o=`[${r.exp}]`),u||p){const e=await this.getFullPathExpression(r.name);let t=this.gdb.varManager.getVar(n.frameId,n.threadId,i,e);if(t)t=await this.gdb.varManager.updateVar(n.frameId,n.threadId,i,t);else{const r=await au(this.gdb,{expression:e,frameId:n.frameId,threadId:n.threadId});t=this.gdb.varManager.addVar(n.frameId,n.threadId,i,e,!0,!1,r)}u&&(l=await this.getAddr(t)),t.isChild=!0,s=t.varname}const d=p?o:r.exp,h=u||p?await this.getFullPathExpression(r.name):`${c}.${r.exp}`;t.push({name:d,evaluateName:h,value:l,type:r.type,variablesReference:parseInt(r.numchild,10)>0?this.variableHandles.create({type:"object",frameHandle:e.frameHandle,varobjName:s}):0})}return Promise.resolve(t)}async getFullPathExpression(e){return(await function(e,t){const n=`-var-info-path-expression ${t}`;return e.sendCommand(n)}(this.gdb,e)).path_expr.replace(/[()]/g,"")}async handleVariableRequestRegister(e){const t=[],n=this.frameHandles.get(e.frameHandle);if(!n)return Promise.resolve(t);if(0===this.registerMap.size){let e=0;const t=(await function(e,t){let n=`-data-list-register-names --frame ${t.frameId} --thread ${t.threadId}`;return t.regno&&(n+=t.regno.join(" ")),e.sendCommand(n)}(this.gdb,{frameId:n.frameId,threadId:n.threadId}))["register-names"];for(const n of t)""!==n&&(this.registerMap.set(n,e),this.registerMapReverse.set(e,n)),e++}const r=(await function(e,t){let n=`-data-list-register-values --frame ${t.frameId} --thread ${t.threadId} ${t.fmt}`;return t.regno&&(n+=t.regno.join(" ")),e.sendCommand(n)}(this.gdb,{fmt:"x",frameId:n.frameId,threadId:n.threadId}))["register-values"];for(const e of r){const n=e.number,r=this.registerMapReverse.get(parseInt(n));if(!r)throw new Error("Unable to parse response for reg. values");{const n={name:r,evaluateName:"$"+r,value:e.value,variablesReference:0};t.push(n)}}return Promise.resolve(t)}async getAddr(e){const t=await(n=this.gdb,r=`&(${e.expression})`,n.sendCommand(`-data-evaluate-expression "${r}"`));var n,r;return t.value?t.value:e.value}isChildOfClass(e){return void 0===e.type&&""===e.value&&("public"===e.exp||"protected"===e.exp||"private"===e.exp)}}class Lu extends Nu{constructor(){super(...arguments),this.killGdbServer=!0}async attachOrLaunchRequest(e,t,n){if(this.setupCommonLoggerAndHandlers(n),"gdbstub.debug.session.ws"!==n.sessionID&&"core-dump.debug.session.ws"!==n.sessionID||(this.isPostMortem=!0),"launch"===t){const t=n;if(void 0===t.target?.serverParameters&&!t.program)return void this.sendErrorResponse(e,1,"The program must be specified in the launch request arguments");await this.startGDBServer(t)}await this.startGDBAndAttachToTarget(e,n)}async launchRequest(e,t){try{const[n,r]=this.applyRequestArguments("launch",t);await this.attachOrLaunchRequest(e,n,r)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}async attachRequest(e,t){try{const[n,r]=this.applyRequestArguments("attach",t);await this.attachOrLaunchRequest(e,n,r)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}setupCommonLoggerAndHandlers(e){wu.vF.setup(e.verbose?wu.Vy.LogLevel.Verbose:wu.Vy.LogLevel.Warn,e.logFile||!1),this.gdb.on("consoleStreamOutput",((e,t)=>{this.sendEvent(new wu.iQ(e,t))})),this.gdb.on("execAsync",((e,t)=>this.handleGDBAsync(e,t))),this.gdb.on("notifyAsync",((e,t)=>this.handleGDBNotify(e,t)))}async startGDBServer(e){void 0===e.target&&(e.target={});const t=e.target,n=void 0!==t.server?t.server:"gdbserver",r=void 0!==t.cwd?t.cwd:vu(e),i=void 0!==t.serverParameters?t.serverParameters:["--once",":0",e.program];this.killGdbServer=!1!==t.automaticallyKillServer;const o=e.environment?yu(process.env,e.environment):process.env,s=t.environment?yu(o,t.environment):o;await new Promise(((e,o)=>{this.gdbserver=(0,a.spawn)(n,i,{cwd:r,env:s});let c=!1,l="",u="",p=e=>{};if(t.port&&t.serverParameters?setTimeout((()=>{c=!0,e()}),void 0!==t.serverStartupDelay?t.serverStartupDelay:0):p=n=>{const r=new RegExp(t.serverPortRegExp?t.serverPortRegExp:"Listening on port ([0-9]+)\r?\n").exec(n);null!==r&&(t.port=r[1],p=e=>{},setTimeout((()=>{c=!0,e()}),void 0!==t.serverStartupDelay?t.serverStartupDelay:0))},!this.gdbserver.stdout)throw new Error("Missing stdout in spawned gdbserver");if(this.gdbserver.stdout.on("data",(e=>{const t=e.toString();c||(l+=t),this.sendEvent(new wu.iQ(t,"server")),p(l)})),!this.gdbserver.stderr)throw new Error("Missing stderr in spawned gdbserver");this.gdbserver.stderr.on("data",(e=>{const t=e.toString();c||(u+=t),this.sendEvent(new wu.iQ(t,"server")),p(u)})),this.gdbserver.on("exit",((e,t)=>{let r;r=null===e?`${n} is killed by signal ${t}`:`${n} has exited with code ${e}`,this.sendEvent(new wu.iQ(r,"server")),c||(c=!0,o(new Error(r+"\n"+u)))})),this.gdbserver.on("error",(e=>{const t=`${n} has hit error ${e}`;this.sendEvent(new wu.iQ(t,"server")),c||(c=!0,o(new Error(t+"\n"+u)))}))}))}initializeUARTConnection(e,t){if(void 0!==e.serialPort){this.serialPort=new Ts.SerialPort({path:e.serialPort,baudRate:e.baudRate??115200,dataBits:e.characterSize??8,stopBits:e.stopBits??1,parity:e.parity??"none",rtscts:"RTS/CTS"===e.handshakingMethod,xon:"XON/XOFF"===e.handshakingMethod,xoff:"XON/XOFF"===e.handshakingMethod,autoOpen:!1}),this.serialPort.on("open",(()=>{this.sendEvent(new wu.iQ(`listening on serial port ${this.serialPort?.path}${W.EOL}`,"Serial Port"))}));const t=new Ts.ReadlineParser({delimiter:"CRLF"===e.eolCharacter?"\r\n":"\n",encoding:"utf8"});this.serialPort.pipe(t).on("data",(e=>{this.sendEvent(new wu.iQ(e+W.EOL,"Serial Port"))})),this.serialPort.on("close",(()=>{this.sendEvent(new wu.iQ(`closing serial port connection${W.EOL}`,"Serial Port"))})),this.serialPort.on("error",(e=>{this.sendEvent(new wu.iQ(`error on serial port connection${W.EOL} - ${e}`,"Serial Port"))})),this.serialPort.open()}else if(void 0!==e.socketPort){this.socket=new se.Socket,this.socket.setEncoding("utf-8");let n="";this.socket.on("data",(e=>{for(const t of e)"\n"===t?(this.sendEvent(new wu.iQ(n+"\n","Socket")),n=""):n+=t})),this.socket.on("close",(()=>{this.sendEvent(new wu.iQ(n+W.EOL,"Socket")),this.sendEvent(new wu.iQ(`closing socket connection${W.EOL}`,"Socket"))})),this.socket.on("error",(e=>{this.sendEvent(new wu.iQ(`error on socket connection${W.EOL} - ${e}`,"Socket"))})),this.socket.connect(+e.socketPort,t??"localhost",(()=>{this.sendEvent(new wu.iQ(`listening on tcp port ${e?.socketPort}${W.EOL}`,"Socket"))}))}}async startGDBAndAttachToTarget(e,t){void 0===t.target&&(t.target={});const n=t.target;try{if(this.isAttach=!0,await this.spawn(t),await this.gdb.sendFileExecAndSymbols(t.program),await this.gdb.sendEnablePrettyPrint(),t.imageAndSymbols&&t.imageAndSymbols.symbolFileName&&(t.imageAndSymbols.symbolOffset?await this.gdb.sendAddSymbolFile(t.imageAndSymbols.symbolFileName,t.imageAndSymbols.symbolOffset):await this.gdb.sendFileSymbolFile(t.imageAndSymbols.symbolFileName)),"gdbstub.debug.session.ws"!==t.sessionID&&"core-dump.debug.session.ws"!==t.sessionID&&"qemu.debug.session"!==t.sessionID&&!1!==t.runOpenOCD&&!Di.init().isRunning()){const t="OpenOCD is not running. Please start OpenOCD before launching the debug session.";return this.sendEvent(new wu.iQ(`❌ ${t}`,"stderr")),void this.sendErrorResponse(e,1,t)}if(void 0===n.connectCommands){let e;this.targetType=void 0!==n.type?n.type:"remote",e=void 0!==n.port?[void 0!==n.host?`${n.host}:${n.port}`:`localhost:${n.port}`]:[];const t=void 0!==n.parameters?n.parameters:e;await(r=this.gdb,i={type:this.targetType,parameters:t},r.sendCommand(`-target-select ${i.type} ${i.parameters.join(" ")}`)),this.sendEvent(new wu.iQ(`connected to ${this.targetType} target ${t.join(" ")}`))}else await this.gdb.sendCommands(n.connectCommands),this.sendEvent(new wu.iQ("connected to target using provided connectCommands"));await this.gdb.sendCommands(t.initCommands),void 0!==n.uart&&this.initializeUARTConnection(n.uart,n.host),t.imageAndSymbols&&t.imageAndSymbols.imageFileName&&await this.gdb.sendLoad(t.imageAndSymbols.imageFileName,t.imageAndSymbols.imageOffset),await this.gdb.sendCommands(t.preRunCommands),this.sendEvent(new wu.R3),this.sendResponse(e),this.isInitialized=!0}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}var r,i}async stopGDBServer(){return new Promise(((e,t)=>{this.gdbserver&&null===this.gdbserver.exitCode?(this.gdbserver.on("exit",(()=>{e()})),this.gdbserver?.kill()):e(),setTimeout((()=>{t()}),1e3)}))}async disconnectRequest(e,t){try{void 0!==this.serialPort&&this.serialPort.isOpen&&this.serialPort.close(),"remote"===this.targetType&&(this.gdb.getAsyncMode()&&this.isRunning?this.gdb.sendCommand("interrupt").then((()=>this.gdb.sendCommand("disconnect"))):await this.gdb.sendCommand("disconnect")),await this.gdb.sendGDBExit(),this.killGdbServer&&(await this.stopGDBServer(),this.sendEvent(new wu.iQ("gdbserver stopped","server"))),this.sendResponse(e)}catch(t){this.sendErrorResponse(e,1,t instanceof Error?t.message:String(t))}}}class Fu{createDebugAdapterDescriptor(e,t){if(!this.server){const t=e.configuration.debugPort||43476;this.server=(0,se.createServer)((e=>{const t=new Lu;t.setRunAsServer(!0),t.start(e,e)})).listen(t)}const n=this.server.address();if(n&&"object"==typeof n&&n.port)return new i.DebugAdapterServer(n.port);throw this.dispose(),new Error("Failed to get CDT Debug Adapter server address or port.")}checkCurrentPort(e){if(!this.server)return!1;const t=this.server.address();return!(!t||"object"!=typeof t||!t.port)&&t.port===e}dispose(){this.server&&(this.server.close(),this.server=void 0)}}class Mu{constructor(e){this.curWorkspace=e,this.idfPathDir=Is("idf.espIdfPath",e),this.buildDirPath=Is("idf.buildPath",e)}async reconfigure(){const e=await ms(this.curWorkspace),t={cwd:this.curWorkspace.fsPath,env:e},r=i.workspace.workspaceFolders.find((e=>e.uri===this.curWorkspace)),o=Is("idf.notificationMode",r),s=o===Ss.All||o===Ss.Output?i.TaskRevealKind.Always:i.TaskRevealKind.Silent,a=[(0,n.join)(this.idfPathDir,"tools","idf.py")];let c=a.indexOf("-B");-1!==c&&a.splice(c,2),a.push("-B",this.buildDirPath);const l=await Yo(this.curWorkspace);-1===a.indexOf("SDKCONFIG")&&a.push(`-DSDKCONFIG='${l}'`);const u=Is("idf.sdkconfigDefaults")||[];-1===a.indexOf("SDKCONFIG_DEFAULTS")&&u&&u.length&&a.push(`-DSDKCONFIG_DEFAULTS='${u.join(";")}'`),Is("idf.enableCCache",this.curWorkspace)&&a&&a.length&&-1===a.indexOf("-DCCACHE_ENABLE=1")&&a.push("-DCCACHE_ENABLE=1"),a.push("reconfigure");const p=await kr(this.curWorkspace),d=new i.ProcessExecution(p,a,t),h={reveal:s,showReuseMessage:!1,clear:!1,panel:i.TaskPanelKind.Shared};$a.addTask({type:"esp-idf",command:"ESP-IDF Reconfigure",taskId:"idf-reconfigure-task"},r||i.TaskScope.Workspace,"ESP-IDF Reconfigure",d,["espIdf"],h)}}function ju(e){return null==e}var Bu={isNothing:ju,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:ju(e)?[]:[e]},repeat:function(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var n,r,i,o;if(t)for(n=0,r=(o=Object.keys(t)).length;n<r;n+=1)e[i=o[n]]=t[i];return e}};function Uu(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),r+" "+n):r}function qu(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Uu(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}qu.prototype=Object.create(Error.prototype),qu.prototype.constructor=qu,qu.prototype.toString=function(e){return this.name+": "+Uu(this,e)};var $u=qu;function Vu(e,t,n,r,i){var o="",s="",a=Math.floor(i/2)-1;return r-t>a&&(t=r-a+(o=" ... ").length),n-r>a&&(n=r+a-(s=" ...").length),{str:o+e.slice(t,n).replace(/\t/g,"→")+s,pos:r-t+o.length}}function Hu(e,t){return Bu.repeat(" ",t-e.length)+e}var Gu=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var n,r=/\r?\n|\r|\0/g,i=[0],o=[],s=-1;n=r.exec(e.buffer);)o.push(n.index),i.push(n.index+n[0].length),e.position<=n.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var a,c,l="",u=Math.min(e.line+t.linesAfter,o.length).toString().length,p=t.maxLength-(t.indent+u+3);for(a=1;a<=t.linesBefore&&!(s-a<0);a++)c=Vu(e.buffer,i[s-a],o[s-a],e.position-(i[s]-i[s-a]),p),l=Bu.repeat(" ",t.indent)+Hu((e.line-a+1).toString(),u)+" | "+c.str+"\n"+l;for(c=Vu(e.buffer,i[s],o[s],e.position,p),l+=Bu.repeat(" ",t.indent)+Hu((e.line+1).toString(),u)+" | "+c.str+"\n",l+=Bu.repeat("-",t.indent+u+3+c.pos)+"^\n",a=1;a<=t.linesAfter&&!(s+a>=o.length);a++)c=Vu(e.buffer,i[s+a],o[s+a],e.position-(i[s]-i[s+a]),p),l+=Bu.repeat(" ",t.indent)+Hu((e.line+a+1).toString(),u)+" | "+c.str+"\n";return l.replace(/\n$/,"")},zu=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Wu=["scalar","sequence","mapping"],Ku=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===zu.indexOf(t))throw new $u('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(n){e[n].forEach((function(e){t[String(e)]=n}))})),t}(t.styleAliases||null),-1===Wu.indexOf(this.kind))throw new $u('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function Yu(e,t){var n=[];return e[t].forEach((function(e){var t=n.length;n.forEach((function(n,r){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=r)})),n[t]=e})),n}function Ju(e){return this.extend(e)}Ju.prototype.extend=function(e){var t=[],n=[];if(e instanceof Ku)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new $u("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof Ku))throw new $u("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new $u("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new $u("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),n.forEach((function(e){if(!(e instanceof Ku))throw new $u("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var r=Object.create(Ju.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=Yu(r,"implicit"),r.compiledExplicit=Yu(r,"explicit"),r.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(r.compiledImplicit,r.compiledExplicit),r};var Qu=new Ju({explicit:[new Ku("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),new Ku("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),new Ku("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})]}),Xu=new Ku("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),Zu=new Ku("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function ep(e){return 48<=e&&e<=55}function tp(e){return 48<=e&&e<=57}var np=new Ku("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=e.length,i=0,o=!1;if(!r)return!1;if("-"!==(t=e[i])&&"+"!==t||(t=e[++i]),"0"===t){if(i+1===r)return!0;if("b"===(t=e[++i])){for(i++;i<r;i++)if("_"!==(t=e[i])){if("0"!==t&&"1"!==t)return!1;o=!0}return o&&"_"!==t}if("x"===t){for(i++;i<r;i++)if("_"!==(t=e[i])){if(!(48<=(n=e.charCodeAt(i))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;o=!0}return o&&"_"!==t}if("o"===t){for(i++;i<r;i++)if("_"!==(t=e[i])){if(!ep(e.charCodeAt(i)))return!1;o=!0}return o&&"_"!==t}}if("_"===t)return!1;for(;i<r;i++)if("_"!==(t=e[i])){if(!tp(e.charCodeAt(i)))return!1;o=!0}return!(!o||"_"===t)},construct:function(e){var t,n=e,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(r=-1),t=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===t){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!Bu.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),rp=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),ip=/^[-+]?[0-9]+e/,op=new Ku("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!rp.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||Bu.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Bu.isNegativeZero(e))return"-0.0";return n=e.toString(10),ip.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),sp=Qu.extend({implicit:[Xu,Zu,np,op]}),ap=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),cp=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),lp=new Ku("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==ap.exec(e)||null!==cp.exec(e))},construct:function(e){var t,n,r,i,o,s,a,c,l=0,u=null;if(null===(t=ap.exec(e))&&(t=cp.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(u=-u)),c=new Date(Date.UTC(n,r,i,o,s,a,l)),u&&c.setTime(c.getTime()-u),c},instanceOf:Date,represent:function(e){return e.toISOString()}}),up=new Ku("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),pp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",dp=new Ku("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=0,i=e.length,o=pp;for(n=0;n<i;n++)if(!((t=o.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8==0},construct:function(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,o=pp,s=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)),s=s<<6|o.indexOf(r.charAt(t));return 0==(n=i%4*6)?(a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)):18===n?(a.push(s>>10&255),a.push(s>>2&255)):12===n&&a.push(s>>4&255),new Uint8Array(a)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,n,r="",i=0,o=e.length,s=pp;for(t=0;t<o;t++)t%3==0&&t&&(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]),i=(i<<8)+e[t];return 0==(n=o%3)?(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]):2===n?(r+=s[i>>10&63],r+=s[i>>4&63],r+=s[i<<2&63],r+=s[64]):1===n&&(r+=s[i>>2&63],r+=s[i<<4&63],r+=s[64],r+=s[64]),r}}),hp=Object.prototype.hasOwnProperty,fp=Object.prototype.toString,mp=new Ku("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,i,o,s=[],a=e;for(t=0,n=a.length;t<n;t+=1){if(r=a[t],o=!1,"[object Object]"!==fp.call(r))return!1;for(i in r)if(hp.call(r,i)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==s.indexOf(i))return!1;s.push(i)}return!0},construct:function(e){return null!==e?e:[]}}),gp=Object.prototype.toString,yp=new Ku("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,i,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],"[object Object]"!==gp.call(r))return!1;if(1!==(i=Object.keys(r)).length)return!1;o[t]=[i[0],r[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,r,i,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],i=Object.keys(r),o[t]=[i[0],r[i[0]]];return o}}),vp=Object.prototype.hasOwnProperty,bp=new Ku("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(vp.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),wp=sp.extend({implicit:[lp,up],explicit:[dp,mp,yp,bp]}),_p=Object.prototype.hasOwnProperty,Ep=1,xp=2,Sp=3,Tp=4,Cp=1,Pp=2,Ip=3,Op=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,kp=/[\x85\u2028\u2029]/,Dp=/[,\[\]\{\}]/,Ap=/^(?:!|!!|![a-z\-]+!)$/i,Rp=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Np(e){return Object.prototype.toString.call(e)}function Lp(e){return 10===e||13===e}function Fp(e){return 9===e||32===e}function Mp(e){return 9===e||32===e||10===e||13===e}function jp(e){return 44===e||91===e||93===e||123===e||125===e}function Bp(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function Up(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function qp(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}function $p(e,t,n){"__proto__"===t?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n}for(var Vp=new Array(256),Hp=new Array(256),Gp=0;Gp<256;Gp++)Vp[Gp]=Up(Gp)?1:0,Hp[Gp]=Up(Gp);function zp(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||wp,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Wp(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=Gu(n),new $u(t,n)}function Kp(e,t){throw Wp(e,t)}function Yp(e,t){e.onWarning&&e.onWarning.call(null,Wp(e,t))}var Jp={YAML:function(e,t,n){var r,i,o;null!==e.version&&Kp(e,"duplication of %YAML directive"),1!==n.length&&Kp(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&Kp(e,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&Kp(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&Yp(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,i;2!==n.length&&Kp(e,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],Ap.test(r)||Kp(e,"ill-formed tag handle (first argument) of the TAG directive"),_p.call(e.tagMap,r)&&Kp(e,'there is a previously declared suffix for "'+r+'" tag handle'),Rp.test(i)||Kp(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(t){Kp(e,"tag prefix is malformed: "+i)}e.tagMap[r]=i}};function Qp(e,t,n,r){var i,o,s,a;if(t<n){if(a=e.input.slice(t,n),r)for(i=0,o=a.length;i<o;i+=1)9===(s=a.charCodeAt(i))||32<=s&&s<=1114111||Kp(e,"expected valid JSON character");else Op.test(a)&&Kp(e,"the stream contains non-printable characters");e.result+=a}}function Xp(e,t,n,r){var i,o,s,a;for(Bu.isObject(n)||Kp(e,"cannot merge mappings; the provided source object is unacceptable"),s=0,a=(i=Object.keys(n)).length;s<a;s+=1)o=i[s],_p.call(t,o)||($p(t,o,n[o]),r[o]=!0)}function Zp(e,t,n,r,i,o,s,a,c){var l,u;if(Array.isArray(i))for(l=0,u=(i=Array.prototype.slice.call(i)).length;l<u;l+=1)Array.isArray(i[l])&&Kp(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===Np(i[l])&&(i[l]="[object Object]");if("object"==typeof i&&"[object Object]"===Np(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(l=0,u=o.length;l<u;l+=1)Xp(e,t,o[l],n);else Xp(e,t,o,n);else e.json||_p.call(n,i)||!_p.call(t,i)||(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,Kp(e,"duplicated mapping key")),$p(t,i,o),delete n[i];return t}function ed(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):Kp(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function td(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);0!==i;){for(;Fp(i);)9===i&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!Lp(i))break;for(ed(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&Yp(e,"deficient indentation"),r}function nd(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!Mp(t)))}function rd(e,t){1===t?e.result+=" ":t>1&&(e.result+=Bu.repeat("\n",t-1))}function id(e,t){var n,r,i=e.tag,o=e.anchor,s=[],a=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),r=e.input.charCodeAt(e.position);0!==r&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,Kp(e,"tab characters must not be used in indentation")),45===r)&&Mp(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,td(e,!0,-1)&&e.lineIndent<=t)s.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,ad(e,t,Sp,!1,!0),s.push(e.result),td(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)Kp(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=i,e.anchor=o,e.kind="sequence",e.result=s,!0)}function od(e){var t,n,r,i,o=!1,s=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&Kp(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(o=!0,i=e.input.charCodeAt(++e.position)):33===i?(s=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,o){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(r=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):Kp(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!Mp(i);)33===i&&(s?Kp(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),Ap.test(n)||Kp(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),Dp.test(r)&&Kp(e,"tag suffix cannot contain flow indicator characters")}r&&!Rp.test(r)&&Kp(e,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(t){Kp(e,"tag name is malformed: "+r)}return o?e.tag=r:_p.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:Kp(e,'undeclared tag handle "'+n+'"'),!0}function sd(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&Kp(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!Mp(n)&&!jp(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Kp(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function ad(e,t,n,r,i){var o,s,a,c,l,u,p,d,h,f=1,m=!1,g=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=Tp===n||Sp===n,r&&td(e,!0,-1)&&(m=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),1===f)for(;od(e)||sd(e);)td(e,!0,-1)?(m=!0,a=o,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):a=!1;if(a&&(a=m||i),1!==f&&Tp!==n||(d=Ep===n||xp===n?t:t+1,h=e.position-e.lineStart,1===f?a&&(id(e,h)||function(e,t,n){var r,i,o,s,a,c,l,u=e.tag,p=e.anchor,d={},h=Object.create(null),f=null,m=null,g=null,y=!1,v=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),l=e.input.charCodeAt(e.position);0!==l;){if(y||-1===e.firstTabInLine||(e.position=e.firstTabInLine,Kp(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),o=e.line,63!==l&&58!==l||!Mp(r)){if(s=e.line,a=e.lineStart,c=e.position,!ad(e,n,xp,!1,!0))break;if(e.line===o){for(l=e.input.charCodeAt(e.position);Fp(l);)l=e.input.charCodeAt(++e.position);if(58===l)Mp(l=e.input.charCodeAt(++e.position))||Kp(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Zp(e,d,h,f,m,null,s,a,c),f=m=g=null),v=!0,y=!1,i=!1,f=e.tag,m=e.result;else{if(!v)return e.tag=u,e.anchor=p,!0;Kp(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return e.tag=u,e.anchor=p,!0;Kp(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(y&&(Zp(e,d,h,f,m,null,s,a,c),f=m=g=null),v=!0,y=!0,i=!0):y?(y=!1,i=!0):Kp(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,l=r;if((e.line===o||e.lineIndent>t)&&(y&&(s=e.line,a=e.lineStart,c=e.position),ad(e,t,Tp,!0,i)&&(y?m=e.result:g=e.result),y||(Zp(e,d,h,f,m,g,s,a,c),f=m=g=null),td(e,!0,-1),l=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&0!==l)Kp(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Zp(e,d,h,f,m,null,s,a,c),v&&(e.tag=u,e.anchor=p,e.kind="mapping",e.result=d),v}(e,h,d))||function(e,t){var n,r,i,o,s,a,c,l,u,p,d,h,f=!0,m=e.tag,g=e.anchor,y=Object.create(null);if(91===(h=e.input.charCodeAt(e.position)))s=93,l=!1,o=[];else{if(123!==h)return!1;s=125,l=!0,o={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),h=e.input.charCodeAt(++e.position);0!==h;){if(td(e,!0,t),(h=e.input.charCodeAt(e.position))===s)return e.position++,e.tag=m,e.anchor=g,e.kind=l?"mapping":"sequence",e.result=o,!0;f?44===h&&Kp(e,"expected the node content, but found ','"):Kp(e,"missed comma between flow collection entries"),d=null,a=c=!1,63===h&&Mp(e.input.charCodeAt(e.position+1))&&(a=c=!0,e.position++,td(e,!0,t)),n=e.line,r=e.lineStart,i=e.position,ad(e,t,Ep,!1,!0),p=e.tag,u=e.result,td(e,!0,t),h=e.input.charCodeAt(e.position),!c&&e.line!==n||58!==h||(a=!0,h=e.input.charCodeAt(++e.position),td(e,!0,t),ad(e,t,Ep,!1,!0),d=e.result),l?Zp(e,o,y,p,u,d,n,r,i):a?o.push(Zp(e,null,y,p,u,d,n,r,i)):o.push(u),td(e,!0,t),44===(h=e.input.charCodeAt(e.position))?(f=!0,h=e.input.charCodeAt(++e.position)):f=!1}Kp(e,"unexpected end of the stream within a flow collection")}(e,d)?g=!0:(s&&function(e,t){var n,r,i,o,s,a=Cp,c=!1,l=!1,u=t,p=0,d=!1;if(124===(o=e.input.charCodeAt(e.position)))r=!1;else{if(62!==o)return!1;r=!0}for(e.kind="scalar",e.result="";0!==o;)if(43===(o=e.input.charCodeAt(++e.position))||45===o)Cp===a?a=43===o?Ip:Pp:Kp(e,"repeat of a chomping mode identifier");else{if(!((i=48<=(s=o)&&s<=57?s-48:-1)>=0))break;0===i?Kp(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?Kp(e,"repeat of an indentation width identifier"):(u=t+i-1,l=!0)}if(Fp(o)){do{o=e.input.charCodeAt(++e.position)}while(Fp(o));if(35===o)do{o=e.input.charCodeAt(++e.position)}while(!Lp(o)&&0!==o)}for(;0!==o;){for(ed(e),e.lineIndent=0,o=e.input.charCodeAt(e.position);(!l||e.lineIndent<u)&&32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>u&&(u=e.lineIndent),Lp(o))p++;else{if(e.lineIndent<u){a===Ip?e.result+=Bu.repeat("\n",c?1+p:p):a===Cp&&c&&(e.result+="\n");break}for(r?Fp(o)?(d=!0,e.result+=Bu.repeat("\n",c?1+p:p)):d?(d=!1,e.result+=Bu.repeat("\n",p+1)):0===p?c&&(e.result+=" "):e.result+=Bu.repeat("\n",p):e.result+=Bu.repeat("\n",c?1+p:p),c=!0,l=!0,p=0,n=e.position;!Lp(o)&&0!==o;)o=e.input.charCodeAt(++e.position);Qp(e,n,e.position,!1)}}return!0}(e,d)||function(e,t){var n,r,i;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(Qp(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,i=e.position}else Lp(n)?(Qp(e,r,i,!0),rd(e,td(e,!1,t)),r=i=e.position):e.position===e.lineStart&&nd(e)?Kp(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Kp(e,"unexpected end of the stream within a single quoted scalar")}(e,d)||function(e,t){var n,r,i,o,s,a,c;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return Qp(e,n,e.position,!0),e.position++,!0;if(92===a){if(Qp(e,n,e.position,!0),Lp(a=e.input.charCodeAt(++e.position)))td(e,!1,t);else if(a<256&&Vp[a])e.result+=Hp[a],e.position++;else if((s=120===(c=a)?2:117===c?4:85===c?8:0)>0){for(i=s,o=0;i>0;i--)(s=Bp(a=e.input.charCodeAt(++e.position)))>=0?o=(o<<4)+s:Kp(e,"expected hexadecimal character");e.result+=qp(o),e.position++}else Kp(e,"unknown escape sequence");n=r=e.position}else Lp(a)?(Qp(e,n,r,!0),rd(e,td(e,!1,t)),n=r=e.position):e.position===e.lineStart&&nd(e)?Kp(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}Kp(e,"unexpected end of the stream within a double quoted scalar")}(e,d)?g=!0:function(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!Mp(r)&&!jp(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Kp(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),_p.call(e.anchorMap,n)||Kp(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],td(e,!0,-1),!0}(e)?(g=!0,null===e.tag&&null===e.anchor||Kp(e,"alias node should not have any properties")):function(e,t,n){var r,i,o,s,a,c,l,u,p=e.kind,d=e.result;if(Mp(u=e.input.charCodeAt(e.position))||jp(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(Mp(r=e.input.charCodeAt(e.position+1))||n&&jp(r)))return!1;for(e.kind="scalar",e.result="",i=o=e.position,s=!1;0!==u;){if(58===u){if(Mp(r=e.input.charCodeAt(e.position+1))||n&&jp(r))break}else if(35===u){if(Mp(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&nd(e)||n&&jp(u))break;if(Lp(u)){if(a=e.line,c=e.lineStart,l=e.lineIndent,td(e,!1,-1),e.lineIndent>=t){s=!0,u=e.input.charCodeAt(e.position);continue}e.position=o,e.line=a,e.lineStart=c,e.lineIndent=l;break}}s&&(Qp(e,i,o,!1),rd(e,e.line-a),i=o=e.position,s=!1),Fp(u)||(o=e.position+1),u=e.input.charCodeAt(++e.position)}return Qp(e,i,o,!1),!!e.result||(e.kind=p,e.result=d,!1)}(e,d,Ep===n)&&(g=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===f&&(g=a&&id(e,h))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&Kp(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,l=e.implicitTypes.length;c<l;c+=1)if((p=e.implicitTypes[c]).resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(_p.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,c=0,l=(u=e.typeMap.multi[e.kind||"fallback"]).length;c<l;c+=1)if(e.tag.slice(0,u[c].tag.length)===u[c].tag){p=u[c];break}p||Kp(e,"unknown tag !<"+e.tag+">"),null!==e.result&&p.kind!==e.kind&&Kp(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):Kp(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||g}function cd(e){var t,n,r,i,o=e.position,s=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(i=e.input.charCodeAt(e.position))&&(td(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(s=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!Mp(i);)i=e.input.charCodeAt(++e.position);for(r=[],(n=e.input.slice(t,e.position)).length<1&&Kp(e,"directive name must not be less than one character in length");0!==i;){for(;Fp(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!Lp(i));break}if(Lp(i))break;for(t=e.position;0!==i&&!Mp(i);)i=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==i&&ed(e),_p.call(Jp,n)?Jp[n](e,n,r):Yp(e,'unknown document directive "'+n+'"')}td(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,td(e,!0,-1)):s&&Kp(e,"directives end mark is expected"),ad(e,e.lineIndent-1,Tp,!1,!0),td(e,!0,-1),e.checkLineBreaks&&kp.test(e.input.slice(o,e.position))&&Yp(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&nd(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,td(e,!0,-1)):e.position<e.length-1&&Kp(e,"end of the stream or a document separator is expected")}function ld(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new zp(e,t),r=e.indexOf("\0");for(-1!==r&&(n.position=r,Kp(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)cd(n);return n.documents}var ud=function(e,t){var n=ld(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new $u("expected a single document in the stream, but found more")}};function pd(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Object.prototype.toString,Object.prototype.hasOwnProperty;var dd=ud;async function hd(e,t){if(!e||!t)return js.warn("Missing toolsPath or OpenOCD version for getting hints path.","getOpenOcdHintsYmlPath"),null;try{const r=n.join(e,"tools","openocd-esp32",t,"openocd-esp32","share","openocd","espressif","tools","esp_problems_hints.yml");return await(0,o.pathExists)(r)?r:(js.info(`OpenOCD hints file not found at expected location: ${r}. Hints may require a specific OpenOCD version or setup.`,"getOpenOcdHintsYmlPath"),null)}catch(e){return js.errorNotify(`Error determining OpenOCD hints path: ${e.message}`,e,"getOpenOcdHintsYmlPath"),null}}pd("safeLoad","load"),pd("safeLoadAll","loadAll"),pd("safeDump","dump");class fd{constructor(e,t,n=!1,r){this.re=e,this.hint=t,this.match_to_output=n,this.ref=r}}class md extends i.TreeItem{constructor(e,t,n=[],r){super(e,n.length>0?i.TreeItemCollapsibleState.Expanded:i.TreeItemCollapsibleState.None),this.label=e,this.type=t,this.children=n,this.reference=r,"error"===t?e.startsWith("No hints found")?this.label=`⚠️ ${e}`:this.label=`🔍 ${e}`:"hint"===t?(this.label=`💡 ${e}`,this.tooltip=e):"reference"===t&&(this.label=i.l10n.t("🔗 Reference Documentation"),this.tooltip=i.l10n.t("Open {0}",e),this.command={command:"vscode.open",title:i.l10n.t("Open Reference"),arguments:[i.Uri.parse(e)]},this.iconPath=new i.ThemeIcon("link-external"))}}class gd{constructor(e){this.context=e,this._onDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.buildErrorData=[],this.openocdErrorData=[]}getTreeItem(e){return e}getChildren(e){return e?Promise.resolve(e.children):Promise.resolve([...this.buildErrorData,...this.openocdErrorData])}clearErrorHints(e=!1){this.buildErrorData=[],e&&(this.openocdErrorData=[]),this._onDidChangeTreeData.fire()}clearOpenOCDErrorsOnly(){this.openocdErrorData=[],this._onDidChangeTreeData.fire()}async showOpenOCDErrorHint(e,t,n){try{this.openocdErrorData=[];const r=[];n&&r.push(new md(n,"reference"));const i=new md(t,"hint",r),o=new md(e,"error",[i]);return this.openocdErrorData.push(o),this._onDidChangeTreeData.fire(),!0}catch(e){return js.errorNotify(`Error showing OpenOCD error hint: ${e.message}`,e,"ErrorHintProvider showOpenOCDErrorHint"),!1}}async searchError(e,t){this.buildErrorData=[];const r=Is("idf.espIdfPath",t),i=await us(r);if(-1===ws(i.trim(),"5.0"))return this.buildErrorData.push(new md(`Error hints feature is not supported in ESP-IDF version ${i}`,"error")),this._onDidChangeTreeData.fire(),!1;const s=function(e){return n.join(e,"tools","idf_py_actions","hints.yml")}(r),a=Is("idf.toolsPath",t);let c=null;try{const e=Di.init(),t=await e.version(!0);a&&t?c=await hd(a,t):js.info("Could not get toolsPath or OpenOCD version, skipping OpenOCD hints lookup.","ErrorHintProvider searchError")}catch(e){js.error(`Failed to initialize OpenOCDManager or get version: ${e.message}`,e,"ErrorHintProvider searchError")}try{let t=!1;if(await(0,o.pathExists)(s))try{const n=await(0,o.readFile)(s,"utf-8"),r=dd(n),i=this.loadHints(r);t=await this.processHints(e,i)||t}catch(e){js.errorNotify(`Error processing ESP-IDF hints file (line ${e.mark?.line}): ${e.message}`,e,"ErrorHintProvider searchError")}else js.infoNotify(`${s} does not exist.`);if(c&&await(0,o.pathExists)(c))try{const n=await(0,o.readFile)(c,"utf-8"),r=dd(n),i=this.loadOpenOcdHints(r);t=await this.processHints(e,i)||t}catch(e){js.errorNotify(`Error processing OpenOCD hints file (line ${e.mark?.line}): ${e.message}`,e,"ErrorHintProvider searchError")}else c&&js.info(`${c} does not exist.`);return 0===this.buildErrorData.length&&this.buildErrorData.push(new md(`No hints found for ${e}`,"error")),this._onDidChangeTreeData.fire(),t}catch(e){return js.errorNotify(`Error processing hints file: ${e.message}`,e,"ErrorHintProvider searchError"),!1}}async processHints(e,t){let n=!1,r="";for(const i of t){const t=new RegExp(i.re,"i").exec(e),o=[],s=i.re.replace(/^.*?'(.*)'.*$/,"$1");if(s){const e=s.split(/\|(?![^(]*\))/);for(const t of e){const e=t.replace(/[()]/g,"");e.length>3&&o.push(e.toLowerCase())}}if(t||i.re.toLowerCase().includes(e)||o.some((t=>e.toLowerCase().includes(t)))){let s=i.hint;if(t&&i.match_to_output&&i.hint.includes("{}"))s=i.hint.replace("{}",t[0]);else if(!t&&i.hint.includes("{}")){const t=o.find((t=>e.toLowerCase().includes(t.toLowerCase())));s=i.hint.replace("{}",t||"")}const a=[];i.ref&&a.push(new md(i.ref,"reference"));const c=new md(s,"hint",a,i.ref);r=i.re;const l=new md(r,"error",[c]);this.buildErrorData.push(l),s.startsWith("No hints found for")||(n=!0)}}if(0===this.buildErrorData.length)for(const r of t)if(r.re.toLowerCase().includes(e.toLowerCase())){const e=[];r.ref&&e.push(new md(r.ref,"reference"));const t=new md(r.hint,"hint",e,r.ref),i=new md(r.re,"error",[t]);this.buildErrorData.push(i),r.hint.startsWith("No hints found for")||(n=!0)}return n}getHintForError(e){for(const t of this.buildErrorData)if(t.label.toLowerCase().includes(e.toLowerCase())&&t.children.length>0){const e=t.children[0];return{hint:e.label.replace(/^💡 /,""),ref:e.reference}}}hasHints(){return this.buildErrorData.length>0||this.openocdErrorData.length>0}loadHints(e){let t=[];for(const n of e)if(n.variables&&n.variables.length)for(const e of n.variables){const r=e.re_variables||[],i=e.hint_variables||[];let o=this.formatEntry(r,n.re),s=this.formatEntry(i,n.hint);t.push(new fd(o,s,n.match_to_output))}else{let e=String(n.re),r=String(n.hint);if(n.match_to_output){const n=this.expandAlternatives(e,r);for(const e of n)t.push(new fd(e.re,e.hint,!0))}else e=this.formatEntry([],e),r=this.formatEntry([],r),t.push(new fd(e,r,!1))}return t}loadOpenOcdHints(e){let t=[];for(const n of e)if(n.variables&&n.variables.length)for(const e of n.variables){const r=e.re_variables,i=e.hint_variables;let o=this.formatEntry(r,n.re),s=this.formatEntry(i,n.hint);t.push(new fd(o,s,n.match_to_output,n.ref))}else{let e=String(n.re),r=String(n.hint);n.match_to_output||(e=this.formatEntry([],e),r=this.formatEntry([],r)),t.push(new fd(e,r,n.match_to_output,n.ref))}return t}formatEntry(e,t){let n=0,r=t;for(;r.includes("{}");)r=r.replace("{}","{"+n+++"}");return r.replace(/\{(\d+)\}/g,((t,n)=>e[Number(n)]||""))}expandAlternatives(e,t){const n=[],r=e.match(/\(([^()]*\|[^()]*)\)/g);if(!r)return[{re:e,hint:t}];for(const i of r){const r=i.slice(1,-1).split("|");if(0===n.length)for(const o of r){const r=e.replace(i,o),s=t.replace(/\{\}/,o);n.push({re:r,hint:s})}else{const e=[...n];n.length=0;for(const t of e)for(const e of r){const r=t.re.replace(i,e),o=t.hint.replace(/\{\}/,e);n.push({re:r,hint:o})}}}return n}}class yd{constructor(e){this.hintProvider=e}provideHover(e,t,n){const r=i.languages.getDiagnostics(e.uri).filter((e=>"esp-idf"===e.source&&e.severity===i.DiagnosticSeverity.Error));if(!r.length)return null;for(const n of r){const r=n.range,o=e.lineAt(r.start.line).text;if(new i.Range(new i.Position(r.start.line,0),new i.Position(r.end.line,o.length)).contains(t)){const e=this.hintProvider.getHintForError(n.message);if(e&&e.hint){let t=`**ESP-IDF Hint**: ${e.hint}`;return e.ref&&(t+=`\n\n[Reference Documentation](${e.ref})`),new i.Hover(new i.MarkdownString(`${t}`))}}}return null}}class vd{static createOrShow(e,t){const n=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:i.ViewColumn.One;vd.currentPanel?vd.currentPanel.panel.reveal(n):vd.currentPanel=new vd(t,e,n)}static isCreatedAndHidden(){return vd.currentPanel&&!1===vd.currentPanel.panel.visible}constructor(e,t,r){this.disposables=[];const o=i.l10n.t("ESP-IDF Troubleshooting Form");this.panel=i.window.createWebviewPanel(vd.viewType,o,r,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[i.Uri.file((0,n.join)(t.extensionPath,"dist","views"))]}),this.panel.iconPath=i.Uri.file((0,n.join)(t.extensionPath,"media","espressif_icon.png"));const s=this.panel.webview.asWebviewUri(i.Uri.file((0,n.join)(t.extensionPath,"dist","views","troubleshoot-bundle.js")));this.panel.webview.html=this.createTroubleshootPageHtml(s),this.panel.webview.onDidReceiveMessage((async n=>{"sendForm"===n.command&&n.title&&n.stepsToReproduce&&n.description&&await this.createTroubleshootingReport(n.title,n.description,n.stepsToReproduce,e,t)})),this.panel.onDidDispose((()=>this.dispose()),null,this.disposables)}async createTroubleshootingReport(e,t,n,r,o){let s=`---------------------------------------------- ESP-IDF Troubleshoot report -----------------------------------------------------------------${W.EOL}`;const a=`--------------------------------------------------------------------------------------------------------------------------------------------${W.EOL}`;s+=`Title: ${e} ${W.EOL}`,s+=a,s+=`Description:${W.EOL} ${t} ${W.EOL}`,s+=a,s+=`Steps to Reproduce:${W.EOL} ${n} ${W.EOL}`;const c=Is("idf.notificationMode",r),l=c===Ss.All||c===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!1,location:l,title:i.l10n.t("ESP-IDF: Preparing ESP-IDF extension report")},(async a=>{const c=Sc();try{await Ec(o,r,c);const a=await wc(c,o);s+=a,await i.env.clipboard.writeText(s),Fs.sendEvent("UserTroubleshootReport",{title:e,description:t,stepsToReproduce:n,report:a}),js.infoNotify(i.l10n.t("ESP-IDF Troubleshoot Report has been generated."))}catch(r){c.latestError=r;const a=r.message?r.message:"Configuration report error";js.error(a,r,"TroubleshootingPanel createTroubleshootingReport"),js.warnNotify(i.l10n.t("Extension configuration report has been copied to clipboard with errors"));const l=await wc(c,o);s+=l,await i.env.clipboard.writeText(s),Fs.sendEvent("UserTroubleshootReport",{title:e,description:t,stepsToReproduce:n,report:l})}}))}createTroubleshootPageHtml(e){return`<!DOCTYPE html>\n      <html lang="en">\n        <head>\n          <meta charset="UTF-8">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n          <title>ESP-IDF Troubleshoot Form</title>\n        </head>\n        <body>\n          <div id="app"></div>\n        </body>\n        <script src="${e}"><\/script>\n      </html>`}dispose(){vd.currentPanel=void 0,this.panel.dispose()}}async function bd(){const e=i.workspace.getConfiguration(),t=[];function n(e,r=""){"object"==typeof e&&null!==e&&Object.keys(e).forEach((i=>{const o=r?`${r}.${i}`:i;(o.startsWith("idf.")||o.startsWith("esp."))&&t.push(o),n(e[i],o)}))}const r=e.inspect(""),o=[r?.globalValue,r?.workspaceValue,r?.workspaceFolderValue];for(const e of o)e&&n(e);if(0===t.length)return void i.window.showInformationMessage(i.l10n.t("No ESP-IDF settings found to remove."));const s=[...new Set(t)],a=i.l10n.t("Are you sure you want to remove all ESP-IDF settings? This will delete all idf.* configurations.");if(await i.window.showWarningMessage(a,{modal:!0,detail:i.l10n.t("{0} settings will be removed.",s.length)},i.l10n.t("Yes"),i.l10n.t("No"))===i.l10n.t("Yes"))try{const t=i.l10n.t("Starting ESP-IDF settings cleanup...");Q.appendLineAndShow(t),js.info(t);const n=[{target:i.ConfigurationTarget.Global,property:"globalValue",description:"global"},{target:i.ConfigurationTarget.Workspace,property:"workspaceValue",description:"workspace"},{target:i.ConfigurationTarget.WorkspaceFolder,property:"workspaceFolderValue",description:"workspace folder"}];for(const t of s)try{const r=e.inspect(t);for(const{target:e,property:i,description:o}of n)await c(t,e,r?.[i],o)}catch(e){Q.appendLine(i.l10n.t("Warning: Could not fully remove setting {0}: {1}",t,e.message))}await gi(),Q.appendLineAndShow(i.l10n.t("ESP-IDF settings removed successfully."))}catch(e){const t=e instanceof Error?e.message:String(e);i.window.showErrorMessage(i.l10n.t("Failed to remove settings: {0}"),t),Q.appendLineAndShow(i.l10n.t("Error: {0}"),t),js.error(t,e,"extension removeEspIdfSettings")}async function c(t,n,r,o){try{void 0!==r&&(await e.update(t,void 0,n),Q.appendLine(i.l10n.t("Removed ${0} setting: {1}",o,t)))}catch(e){}}}vd.viewType="TroubleshootingPanel";class wd{constructor(e,n,r){this.configVersions=[],this.workspaceUri=e,this.context=n,this.statusBarItems=r,this.commandDictionary=ui(),this.configFilePath=i.Uri.joinPath(e,t.ProjectConfiguration.PROJECT_CONFIGURATION_FILENAME).fsPath,this.configWatcher=i.workspace.createFileSystemWatcher(this.configFilePath,!1,!1,!1),this.initialize(),this.registerEventHandlers()}initialize(){if(Xo(this.configFilePath))try{const e=Zo(this.configFilePath);if(!e||""===e.trim())return js.warn(`Project configuration file is empty: ${this.configFilePath}`),void(this.configVersions=[]);const n=JSON.parse(e);this.configVersions=Object.keys(n);const r=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG);r&&this.configVersions.includes(r)?this.updateConfiguration(r):r?(t.ProjectConfiguration.store.clear(r),t.ProjectConfiguration.store.clear(t.ProjectConfiguration.SELECTED_CONFIG),this.setNoConfigurationSelectedStatus()):this.configVersions.length>0?(i.window.showInformationMessage(`Loaded ${this.configVersions.length} project configuration(s): ${this.configVersions.join(", ")}`),this.setNoConfigurationSelectedStatus()):(js.info(`Project configuration file loaded but contains no configurations: ${this.configFilePath}`),this.setNoConfigurationSelectedStatus())}catch(e){i.window.showErrorMessage(`Error reading or parsing project configuration file (${this.configFilePath}): ${e.message}`),js.errorNotify(`Failed to parse project configuration file: ${this.configFilePath}`,e,"ProjectConfigurationManager initialize"),this.configVersions=[],this.setNoConfigurationSelectedStatus()}else{this.configVersions=[],this.statusBarItems.projectConf&&(this.statusBarItems.projectConf.dispose(),this.statusBarItems.projectConf=void 0);const e=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG);e&&(t.ProjectConfiguration.store.clear(e),t.ProjectConfiguration.store.clear(t.ProjectConfiguration.SELECTED_CONFIG))}}registerEventHandlers(){const e=this.configWatcher.onDidChange((async()=>await this.handleConfigFileChange())),t=this.configWatcher.onDidDelete((async()=>await this.handleConfigFileDelete())),n=this.configWatcher.onDidCreate((async()=>await this.handleConfigFileCreate()));this.context.subscriptions.push(e,t,n)}async handleConfigFileChange(){try{const e=await es(this.configFilePath),n=Object.keys(e),r=n.filter((e=>!this.configVersions.includes(e))),o=this.configVersions.filter((e=>!n.includes(e)));r.length>0&&i.window.showInformationMessage(`New versions added: ${r.join(", ")}`),o.length>0&&i.window.showInformationMessage(`Versions removed: ${o.join(", ")}`),this.configVersions=n;const s=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG);s&&n.includes(s)?await this.updateConfiguration(s):s?(t.ProjectConfiguration.store.clear(s),t.ProjectConfiguration.store.clear(t.ProjectConfiguration.SELECTED_CONFIG),this.setNoConfigurationSelectedStatus()):this.setNoConfigurationSelectedStatus()}catch(e){i.window.showErrorMessage(`Error parsing config file: ${e.message}`),this.setNoConfigurationSelectedStatus()}}async handleConfigFileDelete(){this.configVersions=[];const e=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG);e&&(t.ProjectConfiguration.store.clear(e),t.ProjectConfiguration.store.clear(t.ProjectConfiguration.SELECTED_CONFIG)),this.statusBarItems.projectConf&&(this.statusBarItems.projectConf.dispose(),this.statusBarItems.projectConf=void 0),i.window.showInformationMessage("Project configuration file has been deleted.")}async handleConfigFileCreate(){try{const e=await es(this.configFilePath);if(this.configVersions=Object.keys(e),this.configVersions.length>0){const e=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG);e&&this.configVersions.includes(e)?await this.updateConfiguration(e):(e&&(t.ProjectConfiguration.store.clear(e),t.ProjectConfiguration.store.clear(t.ProjectConfiguration.SELECTED_CONFIG)),this.setNoConfigurationSelectedStatus(),i.window.showInformationMessage(`Project configuration file created with ${this.configVersions.length} configuration(s). Select one to use.`))}else this.setNoConfigurationSelectedStatus()}catch(e){i.window.showErrorMessage(`Error parsing newly created config file: ${e.message}`),this.setNoConfigurationSelectedStatus()}}setNoConfigurationSelectedStatus(){this.statusBarItems.projectConf&&this.statusBarItems.projectConf.dispose(),this.statusBarItems.projectConf=Oi(`$(${this.commandDictionary[Qr.SelectProjectConfiguration].iconId}) No Configuration Selected`,"No project configuration selected. Click to select one","espIdf.projectConf",99,this.commandDictionary[Qr.SelectProjectConfiguration].checkboxState)}async updateConfiguration(e){if(t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG)!==e){const e=Di.init();e.isRunning()&&e.stop(),Si(this.workspaceUri);const t=i.workspace.getConfiguration("",this.workspaceUri),n=t.get("idf.customExtraVars")??{};if(n.OPENOCD_USB_ADAPTER_LOCATION){const e={...n};delete e.OPENOCD_USB_ADAPTER_LOCATION,await t.update("idf.customExtraVars",e,i.ConfigurationTarget.WorkspaceFolder)}Ci(this.workspaceUri)}t.ProjectConfiguration.store.set(t.ProjectConfiguration.SELECTED_CONFIG,e);const r=await Qi(this.workspaceUri,!0);t.ProjectConfiguration.store.set(e,r[e]),this.statusBarItems.projectConf&&this.statusBarItems.projectConf.dispose(),this.statusBarItems.projectConf=Oi(`$(${this.commandDictionary[Qr.SelectProjectConfiguration].iconId}) ${e}`,this.commandDictionary[Qr.SelectProjectConfiguration].tooltip,Qr.SelectProjectConfiguration,99,this.commandDictionary[Qr.SelectProjectConfiguration].checkboxState),await so(this.workspaceUri,this.statusBarItems.target),await async function(e){const t=Is("idf.buildPath",e),r=n.join(t,"compile_commands.json");await Ho(e,"compileCommands",r)}(this.workspaceUri),await Do(this.workspaceUri),Hi.dispose()}async selectProjectConfiguration(){try{const e=await Qi(this.workspaceUri,!1);if(!e||0===Object.keys(e).length)return void("Open editor"===await i.window.showInformationMessage(i.l10n.t("No project configuration found"),"Open editor")&&i.commands.executeCommand("espIdf.projectConfigurationEditor"));const t=i.l10n.t("Select configuration to use:");let n=Object.keys(e).map((e=>({description:e,label:`Configuration ${e}`,target:e})));const r=await i.window.showQuickPick(n,{placeHolder:t});if(!r){const e=i.l10n.t("No option selected.");return void js.infoNotify(e)}await this.updateConfiguration(r.target)}catch(e){i.window.showErrorMessage(`Error selecting configuration: ${e.message}`)}}dispose(){this.configWatcher.dispose()}}class _d extends i.TreeItem{constructor(e,t){super(e.name,i.TreeItemCollapsibleState.None),this.element=e,this.command=t;const n=`0x${(e.value>>>0).toString(16).padStart(8,"0").toUpperCase()}`,r=`0b${(e.value>>>0).toString(2).padStart(8,"0")}`;this.description=`${e.value} Hex: ${n} Binary: ${r}`,this.contextValue="debugHexItem"}}class Ed{constructor(){this._onDidChangeTreeData=new i.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.elements=[]}getTreeItem(e){return e}getChildren(){return Promise.resolve(this.elements.map((e=>new _d(e))))}addElement(e,t){this.elements.push({name:e,value:t}),this._onDidChangeTreeData.fire()}removeElement(e){this.elements=this.elements.filter((t=>t!==e)),this._onDidChangeTreeData.fire()}findElement(e){return this.elements.find((t=>t.name===e))}updateElement(e,t){const n=this.findElement(e);n&&(n.value=t,this._onDidChangeTreeData.fire())}}class xd{constructor(e,t){this.hintsData=[],this.errorBuffer=[],this.debounceTimer=null,this.openOCDLogWatcher=null,this.DEBOUNCE_TIME=300,this.errorHintProvider=e,this.workspaceRoot=t}static init(e,t){return xd.instance||(xd.instance=new xd(e,t)),xd.instance}async initialize(){try{const e=Di.init(),t=await e.version(!0);if(!t)return js.info("Could not determine OpenOCD version. Hints file won't be loaded."),null;const n="v0.12.0-esp32-20250226";if(!t||!Mo.openOCDVersionValidator(n,t))return void js.info(`OpenOCD version ${t} doesn't support hints. Minimum required: ${n}`);const r=Is("idf.toolsPath",this.workspaceRoot),i=await hd(r,t);if(i)try{const e=await(0,o.readFile)(i,"utf-8");this.hintsData=dd(e),js.info(`Loaded OpenOCD hints from ${i}`)}catch(e){js.errorNotify(`Error processing OpenOCD hints file: ${e.message}`,e,"OpenOCDErrorMonitor initialize"),this.hintsData=[]}else js.info(`OpenOCD hints file not found at ${i}`),this.hintsData=[];this.watchOpenOCDStatus()}catch(e){js.errorNotify(`Error initializing OpenOCD error monitor: ${e.message}`,e,"OpenOCDErrorMonitor initialize")}}dispose(){this.openOCDLogWatcher&&(this.openOCDLogWatcher.dispose(),this.openOCDLogWatcher=null),this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=null)}watchOpenOCDStatus(){this.openOCDLogWatcher&&this.openOCDLogWatcher.dispose();const e=Di.init();e.on("data",(e=>{const t=e.toString();this.processOutput(t)})),e.on("error",((e,t)=>{const n=t?t.toString():e.message;this.processOutput(n)})),this.openOCDLogWatcher={dispose:()=>{e.removeAllListeners("data"),e.removeAllListeners("error")}}}processOutput(e){if(!e)return;const t=e.split("\n");for(const e of t)this.processOutputLine(e.trim())}processOutputLine(e){e&&(this.errorBuffer.push(e),this.errorBuffer.length>100&&this.errorBuffer.shift(),(e.includes("Error:")||e.includes("Warn:"))&&this.debouncedAnalyzeErrors())}debouncedAnalyzeErrors(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((()=>{this.analyzeErrors()}),this.DEBOUNCE_TIME)}async analyzeErrors(){try{const e=this.errorBuffer.join("\n");for(const t of this.hintsData)if(!t.source||"ocd"===t.source)if(t.variables&&t.variables.length>0){let n=!1;for(const r of t.variables){const i=r.re_variables,o=r.hint_variables;let s=this.formatEntry(i,t.re),a=this.formatEntry(o,t.hint);const c=new RegExp(s,"i").exec(e);if(c){t.match_to_output&&c.length>0&&a.includes("{}")&&(a=a.replace("{}",c[0])),await this.showErrorHint(c[0],a,t.ref),n=!0;break}}if(n)break}else{const n=new RegExp(t.re,"i").exec(e);if(n){let e=t.hint;t.match_to_output&&n.length>0&&e.includes("{}")&&(e=e.replace("{}",n[0])),await this.showErrorHint(n[0],e,t.ref);break}}}catch(e){js.errorNotify(`Error analyzing OpenOCD output: ${e.message}`,e,"analyzeErrors")}}formatEntry(e,t){let n=t,r=0;for(;n.includes("{}");)n=n.replace("{}",`{${r++}}`);return n=n.replace(/\{(\d+)\}/g,((t,n)=>{const r=parseInt(n,10);return r<e.length?e[r]:""})),n}async showErrorHint(e,t,n){try{await this.errorHintProvider.showOpenOCDErrorHint(e,t,n)}catch(e){js.errorNotify(`Error showing OpenOCD error hint: ${e.message}`,e,"showErrorHint")}}}const Sd={build:"espIdf.buildDevice",flash:"espIdf.flashDevice",monitor:"espIdf.monitorDevice",buildFlashMonitor:"espIdf.buildFlashMonitor",fullClean:"espIdf.fullClean",menuconfig:"espIdf.menuconfig.start",size:"espIdf.size",eraseFlash:"espIdf.eraseFlash",selectPort:"espIdf.selectPort",setTarget:"espIdf.setTarget",doctor:"espIdf.doctorCommand",newProject:"espIdf.newProject.start",partitionTable:"esp.webview.open.partition-table",componentManager:"esp.component-manager.ui.show",apptrace:"espIdf.apptrace",heaptrace:"espIdf.heaptrace"},Td=new Set(["build","flash","menuconfig","buildFlashMonitor","eraseFlash","fullClean","setTarget"]),Cd=new Set(["build","flash","monitor","buildFlashMonitor","eraseFlash"]),Pd=new Set(["menuconfig","size","newProject","partitionTable","componentManager"]);let Id,Od;function kd(e){Id=i.lm.registerTool("espIdfCommands",{async invoke(e,n){const r=e.input.command,o=e.input.target,s=Sd[r],a=i.workspace.workspaceFolders?.[0],c=t.GlobalConfiguration.store.get(t.GlobalConfiguration.SELECTED_WORKSPACE_FOLDER,a?.uri);if(!c)return new i.LanguageModelToolResult([new i.LanguageModelTextPart("No ESP-IDF workspace found. Please open an ESP-IDF project folder first.")]);let l=e.input.flashType;if(l||(l=Is("idf.flashType",c),l||(l=t.FlashType.UART)),l&&!["UART","JTAG","DFU"].includes(l))return new i.LanguageModelToolResult([new i.LanguageModelTextPart(`Invalid flash type: ${l}. Valid options are: UART, JTAG, DFU`)]);let u=!1;"flash"!==r&&"buildFlashMonitor"!==r||(u=await vo(c));let p=e.input.partitionToUse;void 0===e.input.partitionToUse&&(p=Is("idf.flashPartitionToUse",c)),p&&!["app","bootloader","partition-table"].includes(p)&&(p=void 0);let d=!0,h=[];if(!s)return new i.LanguageModelToolResult([new i.LanguageModelTextPart(`Unknown ESP-IDF command: ${r}`)]);{let a=[];try{if(await async function(e){Cd.has(e)?await async function(){try{await i.commands.executeCommand("workbench.action.terminal.focus")}catch(e){Q.show()}}():Q.show()}(r),"build"===r){let e=await Dc(c,n,l,p);d=e.continueFlag,h.push(...e.executions)}else if("flash"===r){if(qa.terminal){qa.terminal.sendText(t.CTRL_RBRACKET);const e=Is("idf.monitorDelay",c);await Uo(e)}const e=await Ds(c,!1);if(!e)return new i.LanguageModelToolResult([new i.LanguageModelTextPart(i.l10n.t("No serial port found for current IDF_TARGET: {0}",await so(c)))]);const r=Is("idf.flashBaudRate",c);if(!await wl(r,e,l,c))return;if(l===t.FlashType.JTAG){const e=Di.init(),t=await e.version();if(!Mo.openOCDVersionValidator("v0.10.0-esp32-20201125",t))return new i.LanguageModelToolResult([new i.LanguageModelTextPart(`Minimum OpenOCD version v0.10.0-esp32-20201125 is required while you have ${t} version installed`)]);await El(c)}else{const t=Is("idf.espIdfPath",c),i=await Sl(n,r,t,e,c,l,u,p);d=i.continueFlag,h.push(...i.executions)}}else if("monitor"===r){if(qa.terminal&&qa.terminal.sendText(t.CTRL_RBRACKET),i.env.uiKind===i.UIKind.Web)return i.commands.executeCommand(Jr.Monitor),new i.LanguageModelToolResult([new i.LanguageModelTextPart("Redirecting to ESP-IDF Web Monitor command")]);const e=await Es(c);await Nc(c,e)}else if("buildFlashMonitor"===r){let e=await Dc(c,n,l,p);if(d=e.continueFlag,h.push(...e.executions),!d)return new i.LanguageModelToolResult([new i.LanguageModelTextPart("Build ended without success.")]);if(i.env.uiKind===i.UIKind.Web)return i.commands.executeCommand(Jr.FlashAndMonitor),new i.LanguageModelToolResult([new i.LanguageModelTextPart("Redirecting to ESP-IDF Web Flash and Monitor command")]);if(qa.terminal){qa.terminal.sendText(t.CTRL_RBRACKET);const e=Is("idf.monitorDelay",c);await Uo(e)}const r=await Ds(c,!1);if(!r)return new i.LanguageModelToolResult([new i.LanguageModelTextPart(i.l10n.t("No serial port found for current IDF_TARGET: {0}",await so(c)))]);const o=Is("idf.flashBaudRate",c);if(!await wl(o,r,l,c))return new i.LanguageModelToolResult([new i.LanguageModelTextPart("Flash verification has failed")]);if(l===t.FlashType.JTAG){const e=Di.init(),t=await e.version();if(!Mo.openOCDVersionValidator("v0.10.0-esp32-20201125",t))return new i.LanguageModelToolResult([new i.LanguageModelTextPart(`Minimum OpenOCD version v0.10.0-esp32-20201125 is required while you have ${t} version installed`)]);await El(c)}else{const e=Is("idf.espIdfPath",c);let t=await Sl(n,o,e,r,c,l,u,p);d=t.continueFlag,h.push(...t.executions)}qa.terminal&&qa.terminal.sendText(t.CTRL_RBRACKET);const s=await Es(c);await Nc(c,s)}else if("eraseFlash"===r){const e=await Ds(this.currentWorkspace,!1);e||js.warnNotify(i.l10n.t("No serial port found for current IDF_TARGET: {0}",await so(this.currentWorkspace)));const t=new Xa(c),r=await t.eraseFlash(e);if(await $a.runTasksWithBoolean(),h.push(r),!n.isCancellationRequested){Xa.isErasing=!1;const e="Erase flash done";Q.appendLineAndShow(e,"Erase flash"),js.infoNotify(e)}$a.disposeListeners(),Q.appendLine("Flash memory content has been erased."),js.infoNotify("Flash memory content has been erased.")}else{if("setTarget"===r){if(!o)return new i.LanguageModelToolResult([new i.LanguageModelTextPart("Please provide a ESP-IDF target name (esp32, esp32s2, etc.)")]);const e=(await Ai(c)).find((e=>e.target===o));if(!e){const e=Is("idf.espIdfPath",c),t=await us(e);return new i.LanguageModelToolResult([new i.LanguageModelTextPart(`${o} is not a valid target for ESP-IDF ${t}`)])}const t=i.workspace.getWorkspaceFolder(c);if(to)return new i.LanguageModelToolResult([new i.LanguageModelTextPart('"setTargetInIDF is already running."')]);no(!0);const n=await Gi(t,e),r=i.ConfigurationTarget.WorkspaceFolder,s=Is("idf.customExtraVars",c);return s.IDF_TARGET=e.target,await Os("idf.customExtraVars",s,r,t.uri),await Wi(e.target,t.uri),await so(t.uri,Ti.target),no(!1),new i.LanguageModelToolResult([new i.LanguageModelTextPart(n)])}await i.commands.executeCommand(s)}if(Cd.has(r)){for(const e of h)if(e){const t=await e.getOutput();a.push(new i.LanguageModelTextPart(t.stdout)),a.push(new i.LanguageModelTextPart(t.stderr))}return new i.LanguageModelToolResult(a)}const f=await async function(e,t,n,r){const i=[];t&&i.push(`target "${t}"`),void 0!==n&&i.push(`partition "${n}"`),r&&i.push(`flash type "${r}"`);const o=i.length>0?` with ${i.join(", ")}`:"";return Pd.has(e)?`Command "${e}"${o} has been executed successfully. A webview panel has been opened for you to interact with the ${Dd(e)}. The ESP-IDF output channel has been focused to show any relevant information.`:"setTarget"===e&&t?`Command "${e}" with target "${t}" is now running. The ESP-IDF target is being set to ${t}. The ESP-IDF output channel has been focused to show the operation details. You can verify this in the status bar or by checking your project configuration.`:"selectPort"===e?`Command "${e}"${o} is now running. A port selection dialog has been opened. The ESP-IDF output channel has been focused to show any relevant information. Please select the appropriate serial port for your ESP-IDF device.`:"doctor"===e?`Command "${e}"${o} is now running. The ESP-IDF doctor diagnostic tool is now running. The ESP-IDF output channel has been focused to show detailed information about your ESP-IDF setup and any potential issues.`:`Command "${e}"${o}  is now running. The ESP-IDF output channel has been focused to show any relevant information.`}(r,o,e.input.partitionToUse,e.input.flashType);return new i.LanguageModelToolResult([new i.LanguageModelTextPart(f)])}catch(e){if("ALREADY_BUILDING"===e.message)return new i.LanguageModelToolResult([new i.LanguageModelTextPart("Already a build is running!")]);if("BUILD_TERMINATED"===e.message)return new i.LanguageModelToolResult([new i.LanguageModelTextPart("Build is Terminated")]);if("ALREADY_FLASHING"===e.message)return new i.LanguageModelToolResult([new i.LanguageModelTextPart("Already one flash process is running!")]);if("NO_DFU_DEVICE_SELECTED"===e.message)return new i.LanguageModelToolResult([new i.LanguageModelTextPart("No DFU was selected")]);if("Task ESP-IDF Flash exited with code 74"===e.message)return new i.LanguageModelToolResult([new i.LanguageModelTextPart("No DFU capable USB device available found")]);if("FLASH_TERMINATED"===e.message)return new i.LanguageModelToolResult([new i.LanguageModelTextPart("Flashing has been stopped!")]);if("SECTION_BIN_FILE_NOT_ACCESSIBLE"===e.message)return new i.LanguageModelToolResult([new i.LanguageModelTextPart("Flash (.bin) files don't exists or can't be accessed!")]);if("ENOENT"===e.code||"SCRIPT_PERMISSION_ERROR"===e.message)return new i.LanguageModelToolResult([new i.LanguageModelTextPart("Make sure you have the esptool.py installed and set in $PATH with proper permission")]);const t=`Failed to execute command "${r}": ${e.message}\n${e.stack}`;return new i.LanguageModelToolResult([...a,new i.LanguageModelTextPart(t)])}}},async prepareInvocation(e,t){const n=e.input.command,r=e.input.target;if(Td.has(n)){const t=[];return r&&t.push(`target "${r}"`),void 0!==e.input.partitionToUse&&(null===e.input.partitionToUse?t.push('partition "undefined (use default)"'):t.push(`partition "${e.input.partitionToUse}"`)),e.input.flashType&&t.push(`flash type "${e.input.flashType}"`),{confirmationMessages:{title:"Confirm ESP-IDF Command",message:`Are you sure you want to run the "${n}" command${t.length>0?` with ${t.join(", ")}`:""}? This may affect your ESP-IDF project or device.`}}}const i=function(e,t,n,r){const i=[];t&&i.push(`target ${t}`),n&&i.push(`partition ${n}`),r&&i.push(`flash type ${r}`);const o=i.length>0?` with ${i.join(", ")}`:"";if(Cd.has(e)){const t=function(e){switch(e){case"build":return"This will compile your ESP-IDF project and generate the necessary binary files.";case"flash":return"This will upload the compiled firmware to your ESP-IDF device.";case"monitor":return"This will open a serial monitor to view device output and send commands.";case"buildFlashMonitor":return"This will build the project, flash it to the device, and start monitoring in sequence.";case"eraseFlash":return"This will completely erase the flash memory of your ESP-IDF device.";default:return"This task will be executed in the background."}}(e);return`Starting ESP-IDF task: ${e}${o}. ${t} This may take some time to complete. The terminal will be focused to show task progress.`}return Pd.has(e)?`Opening ${Dd(e)}: ${e}${o}. The ESP-IDF output channel will be focused.`:`Executing ESP-IDF command: ${e}${o}. The ESP-IDF output channel will be focused.`}(n,r,e.input.partitionToUse,e.input.flashType);return{invocationMessage:i}}}),e.subscriptions.push(Id)}function Dd(e){switch(e){case"menuconfig":return"SDK Configuration Editor - Configure your ESP-IDF project settings";case"size":return"Size Analysis Tool - Analyze memory usage and optimize your application";case"newProject":return"New Project Wizard - Create a new ESP-IDF project from templates";case"partitionTable":return"Partition Table Editor - Configure flash memory layout";case"componentManager":return"Component Manager - Browse and install ESP-IDF components";default:return"interface"}}const Ad=43474;let Rd,Nd,Ld,Fd,Md,jd,Bd,Ud,qd,$d,Vd,Hd,Gd,zd,Wd,Kd,Yd,Jd=!1,Qd=!1;const Xd=async function(e,t){const n=Is("idf.espIdfPath",t),r=(Is("idf.gitPath",t),await us(n));return[()=>Mo.espIdfVersionValidator(e,r),`Selected command needs ESP-IDF v${e} or higher`]};let Zd,eh;async function th(e){if(js.init(e),t.GlobalConfiguration.store=gl.init(e),t.ProjectConfiguration.store=zi.init(e),function(){if(t.ProjectConfiguration.store){const e=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG);e&&(t.ProjectConfiguration.store.clear(e),t.ProjectConfiguration.store.clear(t.ProjectConfiguration.SELECTED_CONFIG))}}(),Fs.init(Is("idf.telemetry")||!1),function(e){No=e}(e),Fa.showChangeLogAndUpdateVersion(e),Ma.showPreReleaseNotification(e),Mo.isRunningInVSCodeFork()&&await async function(){const e="llvm-vs-code-extensions.vscode-clangd";if(i.extensions.getExtension(e))js.info("clangd extension is already installed");else{js.info("clangd extension not found - prompting user to install");const t=i.l10n.t("For the best C/C++ development experience in this editor, we recommend installing the clangd extension. This provides enhanced IntelliSense, code completion, and error detection."),n=await i.window.showInformationMessage(t,{modal:!1},{title:i.l10n.t("Install clangd")},{title:i.l10n.t("Not now")});if(n&&n.title===i.l10n.t("Install clangd"))try{await i.commands.executeCommand("workbench.extensions.installExtension",e),await i.window.showInformationMessage(i.l10n.t("clangd extension installed successfully! Please reload the window to activate it."));const t=await i.window.showInformationMessage(i.l10n.t("Would you like to reload the window to activate the clangd extension?"),{modal:!1},{title:i.l10n.t("Reload")},{title:i.l10n.t("Later")});t&&t.title===i.l10n.t("Reload")&&await i.commands.executeCommand("workbench.action.reloadWindow")}catch(e){js.error("Failed to install clangd extension",e,"checkAndPromptForClangdExtension"),await i.window.showErrorMessage(i.l10n.t("Failed to install clangd extension. You can install it manually from the Extensions marketplace."))}else js.info("User chose not to install clangd extension")}}(),Mo.isWorkspaceFolderOpen()&&i.workspace.workspaceFolders){let e=!1;for(const t of i.workspace.workspaceFolders){const r=n.join(t.uri.fsPath,"CMakeLists.txt");if(await(0,o.pathExists)(r))try{if((await(0,o.readFile)(r,"utf-8")).includes("include($ENV{IDF_PATH}/tools/cmake/project.cmake)")){e=!0;break}}catch(e){js.error(`Error reading root CMakeLists.txt for activation check in ${t.name}.`,e,"extension activate checkCMakeContent")}}if(!e){const e=await i.window.showInformationMessage(i.l10n.t("No standard ESP-IDF project was found in this workspace. Do you want to activate the ESP-IDF extension anyway?"),{modal:!1},{title:i.l10n.t("Activate Anyway")});if(!e||e.title!==i.l10n.t("Activate Anyway"))return void js.info("User chose not to activate the ESP-IDF extension.");js.info("User chose to activate the ESP-IDF extension despite no standard ESP-IDF project was found.")}}Ld=qs.init(e),Q.init();const s=(t,n)=>e.subscriptions.push(i.commands.registerCommand(t,((...e)=>{const r=Date.now();js.info(`Command::${t}::Executed`);const i=n.apply(this,e),o=Date.now()-r;return Fs.sendEvent("command",{commandName:t},{timeSpent:o}),i})));t.Rainmaker.store=Pa.init(e),Mc.startKconfigLangServer(e),kd(e),Nd=Di.init(),Fd=Uc.init();const a=ui();if(function(e){jd=new Gs,Bd=new oa,Md=new hc,Gd=new Sa,i.commands.registerCommand("espIdf.clearDocsSearchResult",(()=>{Md.clearResults()})),Vd=i.window.createTreeView("idfSearchResults",{treeDataProvider:Md}),Hd=new xa,zd=new oc,$d=new $c,e.subscriptions.push(jd.registerDataProviderForTree("idfAppTracer"),Bd.registerDataProviderForTree("idfAppTraceArchive"),Gd.registerDataProviderForTree("idfCommands"),Hd.registerDataProviderForTree("espRainmaker"),zd.registerDataProviderForTree("espEFuseExplorer"),$d.registerDataProvider("idfPartitionExplorer"))}(e),Ud=new zs(jd,Bd),qd=new ra(jd,Bd),Wd=new ml,Kd=i.window.createTreeView("espIdf.peripheralView",{treeDataProvider:Wd}),e.subscriptions.push(Kd,Kd.onDidExpandElement((e=>{e.element.expanded=!0,e.element.getPeripheral().updateData(),Wd.refresh()}))),Kd.onDidCollapseElement((e=>{e.element.expanded=!1})),function(e){const t=Nd.statusBarItem();e.subscriptions.push(t)}(e),function(e){const t=Fd.statusBarItem();e.subscriptions.push(t)}(e),Mo.isWorkspaceFolderOpen()){await Ii(i.workspace.workspaceFolders[0].uri),Od=ro(Ti.workspace),t.GlobalConfiguration.store.set(t.GlobalConfiguration.SELECTED_WORKSPACE_FOLDER,Od),await so(Od,Ti.target),Ti&&Ti.port&&(Ti.port.text=`$(${a[Qr.SelectSerialPort].iconId}) `+Is("idf.port",Od));const e=Ra(Od);Rd=new Na(Od,e)}let c=new Fl(e);const l=i.workspace.createFileSystemWatcher("**/*.{c,cpp,cc,S}",!1,!1,!1),u=l.onDidDelete((async e=>{Bs.singletonPromise?Bs.singletonPromise.then((()=>{Bs.updateSrcsInCmakeLists(e.fsPath,As.delete),Bs.singletonPromise=void 0})):Bs.updateSrcsInCmakeLists(e.fsPath,As.delete)}));e.subscriptions.push(u);const p=l.onDidCreate((async e=>{Bs.singletonPromise?Bs.singletonPromise.then((()=>{Bs.updateSrcsInCmakeLists(e.fsPath,As.other),Bs.singletonPromise=void 0})):Bs.updateSrcsInCmakeLists(e.fsPath,As.other)}));e.subscriptions.push(p);const d=l.onDidChange((async e=>{Bs.singletonPromise?Bs.singletonPromise.then((()=>{Bs.updateSrcsInCmakeLists(e.fsPath,As.other),Bs.singletonPromise=void 0})):Bs.updateSrcsInCmakeLists(e.fsPath,As.other)}));e.subscriptions.push(d),e.subscriptions.push(i.workspace.onDidChangeWorkspaceFolders((async r=>{if(Mo.isWorkspaceFolderOpen()){for(const n of r.removed)if(Od&&n.uri===Od){Od=ro(Ti.workspace),t.GlobalConfiguration.store.set(t.GlobalConfiguration.SELECTED_WORKSPACE_FOLDER,Od),await so(Od,Ti.target),Ti&&Ti.port&&(Ti.port.text=`$(${a[Qr.SelectSerialPort].iconId}) `+Is("idf.port",Od));const n=Is("idf.monitorPort",Od);if(Ti&&Ti.monitorPort&&(""===n?(Ti.monitorPort.hide(),Ti.monitorPort.text=""):(Ti.monitorPort.show(),Ti.monitorPort.text=`$(${a[Qr.SelectMonitorSerialPort].iconId}) ${n}`)),Ti.projectConf){Ti.projectConf.dispose(),Ti.projectConf=void 0;const e=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG);t.ProjectConfiguration.store.clear(e),t.ProjectConfiguration.store.clear(t.ProjectConfiguration.SELECTED_CONFIG)}const r=await vi(Od,!1);e.subscriptions.push(Zd),Ti.currentIdfVersion&&(Ti.currentIdfVersion.text=r.isValid?`$(${a[Qr.SelectCurrentIdfVersion].iconId}) ESP-IDF v${r.version}`:`$(${a[Qr.SelectCurrentIdfVersion].iconId}) ESP-IDF InvalidSetup`);const i=Ra(Od);Rd=new Na(Od,i);break}if(void 0===Od){Od=ro(Ti.workspace),t.GlobalConfiguration.store.set(t.GlobalConfiguration.SELECTED_WORKSPACE_FOLDER,Od),await so(Od,Ti.target);const e=Ra(Od);Rd=new Na(Od,e)}const i=Is("idf.buildPath",Od),o=await oo(i),s=`${n.join(i,o)}.elf`,c={currentWorkspace:Od,elfFile:s};Ld.configureAdapter(c);const l={workspace:Od};Nd.configureServer(l),Zd&&(Zd.dispose(),Zd=void 0),Zd=new wd(Od,e,Ti),e.subscriptions.push(Zd)}Hi.dispose()}))),i.debug.onDidTerminateDebugSession((e=>{Jd&&!Qd&&(Jd=!1,Nd.stop()),Ld.stop(),qa.terminal&&qa.terminal.sendText(t.CTRL_RBRACKET)}));const h=i.workspace.createFileSystemWatcher("**/config/kconfig_menus.json",!0,!1,!1);e.subscriptions.push(h.onDidChange((async e=>{Hi.exists()&&Hi.dispose()})),h.onDidDelete((async e=>{Hi.exists()&&Hi.dispose()})));const f=i.workspace.createFileSystemWatcher("**/sdkconfig",!1,!1,!1),m=async e=>{Hi.exists()&&!Hi.isSavedByUI()&&Hi.loadGuiConfigValues(),Hi.resetSavedByUI(),await so(Od,Ti.target)},g=f.onDidCreate(m);e.subscriptions.push(g);const y=f.onDidChange(m);e.subscriptions.push(y);const v=f.onDidDelete((async()=>{Hi.dispose(),await so(Od,Ti.target)}));e.subscriptions.push(v),s("espIdf.fullClean",(()=>{Mo.perform([ql],(async()=>{const e=Is("idf.buildPath",Od);if(!await rs(e)){const e=i.l10n.t("There is no build directory to clean, exiting!");return Q.appendLineAndShow(e),js.warnNotify(e)}if(Hi.exists()){const e=i.l10n.t("Trying to delete the build folder. Closing existing SDK Configuration editor process...");Q.init().appendLine(e),js.info(e),Hi.dispose()}if(!Bo(n.join(e,"CMakeCache.txt"),o.constants.R_OK)){const e=i.l10n.t("There is no CMakeCache.txt. Please try to delete the build directory manually.");return Q.appendLineAndShow(e),js.warnNotify(e)}if(Ja.isBuilding||Qa.isFlashing){const e=i.l10n.t("There is a build or flash task running. Wait for it to finish or cancel them before clean.");return Q.appendLineAndShow(e),js.warnNotify(e)}try{await pe()(e,{force:!0});const t=Is("idf.extraCleanPaths",Od);if(t&&t.length>0)for(const e of t){const t=n.join(Od.fsPath,e);await(0,o.pathExists)(t)&&await pe()(t,{force:!0})}js.infoNotify(i.l10n.t("Build directory has been deleted."))}catch(e){Q.appendLineAndShow(e.message),js.errorNotify(e.message,e,"extension fullClean")}}))})),s("espIdf.eraseFlash",(async()=>{Mo.perform([$l,ql],(async()=>{const e=Is("idf.notificationMode",Od),n=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:n,title:i.l10n.t("ESP-IDF: Erasing device flash memory (erase_flash)")},(async(e,n)=>{try{let e=Is("idf.flashType",Od);if(e||(e=await Hl(Od)),qa.terminal){qa.terminal.sendText(t.CTRL_RBRACKET);const e=Is("idf.monitorDelay",Od);await Uo(e)}const r=await vo(Od),o=await Jo("CONFIG_SECURE_BOOT",Od);if(r||"y"===o)return void js.warnNotify(i.l10n.t("Flash encryption or secure boot is enabled on the sdkconfig. Erasing flash will permanently remove the encryption keys and may render the device unusable."));if(e===t.FlashType.JTAG){Q.appendLine("Erasing flash via JTAG...","Erase flash"),await async function(e){const t=Di.init(),n=await t.version();if(!Mo.openOCDVersionValidator("v0.10.0-esp32-20201125",n))return void js.infoNotify(`Minimum OpenOCD version v0.10.0-esp32-20201125 is required while you have ${n} version installed`);if(!await t.promptUserToLaunchOpenOCDServer()){const e="Can't perform JTAG flash, because OpenOCD server is not running!";return Q.appendLineAndShow(e,"Flash"),js.warnNotify(e),!1}const r=Is("openocd.tcl.host",e),i=Is("openocd.tcl.port",e),o=new ae({host:r,port:i});await async function(e,t,...n){const r=`halt; flash erase_sector 0 0 last; reset ${[].map((e=>`"${e}"`)).join(" ")}`;return new Promise(((t,n)=>{e.on("response",(e=>{const r=e.toString().replace(ae.DELIMITER,"").trim();return""===r?t(r):-1===r.indexOf("erased sectors ")?n(`Failed to erase flash from the device (JTAG), please try again [got response: '${r}', expecting: 'erased sectors ']`):t(r)})).on("error",(e=>{n("Failed to erase flash (via JTAG), due to some unknown error in tcl, please try to relaunch open-ocd")})).sendCommand(r)}))}(o)}(Od);const e="JTAG erase flash finished. Check Output channel to see results.";Q.appendLine(e,"Erase flash"),js.infoNotify(e)}else{n.onCancellationRequested((()=>{$a.cancelTasks(),$a.disposeListeners(),Xa.isErasing=!1}));const e=await Ds(Od,!1);if(!e)return void js.warnNotify(i.l10n.t("No serial port found for current IDF_TARGET: {0}",await so(Od)));const t=new Xa(Od);if(await t.eraseFlash(e),await $a.runTasks(),!n.isCancellationRequested){Xa.isErasing=!1;const e="⚡️ Erase flash done";Q.appendLine(e,"Erase flash"),js.infoNotify(e),Q.appendLine("Flash memory content has been erased."),js.infoNotify("Flash memory content has been erased.")}$a.disposeListeners()}}catch(e){Xa.isErasing=!1,$a.disposeListeners(),js.errorNotify(e.message,e,"extension eraseFlash")}}))}))})),s("espIdf.addArduinoAsComponentToCurFolder",(()=>{Mo.perform([ql],(()=>{const e=Is("idf.notificationMode",Od),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({cancellable:!0,location:t,title:i.l10n.t("ESP-IDF: Arduino ESP32 as ESP-IDF component")},(async(e,t)=>{try{const e=await Is("idf.gitPath",Od)||"git",r=Is("idf.espIdfPath",Od),o=new ec(r,Od.fsPath,e);t.onCancellationRequested((()=>{o.cancel()}));const s=n.join(Od.fsPath,"components","arduino");if(await rs(s))return js.infoNotify(i.l10n.t("{arduinoDirPath} already exists.",{arduinoDirPath:s}));await o.addArduinoAsComponent()}catch(e){js.errorNotify(e.message,e,"extension addArduinoAsComponentToCurFolder")}}))}))})),s("espIdf.getEspAdf",(async()=>async function(e){const t=await Is("idf.gitPath",e)||"git",n=new sc(t);await n.getRepository("idf.espAdfPath",e)}(Od))),s("espIdf.getEspMdf",(async()=>async function(e){const t=await Is("idf.gitPath",e)||"git",n=new ac(t);await n.getRepository("idf.espMdfPath",e)}(Od))),s("espIdf.getEspHomeKitSdk",(async()=>async function(e){const t=await Is("idf.gitPath",e)||"git",n=new Ml(t);await n.getRepository("idf.espHomeKitSdkPath",e)}(Od))),s("espIdf.getEspMatter",(async()=>{if("win32"===process.platform)return i.window.showInformationMessage(i.l10n.t("ESP-Matter is not available for Windows."));!async function(e){const t=await Is("idf.gitPath",e)||"/usr/bin/git";let r;const o=new Yc(t,e),s=await i.window.showQuickPick([{label:"No, download ESP32 platform specific submodules only",target:"false"},{label:"Yes, download all Matter submodules",target:"true"}],{placeHolder:"Download all Matter submodules?"});try{"true"===s.target?(await o.getRepository("idf.espMatterPath",e),r=Is("idf.espMatterPath",e),await o.startBootstrap()):(await o.getRepository("idf.espMatterPath",e,!1),r=Is("idf.espMatterPath",e),await o.getSubmodules(r),await o.initEsp32PlatformSubmodules(r,e),await o.startBootstrap(!0)),await $a.runTasks(),Yc.isBuildingGn=!1}catch(e){const t=e&&e.message?e.message:"Error bootstrapping esp-matter";return"ALREADY_BUILDING"===t?js.errorNotify("ESP-Matter bootstrap is already running!",e,"getEspMatter or bootstraping already running"):(Yc.isBuildingGn=!1,js.errorNotify(t,e,"getEspMatter"))}try{await async function(e,t){const r=Is("idf.espIdfPath",t),o=await kr(t),s="win32"===process.platform?process.env.USERPROFILE:process.env.HOME,a=Is("idf.toolsPath",t)||process.env.IDF_TOOLS_PATH||(0,n.join)(s,".espressif"),c=Is("idf.notificationMode",t),l=c===Ss.All||c===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:l,title:"ESP-IDF: Installing ESP-Matter"},(async(t,n)=>{t.report({message:"Installing Python Requirements..."}),await Ir(r,a,e,o,void 0,n)}))}(r,e)}catch(e){const t=e.message?e.message:"string"==typeof e?e:"Error installing ESP-Matter Python Requirements";return js.errorNotify(t,e,"getEspMatter installPythonReqs")}i.window.showInformationMessage("ESP-Matter has been successfully installed")}(Od)})),s("espIdf.getEspRainmaker",(async()=>async function(e){const t=Is("idf.gitPath",e)||"git",n=new vl(t);await n.getRepository("idf.espRainmakerPath",e)}(Od))),s("espIdf.setMatterDevicePath",(async()=>{if("win32"===process.platform)return i.window.showInformationMessage(i.l10n.t("ESP-Matter is not available for Windows."));const e=i.ConfigurationTarget.WorkspaceFolder;let t=await i.window.showWorkspaceFolderPick({placeHolder:i.l10n.t("Pick Workspace Folder to which settings should be applied")});if(!t)return;const n=await i.window.showInputBox({placeHolder:i.l10n.t("Enter ESP_MATTER_DEVICE_PATH path")});if(!n)return;const r=Is("idf.customExtraVars",t);return r.ESP_MATTER_DEVICE_PATH=n,await Os("idf.customExtraVars",r,e,t.uri),i.window.showInformationMessage(i.l10n.t("ESP_MATTER_DEVICE_PATH has been set in idf.customExtraVars configuration setting."))})),s("espIdf.selectPort",(()=>{Mo.perform([$l,ql],(async()=>Cs.shared().promptUserToSelect(Od,!1)))})),s("espIdf.selectMonitorPort",(()=>{Mo.perform([$l,ql],(async()=>Cs.shared().promptUserToSelect(Od,!0)))})),s("espIdf.detectSerialPort",(()=>{Mo.perform([$l,ql],(async()=>{const e=await Cs.detectDefaultPort(Od);if(e)await Cs.shared().updatePortListStatus(e,Od,!1);else{const e=await so(Od)||"esp32",t=i.l10n.t("No serial port found for current IDF_TARGET: {0}",e);await J(t,i.l10n.t("Detect"),(()=>i.commands.executeCommand("espIdf.detectSerialPort")))}}))})),s("espIdf.selectCurrentIdfVersion",(()=>{Mo.perform([ql],(async()=>{await async function(e,t){const n=await mi(!0),r=Is("idf.toolsPath",e);let o=await yi(r);if(process.env.IDF_TOOLS_PATH&&r!==process.env.IDF_TOOLS_PATH){const e=await yi(process.env.IDF_TOOLS_PATH);o=[...o,...e]}const s=await vi(e);let a=[...n,...o,s];if(a=a.filter(((e,t,n)=>t===n.findIndex((t=>t.idfPath===e.idfPath&&t.toolsPath===e.toolsPath)))),0===a.length)return void await i.window.showInformationMessage("No ESP-IDF Setups found");const c=[...new Map(a.filter((e=>e.isValid)).map((e=>[e.idfPath,e]))).values()],l=c.map((e=>({label:`Version: v${e.version}`,description:`IDF_PATH: ${e.idfPath}`,detail:`IDF_TOOLS_PATH: ${e.toolsPath}`,target:e}))),u=await i.window.showQuickPick(l,{placeHolder:"Select a ESP-IDF version to use"});return u?(await hi(u.target,i.ConfigurationTarget.WorkspaceFolder,e,t),u.target):void 0}(Od,Ti.currentIdfVersion)}))})),s("espIdf.idfReconfigureTask",(async()=>{const e=Is("idf.notificationMode",Od),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!1,location:t,title:"ESP-IDF: Project configuration"},(async(e,t)=>{try{const e=new Mu(Od);await e.reconfigure(),await $a.runTasks(),t.isCancellationRequested||(js.infoNotify("ESP-IDF Reconfigure Successfully"),$a.disposeListeners())}catch(e){const t=e&&e.message?e.message:"Error trying to reconfigure the ESP-IDF project";js.errorNotify(t,e,"extension idfReconfigureTask")}}))})),s("espIdf.customTask",(async()=>{try{const e=new kc(Od);await e.addCustomTask(Oc.Custom),await $a.runTasks()}catch(e){const t=e&&e.message?e.message:"Error at custom task";js.errorNotify(t,e,"extension customTask")}})),s("espIdf.pickAWorkspaceFolder",(()=>{Mo.perform([ql],(async()=>{const e=i.l10n.t("Select your current folder");try{const n=await i.window.showWorkspaceFolderPick({placeHolder:e});if(!n){const e=i.l10n.t("No workspace selected.");return void js.infoNotify(e)}Od=n.uri,t.GlobalConfiguration.store.set(t.GlobalConfiguration.SELECTED_WORKSPACE_FOLDER,Od),await so(Od,Ti.target),Ti&&Ti.port&&(Ti.port.text=`$(${a[Qr.SelectSerialPort].iconId}) `+Is("idf.port",Od));const r=Is("idf.monitorPort",Od);Ti&&Ti.monitorPort&&(""===r?(Ti.monitorPort.hide(),Ti.monitorPort.text=""):(Ti.monitorPort.show(),Ti.monitorPort.text=`$(${a[Qr.SelectMonitorSerialPort].iconId}) ${r}`)),io(Od);const o={clickCommand:"espIdf.pickAWorkspaceFolder",currentWorkSpace:n.name,tooltip:n.uri.fsPath};if(qo(Ti.workspace,o),Ti.projectConf){Ti.projectConf.dispose(),Ti.projectConf=void 0;const e=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG);t.ProjectConfiguration.store.clear(e),t.ProjectConfiguration.store.clear(t.ProjectConfiguration.SELECTED_CONFIG)}const s=await vi(Od,!1);Ti.currentIdfVersion&&(Ti.currentIdfVersion.text=s.isValid?`$(${a[Qr.SelectCurrentIdfVersion].iconId}) ESP-IDF v${s.version}`:`$(${a[Qr.SelectCurrentIdfVersion].iconId}) ESP-IDF InvalidSetup`);const c={currentWorkspace:Od};Ld.configureAdapter(c);const l={workspace:Od};Nd.configureServer(l),Hi.dispose();const u=Ra(Od);Rd=new Na(Od,u)}catch(e){js.errorNotify(e.message,e,"extension pickAWorkspaceFolder")}}))})),s("espIdf.selectConfTarget",(async()=>{await async function(){const e=await i.window.showQuickPick([{description:"Global",label:"Global",target:i.ConfigurationTarget.Global},{description:"Workspace",label:"Workspace",target:i.ConfigurationTarget.Workspace},{description:"Workspace Folder",label:"Workspace Folder",target:i.ConfigurationTarget.WorkspaceFolder}],{placeHolder:"Where to save the configuration?"});if(e)return await Os("idf.saveScope",e.target,i.ConfigurationTarget.Global),js.infoNotify(`Save location has changed to ${e.description}`),e.target}()})),s("espIdf.selectNotificationMode",(async()=>{const e=await i.window.showQuickPick([{description:i.l10n.t("Show no notifications and do not focus tasks output."),label:"Silent",target:"Silent"},{description:i.l10n.t("Show notifications but do not focus tasks output."),label:"Notifications",target:"Notifications"},{description:i.l10n.t("Do not show notifications but focus tasks output."),label:"Output",target:"Output"},{description:i.l10n.t("Show notifications and focus tasks output."),label:"All",target:"All"}],{placeHolder:i.l10n.t("Select the output and notification mode")});if(!e)return;const t=Is("idf.saveScope");await Os("idf.notificationMode",e.target,t,Od),js.infoNotify(i.l10n.t("Notification mode has changed to {mode}",{mode:e.label}))})),s("espIdf.clearSavedIdfSetups",(async()=>{await gi()})),s("espIdf.rmProjectConfStatusBar",(async()=>{Ti.projectConf&&(Ti.projectConf.dispose(),Ti.projectConf=void 0)})),s("espIdf.projectConfigurationEditor",(async()=>{Mo.perform([ql],(async()=>{try{if(yl.isCreatedAndHidden())return void yl.createOrShow(e.extensionPath,Od);const t=Is("idf.notificationMode",Od),n=t===Ss.All||t===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!1,location:n,title:"ESP-IDF: Project configuration"},(async t=>{try{const t=await Ai(Od);yl.createOrShow(e.extensionPath,Od,t)}catch(e){js.errorNotify(e.message,e,"extension projectConfigurationEditor")}}))}catch(e){js.errorNotify(e.message,e,"extension projectConfigurationEditor")}}))})),i.workspace.onDidChangeConfiguration((async e=>{const n="win32"===process.platform?"Win":"";if(e.affectsConfiguration("launch.configurations")){const e=i.workspace.getConfiguration("launch",Od).get("configurations")||[];for(const t of e)"gdbtarget"===t.type&&t.debugPort&&!eh.checkCurrentPort(t.debugPort)&&eh.dispose()}if(Od&&e.affectsConfiguration("idf.customExtraVars",Od)&&Ti&&Ti.openOcdAdapter&&t.GlobalConfiguration.store.get(Qr.OpenOcdAdapterStatusBar,i.TreeItemCheckboxState.Unchecked)===i.TreeItemCheckboxState.Checked&&Ci(Od),e.affectsConfiguration("idf.enableStatusBar")){const e=Is("idf.enableStatusBar",Od);if(e)await Ii(Od);else if(!e)for(let e in Ti)Ti[e].dispose(),Ti[e]=void 0}else if(e.affectsConfiguration("idf.espIdfPath"+n))t.URL.Docs.IDF_INDEX=void 0;else if(e.affectsConfiguration("idf.port"+n))Ti&&Ti.port&&(Ti.port.text=`$(${a[Qr.SelectSerialPort].iconId}) `+Is("idf.port",Od));else if(e.affectsConfiguration("idf.monitorPort")){const e=Is("idf.monitorPort",Od);Ti&&Ti.monitorPort&&(""===e?(Ti.monitorPort.hide(),Ti.monitorPort.text=""):(Ti.monitorPort.show(),Ti.monitorPort.text=`$(${a[Qr.SelectMonitorSerialPort].iconId}) ${e}`))}else if(e.affectsConfiguration("idf.flashType")){let e=Is("idf.flashType",Od);Ti&&Ti.flashType&&(Ti.flashType.text=`$(${a[Qr.SelectFlashType].iconId}) ${e}`)}else if(e.affectsConfiguration("idf.buildPath"+n))io(Od),await Do(Od);else if(e.affectsConfiguration("idf.customExtraVars"))await so(Od,Ti.target),await Do(Od);else if(e.affectsConfiguration("idf.unitTestFilePattern")){const e=new i.CancellationTokenSource;try{await c.unitTestController.refreshHandler(e.token)}catch(e){js.error("Failed to refresh unit test controller",e,"extension refreshUnitTestController");const t=e&&e.message?e.message:"Error refreshing unit test controller";Q.appendLine(t)}finally{e.dispose()}}}));const b=new ch;e.subscriptions.push(i.debug.registerDebugConfigurationProvider("espidf",b));const w=new Wl;e.subscriptions.push(i.debug.registerDebugConfigurationProvider("gdbtarget",w)),eh=new Fu,e.subscriptions.push(i.debug.registerDebugAdapterDescriptorFactory("gdbtarget",eh)),i.debug.registerDebugAdapterDescriptorFactory("espidf",{async createDebugAdapterDescriptor(e){try{const t=e.configuration.debugPort||Ad,n=e.configuration.mode||"auto",r=Is("idf.launchMonitorOnDebugSession",Od);if("core-dump.debug.session.ws"!==e.configuration.sessionID&&r&&await Nc(Od,!0),"auto"!==n||Nd.isRunning()||"core-dump.debug.session.ws"===e.configuration.sessionID||(Jd=!0,await Nd.start()),"qemu.debug.session"===e.configuration.sessionID){const n={appOffset:e.configuration.appOffset,elfFile:e.configuration.elfFilePath,debugAdapterPort:t,tmoScaleFactor:e.configuration.tmoScaleFactor};Ld.configureAdapter(n),await Ld.start()}if("core-dump.debug.session.ws"===e.configuration.sessionID&&await Ld.start(),"auto"===n&&!Ld.isRunning()){const n={appOffset:e.configuration.appOffset,debugAdapterPort:t,elfFile:e.configuration.elfFilePath,env:e.configuration.env,gdbinitFilePath:e.configuration.gdbinitFile,initGdbCommands:e.configuration.initGdbCommands||[],tmoScaleFactor:e.configuration.tmoScaleFactor,isPostMortemDebugMode:!1,isOocdDisabled:!1,logLevel:e.configuration.logLevel};Ld.configureAdapter(n),await Ld.start()}return new i.DebugAdapterServer(t)}catch(e){const t=e&&e.message?e.message:"Error starting ESP-IDF Debug Adapter";return js.errorNotify(t,e,"extension createDebugAdapterDescriptor espidf")}}}),i.debug.onDidStartDebugSession((async e=>{const t=Is("idf.svdFilePath",Od);Wd.debugSessionStarted(e,t,16),Nd.isRunning()&&"gdbtarget"===e.type&&"core-dump.debug.session.ws"!==e.configuration.sessionID&&"gdbstub.debug.session.ws"!==e.configuration.sessionID&&(Jd=!0),Qd=!1})),i.debug.registerDebugAdapterTrackerFactory("gdbtarget",{createDebugAdapterTracker:e=>({onDidSendMessage:async e=>{if(e&&"event"===e.type&&"stopped"===e.event){const e=await Wd.getChildren();for(const t of e)t.getPeripheral().updateData();Wd.refresh()}e&&"event"===e.type&&"output"===e.event&&-1!==e.body.output.indexOf('From client: disconnect({"restart":true})')&&(Qd=!0)}})}),i.debug.onDidTerminateDebugSession((e=>{Wd.debugSessionTerminated(e)})),i.debug.registerDebugAdapterTrackerFactory("gdbtarget",{createDebugAdapterTracker:e=>({onDidSendMessage(e){if("response"===e.type&&"variables"===e.command&&e.body&&Array.isArray(e.body.variables)){const t=e.body.variables;for(const e of t)if(e.name&&e.value&&_.findElement(e.name)){const t=parseInt(e.value,10);isNaN(t)||_.updateElement(e.name,t)}}}})});const _=new Ed;i.window.registerTreeDataProvider("espIdf.hexView",_),s("espIdf.hexView.deleteElement",(e=>Mo.perform([ql],(async()=>{_.removeElement(e.element)})))),s("espIdf.hexView.copyValue",(e=>Mo.perform([ql],(async()=>{i.env.clipboard.writeText(`${e.element.name} ${e.description.toString()}`),i.window.showInformationMessage(`Copied ${e.element.name} to clipboard`)})))),s("espIdf.viewAsHex",(e=>Mo.perform([ql],(async()=>{if(e&&e.variable&&e.variable.evaluateName&&i.debug.activeDebugSession)try{if(e&&e.variable&&e.variable.value){const t=parseInt(e.variable.value,10);if(isNaN(t))return void i.l10n.t("The value {value} is not a number.",{value:e.variable.value});_.addElement(e.variable.name,t)}}catch(e){const t=e&&e.message?e.message:e;js.errorNotify(t,e,"extension espIdf.viewAsHex")}})))),s("espIdf.genCoverage",(()=>Mo.perform([ql],(async()=>{try{await Rd.renderCoverage()}catch(e){const t=e&&e.message?e.message:e;js.errorNotify("Error building gcov data from gcda files.\nCheck the ESP-IDF output for more details.",e,"extension genCoverage"),Q.appendLine(t+"\nError building gcov data from gcda files.\n\nReview the code coverage tutorial https://docs.espressif.com/projects/vscode-esp-idf-extension/en/latest/additionalfeatures/coverage.html \nor ESP-IDF documentation: https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-guides/app_trace.html#gcov-source-code-coverage \n")}})))),s("espIdf.removeCoverage",(()=>Mo.perform([ql],(async()=>{await Rd.removeCoverage()})))),s("espIdf.getCoverageReport",(()=>Mo.perform([ql],(async()=>{await async function(e){try{const t=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:i.ViewColumn.One;if(Aa)return void Aa.reveal(t);const n=function(e){const t=function(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`}(),n=function(e){const t={totals:{lines:{executed:0,total:0},functions:{executed:0,total:0},branches:{executed:0,total:0}},fileTotals:[]};for(const n of e)for(const e of n.files){let n={branches:{executed:0,total:0},file:e.file,functions:{executed:0,total:0},lines:{executed:0,total:0}};for(let r of e.lines){t.totals.lines.total+=1,n.lines.total+=1,r.unexecuted_block||(n.lines.executed+=1,t.totals.lines.executed+=1);for(const e of r.branches)e.fallthrough&&(n.branches.executed+=1,t.totals.branches.executed+=1),n.branches.total+=1,t.totals.branches.total+=1}for(let r of e.functions)n.functions.total+=1,t.totals.functions.total+=1,r.execution_count>0&&(n.functions.executed+=1,t.totals.functions.executed+=1);t.fileTotals.push(n)}return t}(e),r=function(e){const t=Oa(e.totals.lines.executed,e.totals.lines.total),n=Oa(e.totals.functions.executed,e.totals.functions.total),r=Oa(e.totals.branches.executed,e.totals.branches.total);return`<tr>\n  <th scope="row">Lines:</th>\n  <td>${e.totals.lines.executed}</td>\n  <td>${e.totals.lines.total}</td>\n  <td class="${ka(e.totals.lines.executed,e.totals.lines.total)}">${t}</td>\n</tr>\n<tr>\n  <th scope="row">Functions:</th>\n  <td>${e.totals.functions.executed}</td>\n  <td>${e.totals.functions.total}</td>\n  <td class="${ka(e.totals.functions.executed,e.totals.functions.total)}">${n}</td>\n</tr>\n<tr>\n  <th scope="row">Branches:</th>\n  <td>${e.totals.branches.executed}</td>\n  <td>${e.totals.branches.total}</td>\n  <td class="${ka(e.totals.branches.executed,e.totals.branches.total)}">${r}</td>\n</tr>`}(n),i=function(e){let t="";for(const n of e){const e=Oa(n.lines.executed,n.lines.total),r=Oa(n.functions.executed,n.functions.total),i=Oa(n.branches.executed,n.branches.total);t+=`<tr>\n        <th scope="row">\n          ${n.file}\n        </th>\n        <td class="${ka(n.lines.executed,n.lines.total)}">${e}</td>\n        <td class="${ka(n.lines.executed,n.lines.total)}">${n.lines.executed} / ${n.lines.total}</td>\n        <td class="${ka(n.functions.executed,n.functions.total)}">${r}</td>\n        <td class="${ka(n.functions.executed,n.functions.total)}">${n.functions.executed} / ${n.functions.total}</td>\n        <td class="${ka(n.branches.executed,n.branches.total)}">${i}</td>\n        <td class="${ka(n.branches.executed,n.branches.total)}">${n.branches.executed} / ${n.branches.total}</td>\n      </tr>\n`}return t}(n.fileTotals);return`<!DOCTYPE html>\n  <html>\n  \n    <head>\n      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>\n      <title>GCC Code Coverage Report</title>\n      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>\n\n      <style>\n      .summary {\n        display: flex;\n        justify-content: space-between;\n      }\n      \n      .coverage {\n        display: flex;\n      }\n      \n      .file-list {\n        width: 100%;\n      }\n\n      .coverage td, .coverage th,\n      .file-list td, .file-list th {\n        padding: 0 10px;\n      }\n      \n      .coverage-low {\n        background-color: var(--vscode-charts-red);\n        color: var(--vscode-editor-foreground);\n      }\n      \n      .coverage-medium {\n        background-color: var(--vscode-charts-yellow);\n        color: var(--vscode-editor-background);\n      }\n      \n      .coverage-high {\n        background-color: var(--vscode-charts-green);\n        color: var(--vscode-editor-background);\n      }\n      \n      meter {\n        width: 100%;\n      }\n      </style>\n    </head>\n  \n    <body>\n      <header>\n        <h1>GCC Code Coverage Report</h1>\n  \n        <hr/>\n  \n        <div class="summary">\n          <div>\n            <table class="legend">\n              <tr>\n                <th scope="row">Directory:</th>\n                <td>${e[0].current_working_directory}</td>\n              </tr>\n              <tr>\n                <th scope="row">Date:</th>\n                <td>${t}</td>\n              </tr>\n              <tr>\n                <th scope="row">Coverage:</th>\n                <td class="legend">\n                  <span class="coverage-low">low: < 75%</span>\n                  <span class="coverage-medium">medium: &ge; 75.0%</span>\n                  <span class="coverage-high">high: &ge; 90.0%</span>\n                </td>\n              </tr>\n            </table>\n          </div>\n    \n          <div>\n            <table class="coverage">\n              <tr>\n                <th></th>\n                <th scope="col">Executed</th>\n                <th scope="col">Total</th>\n                <th scope="col">Coverage</th>\n              </tr>\n              ${r}\n            </table>\n          </div>\n        </div>\n  \n        <hr/>\n      </header>\n  \n      <main>\n        <table class="file-list">\n          <col/>\n          <colgroup span="2"/>\n          <colgroup span="2"/>\n          <colgroup span="2"/>\n        \n          <tr>\n            <th scope="col">File</th>\n            <th scope="colgroup" colspan=3>Lines</th>\n            <th scope="colgroup" colspan=2>Functions</th>\n            <th scope="colgroup" colspan=2>Branches</th>\n          </tr>\n          ${i}\n        \n        </table>\n        <hr/>\n      </main>\n    </body>\n  </html>`}(await Ia(e));Aa=i.window.createWebviewPanel("gcoveragePreview","GCC Code Coverage Report",t),Aa.iconPath=bs(No.extensionPath),Aa.webview.html=n,Aa.onDidDispose((()=>Aa=void 0))}catch(e){const t=e&&e.message?e.message:e;js.errorNotify("Error building gcov html.\nCheck the ESP-IDF output for more details.",e,"coverageService previewReport"),Q.appendLine(t+"\nError building gcov html.\nReview the code coverage tutorial https://docs.espressif.com/projects/vscode-esp-idf-extension/en/latest/additionalfeatures/coverage.html \nor ESP-IDF documentation: https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-guides/app_trace.html#gcov-source-code-coverage \n")}}(Od)})))),s("espIdf.getProjectName",(()=>Mo.perform([ql],(async()=>{const e=Is("idf.buildPath",Od);return await oo(e)})))),s("espIdf.searchInEspIdfDocs",(async()=>{const e=Is("idf.notificationMode",Od),r=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({cancellable:!0,location:r,title:"ESP-IDF: Documentation search results"},(async()=>{try{const e=i.window.activeTextEditor;if(!e)return;let r=e.document.getText(e.selection);if(!r){const t=e.document.getWordRangeAtPosition(e.selection.active);r=e.document.getText(t)}const s=await async function(e,r){const i=await fo(),s=Is("idf.espIdfPath",r)||process.env.IDF_PATH;let a="v"+await us(s),c=await so(r),l=i.find((e=>e.name===a)),u="esp32";l||(l=i.find((e=>"latest"===e.name))),l.supportedTargets&&-1!==l.supportedTargets.indexOf(c)&&(u=c);const p=mo(l.name,u),d=await async function(e,r,i){if(t.URL.Docs.IDF_INDEX)return t.URL.Docs.IDF_INDEX;const s=`esp_idf_docs_index_lang_${go()}_espIdfVersion_${r}${i?`_target_${i}`:""}.json`,a=(0,n.join)(No.extensionPath,s);if(await(0,o.pathExists)(a)){const e=await(0,o.stat)(a);if(((new Date).getTime()-e.mtime.getTime())/1e3<t.URL.Docs.INDEX_CACHE_LIMIT)return(0,o.readJSON)(a)}const c=`${e}/searchindex.js`,l=await yo(c);return t.URL.Docs.IDF_INDEX=l,await(0,o.writeJSON)(a,l),l}(p,l.name,u),h=e.trim().split(" ");let f;for(const e of h)f=f?lc(f,uc(p,e,d)):uc(p,e,d);return Array.from(f)}(r,Od);Md.getResults(s,Vd)}catch(e){const t=e.message||"Error searching in ESP-IDF docs";return void js.errorNotify(t,e,"extension searchInEspIdfDocs")}}))})),s("espIdf.installPyReqs",(()=>Mo.perform([ql],(async()=>{const e=Is("idf.notificationMode",Od),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({cancellable:!0,location:t,title:"ESP-IDF: Installing Python requirements"},(async(e,t)=>{try{const t=Is("idf.espIdfPath",Od),r="win32"===process.platform?process.env.USERPROFILE:process.env.HOME,s=Is("idf.toolsPath",Od)||process.env.IDF_TOOLS_PATH||n.join(r,".espressif"),a=await kr(Od);e.report({message:i.l10n.t("Installing ESP-IDF extension Python requirements...")}),await async function(e,t,r,i,s){const a=" doesn't exist. Make sure the path is correct.",c=(0,n.join)(No.extensionPath,"esp_debug_adapter","requirements.txt");if(!Bo(c,o.constants.R_OK))return js.warnNotify(c+a),void Q.appendLine(c+a);const l=(await us(t)).match(/([0-9]+\.[0-9]+).*/),u=l&&l.length>0?l[1]:"x.x",p=(0,n.join)(r,`espidf.constraints.v${u}.txt`);let d=[];if(await(0,o.pathExists)(p))d=["--constraint",p];else{const e=(0,n.join)(No.extensionPath,"espidf.constraints.txt");await(0,o.pathExists)(e)&&(d=["--constraint",e])}const h=`Installing ESP-IDF Debug Adapter python packages in ${e} ...\n`;js.info(h+"\n"),Q.appendLine(h+"\n");const f=["-m","pip","install","--upgrade",...d,"--no-warn-script-location","-r",c,"--extra-index-url","https://dl.espressif.com/pypi"];await Or(e,f,i,void 0)}(a,t,s,void 0),i.window.showInformationMessage(i.l10n.t("ESP-IDF Python Requirements has been installed"))}catch(e){const t=e.message?e.message:"string"==typeof e?e:"Error installing Python requirements";js.errorNotify(t,e,"extension installPyReqs")}}))})))),s("espIdf.installEspMatterPyReqs",(()=>"win32"===process.platform?i.window.showInformationMessage(i.l10n.t("ESP-Matter is not available for Windows.")):Mo.perform([ql],(async()=>{const e=Is("idf.notificationMode",Od),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({cancellable:!0,location:t,title:"ESP-IDF:"},(async(e,t)=>{try{const r=Is("idf.espIdfPath",Od),o="win32"===process.platform?process.env.USERPROFILE:process.env.HOME,s=Is("idf.toolsPath",Od)||process.env.IDF_TOOLS_PATH||n.join(o,".espressif"),a=Is("idf.espMatterPath",Od),c=await kr(Od);e.report({message:i.l10n.t("Installing ESP-Matter Python Requirements...")}),await Ir(r,s,a,c,void 0,t),i.window.showInformationMessage(i.l10n.t("ESP-Matter Python Requirements have been installed"))}catch(e){const t=e.message?e.message:"string"==typeof e?e:"Error installing ESP-Matter Python Requirements";js.errorNotify(t,e,"extension installEspMatterPyReqs")}}))})))),s("espIdf.unitTest.buildUnitTestApp",(()=>Mo.perform([ql],(async()=>{const e=Is("idf.notificationMode",Od),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({cancellable:!0,location:t,title:i.l10n.t("ESP-IDF: Building unit test app")},(async(e,t)=>{try{let e=i.Uri.joinPath(Od,"unity-app");if(!await(0,o.pathExists)(e.fsPath)){const t=await Cl(),n=await Pl(t);e=await Il(Od,n)}await Ol(e,t)}catch(e){const t=e&&e.message?e.message:"Error building PyTest Unit App for project";Q.appendLine(t,"idf-unit-test"),js.error(t,e,"extension buildTestApp")}}))})))),s("espIdf.unitTest.flashUnitTestApp",(()=>Mo.perform([ql],(async()=>{const e=Is("idf.notificationMode",Od),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({cancellable:!0,location:t,title:i.l10n.t("ESP-IDF: Building unit test app and flashing")},(async(e,t)=>{try{let e=i.Uri.joinPath(Od,"unity-app");if(!await(0,o.pathExists)(e.fsPath)){const t=await Cl(),n=await Pl(t);e=await Il(Od,n)}await kl(e,t)}catch(e){const t=e&&e.message?e.message:"Error flashing PyTest Unit App for project";Q.appendLine(t,"idf-unit-test"),js.error(t,e,"extension flashTestApp")}}))})))),s("espIdf.unitTest.buildFlashUnitTestApp",(()=>Mo.perform([ql],(async()=>{const e=Is("idf.notificationMode",Od),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({cancellable:!0,location:t,title:i.l10n.t("ESP-IDF: Building unit test app and flashing")},(async(e,t)=>{try{let e=i.Uri.joinPath(Od,"unity-app");if(!await(0,o.pathExists)(e.fsPath)){const t=await Cl(),n=await Pl(t);e=await Il(Od,n)}await Dl(e,t)}catch(e){const t=e&&e.message?e.message:"Error build or flashing PyTest Unit App for project";Q.appendLine(t,"idf-unit-test"),js.error(t,e,"extension buildFlashTestApp")}}))})))),s("espIdf.getToolchainGdb",(()=>Mo.perform([ql],(async()=>await Go(Od,"gdb"))))),s("espIdf.getToolchainGcc",(()=>Mo.perform([ql],(async()=>await Go(Od,"gcc"))))),s("espIdf.createVsCodeFolder",(()=>{Mo.perform([ql],(async()=>{try{await $o(Od),js.infoNotify(i.l10n.t("ESP-IDF vscode files have been added to the project."))}catch(e){const t=e.message||"Error creating .vscode folder";return void js.errorNotify(t,e,"extension createVsCodeFolder")}}))})),s("espIdf.createDevContainer",(()=>{Mo.perform([ql],(async()=>{try{await Wo(Od.fsPath),js.infoNotify(i.l10n.t("ESP-IDF container files have been added to the project."))}catch(e){const t=e.message||"Error creating .devcontainer folder";return void js.errorNotify(t,e,"extension createDevContainer")}}))})),s("espIdf.createNewProject",(async()=>{const e=Is("idf.notificationMode",Od),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;let r,s;if(await i.window.withProgress({cancellable:!1,location:t,title:i.l10n.t("New Project")},(async(e,t)=>{try{if(e.report({message:"Waiting for project name",increment:10}),r=await i.window.showInputBox({placeHolder:i.l10n.t("Enter ESP-IDF project name"),value:""}),!r)return;if(e.report({message:"Waiting for folder selection",increment:20}),s=await i.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1}),!s)return;e.report({message:"Creating ESP-IDF project...",increment:30}),await async function(e,t){const r=i.Uri.joinPath(t,e);return await(0,o.mkdirp)(r.fsPath),await Ko(n.join(No.extensionPath,"templates","template-app"),r),await cs(r.fsPath,e),await Do(r,!1),r}(r,s[0])}catch(e){const t=e.message||"Error creating ESP-IDF project";return js.errorNotify(t,e,"extension createNewProject")}})),r&&s&&s[0]){const e=i.l10n.t("Open {0}",r);await i.window.showInformationMessage(i.l10n.t("ESP-IDF project {name} has been created",{name:r}),e)===e&&i.commands.executeCommand("vscode.openFolder",i.Uri.joinPath(s[0],r),!0)}})),s("espIdf.createNewComponent",(async()=>{Mo.perform([ql],(async()=>{try{const e=await i.window.showInputBox({placeHolder:i.l10n.t("Enter ESP-IDF component name"),value:""});if(!e)return;await async function(e,t){const r=n.join(t,"components",e);await(0,o.mkdirp)(r);const i=n.join(No.extensionPath,"templates","new_component");await(0,o.copy)(i,r);const s=async function(e,t,...r){const i=n.join(...r,e),o=n.join(...r,t);await _s(i,o)},a=async function(e,t){let n=await(0,o.readFile)(t,"utf8");n=n.replace("new_component",e),await(0,o.writeFile)(t,n)};await s("new_component.h",`${e}.h`,r,"include"),await s("new_component.c",`${e}.c`,r),await a(e,n.join(r,`${e}.c`)),await a(e,n.join(r,"CMakeLists.txt"))}(e,Od.fsPath),js.infoNotify(i.l10n.t("The ESP-IDF component {componentName} has been created",{componentName:e}))}catch(e){const t=e.message||"Error creating ESP-IDF component";return js.errorNotify(t,e,"extension createNewComponent")}}))})),s("espIdf.createIdfTerminal",(()=>{return t=e.extensionPath,void Mo.perform([ql],(async()=>{await oh(t,"ESP-IDF Terminal")}));var t})),s("espIdf.jtag_flash",(()=>rh(!1,t.FlashType.JTAG))),s("espIdf.flashDFU",(()=>rh(!1,t.FlashType.DFU))),s("espIdf.flashUart",(async()=>{const e=await vo(Od);return rh(e,t.FlashType.UART)})),s("espIdf.buildDFU",(()=>nh(t.FlashType.DFU))),s("espIdf.flashDevice",(async()=>{const e=await vo(Od);return rh(e)})),s("espIdf.flashAndEncryptDevice",(()=>rh(!0))),s("espIdf.buildDevice",nh),s("espIdf.monitorDevice",sh),s("espIdf.buildFlashMonitor",(()=>zl(Od))),s("espIdf.monitorQemu",ih),s("espIdf.buildApp",(()=>nh(void 0,t.BuildType.App))),s("espIdf.flashAppUart",(async()=>{const e=await vo(Od);return rh(e,t.FlashType.UART,t.BuildType.App)})),s("espIdf.buildBootloader",(()=>nh(void 0,t.BuildType.Bootloader))),s("espIdf.flashBootloaderUart",(async()=>{const e=await vo(Od);return rh(e,t.FlashType.UART,t.BuildType.Bootloader)})),s("espIdf.buildPartitionTable",(()=>nh(void 0,t.BuildType.PartitionTable))),s("espIdf.flashPartitionTableUart",(async()=>{const e=await vo(Od);return rh(e,t.FlashType.UART,t.BuildType.PartitionTable)})),s("espIdf.menuconfig.start",(async()=>{Mo.perform([ql],(()=>{try{if(Hi.exists())return void Hi.loadExistingInstance();if(!as(Od.fsPath))return void js.infoNotify(i.l10n.t("The current directory is not an ESP-IDF project."));const t=Is("idf.notificationMode",Od),n=t===Ss.All||t===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({cancellable:!0,location:n,title:i.l10n.t("ESP-IDF: SDK Configuration Editor")},(async(t,n)=>{try{Hi.registerProgress(t),n.onCancellationRequested((()=>{Hi.dispose()})),await Hi.init(Od,e.extensionPath)}catch(e){js.errorNotify(e.message,e,"extension menuconfig confserver init")}}))}catch(e){js.errorNotify(e.message,e,"extension menuconfig start")}}))})),s("espIdf.createClassicMenuconfig",(()=>{return n=e.extensionPath,void Mo.perform([ql],(async()=>{const e=Is("idf.buildPath",Od),r=await Yo(Od),o=Is("idf.sdkconfigDefaults",Od);let s="idf.py";e&&(s+=` -B "${e}"`),r&&(s+=` -DSDKCONFIG='${r}'`),o&&o.length>0&&(s+=` -DSDKCONFIG_DEFAULTS="${o.join(";")}"`),s+=` -C '${Od.fsPath}' menuconfig`;const a=t.ProjectConfiguration.store.get(t.ProjectConfiguration.SELECTED_CONFIG),c="ESP-IDF Menuconfig"+(a?` - (${a})`:"");await oh(n,c,s,i.TerminalLocation.Editor)}));var n})),s("espIdf.saveDefSdkconfig",(async()=>{const e=await Xd("5.0",Od);Mo.perform([e,ql],(()=>{i.window.withProgress({cancellable:!0,location:i.ProgressLocation.Notification,title:i.l10n.t("ESP-IDF: Save Default Configuration (save-defconfig)")},(async(e,t)=>{try{await async function(e,t){t&&t.onCancellationRequested((()=>{$a.cancelTasks(),$a.disposeListeners()}));const r=Is("idf.espIdfPath",e),s=Is("idf.notificationMode",e),a={reveal:s===Ss.All||s===Ss.Output?i.TaskRevealKind.Always:i.TaskRevealKind.Silent,showReuseMessage:!1,clear:!1,panel:i.TaskPanelKind.Shared},c=i.workspace.workspaceFolders.find((t=>t.uri===e)),l=await async function(e,t){const r=[(0,n.join)(e,"tools","idf.py"),"save-defconfig"],s=await ms(t),a={cwd:t.fsPath,env:s},c=await kr(t);if(!await(0,o.pathExists)(c))throw new Error("Virtual environment Python path doesn't exist. Configure the extension first.");return new i.ProcessExecution(c,r,a)}(r,e);$a.addTask({type:"esp-idf",command:"ESP-IDF: Save Default SDKCONFIG",taskId:"idf-defconfig-task"},c||i.TaskScope.Workspace,"Save Default SDKCONFIG",l,["espIdf"],a),await $a.runTasks(),t&&!t.isCancellationRequested&&js.infoNotify("def-config has been generated"),$a.disposeListeners()}(Od,t)}catch(e){js.errorNotify(e.message,e,"extension saveDefSdkconfig")}}))}))})),s("espIdf.disposeConfserverProcess",(()=>{try{Hi.exists()&&Hi.dispose()}catch(e){js.errorNotify(e.message,e,"extension disposeConfserverProcess")}})),s("espIdf.setTarget",(e=>{Mo.perform([ql],(async()=>{const t=i.workspace.getWorkspaceFolder(Od);if(e){if(to)return void js.info("setTargetInIDF is already running.");no(!0);try{const n=await Ai(t.uri),r=n.find((t=>t.target===e));if(r){await Gi(t,r);const e=i.ConfigurationTarget.WorkspaceFolder,n=Is("idf.customExtraVars",t);n.IDF_TARGET=r.target,await Os("idf.customExtraVars",n,e,t.uri),await Wi(r.target,t.uri),await so(Od,Ti.target)}else{const t=n.map((e=>e.target)).join(", ");i.window.showErrorMessage(`Invalid target: ${e}. Please use one of the supported targets: ${t}.`)}}catch(e){js.errorNotify(e.message,e,"espIdf.setTarget command")}finally{no(!1)}}else{const e=i.l10n.t("Enter target name (IDF_TARGET)");await async function(e,t){const n=i.ConfigurationTarget.WorkspaceFolder;if(!t)return;if(to)return void js.info("setTargetInIDF is already running.");no(!0);const r=Is("idf.notificationMode",t),o=r===Ss.All||r===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!1,location:o,title:"ESP-IDF: Setting device target..."},(async r=>{try{const r=await Ai(t.uri);let o=[];if(void 0!==i.debug.activeDebugSession)js.info("Connected ESP-IDF devkit detection is skipped while debugging. You can still select a target manually.");else try{const e=Di.init(),n=await e.version(),i=new Zi(t.uri);if(await i.getScriptPath(n)){const e=await i.runDevkitsScript(n);if(e){const t=JSON.parse(e);t&&Array.isArray(t.boards)&&(o=t.boards.map((e=>({label:e.name,idfTarget:r.find((t=>t.target===e.target)),description:e.description,detail:"Status: CONNECTED"+(e.location?`   Location: ${e.location}`:""),isConnected:!0,boardInfo:e}))))}}else js.info("Devkit detection script not available. A default list of targets will be displayed instead.")}catch(e){js.info("No connected boards detected or error running DevkitsCommand: "+(e&&e.message?e.message:e))}let s=[];const a=r.map((e=>({label:e.label,idfTarget:e,description:e.isPreview?"Preview target":void 0,isConnected:!1})));s=o.length>0?[...o,{kind:i.QuickPickItemKind.Separator,label:"Default Boards"},...a]:a;const c=await i.window.showQuickPick(s,{placeHolder:e});if(!c)return;const l={...Is("idf.customExtraVars",t)};if(Si(t.uri),delete l.OPENOCD_USB_ADAPTER_LOCATION,c.isConnected&&c.boardInfo){const e=c.boardInfo.config_files||[];if(await Os("idf.openOcdConfigs",e,n,t.uri),c.boardInfo.location){const e=c.boardInfo.location.replace("usb://","");l.OPENOCD_USB_ADAPTER_LOCATION=e}}else await ie(t.uri,c.idfTarget.target);await Gi(t,c.idfTarget),l.IDF_TARGET=c.idfTarget.target,await Os("idf.customExtraVars",l,n,t.uri),Ci(t.uri),await Wi(c.idfTarget.target,t.uri)}catch(e){const t=e instanceof Error?e.message:i.l10n.t("Unknown error occurred while setting IDF target.");t.includes("are satisfied")?(js.info(t),Q.appendLine(t)):(js.errorNotify(t,e,"setIdfTarget"),Q.appendLine(t))}finally{no(!1)}}))}(e,t),await so(Od,Ti.target)}}))})),s("espIdf.setup.start",(t=>{Mo.perform([$l,Vl],(async()=>{try{if(si.isCreatedAndHidden())return void si.createOrShow(e);const n=Is("idf.notificationMode",Od),r=n===Ss.All||n===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!1,location:r,title:i.l10n.t("ESP-IDF: Configure ESP-IDF extension")},(async n=>{try{t=t||await async function(e,t,n){t.report({increment:20,message:"Getting ESP-IDF versions..."});const r=await _r(e);t.report({increment:10,message:"Getting ESP-IDF Tags"});const o=await Er("tags");t.report({increment:10,message:"Getting Python versions..."});const s=await async function(e){const t=await async function(e){return"win32"===process.platform?[]:await Lr()}();return t.push("Provide python executable path"),t}(),a=await mi(!1),c=Fo.version,l=Is("idf.saveScope"),u={downloadMirror:-1!==i.env.language.toLowerCase().indexOf("zh-cn")||-1!==i.env.language.toLowerCase().indexOf("zh-tw")?Sr.Espressif:Sr.Github,espIdfVersionsList:r,espIdfTagsList:o,extensionVersion:c,existingIdfSetups:a,pythonVersions:s,saveScope:l,workspaceFolder:n,onReqPkgs:["esp-clang"]};try{t.report({increment:10,message:"Checking for previous install..."});const e=await pi(n);if("win32"!==process.platform?(u.hasPrerequisites="Not found"!==e.gitVersion&&s&&s.length>0,""===await ys("cmake",process.env)&&(u.onReqPkgs=u.onReqPkgs?[...u.onReqPkgs,"cmake"]:["cmake"]),""===await ys("ninja",process.env)&&(u.onReqPkgs=u.onReqPkgs?[...u.onReqPkgs,"ninja"]:["ninja"])):u.hasPrerequisites=!0,t.report({increment:20,message:"Preparing setup view..."}),e&&(u.espIdfPath=e.espIdfPath,u.espToolsPath=e.toolsPath,u.gitPath=e.gitPath,u.gitVersion=e.gitVersion,e.existingIdfSetups))for(let t of e.existingIdfSetups)void 0===a.find((e=>e.idfPath===t.idfPath))&&u.existingIdfSetups.push(t)}catch(e){js.error(e.message,e,"setupInit getSetupInitialValues")}return u}(e.extensionPath,n,Od),t.espIdfStatusBar=Ti.currentIdfVersion,si.createOrShow(e,t)}catch(e){js.errorNotify(e.message,e,"extension setup getSetupInitialValues")}}))}catch(e){js.errorNotify(e.message,e,"extension setup")}}))})),s("espIdf.cmakeListsEditor.start",(async t=>{t?Mo.perform([ql],(async()=>{await cc.createOrShow(e.extensionUri,t)})):js.errorNotify(i.l10n.t("Cannot call this command directly, right click on any CMakeLists.txt file!"),new Error("INVALID_INVOCATION"),"extension cmakeListsEditor no file")})),s("espIdf.welcome.start",(async()=>{if(Hc.isCreatedAndHidden())return void Hc.createOrShow(e.extensionPath);const t=Is("idf.notificationMode",Od),n=t===Ss.All||t===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({cancellable:!1,location:n,title:"ESP-IDF: Welcome page"},(async(t,n)=>{try{const n=await async function(e,t){e.report({increment:20,message:"Getting extension version..."});const n=Fo.version,r=Is("idf.espIdfPath",t),i=Is("idf.showOnboardingOnInit"),o=await async function(){const e=[];try{const t=await fetch("https://developer.espressif.com/blog/index.xml"),n=await t.text(),r=await(0,Wc.parseStringPromise)(n),i=r.rss?.channel?.[0]?.item||[];for(let t=0;t<Math.min(6,i.length);t++){const n=i[t],r=n.title?.[0]||"",o=n.description?.[0]||"",s=n.link?.[0]||"",a=n.pubDate?.[0]||"";let c;const l=o.match(/<img[^>]+src="([^"]+)"/);if(l&&(c=l[1]),n["media:content"]&&!c){const e=Array.isArray(n["media:content"])?n["media:content"]:[n["media:content"]];for(const t of e){if(t.url&&!c){c=t.url;break}if(t.$&&t.$.url&&!c){c=t.$.url;break}}}if(n["media:thumbnail"]&&!c){const e=Array.isArray(n["media:thumbnail"])?n["media:thumbnail"]:[n["media:thumbnail"]];for(const t of e){if(t.url&&!c){c=t.url;break}if(t.$&&t.$.url&&!c){c=t.$.url;break}}}if(n.enclosure&&!c){const e=Array.isArray(n.enclosure)?n.enclosure:[n.enclosure];for(const t of e){if(t.url&&!c){c=t.url;break}if(t.$&&t.$.url&&!c){c=t.$.url;break}}}if(n["content:encoded"]&&!c){const e=n["content:encoded"][0].match(/<img[^>]+src="([^"]+)"/);e&&(c=e[1])}if(!c){const e=JSON.stringify(n).match(/https?:\/\/[^"'\s]+\.(jpg|jpeg|png|gif|webp)/i);e&&(c=e[0])}e.push({title:r,description:Kc(o).substring(0,150)+"...",url:s,pubDate:new Date(a).toLocaleDateString(),image:c})}return e}catch(e){return js.error("Failed to fetch blog articles from backend:",e,"loadDeveloperPortalArticles"),[]}}();return{espIdf:r,extensionVersion:n,showOnInit:i,articles:o}}(t,Od);if(!n)throw new Error("Error getting welcome page initial values");Hc.createOrShow(e.extensionPath,n)}catch(e){js.errorNotify(e.message,e,"extension welcome")}}))})),s("espIdf.newProject.start",(()=>{if(Pc.isCreatedAndHidden())return void Pc.createOrShow(e.extensionPath);const t=Is("idf.notificationMode",Od),r=t===Ss.All||t===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({cancellable:!1,location:r,title:"ESP-IDF: New project"},(async(t,r)=>{try{const r=await async function(e,t,r){t.report({increment:10,message:"Loading ESP-IDF components..."}),t.report({increment:10,message:"Loading serial ports..."});let o=["detect"];try{const e=await Cs.shared().getListArray(r);o.push(...e.map((e=>e.comName)))}catch(e){const t=e.message?e.message:"Error looking for serial ports.";js.infoNotify(t),js.error(t,e,"getNewProjectArgs getSerialPort"),o=["no port"]}t.report({increment:10,message:"Loading ESP-IDF Boards list..."});const s=await ne(r);let a=await re(s);t.report({increment:10,message:"Loading ESP-IDF setups list..."});const c=await mi(!0),l=Is("idf.toolsPath",r);let u=await yi(l);if(process.env.IDF_TOOLS_PATH&&l!==process.env.IDF_TOOLS_PATH){const e=await yi(process.env.IDF_TOOLS_PATH);u=[...u,...e]}const p=await vi(r);let d=[...c,...u,p];if(d=d.filter(((e,t,n)=>t===n.findIndex((t=>t.idfPath===e.idfPath&&t.toolsPath===e.toolsPath)))),0===d.length)return void await i.window.showInformationMessage("No ESP-IDF Setups found");const h=[...new Map(d.filter((e=>e.isValid)).map((e=>[e.idfPath,e]))).values()],f=[];for(const e of h)f.push({description:`ESP-IDF v${e.version}`,label:i.l10n.t("Use ESP-IDF {espIdfPath}",{espIdfPath:e.idfPath}),target:e});t.report({increment:10,message:"Select ESP-IDF to use..."});const m=await i.window.showQuickPick(f,{placeHolder:i.l10n.t("Select framework to use")});if(!m)return void js.infoNotify(i.l10n.t("No framework selected to load examples."));const g=m.target,y=Is("idf.espAdfPath",r),v=Is("idf.espMdfPath",r),b=Is("idf.espMatterPath",r),w=Is("idf.espHomeKitSdkPath",r),_=Is("idf.espRainmakerPath",r);let E={};if(await rs(g.idfPath)){const e=Tc(g.idfPath);if(E["ESP-IDF"]=e,await rs((0,n.join)(g.idfPath,"tools","templates"))){const e=Tc(g.idfPath,["tools","templates"],"ESP-IDF Templates");e.examples.length>0&&(E["ESP-IDF Templates"]=e)}}const x=await rs(y);if(x){const e=Tc(y);E["ESP-ADF"]=e}const S=await rs(_);if(S){const e=Tc(_);E["ESP-RAINMAKER"]=e}const T=await rs(b);if(T){const e=Tc(b);E["ESP-MATTER"]=e}const C=await rs(v);if(C){const e=Tc(v);E["ESP-MDF"]=e}const P=await rs(w);if(P){const e=Tc(w);E["ESP-HOMEKIT-SDK"]=e}const I=await Ai(r,g.idfPath);return t.report({increment:50,message:"Initializing wizard..."}),{boards:a,components:[],espIdfSetup:g,espAdfPath:x?y:void 0,espMdfPath:C?v:void 0,idfTargets:I,espMatterPath:T?b:void 0,espHomeKitSdkPath:P?w:void 0,espRainmakerPath:S?_:void 0,serialPortList:o,templates:E,workspaceFolder:r}}(e.extensionPath,t,Od);r&&Pc.createOrShow(e.extensionPath,r)}catch(e){js.errorNotify(e.message,e,"extension newProject")}}))})),s("espIdf.openIdfDocument",(e=>{i.workspace.openTextDocument(e.fsPath).then((e=>{i.window.showTextDocument(e,i.ViewColumn.One,!0)}))})),s("espIdf.getExtensionPath",(()=>e.extensionPath)),s("espIdf.getIDFTarget",(async()=>await so(Od))),s("espIdf.getOpenOcdConfigs",(()=>{const e=Is("idf.openOcdConfigs",Od);let t="";return e.forEach((e=>{t=t+" -f "+e})),t.trim()})),s("espIdf.selectOpenOcdConfigFiles",(async()=>ie(Od))),s("espIdf.getOpenOcdScriptValue",(async()=>await ne(Od))),s("espIdf.size",(()=>{Mo.perform([ql],(async()=>{const t=new $s(Od);try{if(Vs.isCreatedAndHidden())return void Vs.createOrShow(e);if(!await t.isBuiltAlready())throw new Error("Build is required for a size analysis");const n=Is("idf.notificationMode",Od),r=n===Ss.All||n===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({cancellable:!0,location:r,title:"ESP-IDF: Size"},(async(n,r)=>{try{r.onCancellationRequested(t.cancel);const i=await t.calculateWithProgress(n);r.isCancellationRequested||Vs.createOrShow(e,i)}catch(e){const t=e&&e.message?e.message:JSON.stringify(e);js.errorNotify(t,e,"extension IDFSizePanel calculate")}}))}catch(e){const t=e&&e.message?e.message:JSON.stringify(e);if(-1!==t.indexOf("project_description.json doesn't exist.")||-1!==t.indexOf("Build is required for a size analysis"))return"Build"===await i.window.showInformationMessage("ESP-IDF Size requires to build the project first. Build the project?","Build")&&i.commands.executeCommand("espIdf.buildDevice"),void js.error(t,e,"extension IDFSizePanel build files");js.errorNotify(e.message,e,"extension IDFSizePanel")}}))})),s("espIdf.importProject",(async()=>{const e=await i.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1});if(!e||!e.length)return;if(!as(e[0].fsPath))return void js.infoNotify(i.l10n.t("{srcFolder} is not an ESP-IDF project.",{srcFolder:e[0].fsPath}));const t=[{label:i.l10n.t("Choose a container directory..."),target:"another"}];Od&&t.push({label:i.l10n.t("Use current folder: {workspace}",{workspace:Od.fsPath}),target:"current"});const r=await i.window.showQuickPick(t,{placeHolder:i.l10n.t("Select a directory to use")});if(!r)return;let s;if("another"===r.target){const e=await i.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1});if(!e||!e.length)return;s=e[0]}else Od&&(s=Od);if(!s)return;const a=await i.window.showInputBox({placeHolder:i.l10n.t("Enter project name"),value:""});a&&(s=i.Uri.file(n.join(s.fsPath,a)),await(0,o.pathExists)(s.fsPath)?js.infoNotify(i.l10n.t("{destFolder} already exists.",{destFolder:s})):(await Ko(e[0].fsPath,s),await cs(s.fsPath,a),"Open"===await i.window.showInformationMessage(i.l10n.t("ESP-IDF project has been imported"),"Open")&&i.commands.executeCommand("vscode.openFolder",s,!0)))})),s("espIdf.setGcovConfig",(async()=>{Mo.perform([ql],(async()=>{try{await async function(e){const t=await Jo("CONFIG_APPTRACE_DEST_TRAX",e),n=await Jo("CONFIG_APPTRACE_ENABLE",e),r=await Jo("CONFIG_APPTRACE_LOCK_ENABLE",e),o=await Jo("CONFIG_APPTRACE_ONPANIC_HOST_FLUSH_TMO",e),s=await Jo("CONFIG_APPTRACE_POSTMORTEM_FLUSH_THRESH",e),a=await Jo("CONFIG_APPTRACE_PENDING_DATA_SIZE_MAX",e),c=await Jo("CONFIG_APPTRACE_GCOV_ENABLE",e);if("y"===t&&"y"===n&&"y"===r&&"-1"===o&&"0"===s&&"0"===a&&"y"===c)return i.window.showInformationMessage("Code coverage is already enabled in sdkconfig");if(!Hi.exists()){if("Start"!==await i.window.showInformationMessage("SDK Configuration Editor is not running. Start ?","Start","Cancel"))return;const t=Is("idf.notificationMode",e),n=t===Ss.All||t===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:n,title:"ESP-IDF: Configuring coverage"},(async(t,n)=>{Hi.registerProgress(t),n.onCancellationRequested((()=>{Hi.dispose()})),await Hi.init(e,No.extensionPath)}))}Hi.sendUpdatedValue('{"version": 2, "set": { "APPTRACE_DEST_TRAX": true, "APPTRACE_GCOV_ENABLE": true }}\n'),Hi.saveGuiConfigValues(),await async function(e){const t=await fo(),n=Is("idf.espIdfPath",e)||process.env.IDF_PATH;let r="v"+await us(n),o=await so(e),s=t.find((e=>e.name===r)),a="esp32";s||(s=t.find((e=>"latest"===e.name))),s.supportedTargets&&-1!==s.supportedTargets.indexOf(o)&&(a=o);const c=`https://docs.espressif.com/projects/esp-idf/${go()}/${s.name}/${a}/api-guides/app_trace.html#compiler-option`;"See the docs"===await i.window.showInformationMessage("Your project sdkconfig has been configured. Make sure to compile the source file with the --coverage option.","See the docs")&&i.env.openExternal(i.Uri.parse(c))}(e)}(Od)}catch(e){js.errorNotify(e.message,e,"extension setGcovConfig")}}))})),s("espIdf.setClangSettings",(async()=>{Mo.perform([ql],(async()=>{await Do(Od,!0),i.window.showInformationMessage(i.l10n.t("ESP-IDF: Clang settings have been configured for the project."))}))})),s("espIdf.apptrace",(()=>{Mo.perform([$l,ql],(async()=>{("string"==typeof jd.appTraceButton.label?jd.appTraceButton.label.match(/start/gi):jd.appTraceButton.label.label.match(/start/gi))?await Ud.start(Od):await Ud.stop(Od)}))})),s("espIdf.heaptrace",(async()=>{const e=await Xd("4.2",Od);Mo.perform([e,$l,ql],(async()=>{("string"==typeof jd.heapTraceButton.label?jd.heapTraceButton.label.match(/start/gi):jd.heapTraceButton.label.label.match(/start/gi))?await qd.start(Od):await qd.stop()}))})),s("espIdf.openOCDCommand",(()=>{Mo.perform([$l,ql],Nd.commandHandler)})),s(Qr.OpenOcdAdapterStatusBar,(()=>{Mo.perform([ql],(async()=>{if(!Od)return;Si(Od);const e=i.workspace.getConfiguration("",Od),t=e.get("idf.customExtraVars")??{};if(t.OPENOCD_USB_ADAPTER_LOCATION){const n={...t};delete n.OPENOCD_USB_ADAPTER_LOCATION,await e.update("idf.customExtraVars",n,i.ConfigurationTarget.WorkspaceFolder)}Nd&&Nd.isRunning()&&Nd.stop(),Ci(Od)}))})),s("espIdf.qemuCommand",(()=>{Mo.perform([ql],(async()=>{const e=Is("idf.notificationMode",Od),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:t,title:"ESP-IDF: Starting ESP-IDF QEMU"},(async(e,t)=>{try{await Fd.commandHandler()}catch(e){const t=e.message?e.message:"Error merging binaries for QEMU";js.errorNotify(t,e,"extension qemu")}}))}))})),s("espIdf.qemuDebug",(()=>{Mo.perform([ql],(async()=>{const e=Is("idf.notificationMode",Od),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:t,title:i.l10n.t("ESP-IDF: Starting ESP-IDF QEMU Debug")},(async(e,t)=>{try{Fd.isRunning()&&(Fd.stop(),await Uo(1e3));let e=Is("idf.qemuDebugMonitor",Od)?Lc.DebugMonitor:Lc.Debug;await Fd.start(e,Od);const t=await Go(Od,"gdb"),n=i.workspace.getWorkspaceFolder(Od);await i.debug.startDebugging(n,{name:"GDB QEMU",type:"gdbtarget",request:"attach",sessionID:"qemu.debug.session",gdb:t,initCommands:["set remote hardware-watchpoint-limit {IDF_TARGET_CPU_WATCHPOINT_NUM}","mon reset halt","maintenance flush register-cache","thb app_main"],target:{type:"remote",host:"localhost",port:"3333"}}),i.debug.onDidTerminateDebugSession((async e=>{"qemu.debug.session"===e.configuration.sessionID&&Fd.stop()}))}catch(e){const t=e.message?e.message:i.l10n.t("Error launching QEMU debugging");js.errorNotify(t,e,"extension qemu debug")}}))}))})),s("espIdf.flashBinaryToPartition",(async e=>{if(!e)return;let t=[];const n=$d.getChildren();if(n)for(let e of n){const n={label:e.name,target:e.offset,description:e.description};t.push(n)}else i.window.showInformationMessage("No partition found");t.push({label:"Custom offset",target:"custom",description:"Enter a custom offset"});const r=await i.window.showQuickPick(t,{placeHolder:i.l10n.t("Select a partition to use")});if(r){if("custom"===r.target){const e=await i.window.showInputBox({placeHolder:i.l10n.t("Enter custom partition table offset"),value:"",validateInput:e=>/^(0x[0-9a-fA-F]+|[0-9]+)$/i.test(e)?null:"The value is not a valid hexadecimal number"});if(!e)return;r.target=e}await Vc(r.target,e.fsPath,Od)}})),s("espIdf.partition.actions",(e=>{e&&Mo.perform([ql],(async()=>{const t=await i.window.showQuickPick([{label:i.l10n.t("Read partition from device"),target:"readPartition"},{label:i.l10n.t("Flash binary to this partition"),target:"flashBinaryToPartition"}],{placeHolder:i.l10n.t("Select an action to use")});if(t)if("flashBinaryToPartition"===t.target){const t=await i.window.showOpenDialog({canSelectFolders:!1,canSelectFiles:!0,canSelectMany:!1,filters:{Binaries:["bin"]}});t&&t.length>0&&await Vc(e.offset,t[0].fsPath,Od)}else"readPartition"===t.target&&await async function(e,t,r,s){const a=Is("idf.notificationMode",s),c=a===Ss.All||a===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!1,location:c,title:"ESP-IDF: Reading partition from device to binary"},(async a=>{try{const a=await ms(s),c=await Ds(s,!1);if(!c)return js.warnNotify(i.l10n.t("No serial port found for current IDF_TARGET: {0}",a.IDF_TARGET));const l=Is("idf.espIdfPath",s),u=await kr(s),p=(0,n.join)(l,"components","esptool_py","esptool","esptool.py");let d=(0,n.join)(s.fsPath,"partitionsFromDevice",`${e}.bin`);await(0,o.ensureDir)((0,n.dirname)(d));const h=function(e){const t=e.match(/^(\d+)([KM]?)$/i);if(!t)throw new Error("Invalid size format");return"0x"+(parseInt(t[1],10)*({K:1024,M:1048576,"":1}[t[2].toUpperCase()]||1)).toString(16).toUpperCase()}(r);await jo(u,[p,"-p",c,"read_flash",t,h,d],{cwd:s.fsPath,env:a}),i.window.showInformationMessage(`Device partition @${t} saved as ${d}`)}catch(e){let t=e.message?e.message:"Error reading partition from device to binary";js.errorNotify(t,e,"readPartition")}}))}(e.name,e.offset,e.size,Od)}))})),s("espIdf.partition.table.refresh",(()=>{Mo.perform([ql],(()=>{$d.populatePartitionItems(Od)}))})),s("espIdf.apptrace.archive.refresh",(()=>{Mo.perform([ql],(()=>{Bd.populateArchiveTree()}))})),s("espIdf.doctorCommand",(async()=>{const t=Is("idf.notificationMode",Od),r=t===Ss.All||t===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!1,location:r,title:i.l10n.t("ESP-IDF: Preparing ESP-IDF extension report")},(async t=>{const r=Sc();try{await Ec(e,Od,r),await i.window.showTextDocument(i.Uri.file(n.join(e.extensionPath,"report.txt")))}catch(t){r.latestError=t;const o=t.message?t.message:"Configuration report error";js.error(o,t,"extension DoctorCommand"),js.warnNotify(i.l10n.t("Extension configuration report has been copied to clipboard with errors"));const s=await wc(r,e);return await i.env.clipboard.writeText(s),await i.window.showTextDocument(i.Uri.file(n.join(e.extensionPath,"report.txt"))),r}}))})),s("espIdf.troubleshootPanel",(async()=>{vd.createOrShow(e,Od)})),s("espIdf.debug",(async()=>{Mo.perform([$l,ql],(async()=>{const e=i.workspace.getWorkspaceFolder(Od),t=n.join(Od.fsPath,".vscode","launch.json");if(!await(0,o.pathExists)(t))return void await i.window.showInformationMessage(i.l10n.t("No launch.json found.\nUse the 'ESP-IDF: Add vscode Configuration Folder' command."));const r=i.workspace.getConfiguration("launch",Od).get("configurations");if(r&&r.length)for(const t of r)if("gdbtarget"===t.type){const n=await w.resolveDebugConfiguration(e,t);return void await i.debug.startDebugging(e,n)}await i.window.showInformationMessage(i.l10n.t("No gdbtarget configuration found in launch.json.\nDelete launch.json and use the 'ESP-IDF: Add vscode Configuration Folder' command."))}))})),s("espIdf.apptrace.archive.showReport",(t=>{t?Mo.perform([ql],(async()=>{if(t.type===Ws.HeapTrace){let n;!function(e){e[e.HeapTracingPlot=0]="HeapTracingPlot",e[e.SystemViewTracing=1]="SystemViewTracing"}(n||(n={}));const r=i.l10n.t("Do you want to view Heap Trace plot or System View Trace"),o=await i.window.showQuickPick([{type:n.SystemViewTracing,label:"$(symbol-keyword) System View Tracing",detail:i.l10n.t("Show System View Tracing Plot (will open a webview window)")},{type:n.HeapTracingPlot,label:"$(graph) Heap Tracing",detail:i.l10n.t("Open Old Heap/App Trace Panel")}],{placeHolder:r,ignoreFocusOut:!0});if(!o)return;if(o.type===n.SystemViewTracing)return aa.parseWithProgress(t,e.extensionPath)}if(t.type===Ws.AppTrace)try{const e=await i.workspace.openTextDocument(t.filePath),n=i.window.activeTextEditor?i.window.activeTextEditor.viewColumn:void 0;return void await i.window.showTextDocument(e,{viewColumn:n||i.ViewColumn.One})}catch(e){return void js.errorNotify(`Failed to open App Trace file: ${e.message}`,e,"extension apptrace showReport openFile")}na.createOrShow(e,{trace:{fileName:t.fileName,filePath:t.filePath,type:t.type,workspacePath:Od.fsPath,idfPath:Is("idf.espIdfPath",Od)}})})):js.errorNotify(i.l10n.t("Cannot call this command directly, click on any Trace to view its report!"),new Error("INVALID_COMMAND"),"extension apptrace showReport")})),s("espIdf.apptrace.customize",(()=>{Mo.perform([ql],(async()=>{await zs.saveConfiguration(Od)}))})),s("esp.rainmaker.backend.connect",(async()=>{if(va.isLoggedIn())return js.infoNotify(i.l10n.t("Already logged-in, please sign-out first"));const e=await async function(){const e=await async function(e){return await i.window.showQuickPick(e,{placeHolder:"Select a login option to connect with ESP Rainmaker Cloud",ignoreFocusOut:!0})}([{label:"Rainmaker Login",description:"(username and password)",detail:"Use username and password from Rainmaker to login",type:ya.Basic},{label:"OAuth Apps",description:"(external url will be opened in default browser)",detail:"Use OAuth App providers from Rainmaker to login",type:ya.OAuth}]);if(e){if(e.type===ya.Basic)return await async function(){const e=e=>{if(!e||""===e)return"Please enter a valid value"};return{username:await i.window.showInputBox({ignoreFocusOut:!0,prompt:"Enter your Rainmaker Cloud Username",validateInput:e}),password:await i.window.showInputBox({ignoreFocusOut:!0,prompt:"Enter your password (username & password will not be stored)",password:!0,validateInput:e})}}();if(e.type===ya.OAuth){const e=await i.window.showQuickPick([{label:ga.Github,type:ga.Github},{label:ga.Google,type:ga.Google},{label:ga.SignInWithApple,type:ga.SignInWithApple}],{placeHolder:"Select OAuth Provider for ESP Rainmaker Login",ignoreFocusOut:!0});if(!e)return;return{provider:e.type}}}}();if(!e)return;if(e.provider)return void Ca.openExternalOAuthURL(e.provider);if(!e.username||!e.password)return;const t=Is("idf.notificationMode",Od),n=t===Ss.All||t===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({title:i.l10n.t("ESP-IDF: Please wait checking with Rainmaker Cloud"),location:n,cancellable:!1},(async()=>{try{await va.login(e.username,e.password),await Hd.refresh(),js.infoNotify("Rainmaker Cloud Linking Success!")}catch(e){return js.errorNotify(i.l10n.t("Failed to login with Rainmaker Cloud, double check your id and password"),e,"extension rainmaker backend connect")}}))})),s("esp.rainmaker.backend.logout",(async()=>{const e=await i.window.showWarningMessage(i.l10n.t("Would you like to unlink your ESP Rainmaker cloud account?"),{modal:!0},{title:"Yes"},{title:"Cancel",isCloseAffordance:!0});e&&"Cancel"!==e.title&&(va.logout(),Hd.refresh())})),s("esp.rainmaker.backend.sync",(async()=>{Hd.refresh()})),s("esp.rainmaker.backend.remove_node",(async e=>{if(!e)return;const t=await i.window.showWarningMessage(i.l10n.t("Would you like to delete this node from your ESP Rainmaker account?"),{modal:!0},{title:"Yes"},{title:"Cancel",isCloseAffordance:!0});if(!t||"Cancel"===t.title)return;const n=Is("idf.notificationMode",Od),r=n===Ss.All||n===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({title:i.l10n.t("ESP-IDF: Deleting node from your rainmaker account"),location:r},(async()=>{try{await va.deleteNode(e.id),Hd.refresh()}catch(e){js.errorNotify(i.l10n.t("Failed to delete node, maybe the node is already marked for delete, please try again after sometime"),e,"extension rainmaker backend remove node")}}))})),s("esp.rainmaker.backend.add_node",(async()=>{js.infoNotify(i.l10n.t("Coming Soon!! until then you can add nodes using mobile app"))})),s("esp.rainmaker.backend.update_node_param",(async e=>{if(!e)return;const t=e.id.split("::"),n=e.getMeta();if(-1===n.properties.indexOf("write"))return js.infoNotify("Readonly Property");let r;if(r="bool"===n.data_type?await i.window.showQuickPick(["true","false"],{ignoreFocusOut:!0,placeHolder:"Select a new param value"}):await i.window.showInputBox({ignoreFocusOut:!0,placeHolder:"param value",value:e.description.toString(),prompt:"Enter the new param value",validateInput:e=>function(e,t){return"string"===t&&""===e?i.l10n.t("Enter non empty string"):"int"!==t||e.match(/^[0-9]+$/)?void 0:i.l10n.t("Enter a valid integer")}(e,n.data_type)}),!r)return;r=function(e,t){return"bool"===e?"true"===t:"int"===e?parseInt(t):t}(n.data_type,r);const o=Is("idf.notificationMode",Od),s=o===Ss.All||o===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({title:"ESP-IDF: Syncing params, please wait",location:s},(async()=>{try{const e=t[0],i=t[1];await va.updateNodeParam(e,i,n.name,r),await Hd.refresh(),js.infoNotify("Sent the param update request to cloud")}catch(e){let t=i.l10n.t("Failed to update the param, please try once more");e.response&&(t=`${i.l10n.t("Failed to update param because, ")} ${e.response.data.description}`),js.errorNotify(t,e,"extension rainmaker backend update node param")}}))})),s("espIdf.launchWSServerAndMonitor",(async()=>{const e=await Xd("4.3",Od);Mo.perform([e,$l,ql],(async()=>{const e=Is("idf.monitorPort",Od)||await Ds(Od,!1);if(!e){try{await i.commands.executeCommand("espIdf.selectPort")}catch(e){js.error(i.l10n.t("Unable to execute the command: espIdf.selectPort"),e,"extension launchWSServerAndMonitor selectPort")}return js.errorNotify(i.l10n.t("Select a serial port before flashing"),new Error("NOT_SELECTED_PORT"),"extension launchWSServerAndMonitor select port")}const r=await kr(Od);Bo(r,o.constants.R_OK)||js.errorNotify(i.l10n.t("Python binary path is not defined"),new Error("The Python Binary Path is not defined"),"extension launchWSServerAndMonitor python path not set");const s=Is("idf.espIdfPath",Od),a=n.join(s,"tools","idf_monitor.py");Bo(a,o.constants.R_OK)||js.errorNotify(a+i.l10n.t(" is not defined"),new Error(a+" is not defined"),"extension launchWSServerAndMonitor idf_monitor no access"),await async function(e){const t=await kr(e),n=await ms(e);try{const r=await ts(t,["-m","pip","show","websocket_client"],e.fsPath,Q.init(),{env:n});Q.appendLine(r)}catch(r){Q.appendLine("Installing the websocket_client package for IDE integration!");const i=await ts(t,["-m","pip","install","websocket_client","--extra-index-url","https://dl.espressif.com/pypi"],e.fsPath,Q.init(),{env:n});Q.appendLine(i)}}(Od);const c=Is("idf.buildPath",Od);let l=await so(Od);if(!l)return void js.infoNotify("IDF_TARGET is not defined.");const u=zo(l,""),p=await oo(c),d=await Go(Od,"gdb"),h=n.join(c,`${p}.elf`),f=Is("idf.wssPort",Od),m=await us(s);let g=await Qo(Od);const y=Is("idf.monitorNoReset",Od),v=Is("idf.monitorEnableTimestamps",Od),b=Is("idf.monitorCustomTimestampFormat",Od),w=Is("idf.customTerminalExecutable",Od),_=Is("idf.customTerminalExecutableArgs",Od);qa.updateConfiguration({port:e,baudRate:g,pythonBinPath:r,idfTarget:l,toolchainPrefix:u,idfMonitorToolPath:a,idfVersion:m,noReset:y,enableTimestamps:v,customTimestampFormat:b,elfFilePath:h,wsPort:f,workspaceFolder:Od,shellPath:w,shellExecutableArgs:_}),Yd&&Yd.close(),Yd=new Ua(f),Yd.start(),Yd.on("started",(async()=>{qa.terminal&&(qa.terminal.sendText(t.CTRL_RBRACKET),await Uo(500)),qa.start()})).on("core-dump-detected",(async e=>{const t=Is("idf.notificationMode",Od),o=t===Ss.All||t===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({location:o,cancellable:!1,title:i.l10n.t("ESP-IDF: Core-dump detected, please wait while we parse the data received")},(async t=>{const o=new Za(s),a=Is("idf.buildPath",Od),c=await oo(a),l=n.join(a,`${c}.coredump.elf`);if(!0===await o.generateCoreELFFile({coreElfFilePath:l,coreInfoFilePath:e.file,infoCoreFileFormat:La.Base64,progELFFilePath:e.prog,pythonBinPath:r,workspaceUri:Od})){t.report({message:i.l10n.t("Successfully created ELF file from the info received (espcoredump.py)")});try{const t=i.workspace.getWorkspaceFolder(Od);await i.debug.startDebugging(t,{name:"Core Dump Debug",sessionID:"core-dump.debug.session.ws",type:"gdbtarget",request:"attach",gdb:d,program:e.prog,logFile:`${n.join(Od.fsPath,"coredump.log")}`,target:{connectCommands:[`core ${l}`]}}),i.debug.onDidTerminateDebugSession((e=>{"core-dump.debug.session.ws"===e.configuration.sessionID&&(Yd.done(),qa.dispose(),Yd.close())}))}catch(e){js.errorNotify(i.l10n.t("Failed to launch debugger for postmortem"),e,"extension launchWSServerAndMonitor coredump")}}else js.warnNotify(i.l10n.t("Failed to generate the ELF file from the info received, please close the core-dump monitor terminal manually"))}))})).on("gdb-stub-detected",(async e=>{try{const t=i.workspace.getWorkspaceFolder(Od);await i.debug.startDebugging(t,{name:"GDB Stub Debug",type:"gdbtarget",request:"attach",sessionID:"gdbstub.debug.session.ws",gdb:d,program:e.prog,logFile:`${n.join(Od.fsPath,"gdbstub.log")}`,target:{connectCommands:[`target remote ${e.port}`]}}),i.debug.onDidTerminateDebugSession((e=>{"gdbstub.debug.session.ws"===e.configuration.sessionID&&(Yd.done(),qa.dispose(),Yd.close())}))}catch(e){js.errorNotify("Failed to launch debugger for postmortem",e,"extension launchWSServerAndMonitor gdbstub")}})).on("close",(e=>{Yd.close()})).on("error",(e=>{let t=e.message;e&&e.message.includes("EADDRINUSE")&&(t=i.l10n.t("Your port {wsPort} is not available, use (idf.wssPort) to change to different port",{wsPort:f})),js.errorNotify(t,e,"extension launchWSServerAndMonitor error event"),Yd.close()}))}))})),s("esp.webview.open.partition-table",(async t=>{let r=t?.fsPath;if(!t)try{const t=await Yo(Od);if(!await(0,o.pathExists)(t))return void("Build"===await i.window.showInformationMessage(i.l10n.t("Partition table editor requires sdkconfig file. Build the project?"),"Build")&&i.commands.executeCommand("espIdf.buildDevice"));if("y"!==await Jo("CONFIG_PARTITION_TABLE_CUSTOM",Od)){if("Enable"!==await i.window.showInformationMessage(i.l10n.t("Custom Partition Table not enabled for the project"),"Enable"))throw new Error(i.l10n.t("Custom Partition Table not enabled for the project"));if(await Hi.initWithProgress(Od,e.extensionPath),Hi.exists()){const e='{"version": 2, "set": { "PARTITION_TABLE_CUSTOM": true }}\n';Hi.sendUpdatedValue(e),Hi.saveGuiConfigValues()}}let s=await Jo("CONFIG_PARTITION_TABLE_CUSTOM_FILENAME",Od);if(s=s.replace(/\"/g,""),!is(s))throw new Error(i.l10n.t("Empty CONFIG_PARTITION_TABLE_CUSTOM_FILENAME, please add a csv file to generate partition table"));s=n.join(Od.fsPath,s),Xo(s)||(js.infoNotify(i.l10n.t("Partition Table File {partitionTableFilePath} doesn't exists, we are creating an empty file there",{partitionTableFilePath:s})),(0,o.createFileSync)(s)),r=s}catch(e){return js.errorNotify(e.message,e,"extension partition table")}tc.show(e.extensionPath,r)})),s("esp.efuse.summary",(async()=>{const e=Is("idf.notificationMode",Od),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({title:i.l10n.t("ESP-IDF: Getting eFuse summary for your chip"),location:t},(async()=>{try{const e=new co(Od),t=await e.summary();zd.load(t),zd.refresh()}catch(e){if("IDF_VERSION_MIN_REQUIREMENT_ERROR"===e.name)return js.errorNotify(e.message,e,"extension");js.errorNotify(i.l10n.t("Failed to get the eFuse Summary from the chip, please make sure you have selected a valid port"),e,"extension efuse summary")}}))})),s("espIdf.efuse.clearResults",(async()=>{zd.clearResults()})),s("espIdf.ninja.summary",(async()=>{const t=Is("idf.notificationMode",Od),r=t===Ss.All||t===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({title:"ESP-IDF: Getting ninja build summary",location:r},(async()=>{try{const t=await kr(Od),r=[n.join(e.extensionPath,"external","chromium","ninja-build-summary.py"),"-C",Is("idf.buildPath",Od)],i=await ts(t,r,Od.fsPath,Q.init()),o=`Ninja build summary - ${Date().toLocaleString()}`;Q.appendLine(o),js.info(o),Q.appendLine(i),js.info(i),Q.show()}catch(e){js.errorNotify(i.l10n.t("Ninja build summary found an error"),e,"extension ninja summary")}}))})),s("espIdf.createSbom",(()=>{Mo.perform([ql],(async()=>{const e=Is("idf.notificationMode",this.curWorkspace),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({title:i.l10n.t("ESP-IDF: Create SBOM summary"),location:t},(async()=>{try{await async function(e){const t=await kr(e),n=await ms(e);try{const r=await ts(t,["-m","pip","show","esp-idf-sbom"],e.fsPath,Q.init(),{env:n});Q.appendLine(r)}catch(r){const i=await ts(t,["-m","pip","install","esp-idf-sbom","--extra-index-url","https://dl.espressif.com/pypi"],e.fsPath,Q.init(),{env:n});Q.appendLine(i)}}(Od),await async function(e){try{const t=(0,n.join)(e.fsPath,"build","project_description.json");if(!await(0,o.pathExists)(t))return js.infoNotify(`${t} doesn't exists for ESP-IDF SBOM tasks.`);const r=await ms(e),s=Is("idf.sbomFilePath",e);if(await(0,o.pathExists)(s)){const e=Bo(s,o.constants.W_OK);if((await(0,o.lstat)(s)).isDirectory()||!e)return js.infoNotify(`${s} is not valid. Please update idf.sbomFilePath to a writable file path.`)}const a={cwd:e.fsPath,env:r},c=Is("idf.notificationMode",e),l=i.workspace.workspaceFolders.find((t=>t.uri===e)),u={reveal:c===Ss.All||c===Ss.Output?i.TaskRevealKind.Always:i.TaskRevealKind.Silent,showReuseMessage:!1,clear:!1,panel:i.TaskPanelKind.Shared},p="esp-idf-sbom",d=["create",t,"--output-file",s],h=new i.ProcessExecution(p,d,a),f=["check",s],m=new i.ProcessExecution(p,f,a);$a.addTask({type:"esp-idf",command:"ESP-IDF SBOM Create",taskId:"idf-sbom-task"},l||i.TaskScope.Workspace,"ESP-IDF SBOM Creation",h,["espIdf"],u),$a.addTask({type:"esp-idf",command:"ESP-IDF SBOM Check",taskId:"idf-sbom-check-task"},l||i.TaskScope.Workspace,"ESP-IDF SBOM Check",m,["espIdf"],u),await $a.runTasks()}catch(e){const t=e.message?e.message:"Error create SBOM Report or check vulnerabilities.";js.errorNotify(t,e,"createSBOM")}}(Od)}catch(e){return js.errorNotify(e.message,e,"extension sbom")}}))}))})),s("espIdf.selectFlashMethodAndFlash",(()=>{Mo.perform([ql,$l],(async()=>{await Hl(Od)}))})),s("espIdf.webview.nvsPartitionEditor",(async t=>{let r=t?.fsPath;if(!t)try{const e=await i.window.showInputBox({placeHolder:"Enter NVS CSV file name",value:""});if(!e)return;r=n.join(Od.fsPath,`${e.replace(".csv","")}.csv`)}catch(e){const t=e.message?e.message:"Error at NVS Partition Editor";js.errorNotify(t,e,"extension nvsPartitionEditor")}fc.createOrShow(e.extensionPath,r,Od)})),s("esp.component-manager.ui.show",(async()=>{try{jc.show(e.extensionPath,Od)}catch(e){js.errorNotify(e.message,e,"extension component manager")}})),i.window.registerUriHandler({handleUri:async e=>{const t=e.query.split("=");if("/rainmaker"!==e.path||"code"!==t[0])js.warn(`Failed to handle URI Open, ${e.toString()}`);else{const e=t[1]||"";try{const t=Is("idf.notificationMode",Od),n=t===Ss.All||t===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;i.window.withProgress({title:i.l10n.t("ESP-IDF: Please wait mapping your rainmaker cloud account with the VS Code Extension, this could take a little while"),location:n},(async()=>{await va.exchangeCodeForTokens(e),await Hd.refresh(),js.infoNotify(i.l10n.t("Rainmaker Cloud is connected successfully (via OAuth)!"))}))}catch(e){return js.errorNotify(i.l10n.t("Failed to sign-in with Rainmaker (via OAuth)"),e,"extension rainmaker Uri handler",{meta:JSON.stringify(e)})}}}}),async function(e,t){const n=Is("idf.showOnboardingOnInit",e);try{const t=await async function(e){const t="win32"===process.platform?process.env.USERPROFILE:process.env.HOME,n=Is("idf.toolsPath",e)||process.env.IDF_TOOLS_PATH||r().join(t,".espressif");let i=Is("idf.espIdfPath",e),o=await us(i);if("x.x"===o&&"win32"===process.platform&&(i=r().join(process.env.USERPROFILE,"Desktop","esp-idf"),o=await us(i)),"x.x"===o)return!1;const s=await te.createIdfToolsManager(i);let a=[];"win32"!==process.platform&&(await ys("cmake",process.env)||a.push("cmake"),await ys("ninja",process.env)||a.push("ninja"));const c=await s.exportPathsInString(r().join(n,"tools"),a);if(0!==(await s.getRequiredToolsInfo(r().join(n,"tools"),c,a,!1)).filter((e=>-1!==e.actual.indexOf("No match")&&-1!==e.actual.indexOf("Error"))).length)return!1;let l="";return await Dr(e)&&(l=await kr(e)),l||(l=Is("idf.pythonBinPath",e)),await li(l,i,n)}(e);if(n&&t)return void i.commands.executeCommand("espIdf.welcome.start")}catch(e){const t=e.message?e.message:"Checking if current install is valid throws an error.";js.error(t,e,"checkExtensionSettings")}if(!n)return;const o=["Open Setup wizard","Choose from existing ESP-IDF setups."];"dev-container"===i.env.remoteName&&o.unshift("Use docker container configuration");const s=await i.window.showInformationMessage("The extension configuration is not valid. Choose an action:",...o);if(s){if("Use docker container configuration"===s){const n="/opt/esp/idf",r="/opt/esp",o="/usr/bin/git",s={id:ce(n),idfPath:n,gitPath:o,toolsPath:r,sysPythonPath:"/usr/bin/python3",version:await us(n),isValid:!1};return s.isValid=await fi(s),s.isValid?void await hi(s,i.ConfigurationTarget.WorkspaceFolder,e,t):void i.window.showInformationMessage("The docker container configuration is not valid")}"Open Setup wizard"!==s?"Choose from existing ESP-IDF setups."!==s||i.commands.executeCommand("espIdf.selectCurrentIdfVersion"):i.commands.executeCommand("espIdf.setup.start")}}(Od,Ti.currentIdfVersion);let E=i.commands.registerCommand("espIdf.openWalkthrough",(()=>{i.commands.executeCommand("workbench.action.openWalkthrough","espressif.esp-idf-extension#espIdf.walkthrough.basic-usage")}));if(e.subscriptions.push(E),await Is("idf.hasWalkthroughBeenShown")||(await Os("idf.hasWalkthroughBeenShown",!0,i.ConfigurationTarget.Global),i.commands.executeCommand("workbench.action.openWalkthrough","espressif.esp-idf-extension#espIdf.walkthrough.basic-usage")),Mo.isWorkspaceFolderOpen()){const t=new gd(e),n=i.window.createTreeView("espIdf.errorHints",{treeDataProvider:t,showCollapseAll:!0});n.title="Error Hints",e.subscriptions.push(n),s("espIdf.errorHints.clearAll",(()=>{t.clearErrorHints(!0),ki(!1)})),s("espIdf.errorHints.clearBuildErrors",(()=>{t.clearErrorHints(!1),ki(!1)})),s("espIdf.errorHints.clearOpenOCDErrors",(()=>{t.clearOpenOCDErrorsOnly(),ki(!1)}));const r=xd.init(t,Od);await r.initialize(),e.subscriptions.push({dispose:()=>{r.dispose()}}),s("espIdf.searchError",(async()=>{const e=await i.window.showInputBox({placeHolder:"Enter the error message"});e&&(t.searchError(e,Od),await i.commands.executeCommand("espIdf.errorHints.focus"))}));const o=async()=>{const e=[];if(i.languages.getDiagnostics().forEach((([t,n])=>{n.filter((e=>"esp-idf"===e.source&&e.severity===i.DiagnosticSeverity.Error)).forEach((n=>{e.push({uri:t,diagnostic:n})}))})),0!==e.length)for(const{diagnostic:n}of e)await t.searchError(n.message,Od);else t.clearErrorHints(!1)};i.languages.onDidChangeDiagnostics((e=>{o()})),e.subscriptions.push(i.languages.registerHoverProvider({pattern:"**"},new yd(t))),t.onDidChangeTreeData((()=>{ki(t.hasHints())}))}i.workspace.workspaceFolders&&i.workspace.workspaceFolders.forEach((async e=>{try{if(as(e.uri.fsPath)){const e=Is("idf.buildPath",Od),t=n.join(e,"compile_commands.json");await(0,o.pathExists)(t)||J(i.l10n.t("compile_commands.json is missing. This may cause errors with code analysis extensions."),i.l10n.t("Generate compile_commands.json"),(()=>i.commands.executeCommand("espIdf.idfReconfigureTask")))}}catch(e){const t=e.message?e.message:"Error checking for compile_commands.json file.";js.error(t,e,"extension checkAndNotifyMissingCompileCommands")}})),s("espIdf.removeEspIdfSettings",bd),Od&&Od.fsPath&&(Zd=new wd(Od,e,Ti),e.subscriptions.push(Zd)),s("espIdf.projectConf",(()=>{Mo.perform([ql],(async()=>{Zd?await Zd.selectProjectConfiguration():i.window.showErrorMessage("Project Configuration Manager not initialized.")}))}))}const nh=(e,t)=>{Mo.perform([ql],(async()=>{const n=Is("idf.notificationMode",Od),r=n===Ss.All||n===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:r,title:"ESP-IDF: Building project"},(async(n,r)=>{e||(e=Is("idf.flashType",Od)),await Ac(Od,r,e,t)}))}))},rh=(e=!1,t,n)=>{Mo.perform([ql],(async()=>{if(i.env.uiKind===i.UIKind.Web)return void i.commands.executeCommand(Jr.Flash);const r=Is("idf.notificationMode",Od),o=r===Ss.All||r===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:o,title:"ESP-IDF: Flashing project"},(async(r,i)=>{t||(t=Is("idf.flashType",Od)),n||(n=Is("idf.flashPartitionToUse",Od))&&!["app","bootloader","partition-table"].includes(n)&&(n=void 0),await Gl(Od,i,t,e,n)&&Q.appendLine("Flash has finished. You can monitor your device with 'ESP-IDF: Monitor command'")}))}))};function ih(){Mo.perform([ql],(async()=>{const e=Is("idf.notificationMode",Od),t=e===Ss.All||e===Ss.Notifications?i.ProgressLocation.Notification:i.ProgressLocation.Window;await i.window.withProgress({cancellable:!0,location:t,title:"ESP-IDF: Starting ESP-IDF QEMU Monitor"},(async(e,t)=>{try{Fd.isRunning()&&Fd.stop(),await Fd.start(Lc.Monitor,Od)}catch(e){const t=e.message?e.message:"Error launching QEMU monitor";js.errorNotify(t,e,"extension qemu monitor")}}))}))}async function oh(e,t,r,o){const s=await ms(Od);let a=[];"win32"===process.platform&&(-1===i.env.shell.indexOf("powershell")&&-1===i.env.shell.indexOf("pwsh")||(a=["-ExecutionPolicy","Bypass"]));let c=Is("idf.customTerminalExecutable",Od);const l=Is("idf.customTerminalExecutableArgs",Od);c||(c=i.env.shell),l&&l.length&&(a=l);const u=i.window.createTerminal({name:t,env:s,cwd:Od.fsPath||s.IDF_PATH||process.cwd(),strictEnv:!0,shellArgs:a,shellPath:c,location:o});return"win32"===process.platform&&(-1!==c.indexOf("cmd.exe")?u.sendText(`call "${n.join(e,"export.bat")}"`):-1===c.indexOf("powershell")&&-1===c.indexOf("pwsh")||u.sendText(`& '${n.join(e,"export.ps1").replace(/'/g,"''")}'`)),r&&u.sendText(r),u.show(),u}async function sh(){Mo.perform([ql],(async()=>{if(i.env.uiKind===i.UIKind.Web)return void i.commands.executeCommand(Jr.Monitor);const e=await Es(Od);await Nc(Od,e)}))}function ah(){Fs.dispose(),qa.terminal&&qa.dispose(),Q.end(),Hi.dispose();for(const e in Ti)Ti[e].dispose();Rd&&Rd.dispose(),Mc.stopKconfigLangServer(),Id&&(Id.dispose(),Id=void 0)}class ch{async resolveDebugConfiguration(e,t,r){try{const e=Is("idf.buildPath",Od),r=await oo(e),s=n.join(e,`${r}.elf`);if(!await(0,o.pathExists)(s))throw new Error(`${s} doesn't exist. Build this project first.`);if(t.verifyAppBinBeforeDebug&&!await Bc(Od))throw new Error(i.l10n.t("Current app binary is different from your project. Flash first."));if(t.elfFilePath=s,!await async function(e){const t=Is("idf.espIdfPath",e),r=Is("idf.espIdfToolsPath",e),i=await kr(e);let s,a=(0,n.join)(No.extensionPath,"esp_debug_adapter","requirements.txt");try{if(!await(0,o.pathExists)(a))return!1;s=await vs(i,t,r,a)}catch(e){s=e&&e.message?e.message:" are not satisfied"}return s.indexOf("are satisfied")>-1}(Od)){const e=await i.window.showInformationMessage("ESP-IDF Debug Adapter Python packages are not installed","Install");return void(e&&"Install"===e&&await i.commands.executeCommand("espIdf.installPyReqs"))}}catch(e){const t=e.message?e.message:"Some build files doesn't exist. Build this project first.";if(js.error(e.message,e,"extension IdfDebugConfigurationProvider"),"Build"===await i.window.showInformationMessage(t,"Build"))return void await zl(Od,!1)}return t}}})(),module.exports=__webpack_exports__})();
//# sourceMappingURL=extension.js.map